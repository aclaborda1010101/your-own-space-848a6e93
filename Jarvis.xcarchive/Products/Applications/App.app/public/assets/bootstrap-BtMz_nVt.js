var DV=Object.defineProperty;var HP=e=>{throw TypeError(e)};var $V=(e,t,r)=>t in e?DV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Pe=(e,t,r)=>$V(e,typeof t!="symbol"?t+"":t,r),xj=(e,t,r)=>t.has(e)||HP("Cannot "+r);var G=(e,t,r)=>(xj(e,t,"read from private field"),r?r.call(e):t.get(e)),Ve=(e,t,r)=>t.has(e)?HP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ke=(e,t,r,n)=>(xj(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ct=(e,t,r)=>(xj(e,t,"access private method"),r);var ux=(e,t,r,n)=>({set _(a){ke(e,t,a,r)},get _(){return G(e,t,n)}});function LV(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var dx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ot(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var o5={exports:{}},e0={},l5={exports:{}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg=Symbol.for("react.element"),FV=Symbol.for("react.portal"),BV=Symbol.for("react.fragment"),zV=Symbol.for("react.strict_mode"),UV=Symbol.for("react.profiler"),WV=Symbol.for("react.provider"),qV=Symbol.for("react.context"),VV=Symbol.for("react.forward_ref"),HV=Symbol.for("react.suspense"),GV=Symbol.for("react.memo"),KV=Symbol.for("react.lazy"),GP=Symbol.iterator;function YV(e){return e===null||typeof e!="object"?null:(e=GP&&e[GP]||e["@@iterator"],typeof e=="function"?e:null)}var c5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u5=Object.assign,d5={};function Hf(e,t,r){this.props=e,this.context=t,this.refs=d5,this.updater=r||c5}Hf.prototype.isReactComponent={};Hf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function f5(){}f5.prototype=Hf.prototype;function G2(e,t,r){this.props=e,this.context=t,this.refs=d5,this.updater=r||c5}var K2=G2.prototype=new f5;K2.constructor=G2;u5(K2,Hf.prototype);K2.isPureReactComponent=!0;var KP=Array.isArray,h5=Object.prototype.hasOwnProperty,Y2={current:null},m5={key:!0,ref:!0,__self:!0,__source:!0};function p5(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)h5.call(t,n)&&!m5.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:xg,type:e,key:i,ref:o,props:a,_owner:Y2.current}}function XV(e,t){return{$$typeof:xg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function X2(e){return typeof e=="object"&&e!==null&&e.$$typeof===xg}function JV(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var YP=/\/+/g;function vj(e,t){return typeof e=="object"&&e!==null&&e.key!=null?JV(""+e.key):t.toString(36)}function hv(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case xg:case FV:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+vj(o,0):n,KP(a)?(r="",e!=null&&(r=e.replace(YP,"$&/")+"/"),hv(a,t,r,"",function(u){return u})):a!=null&&(X2(a)&&(a=XV(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(YP,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",KP(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+vj(i,l);o+=hv(i,t,r,c,a)}else if(c=YV(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+vj(i,l++),o+=hv(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function fx(e,t,r){if(e==null)return e;var n=[],a=0;return hv(e,n,"","",function(i){return t.call(r,i,a++)}),n}function QV(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var gs={current:null},mv={transition:null},ZV={ReactCurrentDispatcher:gs,ReactCurrentBatchConfig:mv,ReactCurrentOwner:Y2};function g5(){throw Error("act(...) is not supported in production builds of React.")}ft.Children={map:fx,forEach:function(e,t,r){fx(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return fx(e,function(){t++}),t},toArray:function(e){return fx(e,function(t){return t})||[]},only:function(e){if(!X2(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ft.Component=Hf;ft.Fragment=BV;ft.Profiler=UV;ft.PureComponent=G2;ft.StrictMode=zV;ft.Suspense=HV;ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZV;ft.act=g5;ft.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=u5({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Y2.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)h5.call(t,c)&&!m5.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:xg,type:e.type,key:a,ref:i,props:n,_owner:o}};ft.createContext=function(e){return e={$$typeof:qV,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:WV,_context:e},e.Consumer=e};ft.createElement=p5;ft.createFactory=function(e){var t=p5.bind(null,e);return t.type=e,t};ft.createRef=function(){return{current:null}};ft.forwardRef=function(e){return{$$typeof:VV,render:e}};ft.isValidElement=X2;ft.lazy=function(e){return{$$typeof:KV,_payload:{_status:-1,_result:e},_init:QV}};ft.memo=function(e,t){return{$$typeof:GV,type:e,compare:t===void 0?null:t}};ft.startTransition=function(e){var t=mv.transition;mv.transition={};try{e()}finally{mv.transition=t}};ft.unstable_act=g5;ft.useCallback=function(e,t){return gs.current.useCallback(e,t)};ft.useContext=function(e){return gs.current.useContext(e)};ft.useDebugValue=function(){};ft.useDeferredValue=function(e){return gs.current.useDeferredValue(e)};ft.useEffect=function(e,t){return gs.current.useEffect(e,t)};ft.useId=function(){return gs.current.useId()};ft.useImperativeHandle=function(e,t,r){return gs.current.useImperativeHandle(e,t,r)};ft.useInsertionEffect=function(e,t){return gs.current.useInsertionEffect(e,t)};ft.useLayoutEffect=function(e,t){return gs.current.useLayoutEffect(e,t)};ft.useMemo=function(e,t){return gs.current.useMemo(e,t)};ft.useReducer=function(e,t,r){return gs.current.useReducer(e,t,r)};ft.useRef=function(e){return gs.current.useRef(e)};ft.useState=function(e){return gs.current.useState(e)};ft.useSyncExternalStore=function(e,t,r){return gs.current.useSyncExternalStore(e,t,r)};ft.useTransition=function(){return gs.current.useTransition()};ft.version="18.3.1";l5.exports=ft;var p=l5.exports;const D=Ot(p),J2=LV({__proto__:null,default:D},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eH=p,tH=Symbol.for("react.element"),rH=Symbol.for("react.fragment"),nH=Object.prototype.hasOwnProperty,sH=eH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aH={key:!0,ref:!0,__self:!0,__source:!0};function x5(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)nH.call(t,n)&&!aH.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:tH,type:e,key:i,ref:o,props:a,_owner:sH.current}}e0.Fragment=rH;e0.jsx=x5;e0.jsxs=x5;o5.exports=e0;var s=o5.exports,v5={exports:{}},na={},y5={exports:{}},b5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,M){var F=P.length;P.push(M);e:for(;0<F;){var B=F-1>>>1,q=P[B];if(0<a(q,M))P[B]=M,P[F]=q,F=B;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var M=P[0],F=P.pop();if(F!==M){P[0]=F;e:for(var B=0,q=P.length,J=q>>>1;B<J;){var W=2*(B+1)-1,ne=P[W],he=W+1,ie=P[he];if(0>a(ne,F))he<q&&0>a(ie,ne)?(P[B]=ie,P[he]=F,B=he):(P[B]=ne,P[W]=F,B=W);else if(he<q&&0>a(ie,F))P[B]=ie,P[he]=F,B=he;else break e}}return M}function a(P,M){var F=P.sortIndex-M.sortIndex;return F!==0?F:P.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,d=null,h=3,m=!1,x=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=P)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function N(P){if(g=!1,y(P),!x)if(r(c)!==null)x=!0,L(j);else{var M=r(u);M!==null&&I(N,M.startTime-P)}}function j(P,M){x=!1,g&&(g=!1,w(k),k=-1),m=!0;var F=h;try{for(y(M),d=r(c);d!==null&&(!(d.expirationTime>M)||P&&!C());){var B=d.callback;if(typeof B=="function"){d.callback=null,h=d.priorityLevel;var q=B(d.expirationTime<=M);M=e.unstable_now(),typeof q=="function"?d.callback=q:d===r(c)&&n(c),y(M)}else n(c);d=r(c)}if(d!==null)var J=!0;else{var W=r(u);W!==null&&I(N,W.startTime-M),J=!1}return J}finally{d=null,h=F,m=!1}}var S=!1,_=null,k=-1,E=5,A=-1;function C(){return!(e.unstable_now()-A<E)}function O(){if(_!==null){var P=e.unstable_now();A=P;var M=!0;try{M=_(!0,P)}finally{M?$():(S=!1,_=null)}}else S=!1}var $;if(typeof b=="function")$=function(){b(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,T=R.port2;R.port1.onmessage=O,$=function(){T.postMessage(null)}}else $=function(){v(O,0)};function L(P){_=P,S||(S=!0,$())}function I(P,M){k=v(function(){P(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,L(j))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var F=h;h=M;try{return P()}finally{h=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,M){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var F=h;h=P;try{return M()}finally{h=F}},e.unstable_scheduleCallback=function(P,M,F){var B=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?B+F:B):F=B,P){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=F+q,P={id:f++,callback:M,priorityLevel:P,startTime:F,expirationTime:q,sortIndex:-1},F>B?(P.sortIndex=F,t(u,P),r(c)===null&&P===r(u)&&(g?(w(k),k=-1):g=!0,I(N,F-B))):(P.sortIndex=q,t(c,P),x||m||(x=!0,L(j))),P},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(P){var M=h;return function(){var F=h;h=M;try{return P.apply(this,arguments)}finally{h=F}}}})(b5);y5.exports=b5;var iH=y5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oH=p,Qs=iH;function ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w5=new Set,Wm={};function _u(e,t){Kd(e,t),Kd(e+"Capture",t)}function Kd(e,t){for(Wm[e]=t,e=0;e<t.length;e++)w5.add(t[e])}var go=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cN=Object.prototype.hasOwnProperty,lH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,XP={},JP={};function cH(e){return cN.call(JP,e)?!0:cN.call(XP,e)?!1:lH.test(e)?JP[e]=!0:(XP[e]=!0,!1)}function uH(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dH(e,t,r,n){if(t===null||typeof t>"u"||uH(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xs(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Un={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Un[e]=new xs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Un[t]=new xs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Un[e]=new xs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Un[e]=new xs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Un[e]=new xs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Un[e]=new xs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Un[e]=new xs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Un[e]=new xs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Un[e]=new xs(e,5,!1,e.toLowerCase(),null,!1,!1)});var Q2=/[\-:]([a-z])/g;function Z2(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Q2,Z2);Un[t]=new xs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Q2,Z2);Un[t]=new xs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Q2,Z2);Un[t]=new xs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Un[e]=new xs(e,1,!1,e.toLowerCase(),null,!1,!1)});Un.xlinkHref=new xs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Un[e]=new xs(e,1,!1,e.toLowerCase(),null,!0,!0)});function eC(e,t,r,n){var a=Un.hasOwnProperty(t)?Un[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dH(t,r,a,n)&&(r=null),n||a===null?cH(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Eo=oH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hx=Symbol.for("react.element"),td=Symbol.for("react.portal"),rd=Symbol.for("react.fragment"),tC=Symbol.for("react.strict_mode"),uN=Symbol.for("react.profiler"),j5=Symbol.for("react.provider"),N5=Symbol.for("react.context"),rC=Symbol.for("react.forward_ref"),dN=Symbol.for("react.suspense"),fN=Symbol.for("react.suspense_list"),nC=Symbol.for("react.memo"),Vo=Symbol.for("react.lazy"),S5=Symbol.for("react.offscreen"),QP=Symbol.iterator;function Th(e){return e===null||typeof e!="object"?null:(e=QP&&e[QP]||e["@@iterator"],typeof e=="function"?e:null)}var Rr=Object.assign,yj;function nm(e){if(yj===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);yj=t&&t[1]||""}return`
`+yj+e}var bj=!1;function wj(e,t){if(!e||bj)return"";bj=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{bj=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?nm(e):""}function fH(e){switch(e.tag){case 5:return nm(e.type);case 16:return nm("Lazy");case 13:return nm("Suspense");case 19:return nm("SuspenseList");case 0:case 2:case 15:return e=wj(e.type,!1),e;case 11:return e=wj(e.type.render,!1),e;case 1:return e=wj(e.type,!0),e;default:return""}}function hN(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rd:return"Fragment";case td:return"Portal";case uN:return"Profiler";case tC:return"StrictMode";case dN:return"Suspense";case fN:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case N5:return(e.displayName||"Context")+".Consumer";case j5:return(e._context.displayName||"Context")+".Provider";case rC:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nC:return t=e.displayName||null,t!==null?t:hN(e.type)||"Memo";case Vo:t=e._payload,e=e._init;try{return hN(e(t))}catch{}}return null}function hH(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hN(t);case 8:return t===tC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Rl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _5(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mH(e){var t=_5(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mx(e){e._valueTracker||(e._valueTracker=mH(e))}function C5(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=_5(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function zv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mN(e,t){var r=t.checked;return Rr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ZP(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Rl(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function k5(e,t){t=t.checked,t!=null&&eC(e,"checked",t,!1)}function pN(e,t){k5(e,t);var r=Rl(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gN(e,t.type,r):t.hasOwnProperty("defaultValue")&&gN(e,t.type,Rl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function eO(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function gN(e,t,r){(t!=="number"||zv(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var sm=Array.isArray;function yd(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Rl(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function xN(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ve(91));return Rr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tO(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ve(92));if(sm(r)){if(1<r.length)throw Error(ve(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Rl(r)}}function E5(e,t){var r=Rl(t.value),n=Rl(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function rO(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function P5(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vN(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?P5(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var px,O5=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(px=px||document.createElement("div"),px.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=px.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qm(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var gm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pH=["Webkit","ms","Moz","O"];Object.keys(gm).forEach(function(e){pH.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gm[t]=gm[e]})});function A5(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||gm.hasOwnProperty(e)&&gm[e]?(""+t).trim():t+"px"}function T5(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=A5(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var gH=Rr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yN(e,t){if(t){if(gH[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ve(62))}}function bN(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wN=null;function sC(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jN=null,bd=null,wd=null;function nO(e){if(e=bg(e)){if(typeof jN!="function")throw Error(ve(280));var t=e.stateNode;t&&(t=a0(t),jN(e.stateNode,e.type,t))}}function M5(e){bd?wd?wd.push(e):wd=[e]:bd=e}function R5(){if(bd){var e=bd,t=wd;if(wd=bd=null,nO(e),t)for(e=0;e<t.length;e++)nO(t[e])}}function I5(e,t){return e(t)}function D5(){}var jj=!1;function $5(e,t,r){if(jj)return e(t,r);jj=!0;try{return I5(e,t,r)}finally{jj=!1,(bd!==null||wd!==null)&&(D5(),R5())}}function Vm(e,t){var r=e.stateNode;if(r===null)return null;var n=a0(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ve(231,t,typeof r));return r}var NN=!1;if(go)try{var Mh={};Object.defineProperty(Mh,"passive",{get:function(){NN=!0}}),window.addEventListener("test",Mh,Mh),window.removeEventListener("test",Mh,Mh)}catch{NN=!1}function xH(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var xm=!1,Uv=null,Wv=!1,SN=null,vH={onError:function(e){xm=!0,Uv=e}};function yH(e,t,r,n,a,i,o,l,c){xm=!1,Uv=null,xH.apply(vH,arguments)}function bH(e,t,r,n,a,i,o,l,c){if(yH.apply(this,arguments),xm){if(xm){var u=Uv;xm=!1,Uv=null}else throw Error(ve(198));Wv||(Wv=!0,SN=u)}}function Cu(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function L5(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sO(e){if(Cu(e)!==e)throw Error(ve(188))}function wH(e){var t=e.alternate;if(!t){if(t=Cu(e),t===null)throw Error(ve(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return sO(a),e;if(i===n)return sO(a),t;i=i.sibling}throw Error(ve(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(ve(189))}}if(r.alternate!==n)throw Error(ve(190))}if(r.tag!==3)throw Error(ve(188));return r.stateNode.current===r?e:t}function F5(e){return e=wH(e),e!==null?B5(e):null}function B5(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=B5(e);if(t!==null)return t;e=e.sibling}return null}var z5=Qs.unstable_scheduleCallback,aO=Qs.unstable_cancelCallback,jH=Qs.unstable_shouldYield,NH=Qs.unstable_requestPaint,Hr=Qs.unstable_now,SH=Qs.unstable_getCurrentPriorityLevel,aC=Qs.unstable_ImmediatePriority,U5=Qs.unstable_UserBlockingPriority,qv=Qs.unstable_NormalPriority,_H=Qs.unstable_LowPriority,W5=Qs.unstable_IdlePriority,t0=null,ki=null;function CH(e){if(ki&&typeof ki.onCommitFiberRoot=="function")try{ki.onCommitFiberRoot(t0,e,void 0,(e.current.flags&128)===128)}catch{}}var Xa=Math.clz32?Math.clz32:PH,kH=Math.log,EH=Math.LN2;function PH(e){return e>>>=0,e===0?32:31-(kH(e)/EH|0)|0}var gx=64,xx=4194304;function am(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vv(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=am(l):(i&=o,i!==0&&(n=am(i)))}else o=r&~a,o!==0?n=am(o):i!==0&&(n=am(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Xa(t),a=1<<r,n|=e[r],t&=~a;return n}function OH(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AH(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Xa(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=OH(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function _N(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function q5(){var e=gx;return gx<<=1,!(gx&4194240)&&(gx=64),e}function Nj(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function vg(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xa(t),e[t]=r}function TH(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Xa(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function iC(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Xa(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Bt=0;function V5(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var H5,oC,G5,K5,Y5,CN=!1,vx=[],xl=null,vl=null,yl=null,Hm=new Map,Gm=new Map,Xo=[],MH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iO(e,t){switch(e){case"focusin":case"focusout":xl=null;break;case"dragenter":case"dragleave":vl=null;break;case"mouseover":case"mouseout":yl=null;break;case"pointerover":case"pointerout":Hm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gm.delete(t.pointerId)}}function Rh(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=bg(t),t!==null&&oC(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function RH(e,t,r,n,a){switch(t){case"focusin":return xl=Rh(xl,e,t,r,n,a),!0;case"dragenter":return vl=Rh(vl,e,t,r,n,a),!0;case"mouseover":return yl=Rh(yl,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Hm.set(i,Rh(Hm.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Gm.set(i,Rh(Gm.get(i)||null,e,t,r,n,a)),!0}return!1}function X5(e){var t=Oc(e.target);if(t!==null){var r=Cu(t);if(r!==null){if(t=r.tag,t===13){if(t=L5(r),t!==null){e.blockedOn=t,Y5(e.priority,function(){G5(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=kN(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);wN=n,r.target.dispatchEvent(n),wN=null}else return t=bg(r),t!==null&&oC(t),e.blockedOn=r,!1;t.shift()}return!0}function oO(e,t,r){pv(e)&&r.delete(t)}function IH(){CN=!1,xl!==null&&pv(xl)&&(xl=null),vl!==null&&pv(vl)&&(vl=null),yl!==null&&pv(yl)&&(yl=null),Hm.forEach(oO),Gm.forEach(oO)}function Ih(e,t){e.blockedOn===t&&(e.blockedOn=null,CN||(CN=!0,Qs.unstable_scheduleCallback(Qs.unstable_NormalPriority,IH)))}function Km(e){function t(a){return Ih(a,e)}if(0<vx.length){Ih(vx[0],e);for(var r=1;r<vx.length;r++){var n=vx[r];n.blockedOn===e&&(n.blockedOn=null)}}for(xl!==null&&Ih(xl,e),vl!==null&&Ih(vl,e),yl!==null&&Ih(yl,e),Hm.forEach(t),Gm.forEach(t),r=0;r<Xo.length;r++)n=Xo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Xo.length&&(r=Xo[0],r.blockedOn===null);)X5(r),r.blockedOn===null&&Xo.shift()}var jd=Eo.ReactCurrentBatchConfig,Hv=!0;function DH(e,t,r,n){var a=Bt,i=jd.transition;jd.transition=null;try{Bt=1,lC(e,t,r,n)}finally{Bt=a,jd.transition=i}}function $H(e,t,r,n){var a=Bt,i=jd.transition;jd.transition=null;try{Bt=4,lC(e,t,r,n)}finally{Bt=a,jd.transition=i}}function lC(e,t,r,n){if(Hv){var a=kN(e,t,r,n);if(a===null)Mj(e,t,n,Gv,r),iO(e,n);else if(RH(a,e,t,r,n))n.stopPropagation();else if(iO(e,n),t&4&&-1<MH.indexOf(e)){for(;a!==null;){var i=bg(a);if(i!==null&&H5(i),i=kN(e,t,r,n),i===null&&Mj(e,t,n,Gv,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Mj(e,t,n,null,r)}}var Gv=null;function kN(e,t,r,n){if(Gv=null,e=sC(n),e=Oc(e),e!==null)if(t=Cu(e),t===null)e=null;else if(r=t.tag,r===13){if(e=L5(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gv=e,null}function J5(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SH()){case aC:return 1;case U5:return 4;case qv:case _H:return 16;case W5:return 536870912;default:return 16}default:return 16}}var ul=null,cC=null,gv=null;function Q5(){if(gv)return gv;var e,t=cC,r=t.length,n,a="value"in ul?ul.value:ul.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return gv=a.slice(e,1<n?1-n:void 0)}function xv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yx(){return!0}function lO(){return!1}function sa(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?yx:lO,this.isPropagationStopped=lO,this}return Rr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=yx)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=yx)},persist:function(){},isPersistent:yx}),t}var Gf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uC=sa(Gf),yg=Rr({},Gf,{view:0,detail:0}),LH=sa(yg),Sj,_j,Dh,r0=Rr({},yg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dC,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Dh&&(Dh&&e.type==="mousemove"?(Sj=e.screenX-Dh.screenX,_j=e.screenY-Dh.screenY):_j=Sj=0,Dh=e),Sj)},movementY:function(e){return"movementY"in e?e.movementY:_j}}),cO=sa(r0),FH=Rr({},r0,{dataTransfer:0}),BH=sa(FH),zH=Rr({},yg,{relatedTarget:0}),Cj=sa(zH),UH=Rr({},Gf,{animationName:0,elapsedTime:0,pseudoElement:0}),WH=sa(UH),qH=Rr({},Gf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),VH=sa(qH),HH=Rr({},Gf,{data:0}),uO=sa(HH),GH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XH(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=YH[e])?!!t[e]:!1}function dC(){return XH}var JH=Rr({},yg,{key:function(e){if(e.key){var t=GH[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?KH[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dC,charCode:function(e){return e.type==="keypress"?xv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),QH=sa(JH),ZH=Rr({},r0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dO=sa(ZH),eG=Rr({},yg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dC}),tG=sa(eG),rG=Rr({},Gf,{propertyName:0,elapsedTime:0,pseudoElement:0}),nG=sa(rG),sG=Rr({},r0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),aG=sa(sG),iG=[9,13,27,32],fC=go&&"CompositionEvent"in window,vm=null;go&&"documentMode"in document&&(vm=document.documentMode);var oG=go&&"TextEvent"in window&&!vm,Z5=go&&(!fC||vm&&8<vm&&11>=vm),fO=" ",hO=!1;function e3(e,t){switch(e){case"keyup":return iG.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t3(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nd=!1;function lG(e,t){switch(e){case"compositionend":return t3(t);case"keypress":return t.which!==32?null:(hO=!0,fO);case"textInput":return e=t.data,e===fO&&hO?null:e;default:return null}}function cG(e,t){if(nd)return e==="compositionend"||!fC&&e3(e,t)?(e=Q5(),gv=cC=ul=null,nd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Z5&&t.locale!=="ko"?null:t.data;default:return null}}var uG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!uG[e.type]:t==="textarea"}function r3(e,t,r,n){M5(n),t=Kv(t,"onChange"),0<t.length&&(r=new uC("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ym=null,Ym=null;function dG(e){h3(e,0)}function n0(e){var t=id(e);if(C5(t))return e}function fG(e,t){if(e==="change")return t}var n3=!1;if(go){var kj;if(go){var Ej="oninput"in document;if(!Ej){var pO=document.createElement("div");pO.setAttribute("oninput","return;"),Ej=typeof pO.oninput=="function"}kj=Ej}else kj=!1;n3=kj&&(!document.documentMode||9<document.documentMode)}function gO(){ym&&(ym.detachEvent("onpropertychange",s3),Ym=ym=null)}function s3(e){if(e.propertyName==="value"&&n0(Ym)){var t=[];r3(t,Ym,e,sC(e)),$5(dG,t)}}function hG(e,t,r){e==="focusin"?(gO(),ym=t,Ym=r,ym.attachEvent("onpropertychange",s3)):e==="focusout"&&gO()}function mG(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return n0(Ym)}function pG(e,t){if(e==="click")return n0(t)}function gG(e,t){if(e==="input"||e==="change")return n0(t)}function xG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ti=typeof Object.is=="function"?Object.is:xG;function Xm(e,t){if(ti(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!cN.call(t,a)||!ti(e[a],t[a]))return!1}return!0}function xO(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vO(e,t){var r=xO(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xO(r)}}function a3(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?a3(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function i3(){for(var e=window,t=zv();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=zv(e.document)}return t}function hC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vG(e){var t=i3(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&a3(r.ownerDocument.documentElement,r)){if(n!==null&&hC(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=vO(r,i);var o=vO(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yG=go&&"documentMode"in document&&11>=document.documentMode,sd=null,EN=null,bm=null,PN=!1;function yO(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;PN||sd==null||sd!==zv(n)||(n=sd,"selectionStart"in n&&hC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),bm&&Xm(bm,n)||(bm=n,n=Kv(EN,"onSelect"),0<n.length&&(t=new uC("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=sd)))}function bx(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ad={animationend:bx("Animation","AnimationEnd"),animationiteration:bx("Animation","AnimationIteration"),animationstart:bx("Animation","AnimationStart"),transitionend:bx("Transition","TransitionEnd")},Pj={},o3={};go&&(o3=document.createElement("div").style,"AnimationEvent"in window||(delete ad.animationend.animation,delete ad.animationiteration.animation,delete ad.animationstart.animation),"TransitionEvent"in window||delete ad.transitionend.transition);function s0(e){if(Pj[e])return Pj[e];if(!ad[e])return e;var t=ad[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in o3)return Pj[e]=t[r];return e}var l3=s0("animationend"),c3=s0("animationiteration"),u3=s0("animationstart"),d3=s0("transitionend"),f3=new Map,bO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wl(e,t){f3.set(e,t),_u(t,[e])}for(var Oj=0;Oj<bO.length;Oj++){var Aj=bO[Oj],bG=Aj.toLowerCase(),wG=Aj[0].toUpperCase()+Aj.slice(1);Wl(bG,"on"+wG)}Wl(l3,"onAnimationEnd");Wl(c3,"onAnimationIteration");Wl(u3,"onAnimationStart");Wl("dblclick","onDoubleClick");Wl("focusin","onFocus");Wl("focusout","onBlur");Wl(d3,"onTransitionEnd");Kd("onMouseEnter",["mouseout","mouseover"]);Kd("onMouseLeave",["mouseout","mouseover"]);Kd("onPointerEnter",["pointerout","pointerover"]);Kd("onPointerLeave",["pointerout","pointerover"]);_u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_u("onBeforeInput",["compositionend","keypress","textInput","paste"]);_u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var im="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jG=new Set("cancel close invalid load scroll toggle".split(" ").concat(im));function wO(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,bH(n,t,void 0,e),e.currentTarget=null}function h3(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;wO(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;wO(a,l,u),i=c}}}if(Wv)throw e=SN,Wv=!1,SN=null,e}function hr(e,t){var r=t[RN];r===void 0&&(r=t[RN]=new Set);var n=e+"__bubble";r.has(n)||(m3(t,e,2,!1),r.add(n))}function Tj(e,t,r){var n=0;t&&(n|=4),m3(r,e,n,t)}var wx="_reactListening"+Math.random().toString(36).slice(2);function Jm(e){if(!e[wx]){e[wx]=!0,w5.forEach(function(r){r!=="selectionchange"&&(jG.has(r)||Tj(r,!1,e),Tj(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wx]||(t[wx]=!0,Tj("selectionchange",!1,t))}}function m3(e,t,r,n){switch(J5(t)){case 1:var a=DH;break;case 4:a=$H;break;default:a=lC}r=a.bind(null,t,r,e),a=void 0,!NN||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Mj(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Oc(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}$5(function(){var u=i,f=sC(r),d=[];e:{var h=f3.get(e);if(h!==void 0){var m=uC,x=e;switch(e){case"keypress":if(xv(r)===0)break e;case"keydown":case"keyup":m=QH;break;case"focusin":x="focus",m=Cj;break;case"focusout":x="blur",m=Cj;break;case"beforeblur":case"afterblur":m=Cj;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=cO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=BH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=tG;break;case l3:case c3:case u3:m=WH;break;case d3:m=nG;break;case"scroll":m=LH;break;case"wheel":m=aG;break;case"copy":case"cut":case"paste":m=VH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=dO}var g=(t&4)!==0,v=!g&&e==="scroll",w=g?h!==null?h+"Capture":null:h;g=[];for(var b=u,y;b!==null;){y=b;var N=y.stateNode;if(y.tag===5&&N!==null&&(y=N,w!==null&&(N=Vm(b,w),N!=null&&g.push(Qm(b,N,y)))),v)break;b=b.return}0<g.length&&(h=new m(h,x,null,r,f),d.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==wN&&(x=r.relatedTarget||r.fromElement)&&(Oc(x)||x[xo]))break e;if((m||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,m?(x=r.relatedTarget||r.toElement,m=u,x=x?Oc(x):null,x!==null&&(v=Cu(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=u),m!==x)){if(g=cO,N="onMouseLeave",w="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=dO,N="onPointerLeave",w="onPointerEnter",b="pointer"),v=m==null?h:id(m),y=x==null?h:id(x),h=new g(N,b+"leave",m,r,f),h.target=v,h.relatedTarget=y,N=null,Oc(f)===u&&(g=new g(w,b+"enter",x,r,f),g.target=y,g.relatedTarget=v,N=g),v=N,m&&x)t:{for(g=m,w=x,b=0,y=g;y;y=Du(y))b++;for(y=0,N=w;N;N=Du(N))y++;for(;0<b-y;)g=Du(g),b--;for(;0<y-b;)w=Du(w),y--;for(;b--;){if(g===w||w!==null&&g===w.alternate)break t;g=Du(g),w=Du(w)}g=null}else g=null;m!==null&&jO(d,h,m,g,!1),x!==null&&v!==null&&jO(d,v,x,g,!0)}}e:{if(h=u?id(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=fG;else if(mO(h))if(n3)j=gG;else{j=mG;var S=hG}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=pG);if(j&&(j=j(e,u))){r3(d,j,r,f);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&gN(h,"number",h.value)}switch(S=u?id(u):window,e){case"focusin":(mO(S)||S.contentEditable==="true")&&(sd=S,EN=u,bm=null);break;case"focusout":bm=EN=sd=null;break;case"mousedown":PN=!0;break;case"contextmenu":case"mouseup":case"dragend":PN=!1,yO(d,r,f);break;case"selectionchange":if(yG)break;case"keydown":case"keyup":yO(d,r,f)}var _;if(fC)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else nd?e3(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(Z5&&r.locale!=="ko"&&(nd||k!=="onCompositionStart"?k==="onCompositionEnd"&&nd&&(_=Q5()):(ul=f,cC="value"in ul?ul.value:ul.textContent,nd=!0)),S=Kv(u,k),0<S.length&&(k=new uO(k,e,null,r,f),d.push({event:k,listeners:S}),_?k.data=_:(_=t3(r),_!==null&&(k.data=_)))),(_=oG?lG(e,r):cG(e,r))&&(u=Kv(u,"onBeforeInput"),0<u.length&&(f=new uO("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=_))}h3(d,t)})}function Qm(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Kv(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Vm(e,r),i!=null&&n.unshift(Qm(e,i,a)),i=Vm(e,t),i!=null&&n.push(Qm(e,i,a))),e=e.return}return n}function Du(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function jO(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Vm(r,i),c!=null&&o.unshift(Qm(r,c,l))):a||(c=Vm(r,i),c!=null&&o.push(Qm(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var NG=/\r\n?/g,SG=/\u0000|\uFFFD/g;function NO(e){return(typeof e=="string"?e:""+e).replace(NG,`
`).replace(SG,"")}function jx(e,t,r){if(t=NO(t),NO(e)!==t&&r)throw Error(ve(425))}function Yv(){}var ON=null,AN=null;function TN(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var MN=typeof setTimeout=="function"?setTimeout:void 0,_G=typeof clearTimeout=="function"?clearTimeout:void 0,SO=typeof Promise=="function"?Promise:void 0,CG=typeof queueMicrotask=="function"?queueMicrotask:typeof SO<"u"?function(e){return SO.resolve(null).then(e).catch(kG)}:MN;function kG(e){setTimeout(function(){throw e})}function Rj(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Km(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Km(t)}function bl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _O(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Kf=Math.random().toString(36).slice(2),vi="__reactFiber$"+Kf,Zm="__reactProps$"+Kf,xo="__reactContainer$"+Kf,RN="__reactEvents$"+Kf,EG="__reactListeners$"+Kf,PG="__reactHandles$"+Kf;function Oc(e){var t=e[vi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[xo]||r[vi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=_O(e);e!==null;){if(r=e[vi])return r;e=_O(e)}return t}e=r,r=e.parentNode}return null}function bg(e){return e=e[vi]||e[xo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function id(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ve(33))}function a0(e){return e[Zm]||null}var IN=[],od=-1;function ql(e){return{current:e}}function xr(e){0>od||(e.current=IN[od],IN[od]=null,od--)}function sr(e,t){od++,IN[od]=e.current,e.current=t}var Il={},Zn=ql(Il),Es=ql(!1),tu=Il;function Yd(e,t){var r=e.type.contextTypes;if(!r)return Il;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ps(e){return e=e.childContextTypes,e!=null}function Xv(){xr(Es),xr(Zn)}function CO(e,t,r){if(Zn.current!==Il)throw Error(ve(168));sr(Zn,t),sr(Es,r)}function p3(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ve(108,hH(e)||"Unknown",a));return Rr({},r,n)}function Jv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Il,tu=Zn.current,sr(Zn,e),sr(Es,Es.current),!0}function kO(e,t,r){var n=e.stateNode;if(!n)throw Error(ve(169));r?(e=p3(e,t,tu),n.__reactInternalMemoizedMergedChildContext=e,xr(Es),xr(Zn),sr(Zn,e)):xr(Es),sr(Es,r)}var eo=null,i0=!1,Ij=!1;function g3(e){eo===null?eo=[e]:eo.push(e)}function OG(e){i0=!0,g3(e)}function Vl(){if(!Ij&&eo!==null){Ij=!0;var e=0,t=Bt;try{var r=eo;for(Bt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}eo=null,i0=!1}catch(a){throw eo!==null&&(eo=eo.slice(e+1)),z5(aC,Vl),a}finally{Bt=t,Ij=!1}}return null}var ld=[],cd=0,Qv=null,Zv=0,ma=[],pa=0,ru=null,so=1,ao="";function yc(e,t){ld[cd++]=Zv,ld[cd++]=Qv,Qv=e,Zv=t}function x3(e,t,r){ma[pa++]=so,ma[pa++]=ao,ma[pa++]=ru,ru=e;var n=so;e=ao;var a=32-Xa(n)-1;n&=~(1<<a),r+=1;var i=32-Xa(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,so=1<<32-Xa(t)+a|r<<a|n,ao=i+e}else so=1<<i|r<<a|n,ao=e}function mC(e){e.return!==null&&(yc(e,1),x3(e,1,0))}function pC(e){for(;e===Qv;)Qv=ld[--cd],ld[cd]=null,Zv=ld[--cd],ld[cd]=null;for(;e===ru;)ru=ma[--pa],ma[pa]=null,ao=ma[--pa],ma[pa]=null,so=ma[--pa],ma[pa]=null}var Vs=null,qs=null,wr=!1,Ha=null;function v3(e,t){var r=xa(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function EO(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Vs=e,qs=bl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Vs=e,qs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ru!==null?{id:so,overflow:ao}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=xa(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Vs=e,qs=null,!0):!1;default:return!1}}function DN(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $N(e){if(wr){var t=qs;if(t){var r=t;if(!EO(e,t)){if(DN(e))throw Error(ve(418));t=bl(r.nextSibling);var n=Vs;t&&EO(e,t)?v3(n,r):(e.flags=e.flags&-4097|2,wr=!1,Vs=e)}}else{if(DN(e))throw Error(ve(418));e.flags=e.flags&-4097|2,wr=!1,Vs=e}}}function PO(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vs=e}function Nx(e){if(e!==Vs)return!1;if(!wr)return PO(e),wr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!TN(e.type,e.memoizedProps)),t&&(t=qs)){if(DN(e))throw y3(),Error(ve(418));for(;t;)v3(e,t),t=bl(t.nextSibling)}if(PO(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){qs=bl(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}qs=null}}else qs=Vs?bl(e.stateNode.nextSibling):null;return!0}function y3(){for(var e=qs;e;)e=bl(e.nextSibling)}function Xd(){qs=Vs=null,wr=!1}function gC(e){Ha===null?Ha=[e]:Ha.push(e)}var AG=Eo.ReactCurrentBatchConfig;function $h(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ve(309));var n=r.stateNode}if(!n)throw Error(ve(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ve(284));if(!r._owner)throw Error(ve(290,e))}return e}function Sx(e,t){throw e=Object.prototype.toString.call(t),Error(ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function OO(e){var t=e._init;return t(e._payload)}function b3(e){function t(w,b){if(e){var y=w.deletions;y===null?(w.deletions=[b],w.flags|=16):y.push(b)}}function r(w,b){if(!e)return null;for(;b!==null;)t(w,b),b=b.sibling;return null}function n(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function a(w,b){return w=Sl(w,b),w.index=0,w.sibling=null,w}function i(w,b,y){return w.index=y,e?(y=w.alternate,y!==null?(y=y.index,y<b?(w.flags|=2,b):y):(w.flags|=2,b)):(w.flags|=1048576,b)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,b,y,N){return b===null||b.tag!==6?(b=Uj(y,w.mode,N),b.return=w,b):(b=a(b,y),b.return=w,b)}function c(w,b,y,N){var j=y.type;return j===rd?f(w,b,y.props.children,N,y.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Vo&&OO(j)===b.type)?(N=a(b,y.props),N.ref=$h(w,b,y),N.return=w,N):(N=Sv(y.type,y.key,y.props,null,w.mode,N),N.ref=$h(w,b,y),N.return=w,N)}function u(w,b,y,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==y.containerInfo||b.stateNode.implementation!==y.implementation?(b=Wj(y,w.mode,N),b.return=w,b):(b=a(b,y.children||[]),b.return=w,b)}function f(w,b,y,N,j){return b===null||b.tag!==7?(b=Yc(y,w.mode,N,j),b.return=w,b):(b=a(b,y),b.return=w,b)}function d(w,b,y){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Uj(""+b,w.mode,y),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case hx:return y=Sv(b.type,b.key,b.props,null,w.mode,y),y.ref=$h(w,null,b),y.return=w,y;case td:return b=Wj(b,w.mode,y),b.return=w,b;case Vo:var N=b._init;return d(w,N(b._payload),y)}if(sm(b)||Th(b))return b=Yc(b,w.mode,y,null),b.return=w,b;Sx(w,b)}return null}function h(w,b,y,N){var j=b!==null?b.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return j!==null?null:l(w,b,""+y,N);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case hx:return y.key===j?c(w,b,y,N):null;case td:return y.key===j?u(w,b,y,N):null;case Vo:return j=y._init,h(w,b,j(y._payload),N)}if(sm(y)||Th(y))return j!==null?null:f(w,b,y,N,null);Sx(w,y)}return null}function m(w,b,y,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return w=w.get(y)||null,l(b,w,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case hx:return w=w.get(N.key===null?y:N.key)||null,c(b,w,N,j);case td:return w=w.get(N.key===null?y:N.key)||null,u(b,w,N,j);case Vo:var S=N._init;return m(w,b,y,S(N._payload),j)}if(sm(N)||Th(N))return w=w.get(y)||null,f(b,w,N,j,null);Sx(b,N)}return null}function x(w,b,y,N){for(var j=null,S=null,_=b,k=b=0,E=null;_!==null&&k<y.length;k++){_.index>k?(E=_,_=null):E=_.sibling;var A=h(w,_,y[k],N);if(A===null){_===null&&(_=E);break}e&&_&&A.alternate===null&&t(w,_),b=i(A,b,k),S===null?j=A:S.sibling=A,S=A,_=E}if(k===y.length)return r(w,_),wr&&yc(w,k),j;if(_===null){for(;k<y.length;k++)_=d(w,y[k],N),_!==null&&(b=i(_,b,k),S===null?j=_:S.sibling=_,S=_);return wr&&yc(w,k),j}for(_=n(w,_);k<y.length;k++)E=m(_,w,k,y[k],N),E!==null&&(e&&E.alternate!==null&&_.delete(E.key===null?k:E.key),b=i(E,b,k),S===null?j=E:S.sibling=E,S=E);return e&&_.forEach(function(C){return t(w,C)}),wr&&yc(w,k),j}function g(w,b,y,N){var j=Th(y);if(typeof j!="function")throw Error(ve(150));if(y=j.call(y),y==null)throw Error(ve(151));for(var S=j=null,_=b,k=b=0,E=null,A=y.next();_!==null&&!A.done;k++,A=y.next()){_.index>k?(E=_,_=null):E=_.sibling;var C=h(w,_,A.value,N);if(C===null){_===null&&(_=E);break}e&&_&&C.alternate===null&&t(w,_),b=i(C,b,k),S===null?j=C:S.sibling=C,S=C,_=E}if(A.done)return r(w,_),wr&&yc(w,k),j;if(_===null){for(;!A.done;k++,A=y.next())A=d(w,A.value,N),A!==null&&(b=i(A,b,k),S===null?j=A:S.sibling=A,S=A);return wr&&yc(w,k),j}for(_=n(w,_);!A.done;k++,A=y.next())A=m(_,w,k,A.value,N),A!==null&&(e&&A.alternate!==null&&_.delete(A.key===null?k:A.key),b=i(A,b,k),S===null?j=A:S.sibling=A,S=A);return e&&_.forEach(function(O){return t(w,O)}),wr&&yc(w,k),j}function v(w,b,y,N){if(typeof y=="object"&&y!==null&&y.type===rd&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case hx:e:{for(var j=y.key,S=b;S!==null;){if(S.key===j){if(j=y.type,j===rd){if(S.tag===7){r(w,S.sibling),b=a(S,y.props.children),b.return=w,w=b;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Vo&&OO(j)===S.type){r(w,S.sibling),b=a(S,y.props),b.ref=$h(w,S,y),b.return=w,w=b;break e}r(w,S);break}else t(w,S);S=S.sibling}y.type===rd?(b=Yc(y.props.children,w.mode,N,y.key),b.return=w,w=b):(N=Sv(y.type,y.key,y.props,null,w.mode,N),N.ref=$h(w,b,y),N.return=w,w=N)}return o(w);case td:e:{for(S=y.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===y.containerInfo&&b.stateNode.implementation===y.implementation){r(w,b.sibling),b=a(b,y.children||[]),b.return=w,w=b;break e}else{r(w,b);break}else t(w,b);b=b.sibling}b=Wj(y,w.mode,N),b.return=w,w=b}return o(w);case Vo:return S=y._init,v(w,b,S(y._payload),N)}if(sm(y))return x(w,b,y,N);if(Th(y))return g(w,b,y,N);Sx(w,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,b!==null&&b.tag===6?(r(w,b.sibling),b=a(b,y),b.return=w,w=b):(r(w,b),b=Uj(y,w.mode,N),b.return=w,w=b),o(w)):r(w,b)}return v}var Jd=b3(!0),w3=b3(!1),ey=ql(null),ty=null,ud=null,xC=null;function vC(){xC=ud=ty=null}function yC(e){var t=ey.current;xr(ey),e._currentValue=t}function LN(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Nd(e,t){ty=e,xC=ud=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Cs=!0),e.firstContext=null)}function _a(e){var t=e._currentValue;if(xC!==e)if(e={context:e,memoizedValue:t,next:null},ud===null){if(ty===null)throw Error(ve(308));ud=e,ty.dependencies={lanes:0,firstContext:e}}else ud=ud.next=e;return t}var Ac=null;function bC(e){Ac===null?Ac=[e]:Ac.push(e)}function j3(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,bC(t)):(r.next=a.next,a.next=r),t.interleaved=r,vo(e,n)}function vo(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ho=!1;function wC(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wl(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,jt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,vo(e,r)}return a=n.interleaved,a===null?(t.next=t,bC(n)):(t.next=a.next,a.next=t),n.interleaved=t,vo(e,r)}function vv(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,iC(e,r)}}function AO(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ry(e,t,r,n){var a=e.updateQueue;Ho=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(i!==null){var d=a.baseState;o=0,f=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,g=l;switch(h=t,m=r,g.tag){case 1:if(x=g.payload,typeof x=="function"){d=x.call(m,d,h);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,h=typeof x=="function"?x.call(m,d,h):x,h==null)break e;d=Rr({},d,h);break e;case 2:Ho=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=m,c=d):f=f.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(f===null&&(c=d),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);su|=o,e.lanes=o,e.memoizedState=d}}function TO(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ve(191,a));a.call(n)}}}var wg={},Ei=ql(wg),ep=ql(wg),tp=ql(wg);function Tc(e){if(e===wg)throw Error(ve(174));return e}function jC(e,t){switch(sr(tp,t),sr(ep,e),sr(Ei,wg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vN(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vN(t,e)}xr(Ei),sr(Ei,t)}function Qd(){xr(Ei),xr(ep),xr(tp)}function S3(e){Tc(tp.current);var t=Tc(Ei.current),r=vN(t,e.type);t!==r&&(sr(ep,e),sr(Ei,r))}function NC(e){ep.current===e&&(xr(Ei),xr(ep))}var _r=ql(0);function ny(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Dj=[];function SC(){for(var e=0;e<Dj.length;e++)Dj[e]._workInProgressVersionPrimary=null;Dj.length=0}var yv=Eo.ReactCurrentDispatcher,$j=Eo.ReactCurrentBatchConfig,nu=0,Tr=null,xn=null,En=null,sy=!1,wm=!1,rp=0,TG=0;function Gn(){throw Error(ve(321))}function _C(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ti(e[r],t[r]))return!1;return!0}function CC(e,t,r,n,a,i){if(nu=i,Tr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yv.current=e===null||e.memoizedState===null?DG:$G,e=r(n,a),wm){i=0;do{if(wm=!1,rp=0,25<=i)throw Error(ve(301));i+=1,En=xn=null,t.updateQueue=null,yv.current=LG,e=r(n,a)}while(wm)}if(yv.current=ay,t=xn!==null&&xn.next!==null,nu=0,En=xn=Tr=null,sy=!1,t)throw Error(ve(300));return e}function kC(){var e=rp!==0;return rp=0,e}function mi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?Tr.memoizedState=En=e:En=En.next=e,En}function Ca(){if(xn===null){var e=Tr.alternate;e=e!==null?e.memoizedState:null}else e=xn.next;var t=En===null?Tr.memoizedState:En.next;if(t!==null)En=t,xn=e;else{if(e===null)throw Error(ve(310));xn=e,e={memoizedState:xn.memoizedState,baseState:xn.baseState,baseQueue:xn.baseQueue,queue:xn.queue,next:null},En===null?Tr.memoizedState=En=e:En=En.next=e}return En}function np(e,t){return typeof t=="function"?t(e):t}function Lj(e){var t=Ca(),r=t.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=e;var n=xn,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var f=u.lane;if((nu&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,o=n):c=c.next=d,Tr.lanes|=f,su|=f}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,ti(n,t.memoizedState)||(Cs=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Tr.lanes|=i,su|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Fj(e){var t=Ca(),r=t.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);ti(i,t.memoizedState)||(Cs=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function _3(){}function C3(e,t){var r=Tr,n=Ca(),a=t(),i=!ti(n.memoizedState,a);if(i&&(n.memoizedState=a,Cs=!0),n=n.queue,EC(P3.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||En!==null&&En.memoizedState.tag&1){if(r.flags|=2048,sp(9,E3.bind(null,r,n,a,t),void 0,null),An===null)throw Error(ve(349));nu&30||k3(r,t,a)}return a}function k3(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Tr.updateQueue,t===null?(t={lastEffect:null,stores:null},Tr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function E3(e,t,r,n){t.value=r,t.getSnapshot=n,O3(t)&&A3(e)}function P3(e,t,r){return r(function(){O3(t)&&A3(e)})}function O3(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ti(e,r)}catch{return!0}}function A3(e){var t=vo(e,1);t!==null&&Ja(t,e,1,-1)}function MO(e){var t=mi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:np,lastRenderedState:e},t.queue=e,e=e.dispatch=IG.bind(null,Tr,e),[t.memoizedState,e]}function sp(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Tr.updateQueue,t===null?(t={lastEffect:null,stores:null},Tr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function T3(){return Ca().memoizedState}function bv(e,t,r,n){var a=mi();Tr.flags|=e,a.memoizedState=sp(1|t,r,void 0,n===void 0?null:n)}function o0(e,t,r,n){var a=Ca();n=n===void 0?null:n;var i=void 0;if(xn!==null){var o=xn.memoizedState;if(i=o.destroy,n!==null&&_C(n,o.deps)){a.memoizedState=sp(t,r,i,n);return}}Tr.flags|=e,a.memoizedState=sp(1|t,r,i,n)}function RO(e,t){return bv(8390656,8,e,t)}function EC(e,t){return o0(2048,8,e,t)}function M3(e,t){return o0(4,2,e,t)}function R3(e,t){return o0(4,4,e,t)}function I3(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function D3(e,t,r){return r=r!=null?r.concat([e]):null,o0(4,4,I3.bind(null,t,e),r)}function PC(){}function $3(e,t){var r=Ca();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&_C(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function L3(e,t){var r=Ca();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&_C(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function F3(e,t,r){return nu&21?(ti(r,t)||(r=q5(),Tr.lanes|=r,su|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Cs=!0),e.memoizedState=r)}function MG(e,t){var r=Bt;Bt=r!==0&&4>r?r:4,e(!0);var n=$j.transition;$j.transition={};try{e(!1),t()}finally{Bt=r,$j.transition=n}}function B3(){return Ca().memoizedState}function RG(e,t,r){var n=Nl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},z3(e))U3(t,r);else if(r=j3(e,t,r,n),r!==null){var a=fs();Ja(r,e,n,a),W3(r,t,n)}}function IG(e,t,r){var n=Nl(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(z3(e))U3(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,ti(l,o)){var c=t.interleaved;c===null?(a.next=a,bC(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=j3(e,t,a,n),r!==null&&(a=fs(),Ja(r,e,n,a),W3(r,t,n))}}function z3(e){var t=e.alternate;return e===Tr||t!==null&&t===Tr}function U3(e,t){wm=sy=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function W3(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,iC(e,r)}}var ay={readContext:_a,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useInsertionEffect:Gn,useLayoutEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useMutableSource:Gn,useSyncExternalStore:Gn,useId:Gn,unstable_isNewReconciler:!1},DG={readContext:_a,useCallback:function(e,t){return mi().memoizedState=[e,t===void 0?null:t],e},useContext:_a,useEffect:RO,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,bv(4194308,4,I3.bind(null,t,e),r)},useLayoutEffect:function(e,t){return bv(4194308,4,e,t)},useInsertionEffect:function(e,t){return bv(4,2,e,t)},useMemo:function(e,t){var r=mi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=mi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=RG.bind(null,Tr,e),[n.memoizedState,e]},useRef:function(e){var t=mi();return e={current:e},t.memoizedState=e},useState:MO,useDebugValue:PC,useDeferredValue:function(e){return mi().memoizedState=e},useTransition:function(){var e=MO(!1),t=e[0];return e=MG.bind(null,e[1]),mi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Tr,a=mi();if(wr){if(r===void 0)throw Error(ve(407));r=r()}else{if(r=t(),An===null)throw Error(ve(349));nu&30||k3(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,RO(P3.bind(null,n,i,e),[e]),n.flags|=2048,sp(9,E3.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=mi(),t=An.identifierPrefix;if(wr){var r=ao,n=so;r=(n&~(1<<32-Xa(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=rp++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=TG++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$G={readContext:_a,useCallback:$3,useContext:_a,useEffect:EC,useImperativeHandle:D3,useInsertionEffect:M3,useLayoutEffect:R3,useMemo:L3,useReducer:Lj,useRef:T3,useState:function(){return Lj(np)},useDebugValue:PC,useDeferredValue:function(e){var t=Ca();return F3(t,xn.memoizedState,e)},useTransition:function(){var e=Lj(np)[0],t=Ca().memoizedState;return[e,t]},useMutableSource:_3,useSyncExternalStore:C3,useId:B3,unstable_isNewReconciler:!1},LG={readContext:_a,useCallback:$3,useContext:_a,useEffect:EC,useImperativeHandle:D3,useInsertionEffect:M3,useLayoutEffect:R3,useMemo:L3,useReducer:Fj,useRef:T3,useState:function(){return Fj(np)},useDebugValue:PC,useDeferredValue:function(e){var t=Ca();return xn===null?t.memoizedState=e:F3(t,xn.memoizedState,e)},useTransition:function(){var e=Fj(np)[0],t=Ca().memoizedState;return[e,t]},useMutableSource:_3,useSyncExternalStore:C3,useId:B3,unstable_isNewReconciler:!1};function La(e,t){if(e&&e.defaultProps){t=Rr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function FN(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Rr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var l0={isMounted:function(e){return(e=e._reactInternals)?Cu(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=fs(),a=Nl(e),i=co(n,a);i.payload=t,r!=null&&(i.callback=r),t=wl(e,i,a),t!==null&&(Ja(t,e,a,n),vv(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=fs(),a=Nl(e),i=co(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=wl(e,i,a),t!==null&&(Ja(t,e,a,n),vv(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=fs(),n=Nl(e),a=co(r,n);a.tag=2,t!=null&&(a.callback=t),t=wl(e,a,n),t!==null&&(Ja(t,e,n,r),vv(t,e,n))}};function IO(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Xm(r,n)||!Xm(a,i):!0}function q3(e,t,r){var n=!1,a=Il,i=t.contextType;return typeof i=="object"&&i!==null?i=_a(i):(a=Ps(t)?tu:Zn.current,n=t.contextTypes,i=(n=n!=null)?Yd(e,a):Il),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=l0,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function DO(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&l0.enqueueReplaceState(t,t.state,null)}function BN(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},wC(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=_a(i):(i=Ps(t)?tu:Zn.current,a.context=Yd(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(FN(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&l0.enqueueReplaceState(a,a.state,null),ry(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Zd(e,t){try{var r="",n=t;do r+=fH(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Bj(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function zN(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var FG=typeof WeakMap=="function"?WeakMap:Map;function V3(e,t,r){r=co(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){oy||(oy=!0,JN=n),zN(e,t)},r}function H3(e,t,r){r=co(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){zN(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){zN(e,t),typeof n!="function"&&(jl===null?jl=new Set([this]):jl.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function $O(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new FG;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=ZG.bind(null,e,t,r),t.then(e,e))}function LO(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function FO(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=co(-1,1),t.tag=2,wl(r,t,1))),r.lanes|=1),e)}var BG=Eo.ReactCurrentOwner,Cs=!1;function as(e,t,r,n){t.child=e===null?w3(t,null,r,n):Jd(t,e.child,r,n)}function BO(e,t,r,n,a){r=r.render;var i=t.ref;return Nd(t,a),n=CC(e,t,r,n,i,a),r=kC(),e!==null&&!Cs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,yo(e,t,a)):(wr&&r&&mC(t),t.flags|=1,as(e,t,n,a),t.child)}function zO(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!$C(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,G3(e,t,i,n,a)):(e=Sv(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Xm,r(o,n)&&e.ref===t.ref)return yo(e,t,a)}return t.flags|=1,e=Sl(i,n),e.ref=t.ref,e.return=t,t.child=e}function G3(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Xm(i,n)&&e.ref===t.ref)if(Cs=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Cs=!0);else return t.lanes=e.lanes,yo(e,t,a)}return UN(e,t,r,n,a)}function K3(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},sr(fd,Ls),Ls|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,sr(fd,Ls),Ls|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,sr(fd,Ls),Ls|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,sr(fd,Ls),Ls|=n;return as(e,t,a,r),t.child}function Y3(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function UN(e,t,r,n,a){var i=Ps(r)?tu:Zn.current;return i=Yd(t,i),Nd(t,a),r=CC(e,t,r,n,i,a),n=kC(),e!==null&&!Cs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,yo(e,t,a)):(wr&&n&&mC(t),t.flags|=1,as(e,t,r,a),t.child)}function UO(e,t,r,n,a){if(Ps(r)){var i=!0;Jv(t)}else i=!1;if(Nd(t,a),t.stateNode===null)wv(e,t),q3(t,r,n),BN(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=_a(u):(u=Ps(r)?tu:Zn.current,u=Yd(t,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&DO(t,o,n,u),Ho=!1;var h=t.memoizedState;o.state=h,ry(t,n,o,a),c=t.memoizedState,l!==n||h!==c||Es.current||Ho?(typeof f=="function"&&(FN(t,r,f,n),c=t.memoizedState),(l=Ho||IO(t,r,l,n,h,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,N3(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:La(t.type,l),o.props=u,d=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=_a(c):(c=Ps(r)?tu:Zn.current,c=Yd(t,c));var m=r.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||h!==c)&&DO(t,o,n,c),Ho=!1,h=t.memoizedState,o.state=h,ry(t,n,o,a);var x=t.memoizedState;l!==d||h!==x||Es.current||Ho?(typeof m=="function"&&(FN(t,r,m,n),x=t.memoizedState),(u=Ho||IO(t,r,u,n,h,x,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return WN(e,t,r,n,i,a)}function WN(e,t,r,n,a,i){Y3(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&kO(t,r,!1),yo(e,t,i);n=t.stateNode,BG.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Jd(t,e.child,null,i),t.child=Jd(t,null,l,i)):as(e,t,l,i),t.memoizedState=n.state,a&&kO(t,r,!0),t.child}function X3(e){var t=e.stateNode;t.pendingContext?CO(e,t.pendingContext,t.pendingContext!==t.context):t.context&&CO(e,t.context,!1),jC(e,t.containerInfo)}function WO(e,t,r,n,a){return Xd(),gC(a),t.flags|=256,as(e,t,r,n),t.child}var qN={dehydrated:null,treeContext:null,retryLane:0};function VN(e){return{baseLanes:e,cachePool:null,transitions:null}}function J3(e,t,r){var n=t.pendingProps,a=_r.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),sr(_r,a&1),e===null)return $N(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=d0(o,n,0,null),e=Yc(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=VN(r),t.memoizedState=qN,e):OC(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return zG(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Sl(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Sl(l,i):(i=Yc(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?VN(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=qN,n}return i=e.child,e=i.sibling,n=Sl(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function OC(e,t){return t=d0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _x(e,t,r,n){return n!==null&&gC(n),Jd(t,e.child,null,r),e=OC(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zG(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Bj(Error(ve(422))),_x(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=d0({mode:"visible",children:n.children},a,0,null),i=Yc(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Jd(t,e.child,null,o),t.child.memoizedState=VN(o),t.memoizedState=qN,i);if(!(t.mode&1))return _x(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ve(419)),n=Bj(i,n,void 0),_x(e,t,o,n)}if(l=(o&e.childLanes)!==0,Cs||l){if(n=An,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,vo(e,a),Ja(n,e,a,-1))}return DC(),n=Bj(Error(ve(421))),_x(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=eK.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,qs=bl(a.nextSibling),Vs=t,wr=!0,Ha=null,e!==null&&(ma[pa++]=so,ma[pa++]=ao,ma[pa++]=ru,so=e.id,ao=e.overflow,ru=t),t=OC(t,n.children),t.flags|=4096,t)}function qO(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),LN(e.return,t,r)}function zj(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function Q3(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(as(e,t,n.children,r),n=_r.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qO(e,r,t);else if(e.tag===19)qO(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(sr(_r,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&ny(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),zj(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ny(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}zj(t,!0,r,null,i);break;case"together":zj(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yo(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),su|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ve(153));if(t.child!==null){for(e=t.child,r=Sl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Sl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function UG(e,t,r){switch(t.tag){case 3:X3(t),Xd();break;case 5:S3(t);break;case 1:Ps(t.type)&&Jv(t);break;case 4:jC(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;sr(ey,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(sr(_r,_r.current&1),t.flags|=128,null):r&t.child.childLanes?J3(e,t,r):(sr(_r,_r.current&1),e=yo(e,t,r),e!==null?e.sibling:null);sr(_r,_r.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Q3(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),sr(_r,_r.current),n)break;return null;case 22:case 23:return t.lanes=0,K3(e,t,r)}return yo(e,t,r)}var Z3,HN,e$,t$;Z3=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};HN=function(){};e$=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Tc(Ei.current);var i=null;switch(r){case"input":a=mN(e,a),n=mN(e,n),i=[];break;case"select":a=Rr({},a,{value:void 0}),n=Rr({},n,{value:void 0}),i=[];break;case"textarea":a=xN(e,a),n=xN(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Yv)}yN(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wm.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wm.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&hr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};t$=function(e,t,r,n){r!==n&&(t.flags|=4)};function Lh(e,t){if(!wr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Kn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function WG(e,t,r){var n=t.pendingProps;switch(pC(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(t),null;case 1:return Ps(t.type)&&Xv(),Kn(t),null;case 3:return n=t.stateNode,Qd(),xr(Es),xr(Zn),SC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Nx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ha!==null&&(eS(Ha),Ha=null))),HN(e,t),Kn(t),null;case 5:NC(t);var a=Tc(tp.current);if(r=t.type,e!==null&&t.stateNode!=null)e$(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ve(166));return Kn(t),null}if(e=Tc(Ei.current),Nx(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[vi]=t,n[Zm]=i,e=(t.mode&1)!==0,r){case"dialog":hr("cancel",n),hr("close",n);break;case"iframe":case"object":case"embed":hr("load",n);break;case"video":case"audio":for(a=0;a<im.length;a++)hr(im[a],n);break;case"source":hr("error",n);break;case"img":case"image":case"link":hr("error",n),hr("load",n);break;case"details":hr("toggle",n);break;case"input":ZP(n,i),hr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},hr("invalid",n);break;case"textarea":tO(n,i),hr("invalid",n)}yN(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&jx(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&jx(n.textContent,l,e),a=["children",""+l]):Wm.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&hr("scroll",n)}switch(r){case"input":mx(n),eO(n,i,!0);break;case"textarea":mx(n),rO(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Yv)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=P5(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[vi]=t,e[Zm]=n,Z3(e,t,!1,!1),t.stateNode=e;e:{switch(o=bN(r,n),r){case"dialog":hr("cancel",e),hr("close",e),a=n;break;case"iframe":case"object":case"embed":hr("load",e),a=n;break;case"video":case"audio":for(a=0;a<im.length;a++)hr(im[a],e);a=n;break;case"source":hr("error",e),a=n;break;case"img":case"image":case"link":hr("error",e),hr("load",e),a=n;break;case"details":hr("toggle",e),a=n;break;case"input":ZP(e,n),a=mN(e,n),hr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Rr({},n,{value:void 0}),hr("invalid",e);break;case"textarea":tO(e,n),a=xN(e,n),hr("invalid",e);break;default:a=n}yN(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?T5(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&O5(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&qm(e,c):typeof c=="number"&&qm(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wm.hasOwnProperty(i)?c!=null&&i==="onScroll"&&hr("scroll",e):c!=null&&eC(e,i,c,o))}switch(r){case"input":mx(e),eO(e,n,!1);break;case"textarea":mx(e),rO(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Rl(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?yd(e,!!n.multiple,i,!1):n.defaultValue!=null&&yd(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Yv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Kn(t),null;case 6:if(e&&t.stateNode!=null)t$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ve(166));if(r=Tc(tp.current),Tc(Ei.current),Nx(t)){if(n=t.stateNode,r=t.memoizedProps,n[vi]=t,(i=n.nodeValue!==r)&&(e=Vs,e!==null))switch(e.tag){case 3:jx(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&jx(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[vi]=t,t.stateNode=n}return Kn(t),null;case 13:if(xr(_r),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(wr&&qs!==null&&t.mode&1&&!(t.flags&128))y3(),Xd(),t.flags|=98560,i=!1;else if(i=Nx(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ve(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ve(317));i[vi]=t}else Xd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Kn(t),i=!1}else Ha!==null&&(eS(Ha),Ha=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||_r.current&1?wn===0&&(wn=3):DC())),t.updateQueue!==null&&(t.flags|=4),Kn(t),null);case 4:return Qd(),HN(e,t),e===null&&Jm(t.stateNode.containerInfo),Kn(t),null;case 10:return yC(t.type._context),Kn(t),null;case 17:return Ps(t.type)&&Xv(),Kn(t),null;case 19:if(xr(_r),i=t.memoizedState,i===null)return Kn(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Lh(i,!1);else{if(wn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ny(e),o!==null){for(t.flags|=128,Lh(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return sr(_r,_r.current&1|2),t.child}e=e.sibling}i.tail!==null&&Hr()>ef&&(t.flags|=128,n=!0,Lh(i,!1),t.lanes=4194304)}else{if(!n)if(e=ny(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Lh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!wr)return Kn(t),null}else 2*Hr()-i.renderingStartTime>ef&&r!==1073741824&&(t.flags|=128,n=!0,Lh(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Hr(),t.sibling=null,r=_r.current,sr(_r,n?r&1|2:r&1),t):(Kn(t),null);case 22:case 23:return IC(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ls&1073741824&&(Kn(t),t.subtreeFlags&6&&(t.flags|=8192)):Kn(t),null;case 24:return null;case 25:return null}throw Error(ve(156,t.tag))}function qG(e,t){switch(pC(t),t.tag){case 1:return Ps(t.type)&&Xv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qd(),xr(Es),xr(Zn),SC(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return NC(t),null;case 13:if(xr(_r),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ve(340));Xd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xr(_r),null;case 4:return Qd(),null;case 10:return yC(t.type._context),null;case 22:case 23:return IC(),null;case 24:return null;default:return null}}var Cx=!1,Jn=!1,VG=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function dd(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Lr(e,t,n)}else r.current=null}function GN(e,t,r){try{r()}catch(n){Lr(e,t,n)}}var VO=!1;function HG(e,t){if(ON=Hv,e=i3(),hC(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var m;d!==r||a!==0&&d.nodeType!==3||(l=o+a),d!==i||n!==0&&d.nodeType!==3||(c=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++f===n&&(c=o),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(AN={focusedElem:e,selectionRange:r},Hv=!1,Ae=t;Ae!==null;)if(t=Ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ae=e;else for(;Ae!==null;){t=Ae;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,v=x.memoizedState,w=t.stateNode,b=w.getSnapshotBeforeUpdate(t.elementType===t.type?g:La(t.type,g),v);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(N){Lr(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Ae=e;break}Ae=t.return}return x=VO,VO=!1,x}function jm(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&GN(t,r,i)}a=a.next}while(a!==n)}}function c0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function KN(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function r$(e){var t=e.alternate;t!==null&&(e.alternate=null,r$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vi],delete t[Zm],delete t[RN],delete t[EG],delete t[PG])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function n$(e){return e.tag===5||e.tag===3||e.tag===4}function HO(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||n$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function YN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Yv));else if(n!==4&&(e=e.child,e!==null))for(YN(e,t,r),e=e.sibling;e!==null;)YN(e,t,r),e=e.sibling}function XN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(XN(e,t,r),e=e.sibling;e!==null;)XN(e,t,r),e=e.sibling}var Fn=null,Ua=!1;function $o(e,t,r){for(r=r.child;r!==null;)s$(e,t,r),r=r.sibling}function s$(e,t,r){if(ki&&typeof ki.onCommitFiberUnmount=="function")try{ki.onCommitFiberUnmount(t0,r)}catch{}switch(r.tag){case 5:Jn||dd(r,t);case 6:var n=Fn,a=Ua;Fn=null,$o(e,t,r),Fn=n,Ua=a,Fn!==null&&(Ua?(e=Fn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Fn.removeChild(r.stateNode));break;case 18:Fn!==null&&(Ua?(e=Fn,r=r.stateNode,e.nodeType===8?Rj(e.parentNode,r):e.nodeType===1&&Rj(e,r),Km(e)):Rj(Fn,r.stateNode));break;case 4:n=Fn,a=Ua,Fn=r.stateNode.containerInfo,Ua=!0,$o(e,t,r),Fn=n,Ua=a;break;case 0:case 11:case 14:case 15:if(!Jn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&GN(r,t,o),a=a.next}while(a!==n)}$o(e,t,r);break;case 1:if(!Jn&&(dd(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Lr(r,t,l)}$o(e,t,r);break;case 21:$o(e,t,r);break;case 22:r.mode&1?(Jn=(n=Jn)||r.memoizedState!==null,$o(e,t,r),Jn=n):$o(e,t,r);break;default:$o(e,t,r)}}function GO(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new VG),t.forEach(function(n){var a=tK.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Ma(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Fn=l.stateNode,Ua=!1;break e;case 3:Fn=l.stateNode.containerInfo,Ua=!0;break e;case 4:Fn=l.stateNode.containerInfo,Ua=!0;break e}l=l.return}if(Fn===null)throw Error(ve(160));s$(i,o,a),Fn=null,Ua=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Lr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)a$(t,e),t=t.sibling}function a$(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ma(t,e),hi(e),n&4){try{jm(3,e,e.return),c0(3,e)}catch(g){Lr(e,e.return,g)}try{jm(5,e,e.return)}catch(g){Lr(e,e.return,g)}}break;case 1:Ma(t,e),hi(e),n&512&&r!==null&&dd(r,r.return);break;case 5:if(Ma(t,e),hi(e),n&512&&r!==null&&dd(r,r.return),e.flags&32){var a=e.stateNode;try{qm(a,"")}catch(g){Lr(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&k5(a,i),bN(l,o);var u=bN(l,i);for(o=0;o<c.length;o+=2){var f=c[o],d=c[o+1];f==="style"?T5(a,d):f==="dangerouslySetInnerHTML"?O5(a,d):f==="children"?qm(a,d):eC(a,f,d,u)}switch(l){case"input":pN(a,i);break;case"textarea":E5(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?yd(a,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?yd(a,!!i.multiple,i.defaultValue,!0):yd(a,!!i.multiple,i.multiple?[]:"",!1))}a[Zm]=i}catch(g){Lr(e,e.return,g)}}break;case 6:if(Ma(t,e),hi(e),n&4){if(e.stateNode===null)throw Error(ve(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Lr(e,e.return,g)}}break;case 3:if(Ma(t,e),hi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Km(t.containerInfo)}catch(g){Lr(e,e.return,g)}break;case 4:Ma(t,e),hi(e);break;case 13:Ma(t,e),hi(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(MC=Hr())),n&4&&GO(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Jn=(u=Jn)||f,Ma(t,e),Jn=u):Ma(t,e),hi(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(Ae=e,f=e.child;f!==null;){for(d=Ae=f;Ae!==null;){switch(h=Ae,m=h.child,h.tag){case 0:case 11:case 14:case 15:jm(4,h,h.return);break;case 1:dd(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){Lr(n,r,g)}}break;case 5:dd(h,h.return);break;case 22:if(h.memoizedState!==null){YO(d);continue}}m!==null?(m.return=h,Ae=m):YO(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{a=d.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=A5("display",o))}catch(g){Lr(e,e.return,g)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Lr(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ma(t,e),hi(e),n&4&&GO(e);break;case 21:break;default:Ma(t,e),hi(e)}}function hi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(n$(r)){var n=r;break e}r=r.return}throw Error(ve(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(qm(a,""),n.flags&=-33);var i=HO(e);XN(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=HO(e);YN(e,l,o);break;default:throw Error(ve(161))}}catch(c){Lr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function GG(e,t,r){Ae=e,i$(e)}function i$(e,t,r){for(var n=(e.mode&1)!==0;Ae!==null;){var a=Ae,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Cx;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Jn;l=Cx;var u=Jn;if(Cx=o,(Jn=c)&&!u)for(Ae=a;Ae!==null;)o=Ae,c=o.child,o.tag===22&&o.memoizedState!==null?XO(a):c!==null?(c.return=o,Ae=c):XO(a);for(;i!==null;)Ae=i,i$(i),i=i.sibling;Ae=a,Cx=l,Jn=u}KO(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ae=i):KO(e)}}function KO(e){for(;Ae!==null;){var t=Ae;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Jn||c0(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Jn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:La(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&TO(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}TO(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Km(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}Jn||t.flags&512&&KN(t)}catch(h){Lr(t,t.return,h)}}if(t===e){Ae=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ae=r;break}Ae=t.return}}function YO(e){for(;Ae!==null;){var t=Ae;if(t===e){Ae=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ae=r;break}Ae=t.return}}function XO(e){for(;Ae!==null;){var t=Ae;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{c0(4,t)}catch(c){Lr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Lr(t,a,c)}}var i=t.return;try{KN(t)}catch(c){Lr(t,i,c)}break;case 5:var o=t.return;try{KN(t)}catch(c){Lr(t,o,c)}}}catch(c){Lr(t,t.return,c)}if(t===e){Ae=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ae=l;break}Ae=t.return}}var KG=Math.ceil,iy=Eo.ReactCurrentDispatcher,AC=Eo.ReactCurrentOwner,wa=Eo.ReactCurrentBatchConfig,jt=0,An=null,an=null,zn=0,Ls=0,fd=ql(0),wn=0,ap=null,su=0,u0=0,TC=0,Nm=null,_s=null,MC=0,ef=1/0,Ji=null,oy=!1,JN=null,jl=null,kx=!1,dl=null,ly=0,Sm=0,QN=null,jv=-1,Nv=0;function fs(){return jt&6?Hr():jv!==-1?jv:jv=Hr()}function Nl(e){return e.mode&1?jt&2&&zn!==0?zn&-zn:AG.transition!==null?(Nv===0&&(Nv=q5()),Nv):(e=Bt,e!==0||(e=window.event,e=e===void 0?16:J5(e.type)),e):1}function Ja(e,t,r,n){if(50<Sm)throw Sm=0,QN=null,Error(ve(185));vg(e,r,n),(!(jt&2)||e!==An)&&(e===An&&(!(jt&2)&&(u0|=r),wn===4&&Jo(e,zn)),Os(e,n),r===1&&jt===0&&!(t.mode&1)&&(ef=Hr()+500,i0&&Vl()))}function Os(e,t){var r=e.callbackNode;AH(e,t);var n=Vv(e,e===An?zn:0);if(n===0)r!==null&&aO(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&aO(r),t===1)e.tag===0?OG(JO.bind(null,e)):g3(JO.bind(null,e)),CG(function(){!(jt&6)&&Vl()}),r=null;else{switch(V5(n)){case 1:r=aC;break;case 4:r=U5;break;case 16:r=qv;break;case 536870912:r=W5;break;default:r=qv}r=m$(r,o$.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function o$(e,t){if(jv=-1,Nv=0,jt&6)throw Error(ve(327));var r=e.callbackNode;if(Sd()&&e.callbackNode!==r)return null;var n=Vv(e,e===An?zn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=cy(e,n);else{t=n;var a=jt;jt|=2;var i=c$();(An!==e||zn!==t)&&(Ji=null,ef=Hr()+500,Kc(e,t));do try{JG();break}catch(l){l$(e,l)}while(!0);vC(),iy.current=i,jt=a,an!==null?t=0:(An=null,zn=0,t=wn)}if(t!==0){if(t===2&&(a=_N(e),a!==0&&(n=a,t=ZN(e,a))),t===1)throw r=ap,Kc(e,0),Jo(e,n),Os(e,Hr()),r;if(t===6)Jo(e,n);else{if(a=e.current.alternate,!(n&30)&&!YG(a)&&(t=cy(e,n),t===2&&(i=_N(e),i!==0&&(n=i,t=ZN(e,i))),t===1))throw r=ap,Kc(e,0),Jo(e,n),Os(e,Hr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ve(345));case 2:bc(e,_s,Ji);break;case 3:if(Jo(e,n),(n&130023424)===n&&(t=MC+500-Hr(),10<t)){if(Vv(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){fs(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=MN(bc.bind(null,e,_s,Ji),t);break}bc(e,_s,Ji);break;case 4:if(Jo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Xa(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Hr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*KG(n/1960))-n,10<n){e.timeoutHandle=MN(bc.bind(null,e,_s,Ji),n);break}bc(e,_s,Ji);break;case 5:bc(e,_s,Ji);break;default:throw Error(ve(329))}}}return Os(e,Hr()),e.callbackNode===r?o$.bind(null,e):null}function ZN(e,t){var r=Nm;return e.current.memoizedState.isDehydrated&&(Kc(e,t).flags|=256),e=cy(e,t),e!==2&&(t=_s,_s=r,t!==null&&eS(t)),e}function eS(e){_s===null?_s=e:_s.push.apply(_s,e)}function YG(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!ti(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jo(e,t){for(t&=~TC,t&=~u0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Xa(t),n=1<<r;e[r]=-1,t&=~n}}function JO(e){if(jt&6)throw Error(ve(327));Sd();var t=Vv(e,0);if(!(t&1))return Os(e,Hr()),null;var r=cy(e,t);if(e.tag!==0&&r===2){var n=_N(e);n!==0&&(t=n,r=ZN(e,n))}if(r===1)throw r=ap,Kc(e,0),Jo(e,t),Os(e,Hr()),r;if(r===6)throw Error(ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,_s,Ji),Os(e,Hr()),null}function RC(e,t){var r=jt;jt|=1;try{return e(t)}finally{jt=r,jt===0&&(ef=Hr()+500,i0&&Vl())}}function au(e){dl!==null&&dl.tag===0&&!(jt&6)&&Sd();var t=jt;jt|=1;var r=wa.transition,n=Bt;try{if(wa.transition=null,Bt=1,e)return e()}finally{Bt=n,wa.transition=r,jt=t,!(jt&6)&&Vl()}}function IC(){Ls=fd.current,xr(fd)}function Kc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,_G(r)),an!==null)for(r=an.return;r!==null;){var n=r;switch(pC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Xv();break;case 3:Qd(),xr(Es),xr(Zn),SC();break;case 5:NC(n);break;case 4:Qd();break;case 13:xr(_r);break;case 19:xr(_r);break;case 10:yC(n.type._context);break;case 22:case 23:IC()}r=r.return}if(An=e,an=e=Sl(e.current,null),zn=Ls=t,wn=0,ap=null,TC=u0=su=0,_s=Nm=null,Ac!==null){for(t=0;t<Ac.length;t++)if(r=Ac[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Ac=null}return e}function l$(e,t){do{var r=an;try{if(vC(),yv.current=ay,sy){for(var n=Tr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}sy=!1}if(nu=0,En=xn=Tr=null,wm=!1,rp=0,AC.current=null,r===null||r.return===null){wn=1,ap=t,an=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=zn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=LO(o);if(m!==null){m.flags&=-257,FO(m,o,l,i,t),m.mode&1&&$O(i,u,t),t=m,c=u;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){$O(i,u,t),DC();break e}c=Error(ve(426))}}else if(wr&&l.mode&1){var v=LO(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),FO(v,o,l,i,t),gC(Zd(c,l));break e}}i=c=Zd(c,l),wn!==4&&(wn=2),Nm===null?Nm=[i]:Nm.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var w=V3(i,c,t);AO(i,w);break e;case 1:l=c;var b=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(jl===null||!jl.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=H3(i,l,t);AO(i,N);break e}}i=i.return}while(i!==null)}d$(r)}catch(j){t=j,an===r&&r!==null&&(an=r=r.return);continue}break}while(!0)}function c$(){var e=iy.current;return iy.current=ay,e===null?ay:e}function DC(){(wn===0||wn===3||wn===2)&&(wn=4),An===null||!(su&268435455)&&!(u0&268435455)||Jo(An,zn)}function cy(e,t){var r=jt;jt|=2;var n=c$();(An!==e||zn!==t)&&(Ji=null,Kc(e,t));do try{XG();break}catch(a){l$(e,a)}while(!0);if(vC(),jt=r,iy.current=n,an!==null)throw Error(ve(261));return An=null,zn=0,wn}function XG(){for(;an!==null;)u$(an)}function JG(){for(;an!==null&&!jH();)u$(an)}function u$(e){var t=h$(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,t===null?d$(e):an=t,AC.current=null}function d$(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=qG(r,t),r!==null){r.flags&=32767,an=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{wn=6,an=null;return}}else if(r=WG(r,t,Ls),r!==null){an=r;return}if(t=t.sibling,t!==null){an=t;return}an=t=e}while(t!==null);wn===0&&(wn=5)}function bc(e,t,r){var n=Bt,a=wa.transition;try{wa.transition=null,Bt=1,QG(e,t,r,n)}finally{wa.transition=a,Bt=n}return null}function QG(e,t,r,n){do Sd();while(dl!==null);if(jt&6)throw Error(ve(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ve(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(TH(e,i),e===An&&(an=An=null,zn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||kx||(kx=!0,m$(qv,function(){return Sd(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=wa.transition,wa.transition=null;var o=Bt;Bt=1;var l=jt;jt|=4,AC.current=null,HG(e,r),a$(r,e),vG(AN),Hv=!!ON,AN=ON=null,e.current=r,GG(r),NH(),jt=l,Bt=o,wa.transition=i}else e.current=r;if(kx&&(kx=!1,dl=e,ly=a),i=e.pendingLanes,i===0&&(jl=null),CH(r.stateNode),Os(e,Hr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(oy)throw oy=!1,e=JN,JN=null,e;return ly&1&&e.tag!==0&&Sd(),i=e.pendingLanes,i&1?e===QN?Sm++:(Sm=0,QN=e):Sm=0,Vl(),null}function Sd(){if(dl!==null){var e=V5(ly),t=wa.transition,r=Bt;try{if(wa.transition=null,Bt=16>e?16:e,dl===null)var n=!1;else{if(e=dl,dl=null,ly=0,jt&6)throw Error(ve(331));var a=jt;for(jt|=4,Ae=e.current;Ae!==null;){var i=Ae,o=i.child;if(Ae.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ae=u;Ae!==null;){var f=Ae;switch(f.tag){case 0:case 11:case 15:jm(8,f,i)}var d=f.child;if(d!==null)d.return=f,Ae=d;else for(;Ae!==null;){f=Ae;var h=f.sibling,m=f.return;if(r$(f),f===u){Ae=null;break}if(h!==null){h.return=m,Ae=h;break}Ae=m}}}var x=i.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}Ae=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ae=o;else e:for(;Ae!==null;){if(i=Ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:jm(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,Ae=w;break e}Ae=i.return}}var b=e.current;for(Ae=b;Ae!==null;){o=Ae;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,Ae=y;else e:for(o=b;Ae!==null;){if(l=Ae,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:c0(9,l)}}catch(j){Lr(l,l.return,j)}if(l===o){Ae=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Ae=N;break e}Ae=l.return}}if(jt=a,Vl(),ki&&typeof ki.onPostCommitFiberRoot=="function")try{ki.onPostCommitFiberRoot(t0,e)}catch{}n=!0}return n}finally{Bt=r,wa.transition=t}}return!1}function QO(e,t,r){t=Zd(r,t),t=V3(e,t,1),e=wl(e,t,1),t=fs(),e!==null&&(vg(e,1,t),Os(e,t))}function Lr(e,t,r){if(e.tag===3)QO(e,e,r);else for(;t!==null;){if(t.tag===3){QO(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(jl===null||!jl.has(n))){e=Zd(r,e),e=H3(t,e,1),t=wl(t,e,1),e=fs(),t!==null&&(vg(t,1,e),Os(t,e));break}}t=t.return}}function ZG(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=fs(),e.pingedLanes|=e.suspendedLanes&r,An===e&&(zn&r)===r&&(wn===4||wn===3&&(zn&130023424)===zn&&500>Hr()-MC?Kc(e,0):TC|=r),Os(e,t)}function f$(e,t){t===0&&(e.mode&1?(t=xx,xx<<=1,!(xx&130023424)&&(xx=4194304)):t=1);var r=fs();e=vo(e,t),e!==null&&(vg(e,t,r),Os(e,r))}function eK(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),f$(e,r)}function tK(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ve(314))}n!==null&&n.delete(t),f$(e,r)}var h$;h$=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Es.current)Cs=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Cs=!1,UG(e,t,r);Cs=!!(e.flags&131072)}else Cs=!1,wr&&t.flags&1048576&&x3(t,Zv,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;wv(e,t),e=t.pendingProps;var a=Yd(t,Zn.current);Nd(t,r),a=CC(null,t,n,e,a,r);var i=kC();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ps(n)?(i=!0,Jv(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,wC(t),a.updater=l0,t.stateNode=a,a._reactInternals=t,BN(t,n,e,r),t=WN(null,t,n,!0,i,r)):(t.tag=0,wr&&i&&mC(t),as(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(wv(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=nK(n),e=La(n,e),a){case 0:t=UN(null,t,n,e,r);break e;case 1:t=UO(null,t,n,e,r);break e;case 11:t=BO(null,t,n,e,r);break e;case 14:t=zO(null,t,n,La(n.type,e),r);break e}throw Error(ve(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:La(n,a),UN(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:La(n,a),UO(e,t,n,a,r);case 3:e:{if(X3(t),e===null)throw Error(ve(387));n=t.pendingProps,i=t.memoizedState,a=i.element,N3(e,t),ry(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Zd(Error(ve(423)),t),t=WO(e,t,n,r,a);break e}else if(n!==a){a=Zd(Error(ve(424)),t),t=WO(e,t,n,r,a);break e}else for(qs=bl(t.stateNode.containerInfo.firstChild),Vs=t,wr=!0,Ha=null,r=w3(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xd(),n===a){t=yo(e,t,r);break e}as(e,t,n,r)}t=t.child}return t;case 5:return S3(t),e===null&&$N(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,TN(n,a)?o=null:i!==null&&TN(n,i)&&(t.flags|=32),Y3(e,t),as(e,t,o,r),t.child;case 6:return e===null&&$N(t),null;case 13:return J3(e,t,r);case 4:return jC(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Jd(t,null,n,r):as(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:La(n,a),BO(e,t,n,a,r);case 7:return as(e,t,t.pendingProps,r),t.child;case 8:return as(e,t,t.pendingProps.children,r),t.child;case 12:return as(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,sr(ey,n._currentValue),n._currentValue=o,i!==null)if(ti(i.value,o)){if(i.children===a.children&&!Es.current){t=yo(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=co(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),LN(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ve(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),LN(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}as(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Nd(t,r),a=_a(a),n=n(a),t.flags|=1,as(e,t,n,r),t.child;case 14:return n=t.type,a=La(n,t.pendingProps),a=La(n.type,a),zO(e,t,n,a,r);case 15:return G3(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:La(n,a),wv(e,t),t.tag=1,Ps(n)?(e=!0,Jv(t)):e=!1,Nd(t,r),q3(t,n,a),BN(t,n,a,r),WN(null,t,n,!0,e,r);case 19:return Q3(e,t,r);case 22:return K3(e,t,r)}throw Error(ve(156,t.tag))};function m$(e,t){return z5(e,t)}function rK(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xa(e,t,r,n){return new rK(e,t,r,n)}function $C(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nK(e){if(typeof e=="function")return $C(e)?1:0;if(e!=null){if(e=e.$$typeof,e===rC)return 11;if(e===nC)return 14}return 2}function Sl(e,t){var r=e.alternate;return r===null?(r=xa(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Sv(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")$C(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case rd:return Yc(r.children,a,i,t);case tC:o=8,a|=8;break;case uN:return e=xa(12,r,t,a|2),e.elementType=uN,e.lanes=i,e;case dN:return e=xa(13,r,t,a),e.elementType=dN,e.lanes=i,e;case fN:return e=xa(19,r,t,a),e.elementType=fN,e.lanes=i,e;case S5:return d0(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case j5:o=10;break e;case N5:o=9;break e;case rC:o=11;break e;case nC:o=14;break e;case Vo:o=16,n=null;break e}throw Error(ve(130,e==null?e:typeof e,""))}return t=xa(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Yc(e,t,r,n){return e=xa(7,e,n,t),e.lanes=r,e}function d0(e,t,r,n){return e=xa(22,e,n,t),e.elementType=S5,e.lanes=r,e.stateNode={isHidden:!1},e}function Uj(e,t,r){return e=xa(6,e,null,t),e.lanes=r,e}function Wj(e,t,r){return t=xa(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sK(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nj(0),this.expirationTimes=Nj(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nj(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function LC(e,t,r,n,a,i,o,l,c){return e=new sK(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=xa(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},wC(i),e}function aK(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:td,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function p$(e){if(!e)return Il;e=e._reactInternals;e:{if(Cu(e)!==e||e.tag!==1)throw Error(ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ps(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ve(171))}if(e.tag===1){var r=e.type;if(Ps(r))return p3(e,r,t)}return t}function g$(e,t,r,n,a,i,o,l,c){return e=LC(r,n,!0,e,a,i,o,l,c),e.context=p$(null),r=e.current,n=fs(),a=Nl(r),i=co(n,a),i.callback=t??null,wl(r,i,a),e.current.lanes=a,vg(e,a,n),Os(e,n),e}function f0(e,t,r,n){var a=t.current,i=fs(),o=Nl(a);return r=p$(r),t.context===null?t.context=r:t.pendingContext=r,t=co(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=wl(a,t,o),e!==null&&(Ja(e,a,o,i),vv(e,a,o)),o}function uy(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ZO(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function FC(e,t){ZO(e,t),(e=e.alternate)&&ZO(e,t)}function iK(){return null}var x$=typeof reportError=="function"?reportError:function(e){console.error(e)};function BC(e){this._internalRoot=e}h0.prototype.render=BC.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ve(409));f0(e,t,null,null)};h0.prototype.unmount=BC.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;au(function(){f0(null,e,null,null)}),t[xo]=null}};function h0(e){this._internalRoot=e}h0.prototype.unstable_scheduleHydration=function(e){if(e){var t=K5();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Xo.length&&t!==0&&t<Xo[r].priority;r++);Xo.splice(r,0,e),r===0&&X5(e)}};function zC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function eA(){}function oK(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=uy(o);i.call(u)}}var o=g$(t,n,e,0,null,!1,!1,"",eA);return e._reactRootContainer=o,e[xo]=o.current,Jm(e.nodeType===8?e.parentNode:e),au(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=uy(c);l.call(u)}}var c=LC(e,0,!1,null,null,!1,!1,"",eA);return e._reactRootContainer=c,e[xo]=c.current,Jm(e.nodeType===8?e.parentNode:e),au(function(){f0(t,c,r,n)}),c}function p0(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=uy(o);l.call(c)}}f0(t,o,e,a)}else o=oK(r,t,e,a,n);return uy(o)}H5=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=am(t.pendingLanes);r!==0&&(iC(t,r|1),Os(t,Hr()),!(jt&6)&&(ef=Hr()+500,Vl()))}break;case 13:au(function(){var n=vo(e,1);if(n!==null){var a=fs();Ja(n,e,1,a)}}),FC(e,1)}};oC=function(e){if(e.tag===13){var t=vo(e,134217728);if(t!==null){var r=fs();Ja(t,e,134217728,r)}FC(e,134217728)}};G5=function(e){if(e.tag===13){var t=Nl(e),r=vo(e,t);if(r!==null){var n=fs();Ja(r,e,t,n)}FC(e,t)}};K5=function(){return Bt};Y5=function(e,t){var r=Bt;try{return Bt=e,t()}finally{Bt=r}};jN=function(e,t,r){switch(t){case"input":if(pN(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=a0(n);if(!a)throw Error(ve(90));C5(n),pN(n,a)}}}break;case"textarea":E5(e,r);break;case"select":t=r.value,t!=null&&yd(e,!!r.multiple,t,!1)}};I5=RC;D5=au;var lK={usingClientEntryPoint:!1,Events:[bg,id,a0,M5,R5,RC]},Fh={findFiberByHostInstance:Oc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cK={bundleType:Fh.bundleType,version:Fh.version,rendererPackageName:Fh.rendererPackageName,rendererConfig:Fh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Eo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=F5(e),e===null?null:e.stateNode},findFiberByHostInstance:Fh.findFiberByHostInstance||iK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ex=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ex.isDisabled&&Ex.supportsFiber)try{t0=Ex.inject(cK),ki=Ex}catch{}}na.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lK;na.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zC(t))throw Error(ve(200));return aK(e,t,null,r)};na.createRoot=function(e,t){if(!zC(e))throw Error(ve(299));var r=!1,n="",a=x$;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=LC(e,1,!1,null,null,r,!1,n,a),e[xo]=t.current,Jm(e.nodeType===8?e.parentNode:e),new BC(t)};na.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ve(188)):(e=Object.keys(e).join(","),Error(ve(268,e)));return e=F5(t),e=e===null?null:e.stateNode,e};na.flushSync=function(e){return au(e)};na.hydrate=function(e,t,r){if(!m0(t))throw Error(ve(200));return p0(null,e,t,!0,r)};na.hydrateRoot=function(e,t,r){if(!zC(e))throw Error(ve(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=x$;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=g$(t,null,e,1,r??null,a,!1,i,o),e[xo]=t.current,Jm(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new h0(t)};na.render=function(e,t,r){if(!m0(t))throw Error(ve(200));return p0(null,e,t,!1,r)};na.unmountComponentAtNode=function(e){if(!m0(e))throw Error(ve(40));return e._reactRootContainer?(au(function(){p0(null,null,e,!1,function(){e._reactRootContainer=null,e[xo]=null})}),!0):!1};na.unstable_batchedUpdates=RC;na.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!m0(r))throw Error(ve(200));if(e==null||e._reactInternals===void 0)throw Error(ve(38));return p0(e,t,r,!1,n)};na.version="18.3.1-next-f1338f8080-20240426";function v$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v$)}catch(e){console.error(e)}}v$(),v5.exports=na;var va=v5.exports;const y$=Ot(va);var b$,tA=va;b$=tA.createRoot,tA.hydrateRoot;const uK=1,dK=1e6;let qj=0;function fK(){return qj=(qj+1)%Number.MAX_SAFE_INTEGER,qj.toString()}const Vj=new Map,rA=e=>{if(Vj.has(e))return;const t=setTimeout(()=>{Vj.delete(e),_m({type:"REMOVE_TOAST",toastId:e})},dK);Vj.set(e,t)},hK=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,uK)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?rA(r):e.toasts.forEach(n=>{rA(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},_v=[];let Cv={toasts:[]};function _m(e){Cv=hK(Cv,e),_v.forEach(t=>{t(Cv)})}function om({...e}){const t=fK(),r=a=>_m({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>_m({type:"DISMISS_TOAST",toastId:t});return _m({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function mK(){const[e,t]=p.useState(Cv);return p.useEffect(()=>(_v.push(t),()=>{const r=_v.indexOf(t);r>-1&&_v.splice(r,1)}),[e]),{...e,toast:om,dismiss:r=>_m({type:"DISMISS_TOAST",toastId:r})}}function fe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function nA(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function g0(...e){return t=>{let r=!1;const n=e.map(a=>{const i=nA(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():nA(e[a],null)}}}}function We(...e){return p.useCallback(g0(...e),e)}function pK(e,t){const r=p.createContext(t),n=i=>{const{children:o,...l}=i,c=p.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=p.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function en(e,t=[]){let r=[];function n(i,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=d=>{var w;const{scope:h,children:m,...x}=d,g=((w=h==null?void 0:h[e])==null?void 0:w[c])||l,v=p.useMemo(()=>x,Object.values(x));return s.jsx(g.Provider,{value:v,children:m})};u.displayName=i+"Provider";function f(d,h){var g;const m=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,x=p.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[u,f]}const a=()=>{const i=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,gK(a,...t)]}function gK(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(i)[`__scope${u}`];return{...l,...d}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Dl(e){const t=xK(e),r=p.forwardRef((n,a)=>{const{children:i,...o}=n,l=p.Children.toArray(i),c=l.find(vK);if(c){const u=c.props.children,f=l.map(d=>d===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:d);return s.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var w$=Dl("Slot");function xK(e){const t=p.forwardRef((r,n)=>{const{children:a,...i}=r;if(p.isValidElement(a)){const o=bK(a),l=yK(i,a.props);return a.type!==p.Fragment&&(l.ref=n?g0(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var j$=Symbol("radix.slottable");function N$(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=j$,t}function vK(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===j$}function yK(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function bK(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function jg(e){const t=e+"CollectionProvider",[r,n]=en(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:w}=g,b=D.useRef(null),y=D.useRef(new Map).current;return s.jsx(a,{scope:v,itemMap:y,collectionRef:b,children:w})};o.displayName=t;const l=e+"CollectionSlot",c=Dl(l),u=D.forwardRef((g,v)=>{const{scope:w,children:b}=g,y=i(l,w),N=We(v,y.collectionRef);return s.jsx(c,{ref:N,children:b})});u.displayName=l;const f=e+"CollectionItemSlot",d="data-radix-collection-item",h=Dl(f),m=D.forwardRef((g,v)=>{const{scope:w,children:b,...y}=g,N=D.useRef(null),j=We(v,N),S=i(f,w);return D.useEffect(()=>(S.itemMap.set(N,{ref:N,...y}),()=>void S.itemMap.delete(N))),s.jsx(h,{[d]:"",ref:j,children:b})});m.displayName=f;function x(g){const v=i(e+"CollectionConsumer",g);return D.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const y=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((S,_)=>y.indexOf(S.ref.current)-y.indexOf(_.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},x,n]}var wK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ne=wK.reduce((e,t)=>{const r=Dl(`Primitive.${t}`),n=p.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function UC(e,t){e&&va.flushSync(()=>e.dispatchEvent(t))}function Gr(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function jK(e,t=globalThis==null?void 0:globalThis.document){const r=Gr(e);p.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var NK="DismissableLayer",tS="dismissableLayer.update",SK="dismissableLayer.pointerDownOutside",_K="dismissableLayer.focusOutside",sA,S$=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ku=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=p.useContext(S$),[f,d]=p.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),x=We(t,_=>d(_)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(v),b=f?g.indexOf(f):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,N=b>=w,j=kK(_=>{const k=_.target,E=[...u.branches].some(A=>A.contains(k));!N||E||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},h),S=EK(_=>{const k=_.target;[...u.branches].some(A=>A.contains(k))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},h);return jK(_=>{b===u.layers.size-1&&(n==null||n(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},h),p.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(sA=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),aA(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=sA)}},[f,h,r,u]),p.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),aA())},[f,u]),p.useEffect(()=>{const _=()=>m({});return document.addEventListener(tS,_),()=>document.removeEventListener(tS,_)},[]),s.jsx(Ne.div,{...c,ref:x,style:{pointerEvents:y?N?"auto":"none":void 0,...e.style},onFocusCapture:fe(e.onFocusCapture,S.onFocusCapture),onBlurCapture:fe(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:fe(e.onPointerDownCapture,j.onPointerDownCapture)})});ku.displayName=NK;var CK="DismissableLayerBranch",_$=p.forwardRef((e,t)=>{const r=p.useContext(S$),n=p.useRef(null),a=We(t,n);return p.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Ne.div,{...e,ref:a})});_$.displayName=CK;function kK(e,t=globalThis==null?void 0:globalThis.document){const r=Gr(e),n=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){C$(SK,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function EK(e,t=globalThis==null?void 0:globalThis.document){const r=Gr(e),n=p.useRef(!1);return p.useEffect(()=>{const a=i=>{i.target&&!n.current&&C$(_K,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function aA(){const e=new CustomEvent(tS);document.dispatchEvent(e)}function C$(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?UC(a,i):a.dispatchEvent(i)}var PK=ku,OK=_$,_n=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},AK="Portal",Yf=p.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=p.useState(!1);_n(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?y$.createPortal(s.jsx(Ne.div,{...n,ref:t}),o):null});Yf.displayName=AK;function TK(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var cn=e=>{const{present:t,children:r}=e,n=MK(t),a=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),i=We(n.ref,RK(a));return typeof r=="function"||n.isPresent?p.cloneElement(a,{ref:i}):null};cn.displayName="Presence";function MK(e){const[t,r]=p.useState(),n=p.useRef(null),a=p.useRef(e),i=p.useRef("none"),o=e?"mounted":"unmounted",[l,c]=TK(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=Px(n.current);i.current=l==="mounted"?u:"none"},[l]),_n(()=>{const u=n.current,f=a.current;if(f!==e){const h=i.current,m=Px(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),_n(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,d=m=>{const g=Px(n.current).includes(m.animationName);if(m.target===t&&g&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=m=>{m.target===t&&(i.current=Px(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Px(e){return(e==null?void 0:e.animationName)||"none"}function RK(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var IK=J2[" useInsertionEffect ".trim().toString()]||_n;function Wn({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=DK({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const f=p.useRef(e!==void 0);p.useEffect(()=>{const d=f.current;d!==l&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,n])}const u=p.useCallback(f=>{var d;if(l){const h=$K(f)?f(e):f;h!==e&&((d=o.current)==null||d.call(o,h))}else i(f)},[l,e,i,o]);return[c,u]}function DK({defaultProp:e,onChange:t}){const[r,n]=p.useState(e),a=p.useRef(r),i=p.useRef(t);return IK(()=>{i.current=t},[t]),p.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function $K(e){return typeof e=="function"}var k$=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),LK="VisuallyHidden",x0=p.forwardRef((e,t)=>s.jsx(Ne.span,{...e,ref:t,style:{...k$,...e.style}}));x0.displayName=LK;var FK=x0,WC="ToastProvider",[qC,BK,zK]=jg("Toast"),[E$]=en("Toast",[zK]),[UK,v0]=E$(WC),P$=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=p.useState(null),[u,f]=p.useState(0),d=p.useRef(!1),h=p.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${WC}\`. Expected non-empty \`string\`.`),s.jsx(qC.Provider,{scope:t,children:s.jsx(UK,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>f(m=>m+1),[]),onToastRemove:p.useCallback(()=>f(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:o})})};P$.displayName=WC;var O$="ToastViewport",WK=["F8"],rS="toast.viewportPause",nS="toast.viewportResume",A$=p.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=WK,label:a="Notifications ({hotkey})",...i}=e,o=v0(O$,r),l=BK(r),c=p.useRef(null),u=p.useRef(null),f=p.useRef(null),d=p.useRef(null),h=We(t,d,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;p.useEffect(()=>{const v=w=>{var y;n.length!==0&&n.every(N=>w[N]||w.code===N)&&((y=d.current)==null||y.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),p.useEffect(()=>{const v=c.current,w=d.current;if(x&&v&&w){const b=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(rS);w.dispatchEvent(S),o.isClosePausedRef.current=!0}},y=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(nS);w.dispatchEvent(S),o.isClosePausedRef.current=!1}},N=S=>{!v.contains(S.relatedTarget)&&y()},j=()=>{v.contains(document.activeElement)||y()};return v.addEventListener("focusin",b),v.addEventListener("focusout",N),v.addEventListener("pointermove",b),v.addEventListener("pointerleave",j),window.addEventListener("blur",b),window.addEventListener("focus",y),()=>{v.removeEventListener("focusin",b),v.removeEventListener("focusout",N),v.removeEventListener("pointermove",b),v.removeEventListener("pointerleave",j),window.removeEventListener("blur",b),window.removeEventListener("focus",y)}}},[x,o.isClosePausedRef]);const g=p.useCallback(({tabbingDirection:v})=>{const b=l().map(y=>{const N=y.ref.current,j=[N,...rY(N)];return v==="forwards"?j:j.reverse()});return(v==="forwards"?b.reverse():b).flat()},[l]);return p.useEffect(()=>{const v=d.current;if(v){const w=b=>{var j,S,_;const y=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!y){const k=document.activeElement,E=b.shiftKey;if(b.target===v&&E){(j=u.current)==null||j.focus();return}const O=g({tabbingDirection:E?"backwards":"forwards"}),$=O.findIndex(R=>R===k);Hj(O.slice($+1))?b.preventDefault():E?(S=u.current)==null||S.focus():(_=f.current)==null||_.focus()}};return v.addEventListener("keydown",w),()=>v.removeEventListener("keydown",w)}},[l,g]),s.jsxs(OK,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&s.jsx(sS,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});Hj(v)}}),s.jsx(qC.Slot,{scope:r,children:s.jsx(Ne.ol,{tabIndex:-1,...i,ref:h})}),x&&s.jsx(sS,{ref:f,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});Hj(v)}})]})});A$.displayName=O$;var T$="ToastFocusProxy",sS=p.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=v0(T$,r);return s.jsx(x0,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});sS.displayName=T$;var Ng="Toast",qK="toast.swipeStart",VK="toast.swipeMove",HK="toast.swipeCancel",GK="toast.swipeEnd",M$=p.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=Wn({prop:n,defaultProp:a??!0,onChange:i,caller:Ng});return s.jsx(cn,{present:r||l,children:s.jsx(XK,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Gr(e.onPause),onResume:Gr(e.onResume),onSwipeStart:fe(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:fe(e.onSwipeMove,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:fe(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:fe(e.onSwipeEnd,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});M$.displayName=Ng;var[KK,YK]=E$(Ng,{onClose(){}}),XK=p.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:m,...x}=e,g=v0(Ng,r),[v,w]=p.useState(null),b=We(t,R=>w(R)),y=p.useRef(null),N=p.useRef(null),j=a||g.duration,S=p.useRef(0),_=p.useRef(j),k=p.useRef(0),{onToastAdd:E,onToastRemove:A}=g,C=Gr(()=>{var T;(v==null?void 0:v.contains(document.activeElement))&&((T=g.viewport)==null||T.focus()),o()}),O=p.useCallback(R=>{!R||R===1/0||(window.clearTimeout(k.current),S.current=new Date().getTime(),k.current=window.setTimeout(C,R))},[C]);p.useEffect(()=>{const R=g.viewport;if(R){const T=()=>{O(_.current),u==null||u()},L=()=>{const I=new Date().getTime()-S.current;_.current=_.current-I,window.clearTimeout(k.current),c==null||c()};return R.addEventListener(rS,L),R.addEventListener(nS,T),()=>{R.removeEventListener(rS,L),R.removeEventListener(nS,T)}}},[g.viewport,j,c,u,O]),p.useEffect(()=>{i&&!g.isClosePausedRef.current&&O(j)},[i,j,g.isClosePausedRef,O]),p.useEffect(()=>(E(),()=>A()),[E,A]);const $=p.useMemo(()=>v?B$(v):null,[v]);return g.viewport?s.jsxs(s.Fragment,{children:[$&&s.jsx(JK,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),s.jsx(KK,{scope:r,onClose:C,children:va.createPortal(s.jsx(qC.ItemSlot,{scope:r,children:s.jsx(PK,{asChild:!0,onEscapeKeyDown:fe(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||C(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Ne.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:fe(e.onKeyDown,R=>{R.key==="Escape"&&(l==null||l(R.nativeEvent),R.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,C()))}),onPointerDown:fe(e.onPointerDown,R=>{R.button===0&&(y.current={x:R.clientX,y:R.clientY})}),onPointerMove:fe(e.onPointerMove,R=>{if(!y.current)return;const T=R.clientX-y.current.x,L=R.clientY-y.current.y,I=!!N.current,P=["left","right"].includes(g.swipeDirection),M=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,F=P?M(0,T):0,B=P?0:M(0,L),q=R.pointerType==="touch"?10:2,J={x:F,y:B},W={originalEvent:R,delta:J};I?(N.current=J,Ox(VK,d,W,{discrete:!1})):iA(J,g.swipeDirection,q)?(N.current=J,Ox(qK,f,W,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(T)>q||Math.abs(L)>q)&&(y.current=null)}),onPointerUp:fe(e.onPointerUp,R=>{const T=N.current,L=R.target;if(L.hasPointerCapture(R.pointerId)&&L.releasePointerCapture(R.pointerId),N.current=null,y.current=null,T){const I=R.currentTarget,P={originalEvent:R,delta:T};iA(T,g.swipeDirection,g.swipeThreshold)?Ox(GK,m,P,{discrete:!0}):Ox(HK,h,P,{discrete:!0}),I.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),JK=e=>{const{__scopeToast:t,children:r,...n}=e,a=v0(Ng,t),[i,o]=p.useState(!1),[l,c]=p.useState(!1);return eY(()=>o(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(Yf,{asChild:!0,children:s.jsx(x0,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},QK="ToastTitle",R$=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ne.div,{...n,ref:t})});R$.displayName=QK;var ZK="ToastDescription",I$=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ne.div,{...n,ref:t})});I$.displayName=ZK;var D$="ToastAction",$$=p.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(F$,{altText:r,asChild:!0,children:s.jsx(VC,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${D$}\`. Expected non-empty \`string\`.`),null)});$$.displayName=D$;var L$="ToastClose",VC=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=YK(L$,r);return s.jsx(F$,{asChild:!0,children:s.jsx(Ne.button,{type:"button",...n,ref:t,onClick:fe(e.onClick,a.onClose)})})});VC.displayName=L$;var F$=p.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(Ne.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function B$(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),tY(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...B$(n))}}),t}function Ox(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?UC(a,i):a.dispatchEvent(i)}var iA=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function eY(e=()=>{}){const t=Gr(e);_n(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function tY(e){return e.nodeType===e.ELEMENT_NODE}function rY(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Hj(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var nY=P$,z$=A$,U$=M$,W$=R$,q$=I$,V$=$$,H$=VC;function G$(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=G$(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Xe(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=G$(e))&&(n&&(n+=" "),n+=t);return n}const oA=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,lA=Xe,Xf=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return lA(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const f=r==null?void 0:r[u],d=i==null?void 0:i[u];if(f===null)return null;const h=oA(f)||oA(d);return a[u][h]}),l=r&&Object.entries(r).reduce((u,f)=>{let[d,h]=f;return h===void 0||(u[d]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:d,className:h,...m}=f;return Object.entries(m).every(x=>{let[g,v]=x;return Array.isArray(v)?v.includes({...i,...l}[g]):{...i,...l}[g]===v})?[...u,d,h]:u},[]);return lA(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),K$=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...aY,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:K$("lucide",a),...l},[...o.map(([u,f])=>p.createElement(u,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=(e,t)=>{const r=p.forwardRef(({className:n,...a},i)=>p.createElement(iY,{ref:i,iconNode:t,className:K$(`lucide-${sY(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=ee("ALargeSmall",[["path",{d:"M21 14h-5",key:"1vh23k"}],["path",{d:"M16 16v-3.5a2.5 2.5 0 0 1 5 0V16",key:"1wh10o"}],["path",{d:"M4.5 13h6",key:"dfilno"}],["path",{d:"m3 16 4.5-9 4.5 9",key:"2dxa0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=ee("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=ee("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=ee("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=ee("Armchair",[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"1qyhux"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=ee("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=ee("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=ee("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=ee("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=ee("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=ee("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=ee("Beef",[["circle",{cx:"12.5",cy:"8.5",r:"2.5",key:"9738u8"}],["path",{d:"M12.5 2a6.5 6.5 0 0 0-6.22 4.6c-1.1 3.13-.78 3.9-3.18 6.08A3 3 0 0 0 5 18c4 0 8.4-1.8 11.4-4.3A6.5 6.5 0 0 0 12.5 2Z",key:"o0f6za"}],["path",{d:"m18.5 6 2.19 4.5a6.48 6.48 0 0 1 .31 2 6.49 6.49 0 0 1-2.6 5.2C15.4 20.2 11 22 7 22a3 3 0 0 1-2.68-1.66L2.4 16.5",key:"k7p6i0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=ee("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=ee("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=ee("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=ee("BookmarkCheck",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=ee("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=ee("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=ee("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=ee("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=ee("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=ee("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=ee("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=ee("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=ee("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=ee("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=ee("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=ee("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=ee("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=ee("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=ee("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=ee("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=ee("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=ee("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=ee("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=ee("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=ee("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=ee("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=ee("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=ee("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=ee("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=ee("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=ee("Flower2",[["path",{d:"M12 5a3 3 0 1 1 3 3m-3-3a3 3 0 1 0-3 3m3-3v1M9 8a3 3 0 1 0 3 3M9 8h1m5 0a3 3 0 1 1-3 3m3-3h-1m-2 3v-1",key:"3pnvol"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M12 10v12",key:"6ubwww"}],["path",{d:"M12 22c4.2 0 7-1.667 7-5-4.2 0-7 1.667-7 5Z",key:"9hd38g"}],["path",{d:"M12 22c-4.2 0-7-1.667-7-5 4.2 0 7 1.667 7 5Z",key:"ufn41s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=ee("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=ee("Gamepad",[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=ee("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=ee("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=ee("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=ee("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=ee("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=ee("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=ee("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=ee("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=ee("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=ee("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=ee("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=ee("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NY=ee("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=ee("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=ee("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=ee("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=ee("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=ee("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=ee("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=ee("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=ee("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=ee("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=ee("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=ee("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=ee("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=ee("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PY=ee("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=ee("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=ee("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=ee("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OY=ee("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=ee("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=ee("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=ee("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=ee("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=ee("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=ee("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=ee("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=ee("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=ee("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=ee("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=ee("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=ee("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=ee("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MY=ee("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RY=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=ee("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=ee("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=ee("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=ee("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=ee("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=ee("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Y=ee("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=ee("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=ee("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=ee("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=ee("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=ee("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=ee("Sunrise",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=ee("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LY=ee("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FY=ee("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=ee("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=ee("TreePalm",[["path",{d:"M13 8c0-2.76-2.46-5-5.5-5S2 5.24 2 8h2l1-1 1 1h4",key:"foxbe7"}],["path",{d:"M13 7.14A5.82 5.82 0 0 1 16.5 6c3.04 0 5.5 2.24 5.5 5h-3l-1-1-1 1h-3",key:"18arnh"}],["path",{d:"M5.89 9.71c-2.15 2.15-2.3 5.47-.35 7.43l4.24-4.25.7-.7.71-.71 2.12-2.12c-1.95-1.96-5.27-1.8-7.42.35",key:"ywahnh"}],["path",{d:"M11 15.5c.5 2.5-.17 4.5-1 6.5h4c2-5.5-.5-12-1-14",key:"ft0feo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=ee("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=ee("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=ee("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BY=ee("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=ee("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=ee("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UY=ee("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=ee("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=ee("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WY=ee("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=ee("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=ee("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qY=ee("Wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=ee("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=ee("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),rk="-",VY=e=>{const t=GY(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(rk);return l[0]===""&&l.length!==1&&l.shift(),fL(l,t)||HY(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},fL=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?fL(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(rk);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},jA=/^\[(.+)\]$/,HY=e=>{if(jA.test(e)){const t=jA.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},GY=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return YY(Object.entries(e.classGroups),r).forEach(([i,o])=>{fS(o,n,i,t)}),n},fS=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:NA(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(KY(a)){fS(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{fS(o,NA(t,i),r,n)})})},NA=(e,t)=>{let r=e;return t.split(rk).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},KY=e=>e.isThemeGetter,YY=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,XY=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},hL="!",JY=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,f=0,d;for(let v=0;v<l.length;v++){let w=l[v];if(u===0){if(w===a&&(n||l.slice(v,v+i)===t)){c.push(l.slice(f,v)),f=v+i;continue}if(w==="/"){d=v;continue}}w==="["?u++:w==="]"&&u--}const h=c.length===0?l:l.substring(f),m=h.startsWith(hL),x=m?h.substring(1):h,g=d&&d>f?d-f:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},QY=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},ZY=e=>({cache:XY(e.cacheSize),parseClassName:JY(e),...VY(e)}),eX=/\s+/,tX=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(eX);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:f,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let x=!!m,g=n(x?h.substring(0,m):h);if(!g){if(!x){l=u+(l.length>0?" "+l:l);continue}if(g=n(h),!g){l=u+(l.length>0?" "+l:l);continue}x=!1}const v=QY(f).join(":"),w=d?v+hL:v,b=w+g;if(i.includes(b))continue;i.push(b);const y=a(g,x);for(let N=0;N<y.length;++N){const j=y[N];i.push(w+j)}l=u+(l.length>0?" "+l:l)}return l};function rX(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=mL(t))&&(n&&(n+=" "),n+=r);return n}const mL=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=mL(e[n]))&&(r&&(r+=" "),r+=t);return r};function nX(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((f,d)=>d(f),e());return r=ZY(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const f=tX(c,r);return a(c,f),f}return function(){return i(rX.apply(null,arguments))}}const fr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},pL=/^\[(?:([a-z-]+):)?(.+)\]$/i,sX=/^\d+\/\d+$/,aX=new Set(["px","full","screen"]),iX=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oX=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lX=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cX=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uX=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Gi=e=>Cd(e)||aX.has(e)||sX.test(e),Lo=e=>Qf(e,"length",vX),Cd=e=>!!e&&!Number.isNaN(Number(e)),Kj=e=>Qf(e,"number",Cd),Bh=e=>!!e&&Number.isInteger(Number(e)),dX=e=>e.endsWith("%")&&Cd(e.slice(0,-1)),it=e=>pL.test(e),Fo=e=>iX.test(e),fX=new Set(["length","size","percentage"]),hX=e=>Qf(e,fX,gL),mX=e=>Qf(e,"position",gL),pX=new Set(["image","url"]),gX=e=>Qf(e,pX,bX),xX=e=>Qf(e,"",yX),zh=()=>!0,Qf=(e,t,r)=>{const n=pL.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},vX=e=>oX.test(e)&&!lX.test(e),gL=()=>!1,yX=e=>cX.test(e),bX=e=>uX.test(e),wX=()=>{const e=fr("colors"),t=fr("spacing"),r=fr("blur"),n=fr("brightness"),a=fr("borderColor"),i=fr("borderRadius"),o=fr("borderSpacing"),l=fr("borderWidth"),c=fr("contrast"),u=fr("grayscale"),f=fr("hueRotate"),d=fr("invert"),h=fr("gap"),m=fr("gradientColorStops"),x=fr("gradientColorStopPositions"),g=fr("inset"),v=fr("margin"),w=fr("opacity"),b=fr("padding"),y=fr("saturate"),N=fr("scale"),j=fr("sepia"),S=fr("skew"),_=fr("space"),k=fr("translate"),E=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto",it,t],O=()=>[it,t],$=()=>["",Gi,Lo],R=()=>["auto",Cd,it],T=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],I=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",it],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[Cd,it];return{cacheSize:500,separator:":",theme:{colors:[zh],spacing:[Gi,Lo],blur:["none","",Fo,it],brightness:B(),borderColor:[e],borderRadius:["none","","full",Fo,it],borderSpacing:O(),borderWidth:$(),contrast:B(),grayscale:M(),hueRotate:B(),invert:M(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[dX,Lo],inset:C(),margin:C(),opacity:B(),padding:O(),saturate:B(),scale:B(),sepia:M(),skew:B(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",it]}],container:["container"],columns:[{columns:[Fo]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...T(),it]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Bh,it]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",it]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",Bh,it]}],"grid-cols":[{"grid-cols":[zh]}],"col-start-end":[{col:["auto",{span:["full",Bh,it]},it]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[zh]}],"row-start-end":[{row:["auto",{span:[Bh,it]},it]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",it]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",it]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",it,t]}],"min-w":[{"min-w":[it,t,"min","max","fit"]}],"max-w":[{"max-w":[it,t,"none","full","min","max","fit","prose",{screen:[Fo]},Fo]}],h:[{h:[it,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[it,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[it,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[it,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Fo,Lo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Kj]}],"font-family":[{font:[zh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",it]}],"line-clamp":[{"line-clamp":["none",Cd,Kj]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Gi,it]}],"list-image":[{"list-image":["none",it]}],"list-style-type":[{list:["none","disc","decimal",it]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Gi,Lo]}],"underline-offset":[{"underline-offset":["auto",Gi,it]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",it]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",it]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...T(),mX]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hX]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gX]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:L()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[Gi,it]}],"outline-w":[{outline:[Gi,Lo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Gi,Lo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Fo,xX]}],"shadow-color":[{shadow:[zh]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...I(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":I()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Fo,it]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[y]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",it]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",it]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",it]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Bh,it]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",it]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",it]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",it]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Gi,Lo,Kj]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jX=nX(wX);function z(...e){return jX(Xe(e))}const NX=nY,xL=p.forwardRef(({className:e,...t},r)=>s.jsx(z$,{ref:r,className:z("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));xL.displayName=z$.displayName;const SX=Xf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),vL=p.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(U$,{ref:n,className:z(SX({variant:t}),e),...r}));vL.displayName=U$.displayName;const _X=p.forwardRef(({className:e,...t},r)=>s.jsx(V$,{ref:r,className:z("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));_X.displayName=V$.displayName;const yL=p.forwardRef(({className:e,...t},r)=>s.jsx(H$,{ref:r,className:z("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(kt,{className:"h-4 w-4"})}));yL.displayName=H$.displayName;const bL=p.forwardRef(({className:e,...t},r)=>s.jsx(W$,{ref:r,className:z("text-sm font-semibold",e),...t}));bL.displayName=W$.displayName;const wL=p.forwardRef(({className:e,...t},r)=>s.jsx(q$,{ref:r,className:z("text-sm opacity-90",e),...t}));wL.displayName=q$.displayName;function CX(){const{toasts:e}=mK();return s.jsxs(NX,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(vL,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(bL,{children:r}),n&&s.jsx(wL,{children:n})]}),a,s.jsx(yL,{})]},t)}),s.jsx(xL,{})]})}var py=["light","dark"],nk="(prefers-color-scheme: dark)",kX=typeof window>"u",sk=p.createContext(void 0),EX={setTheme:e=>{},themes:[]},jL=()=>{var e;return(e=p.useContext(sk))!=null?e:EX},PX=e=>p.useContext(sk)?e.children:p.createElement(AX,{...e}),OX=["light","dark"],AX=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:i=OX,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:f})=>{let[d,h]=p.useState(()=>SA(a,o)),[m,x]=p.useState(()=>SA(a)),g=c?Object.values(c):i,v=p.useCallback(N=>{let j=N;if(!j)return;N==="system"&&r&&(j=_A());let S=c?c[j]:j,_=t?MX():null,k=document.documentElement;if(l==="class"?(k.classList.remove(...g),S&&k.classList.add(S)):S?k.setAttribute(l,S):k.removeAttribute(l),n){let E=py.includes(o)?o:null,A=py.includes(j)?j:E;k.style.colorScheme=A}_==null||_()},[]),w=p.useCallback(N=>{let j=typeof N=="function"?N(N):N;h(j);try{localStorage.setItem(a,j)}catch{}},[e]),b=p.useCallback(N=>{let j=_A(N);x(j),d==="system"&&r&&!e&&v("system")},[d,e]);p.useEffect(()=>{let N=window.matchMedia(nk);return N.addListener(b),b(N),()=>N.removeListener(b)},[b]),p.useEffect(()=>{let N=j=>{if(j.key!==a)return;let S=j.newValue||o;w(S)};return window.addEventListener("storage",N),()=>window.removeEventListener("storage",N)},[w]),p.useEffect(()=>{v(e??d)},[e,d]);let y=p.useMemo(()=>({theme:d,setTheme:w,forcedTheme:e,resolvedTheme:d==="system"?m:d,themes:r?[...i,"system"]:i,systemTheme:r?m:void 0}),[d,w,e,m,r,i]);return p.createElement(sk.Provider,{value:y},p.createElement(TX,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:a,themes:i,defaultTheme:o,attribute:l,value:c,children:u,attrs:g,nonce:f}),u)},TX=p.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",f=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=a?py.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(x,g=!1,v=!0)=>{let w=o?o[x]:x,b=g?x+"|| ''":`'${w}'`,y="";return a&&v&&!g&&py.includes(x)&&(y+=`d.style.colorScheme = '${x}';`),r==="class"?g||w?y+=`c.add(${b})`:y+="null":w&&(y+=`d[s](n,${b})`),y},m=e?`!function(){${f}${h(e)}}()`:n?`!function(){try{${f}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${nk}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${d}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})}),SA=(e,t)=>{if(kX)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},MX=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},_A=e=>(e||(e=window.matchMedia(nk)),e.matches?"dark":"light"),RX=e=>{switch(e){case"success":return $X;case"info":return FX;case"warning":return LX;case"error":return BX;default:return null}},IX=Array(12).fill(0),DX=({visible:e,className:t})=>D.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},D.createElement("div",{className:"sonner-spinner"},IX.map((r,n)=>D.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),$X=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),LX=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),FX=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),BX=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),zX=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},D.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),D.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),UX=()=>{let[e,t]=D.useState(document.hidden);return D.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},hS=1,WX=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:hS++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],D.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(VX(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:f})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:f})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:f})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||hS++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ss=new WX,qX=(e,t)=>{let r=(t==null?void 0:t.id)||hS++;return Ss.addToast({title:e,...t,id:r}),r},VX=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",HX=qX,GX=()=>Ss.toasts,KX=()=>Ss.getActiveToasts(),V=Object.assign(HX,{success:Ss.success,info:Ss.info,warning:Ss.warning,error:Ss.error,custom:Ss.custom,message:Ss.message,promise:Ss.promise,dismiss:Ss.dismiss,loading:Ss.loading},{getHistory:GX,getToasts:KX});function YX(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}YX(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ax(e){return e.label!==void 0}var XX=3,JX="32px",QX="16px",CA=4e3,ZX=356,eJ=14,tJ=20,rJ=200;function Ra(...e){return e.filter(Boolean).join(" ")}function nJ(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var sJ=e=>{var t,r,n,a,i,o,l,c,u,f,d;let{invert:h,toast:m,unstyled:x,interacting:g,setHeights:v,visibleToasts:w,heights:b,index:y,toasts:N,expanded:j,removeToast:S,defaultRichColors:_,closeButton:k,style:E,cancelButtonStyle:A,actionButtonStyle:C,className:O="",descriptionClassName:$="",duration:R,position:T,gap:L,loadingIcon:I,expandByDefault:P,classNames:M,icons:F,closeButtonAriaLabel:B="Close toast",pauseWhenPageIsHidden:q}=e,[J,W]=D.useState(null),[ne,he]=D.useState(null),[ie,ce]=D.useState(!1),[re,se]=D.useState(!1),[me,te]=D.useState(!1),[Ee,je]=D.useState(!1),[Be,le]=D.useState(!1),[Me,rt]=D.useState(0),[He,xt]=D.useState(0),yt=D.useRef(m.duration||R||CA),qt=D.useRef(null),lt=D.useRef(null),vr=y===0,yr=y+1<=w,de=m.type,we=m.dismissible!==!1,Se=m.className||"",Vt=m.descriptionClassName||"",Tt=D.useMemo(()=>b.findIndex(Fe=>Fe.toastId===m.id)||0,[b,m.id]),bt=D.useMemo(()=>{var Fe;return(Fe=m.closeButton)!=null?Fe:k},[m.closeButton,k]),oe=D.useMemo(()=>m.duration||R||CA,[m.duration,R]),vt=D.useRef(0),st=D.useRef(0),qr=D.useRef(0),dn=D.useRef(null),[fn,In]=T.split("-"),Vn=D.useMemo(()=>b.reduce((Fe,ze,nt)=>nt>=Tt?Fe:Fe+ze.height,0),[b,Tt]),bs=UX(),Vi=m.invert||h,ur=de==="loading";st.current=D.useMemo(()=>Tt*L+Vn,[Tt,Vn]),D.useEffect(()=>{yt.current=oe},[oe]),D.useEffect(()=>{ce(!0)},[]),D.useEffect(()=>{let Fe=lt.current;if(Fe){let ze=Fe.getBoundingClientRect().height;return xt(ze),v(nt=>[{toastId:m.id,height:ze,position:m.position},...nt]),()=>v(nt=>nt.filter(er=>er.toastId!==m.id))}},[v,m.id]),D.useLayoutEffect(()=>{if(!ie)return;let Fe=lt.current,ze=Fe.style.height;Fe.style.height="auto";let nt=Fe.getBoundingClientRect().height;Fe.style.height=ze,xt(nt),v(er=>er.find(dr=>dr.toastId===m.id)?er.map(dr=>dr.toastId===m.id?{...dr,height:nt}:dr):[{toastId:m.id,height:nt,position:m.position},...er])},[ie,m.title,m.description,v,m.id]);let Zt=D.useCallback(()=>{se(!0),rt(st.current),v(Fe=>Fe.filter(ze=>ze.toastId!==m.id)),setTimeout(()=>{S(m)},rJ)},[m,S,v,st]);D.useEffect(()=>{if(m.promise&&de==="loading"||m.duration===1/0||m.type==="loading")return;let Fe;return j||g||q&&bs?(()=>{if(qr.current<vt.current){let ze=new Date().getTime()-vt.current;yt.current=yt.current-ze}qr.current=new Date().getTime()})():yt.current!==1/0&&(vt.current=new Date().getTime(),Fe=setTimeout(()=>{var ze;(ze=m.onAutoClose)==null||ze.call(m,m),Zt()},yt.current)),()=>clearTimeout(Fe)},[j,g,m,de,q,bs,Zt]),D.useEffect(()=>{m.delete&&Zt()},[Zt,m.delete]);function hn(){var Fe,ze,nt;return F!=null&&F.loading?D.createElement("div",{className:Ra(M==null?void 0:M.loader,(Fe=m==null?void 0:m.classNames)==null?void 0:Fe.loader,"sonner-loader"),"data-visible":de==="loading"},F.loading):I?D.createElement("div",{className:Ra(M==null?void 0:M.loader,(ze=m==null?void 0:m.classNames)==null?void 0:ze.loader,"sonner-loader"),"data-visible":de==="loading"},I):D.createElement(DX,{className:Ra(M==null?void 0:M.loader,(nt=m==null?void 0:m.classNames)==null?void 0:nt.loader),visible:de==="loading"})}return D.createElement("li",{tabIndex:0,ref:lt,className:Ra(O,Se,M==null?void 0:M.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,M==null?void 0:M.default,M==null?void 0:M[de],(r=m==null?void 0:m.classNames)==null?void 0:r[de]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:_,"data-styled":!(m.jsx||m.unstyled||x),"data-mounted":ie,"data-promise":!!m.promise,"data-swiped":Be,"data-removed":re,"data-visible":yr,"data-y-position":fn,"data-x-position":In,"data-index":y,"data-front":vr,"data-swiping":me,"data-dismissible":we,"data-type":de,"data-invert":Vi,"data-swipe-out":Ee,"data-swipe-direction":ne,"data-expanded":!!(j||P&&ie),style:{"--index":y,"--toasts-before":y,"--z-index":N.length-y,"--offset":`${re?Me:st.current}px`,"--initial-height":P?"auto":`${He}px`,...E,...m.style},onDragEnd:()=>{te(!1),W(null),dn.current=null},onPointerDown:Fe=>{ur||!we||(qt.current=new Date,rt(st.current),Fe.target.setPointerCapture(Fe.pointerId),Fe.target.tagName!=="BUTTON"&&(te(!0),dn.current={x:Fe.clientX,y:Fe.clientY}))},onPointerUp:()=>{var Fe,ze,nt,er;if(Ee||!we)return;dn.current=null;let dr=Number(((Fe=lt.current)==null?void 0:Fe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Mt=Number(((ze=lt.current)==null?void 0:ze.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),tn=new Date().getTime()-((nt=qt.current)==null?void 0:nt.getTime()),Z=J==="x"?dr:Mt,Ce=Math.abs(Z)/tn;if(Math.abs(Z)>=tJ||Ce>.11){rt(st.current),(er=m.onDismiss)==null||er.call(m,m),he(J==="x"?dr>0?"right":"left":Mt>0?"down":"up"),Zt(),je(!0),le(!1);return}te(!1),W(null)},onPointerMove:Fe=>{var ze,nt,er,dr;if(!dn.current||!we||((ze=window.getSelection())==null?void 0:ze.toString().length)>0)return;let Mt=Fe.clientY-dn.current.y,tn=Fe.clientX-dn.current.x,Z=(nt=e.swipeDirections)!=null?nt:nJ(T);!J&&(Math.abs(tn)>1||Math.abs(Mt)>1)&&W(Math.abs(tn)>Math.abs(Mt)?"x":"y");let Ce={x:0,y:0};J==="y"?(Z.includes("top")||Z.includes("bottom"))&&(Z.includes("top")&&Mt<0||Z.includes("bottom")&&Mt>0)&&(Ce.y=Mt):J==="x"&&(Z.includes("left")||Z.includes("right"))&&(Z.includes("left")&&tn<0||Z.includes("right")&&tn>0)&&(Ce.x=tn),(Math.abs(Ce.x)>0||Math.abs(Ce.y)>0)&&le(!0),(er=lt.current)==null||er.style.setProperty("--swipe-amount-x",`${Ce.x}px`),(dr=lt.current)==null||dr.style.setProperty("--swipe-amount-y",`${Ce.y}px`)}},bt&&!m.jsx?D.createElement("button",{"aria-label":B,"data-disabled":ur,"data-close-button":!0,onClick:ur||!we?()=>{}:()=>{var Fe;Zt(),(Fe=m.onDismiss)==null||Fe.call(m,m)},className:Ra(M==null?void 0:M.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},(i=F==null?void 0:F.close)!=null?i:zX):null,m.jsx||p.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:D.createElement(D.Fragment,null,de||m.icon||m.promise?D.createElement("div",{"data-icon":"",className:Ra(M==null?void 0:M.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||hn():null,m.type!=="loading"?m.icon||(F==null?void 0:F[de])||RX(de):null):null,D.createElement("div",{"data-content":"",className:Ra(M==null?void 0:M.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},D.createElement("div",{"data-title":"",className:Ra(M==null?void 0:M.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?D.createElement("div",{"data-description":"",className:Ra($,Vt,M==null?void 0:M.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),p.isValidElement(m.cancel)?m.cancel:m.cancel&&Ax(m.cancel)?D.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||A,onClick:Fe=>{var ze,nt;Ax(m.cancel)&&we&&((nt=(ze=m.cancel).onClick)==null||nt.call(ze,Fe),Zt())},className:Ra(M==null?void 0:M.cancelButton,(f=m==null?void 0:m.classNames)==null?void 0:f.cancelButton)},m.cancel.label):null,p.isValidElement(m.action)?m.action:m.action&&Ax(m.action)?D.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||C,onClick:Fe=>{var ze,nt;Ax(m.action)&&((nt=(ze=m.action).onClick)==null||nt.call(ze,Fe),!Fe.defaultPrevented&&Zt())},className:Ra(M==null?void 0:M.actionButton,(d=m==null?void 0:m.classNames)==null?void 0:d.actionButton)},m.action.label):null))};function kA(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function aJ(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?QX:JX;function c(u){["top","right","bottom","left"].forEach(f=>{r[`${o}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var iJ=p.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:f="light",richColors:d,duration:h,style:m,visibleToasts:x=XX,toastOptions:g,dir:v=kA(),gap:w=eJ,loadingIcon:b,icons:y,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:j}=e,[S,_]=D.useState([]),k=D.useMemo(()=>Array.from(new Set([n].concat(S.filter(q=>q.position).map(q=>q.position)))),[S,n]),[E,A]=D.useState([]),[C,O]=D.useState(!1),[$,R]=D.useState(!1),[T,L]=D.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),I=D.useRef(null),P=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=D.useRef(null),F=D.useRef(!1),B=D.useCallback(q=>{_(J=>{var W;return(W=J.find(ne=>ne.id===q.id))!=null&&W.delete||Ss.dismiss(q.id),J.filter(({id:ne})=>ne!==q.id)})},[]);return D.useEffect(()=>Ss.subscribe(q=>{if(q.dismiss){_(J=>J.map(W=>W.id===q.id?{...W,delete:!0}:W));return}setTimeout(()=>{y$.flushSync(()=>{_(J=>{let W=J.findIndex(ne=>ne.id===q.id);return W!==-1?[...J.slice(0,W),{...J[W],...q},...J.slice(W+1)]:[q,...J]})})})}),[]),D.useEffect(()=>{if(f!=="system"){L(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;let q=window.matchMedia("(prefers-color-scheme: dark)");try{q.addEventListener("change",({matches:J})=>{L(J?"dark":"light")})}catch{q.addListener(({matches:W})=>{try{L(W?"dark":"light")}catch(ne){console.error(ne)}})}},[f]),D.useEffect(()=>{S.length<=1&&O(!1)},[S]),D.useEffect(()=>{let q=J=>{var W,ne;a.every(he=>J[he]||J.code===he)&&(O(!0),(W=I.current)==null||W.focus()),J.code==="Escape"&&(document.activeElement===I.current||(ne=I.current)!=null&&ne.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[a]),D.useEffect(()=>{if(I.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,F.current=!1)}},[I.current]),D.createElement("section",{ref:t,"aria-label":`${N} ${P}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((q,J)=>{var W;let[ne,he]=q.split("-");return S.length?D.createElement("ol",{key:q,dir:v==="auto"?kA():v,tabIndex:-1,ref:I,className:l,"data-sonner-toaster":!0,"data-theme":T,"data-y-position":ne,"data-lifted":C&&S.length>1&&!i,"data-x-position":he,style:{"--front-toast-height":`${((W=E[0])==null?void 0:W.height)||0}px`,"--width":`${ZX}px`,"--gap":`${w}px`,...m,...aJ(c,u)},onBlur:ie=>{F.current&&!ie.currentTarget.contains(ie.relatedTarget)&&(F.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||F.current||(F.current=!0,M.current=ie.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{$||O(!1)},onDragEnd:()=>O(!1),onPointerDown:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},S.filter(ie=>!ie.position&&J===0||ie.position===q).map((ie,ce)=>{var re,se;return D.createElement(sJ,{key:ie.id,icons:y,index:ce,toast:ie,defaultRichColors:d,duration:(re=g==null?void 0:g.duration)!=null?re:h,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:x,closeButton:(se=g==null?void 0:g.closeButton)!=null?se:o,interacting:$,position:q,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:B,toasts:S.filter(me=>me.position==ie.position),heights:E.filter(me=>me.position==ie.position),setHeights:A,expandByDefault:i,gap:w,loadingIcon:b,expanded:C,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))});const oJ=({...e})=>{const{theme:t="system"}=jL();return s.jsx(iJ,{theme:t,className:"toaster group",position:"top-center",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var lJ=J2[" useId ".trim().toString()]||(()=>{}),cJ=0;function Ys(e){const[t,r]=p.useState(lJ());return _n(()=>{r(n=>n??String(cJ++))},[e]),t?`radix-${t}`:""}const uJ=["top","right","bottom","left"],Ll=Math.min,Bs=Math.max,gy=Math.round,Tx=Math.floor,Ai=e=>({x:e,y:e}),dJ={left:"right",right:"left",bottom:"top",top:"bottom"},fJ={start:"end",end:"start"};function mS(e,t,r){return Bs(e,Ll(t,r))}function bo(e,t){return typeof e=="function"?e(t):e}function wo(e){return e.split("-")[0]}function Zf(e){return e.split("-")[1]}function ak(e){return e==="x"?"y":"x"}function ik(e){return e==="y"?"height":"width"}const hJ=new Set(["top","bottom"]);function Si(e){return hJ.has(wo(e))?"y":"x"}function ok(e){return ak(Si(e))}function mJ(e,t,r){r===void 0&&(r=!1);const n=Zf(e),a=ok(e),i=ik(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=xy(o)),[o,xy(o)]}function pJ(e){const t=xy(e);return[pS(e),t,pS(t)]}function pS(e){return e.replace(/start|end/g,t=>fJ[t])}const EA=["left","right"],PA=["right","left"],gJ=["top","bottom"],xJ=["bottom","top"];function vJ(e,t,r){switch(e){case"top":case"bottom":return r?t?PA:EA:t?EA:PA;case"left":case"right":return t?gJ:xJ;default:return[]}}function yJ(e,t,r,n){const a=Zf(e);let i=vJ(wo(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(pS)))),i}function xy(e){return e.replace(/left|right|bottom|top/g,t=>dJ[t])}function bJ(e){return{top:0,right:0,bottom:0,left:0,...e}}function NL(e){return typeof e!="number"?bJ(e):{top:e,right:e,bottom:e,left:e}}function vy(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function OA(e,t,r){let{reference:n,floating:a}=e;const i=Si(t),o=ok(t),l=ik(o),c=wo(t),u=i==="y",f=n.x+n.width/2-a.width/2,d=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:f,y:n.y-a.height};break;case"bottom":m={x:f,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:d};break;case"left":m={x:n.x-a.width,y:d};break;default:m={x:n.x,y:n.y}}switch(Zf(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const wJ=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:f,y:d}=OA(u,n,c),h=n,m={},x=0;for(let g=0;g<l.length;g++){const{name:v,fn:w}=l[g],{x:b,y,data:N,reset:j}=await w({x:f,y:d,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});f=b??f,d=y??d,m={...m,[v]:{...m[v],...N}},j&&x<=50&&(x++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):j.rects),{x:f,y:d}=OA(u,h,c)),g=-1)}return{x:f,y:d,placement:h,strategy:a,middlewareData:m}};async function lp(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:h=!1,padding:m=0}=bo(t,e),x=NL(m),v=l[h?d==="floating"?"reference":"floating":d],w=vy(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),b=d==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},j=vy(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:y,strategy:c}):b);return{top:(w.top-j.top+x.top)/N.y,bottom:(j.bottom-w.bottom+x.bottom)/N.y,left:(w.left-j.left+x.left)/N.x,right:(j.right-w.right+x.right)/N.x}}const jJ=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=bo(e,t)||{};if(u==null)return{};const d=NL(f),h={x:r,y:n},m=ok(a),x=ik(m),g=await o.getDimensions(u),v=m==="y",w=v?"top":"left",b=v?"bottom":"right",y=v?"clientHeight":"clientWidth",N=i.reference[x]+i.reference[m]-h[m]-i.floating[x],j=h[m]-i.reference[m],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let _=S?S[y]:0;(!_||!await(o.isElement==null?void 0:o.isElement(S)))&&(_=l.floating[y]||i.floating[x]);const k=N/2-j/2,E=_/2-g[x]/2-1,A=Ll(d[w],E),C=Ll(d[b],E),O=A,$=_-g[x]-C,R=_/2-g[x]/2+k,T=mS(O,R,$),L=!c.arrow&&Zf(a)!=null&&R!==T&&i.reference[x]/2-(R<O?A:C)-g[x]/2<0,I=L?R<O?R-O:R-$:0;return{[m]:h[m]+I,data:{[m]:T,centerOffset:R-T-I,...L&&{alignmentOffset:I}},reset:L}}}),NJ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...v}=bo(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const w=wo(a),b=Si(l),y=wo(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(y||!g?[xy(l)]:pJ(l)),S=x!=="none";!h&&S&&j.push(...yJ(l,g,x,N));const _=[l,...j],k=await lp(t,v),E=[];let A=((n=i.flip)==null?void 0:n.overflows)||[];if(f&&E.push(k[w]),d){const R=mJ(a,o,N);E.push(k[R[0]],k[R[1]])}if(A=[...A,{placement:a,overflows:E}],!E.every(R=>R<=0)){var C,O;const R=(((C=i.flip)==null?void 0:C.index)||0)+1,T=_[R];if(T&&(!(d==="alignment"?b!==Si(T):!1)||A.every(P=>P.overflows[0]>0&&Si(P.placement)===b)))return{data:{index:R,overflows:A},reset:{placement:T}};let L=(O=A.filter(I=>I.overflows[0]<=0).sort((I,P)=>I.overflows[1]-P.overflows[1])[0])==null?void 0:O.placement;if(!L)switch(m){case"bestFit":{var $;const I=($=A.filter(P=>{if(S){const M=Si(P.placement);return M===b||M==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(M=>M>0).reduce((M,F)=>M+F,0)]).sort((P,M)=>P[1]-M[1])[0])==null?void 0:$[0];I&&(L=I);break}case"initialPlacement":L=l;break}if(a!==L)return{reset:{placement:L}}}return{}}}};function AA(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function TA(e){return uJ.some(t=>e[t]>=0)}const SJ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=bo(e,t);switch(n){case"referenceHidden":{const i=await lp(t,{...a,elementContext:"reference"}),o=AA(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:TA(o)}}}case"escaped":{const i=await lp(t,{...a,altBoundary:!0}),o=AA(i,r.floating);return{data:{escapedOffsets:o,escaped:TA(o)}}}default:return{}}}}},SL=new Set(["left","top"]);async function _J(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=wo(r),l=Zf(r),c=Si(r)==="y",u=SL.has(o)?-1:1,f=i&&c?-1:1,d=bo(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:x}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof x=="number"&&(m=l==="end"?x*-1:x),c?{x:m*f,y:h*u}:{x:h*u,y:m*f}}const CJ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await _J(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},kJ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:w,y:b}=v;return{x:w,y:b}}},...c}=bo(e,t),u={x:r,y:n},f=await lp(t,c),d=Si(wo(a)),h=ak(d);let m=u[h],x=u[d];if(i){const v=h==="y"?"top":"left",w=h==="y"?"bottom":"right",b=m+f[v],y=m-f[w];m=mS(b,m,y)}if(o){const v=d==="y"?"top":"left",w=d==="y"?"bottom":"right",b=x+f[v],y=x-f[w];x=mS(b,x,y)}const g=l.fn({...t,[h]:m,[d]:x});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:i,[d]:o}}}}}},EJ=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=bo(e,t),f={x:r,y:n},d=Si(a),h=ak(d);let m=f[h],x=f[d];const g=bo(l,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const y=h==="y"?"height":"width",N=i.reference[h]-i.floating[y]+v.mainAxis,j=i.reference[h]+i.reference[y]-v.mainAxis;m<N?m=N:m>j&&(m=j)}if(u){var w,b;const y=h==="y"?"width":"height",N=SL.has(wo(a)),j=i.reference[d]-i.floating[y]+(N&&((w=o.offset)==null?void 0:w[d])||0)+(N?0:v.crossAxis),S=i.reference[d]+i.reference[y]+(N?0:((b=o.offset)==null?void 0:b[d])||0)-(N?v.crossAxis:0);x<j?x=j:x>S&&(x=S)}return{[h]:m,[d]:x}}}},PJ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=bo(e,t),f=await lp(t,u),d=wo(a),h=Zf(a),m=Si(a)==="y",{width:x,height:g}=i.floating;let v,w;d==="top"||d==="bottom"?(v=d,w=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(w=d,v=h==="end"?"top":"bottom");const b=g-f.top-f.bottom,y=x-f.left-f.right,N=Ll(g-f[v],b),j=Ll(x-f[w],y),S=!t.middlewareData.shift;let _=N,k=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=y),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(_=b),S&&!h){const A=Bs(f.left,0),C=Bs(f.right,0),O=Bs(f.top,0),$=Bs(f.bottom,0);m?k=x-2*(A!==0||C!==0?A+C:Bs(f.left,f.right)):_=g-2*(O!==0||$!==0?O+$:Bs(f.top,f.bottom))}await c({...t,availableWidth:k,availableHeight:_});const E=await o.getDimensions(l.floating);return x!==E.width||g!==E.height?{reset:{rects:!0}}:{}}}};function N0(){return typeof window<"u"}function eh(e){return _L(e)?(e.nodeName||"").toLowerCase():"#document"}function Xs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Fi(e){var t;return(t=(_L(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function _L(e){return N0()?e instanceof Node||e instanceof Xs(e).Node:!1}function ri(e){return N0()?e instanceof Element||e instanceof Xs(e).Element:!1}function Ii(e){return N0()?e instanceof HTMLElement||e instanceof Xs(e).HTMLElement:!1}function MA(e){return!N0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Xs(e).ShadowRoot}const OJ=new Set(["inline","contents"]);function kg(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=ni(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!OJ.has(a)}const AJ=new Set(["table","td","th"]);function TJ(e){return AJ.has(eh(e))}const MJ=[":popover-open",":modal"];function S0(e){return MJ.some(t=>{try{return e.matches(t)}catch{return!1}})}const RJ=["transform","translate","scale","rotate","perspective"],IJ=["transform","translate","scale","rotate","perspective","filter"],DJ=["paint","layout","strict","content"];function lk(e){const t=ck(),r=ri(e)?ni(e):e;return RJ.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||IJ.some(n=>(r.willChange||"").includes(n))||DJ.some(n=>(r.contain||"").includes(n))}function $J(e){let t=Fl(e);for(;Ii(t)&&!nf(t);){if(lk(t))return t;if(S0(t))return null;t=Fl(t)}return null}function ck(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const LJ=new Set(["html","body","#document"]);function nf(e){return LJ.has(eh(e))}function ni(e){return Xs(e).getComputedStyle(e)}function _0(e){return ri(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Fl(e){if(eh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||MA(e)&&e.host||Fi(e);return MA(t)?t.host:t}function CL(e){const t=Fl(e);return nf(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ii(t)&&kg(t)?t:CL(t)}function cp(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=CL(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Xs(a);if(i){const l=gS(o);return t.concat(o,o.visualViewport||[],kg(a)?a:[],l&&r?cp(l):[])}return t.concat(a,cp(a,[],r))}function gS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function kL(e){const t=ni(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Ii(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=gy(r)!==i||gy(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function uk(e){return ri(e)?e:e.contextElement}function kd(e){const t=uk(e);if(!Ii(t))return Ai(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=kL(t);let o=(i?gy(r.width):r.width)/n,l=(i?gy(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const FJ=Ai(0);function EL(e){const t=Xs(e);return!ck()||!t.visualViewport?FJ:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function BJ(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Xs(e)?!1:t}function uu(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=uk(e);let o=Ai(1);t&&(n?ri(n)&&(o=kd(n)):o=kd(e));const l=BJ(i,r,n)?EL(i):Ai(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,f=a.width/o.x,d=a.height/o.y;if(i){const h=Xs(i),m=n&&ri(n)?Xs(n):n;let x=h,g=gS(x);for(;g&&n&&m!==x;){const v=kd(g),w=g.getBoundingClientRect(),b=ni(g),y=w.left+(g.clientLeft+parseFloat(b.paddingLeft))*v.x,N=w.top+(g.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,u*=v.y,f*=v.x,d*=v.y,c+=y,u+=N,x=Xs(g),g=gS(x)}}return vy({width:f,height:d,x:c,y:u})}function dk(e,t){const r=_0(e).scrollLeft;return t?t.left+r:uu(Fi(e)).left+r}function PL(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:dk(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function zJ(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Fi(n),l=t?S0(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Ai(1);const f=Ai(0),d=Ii(n);if((d||!d&&!i)&&((eh(n)!=="body"||kg(o))&&(c=_0(n)),Ii(n))){const m=uu(n);u=kd(n),f.x=m.x+n.clientLeft,f.y=m.y+n.clientTop}const h=o&&!d&&!i?PL(o,c,!0):Ai(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x+h.x,y:r.y*u.y-c.scrollTop*u.y+f.y+h.y}}function UJ(e){return Array.from(e.getClientRects())}function WJ(e){const t=Fi(e),r=_0(e),n=e.ownerDocument.body,a=Bs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Bs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+dk(e);const l=-r.scrollTop;return ni(n).direction==="rtl"&&(o+=Bs(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function qJ(e,t){const r=Xs(e),n=Fi(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=ck();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const VJ=new Set(["absolute","fixed"]);function HJ(e,t){const r=uu(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Ii(e)?kd(e):Ai(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function RA(e,t,r){let n;if(t==="viewport")n=qJ(e,r);else if(t==="document")n=WJ(Fi(e));else if(ri(t))n=HJ(t,r);else{const a=EL(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return vy(n)}function OL(e,t){const r=Fl(e);return r===t||!ri(r)||nf(r)?!1:ni(r).position==="fixed"||OL(r,t)}function GJ(e,t){const r=t.get(e);if(r)return r;let n=cp(e,[],!1).filter(l=>ri(l)&&eh(l)!=="body"),a=null;const i=ni(e).position==="fixed";let o=i?Fl(e):e;for(;ri(o)&&!nf(o);){const l=ni(o),c=lk(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&VJ.has(a.position)||kg(o)&&!c&&OL(e,o))?n=n.filter(f=>f!==o):a=l,o=Fl(o)}return t.set(e,n),n}function KJ(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?S0(t)?[]:GJ(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,f)=>{const d=RA(t,f,a);return u.top=Bs(d.top,u.top),u.right=Ll(d.right,u.right),u.bottom=Ll(d.bottom,u.bottom),u.left=Bs(d.left,u.left),u},RA(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function YJ(e){const{width:t,height:r}=kL(e);return{width:t,height:r}}function XJ(e,t,r){const n=Ii(t),a=Fi(t),i=r==="fixed",o=uu(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ai(0);function u(){c.x=dk(a)}if(n||!n&&!i)if((eh(t)!=="body"||kg(a))&&(l=_0(t)),n){const m=uu(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();i&&!n&&a&&u();const f=a&&!n&&!i?PL(a,l):Ai(0),d=o.left+l.scrollLeft-c.x-f.x,h=o.top+l.scrollTop-c.y-f.y;return{x:d,y:h,width:o.width,height:o.height}}function Yj(e){return ni(e).position==="static"}function IA(e,t){if(!Ii(e)||ni(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Fi(e)===r&&(r=r.ownerDocument.body),r}function AL(e,t){const r=Xs(e);if(S0(e))return r;if(!Ii(e)){let a=Fl(e);for(;a&&!nf(a);){if(ri(a)&&!Yj(a))return a;a=Fl(a)}return r}let n=IA(e,t);for(;n&&TJ(n)&&Yj(n);)n=IA(n,t);return n&&nf(n)&&Yj(n)&&!lk(n)?r:n||$J(e)||r}const JJ=async function(e){const t=this.getOffsetParent||AL,r=this.getDimensions,n=await r(e.floating);return{reference:XJ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function QJ(e){return ni(e).direction==="rtl"}const ZJ={convertOffsetParentRelativeRectToViewportRelativeRect:zJ,getDocumentElement:Fi,getClippingRect:KJ,getOffsetParent:AL,getElementRects:JJ,getClientRects:UJ,getDimensions:YJ,getScale:kd,isElement:ri,isRTL:QJ};function TL(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function eQ(e,t){let r=null,n;const a=Fi(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:f,top:d,width:h,height:m}=u;if(l||t(),!h||!m)return;const x=Tx(d),g=Tx(a.clientWidth-(f+h)),v=Tx(a.clientHeight-(d+m)),w=Tx(f),y={rootMargin:-x+"px "+-g+"px "+-v+"px "+-w+"px",threshold:Bs(0,Ll(1,c))||1};let N=!0;function j(S){const _=S[0].intersectionRatio;if(_!==c){if(!N)return o();_?o(!1,_):n=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!TL(u,e.getBoundingClientRect())&&o(),N=!1}try{r=new IntersectionObserver(j,{...y,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,y)}r.observe(e)}return o(!0),i}function tQ(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=uk(e),f=a||i?[...u?cp(u):[],...cp(t)]:[];f.forEach(w=>{a&&w.addEventListener("scroll",r,{passive:!0}),i&&w.addEventListener("resize",r)});const d=u&&l?eQ(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(w=>{let[b]=w;b&&b.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=m)==null||y.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let x,g=c?uu(e):null;c&&v();function v(){const w=uu(e);g&&!TL(g,w)&&r(),g=w,x=requestAnimationFrame(v)}return r(),()=>{var w;f.forEach(b=>{a&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),d==null||d(),(w=m)==null||w.disconnect(),m=null,c&&cancelAnimationFrame(x)}}const rQ=CJ,nQ=kJ,sQ=NJ,aQ=PJ,iQ=SJ,DA=jJ,oQ=EJ,lQ=(e,t,r)=>{const n=new Map,a={platform:ZJ,...r},i={...a.platform,_c:n};return wJ(e,t,{...a,platform:i})};var cQ=typeof document<"u",uQ=function(){},Ov=cQ?p.useLayoutEffect:uQ;function yy(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!yy(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!yy(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function ML(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function $A(e,t){const r=ML(e);return Math.round(t*r)/r}function Xj(e){const t=p.useRef(e);return Ov(()=>{t.current=e}),t}function dQ(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,d]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=p.useState(n);yy(h,n)||m(n);const[x,g]=p.useState(null),[v,w]=p.useState(null),b=p.useCallback(P=>{P!==S.current&&(S.current=P,g(P))},[]),y=p.useCallback(P=>{P!==_.current&&(_.current=P,w(P))},[]),N=i||x,j=o||v,S=p.useRef(null),_=p.useRef(null),k=p.useRef(f),E=c!=null,A=Xj(c),C=Xj(a),O=Xj(u),$=p.useCallback(()=>{if(!S.current||!_.current)return;const P={placement:t,strategy:r,middleware:h};C.current&&(P.platform=C.current),lQ(S.current,_.current,P).then(M=>{const F={...M,isPositioned:O.current!==!1};R.current&&!yy(k.current,F)&&(k.current=F,va.flushSync(()=>{d(F)}))})},[h,t,r,C,O]);Ov(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,d(P=>({...P,isPositioned:!1})))},[u]);const R=p.useRef(!1);Ov(()=>(R.current=!0,()=>{R.current=!1}),[]),Ov(()=>{if(N&&(S.current=N),j&&(_.current=j),N&&j){if(A.current)return A.current(N,j,$);$()}},[N,j,$,A,E]);const T=p.useMemo(()=>({reference:S,floating:_,setReference:b,setFloating:y}),[b,y]),L=p.useMemo(()=>({reference:N,floating:j}),[N,j]),I=p.useMemo(()=>{const P={position:r,left:0,top:0};if(!L.floating)return P;const M=$A(L.floating,f.x),F=$A(L.floating,f.y);return l?{...P,transform:"translate("+M+"px, "+F+"px)",...ML(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:F}},[r,l,L.floating,f.x,f.y]);return p.useMemo(()=>({...f,update:$,refs:T,elements:L,floatingStyles:I}),[f,$,T,L,I])}const fQ=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?DA({element:n.current,padding:a}).fn(r):{}:n?DA({element:n,padding:a}).fn(r):{}}}},hQ=(e,t)=>({...rQ(e),options:[e,t]}),mQ=(e,t)=>({...nQ(e),options:[e,t]}),pQ=(e,t)=>({...oQ(e),options:[e,t]}),gQ=(e,t)=>({...sQ(e),options:[e,t]}),xQ=(e,t)=>({...aQ(e),options:[e,t]}),vQ=(e,t)=>({...iQ(e),options:[e,t]}),yQ=(e,t)=>({...fQ(e),options:[e,t]});var bQ="Arrow",RL=p.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(Ne.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});RL.displayName=bQ;var wQ=RL;function Eg(e){const[t,r]=p.useState(void 0);return _n(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var fk="Popper",[IL,Gl]=en(fk),[jQ,DL]=IL(fk),$L=e=>{const{__scopePopper:t,children:r}=e,[n,a]=p.useState(null);return s.jsx(jQ,{scope:t,anchor:n,onAnchorChange:a,children:r})};$L.displayName=fk;var LL="PopperAnchor",FL=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=DL(LL,r),o=p.useRef(null),l=We(t,o);return p.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(Ne.div,{...a,ref:l})});FL.displayName=LL;var hk="PopperContent",[NQ,SQ]=IL(hk),BL=p.forwardRef((e,t)=>{var ie,ce,re,se,me,te;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:x,...g}=e,v=DL(hk,r),[w,b]=p.useState(null),y=We(t,Ee=>b(Ee)),[N,j]=p.useState(null),S=Eg(N),_=(S==null?void 0:S.width)??0,k=(S==null?void 0:S.height)??0,E=n+(i!=="center"?"-"+i:""),A=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},C=Array.isArray(u)?u:[u],O=C.length>0,$={padding:A,boundary:C.filter(CQ),altBoundary:O},{refs:R,floatingStyles:T,placement:L,isPositioned:I,middlewareData:P}=dQ({strategy:"fixed",placement:E,whileElementsMounted:(...Ee)=>tQ(...Ee,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[hQ({mainAxis:a+k,alignmentAxis:o}),c&&mQ({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?pQ():void 0,...$}),c&&gQ({...$}),xQ({...$,apply:({elements:Ee,rects:je,availableWidth:Be,availableHeight:le})=>{const{width:Me,height:rt}=je.reference,He=Ee.floating.style;He.setProperty("--radix-popper-available-width",`${Be}px`),He.setProperty("--radix-popper-available-height",`${le}px`),He.setProperty("--radix-popper-anchor-width",`${Me}px`),He.setProperty("--radix-popper-anchor-height",`${rt}px`)}}),N&&yQ({element:N,padding:l}),kQ({arrowWidth:_,arrowHeight:k}),h&&vQ({strategy:"referenceHidden",...$})]}),[M,F]=WL(L),B=Gr(x);_n(()=>{I&&(B==null||B())},[I,B]);const q=(ie=P.arrow)==null?void 0:ie.x,J=(ce=P.arrow)==null?void 0:ce.y,W=((re=P.arrow)==null?void 0:re.centerOffset)!==0,[ne,he]=p.useState();return _n(()=>{w&&he(window.getComputedStyle(w).zIndex)},[w]),s.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...T,transform:I?T.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[(se=P.transformOrigin)==null?void 0:se.x,(me=P.transformOrigin)==null?void 0:me.y].join(" "),...((te=P.hide)==null?void 0:te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(NQ,{scope:r,placedSide:M,onArrowChange:j,arrowX:q,arrowY:J,shouldHideArrow:W,children:s.jsx(Ne.div,{"data-side":M,"data-align":F,...g,ref:y,style:{...g.style,animation:I?void 0:"none"}})})})});BL.displayName=hk;var zL="PopperArrow",_Q={top:"bottom",right:"left",bottom:"top",left:"right"},UL=p.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=SQ(zL,n),o=_Q[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(wQ,{...a,ref:r,style:{...a.style,display:"block"}})})});UL.displayName=zL;function CQ(e){return e!==null}var kQ=e=>({name:"transformOrigin",options:e,fn(t){var v,w,b;const{placement:r,rects:n,middlewareData:a}=t,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,f]=WL(r),d={start:"0%",center:"50%",end:"100%"}[f],h=(((w=a.arrow)==null?void 0:w.x)??0)+l/2,m=(((b=a.arrow)==null?void 0:b.y)??0)+c/2;let x="",g="";return u==="bottom"?(x=o?d:`${h}px`,g=`${-c}px`):u==="top"?(x=o?d:`${h}px`,g=`${n.floating.height+c}px`):u==="right"?(x=`${-c}px`,g=o?d:`${m}px`):u==="left"&&(x=`${n.floating.width+c}px`,g=o?d:`${m}px`),{data:{x,y:g}}}});function WL(e){const[t,r="center"]=e.split("-");return[t,r]}var C0=$L,Pg=FL,k0=BL,E0=UL,[P0]=en("Tooltip",[Gl]),O0=Gl(),qL="TooltipProvider",EQ=700,xS="tooltip.open",[PQ,mk]=P0(qL),VL=e=>{const{__scopeTooltip:t,delayDuration:r=EQ,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(PQ,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};VL.displayName=qL;var up="Tooltip",[OQ,A0]=P0(up),HL=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=mk(up,e.__scopeTooltip),u=O0(t),[f,d]=p.useState(null),h=Ys(),m=p.useRef(0),x=o??c.disableHoverableContent,g=l??c.delayDuration,v=p.useRef(!1),[w,b]=Wn({prop:n,defaultProp:a??!1,onChange:_=>{_?(c.onOpen(),document.dispatchEvent(new CustomEvent(xS))):c.onClose(),i==null||i(_)},caller:up}),y=p.useMemo(()=>w?v.current?"delayed-open":"instant-open":"closed",[w]),N=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v.current=!1,b(!0)},[b]),j=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b(!1)},[b]),S=p.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{v.current=!0,b(!0),m.current=0},g)},[g,b]);return p.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),s.jsx(C0,{...u,children:s.jsx(OQ,{scope:t,contentId:h,open:w,stateAttribute:y,trigger:f,onTriggerChange:d,onTriggerEnter:p.useCallback(()=>{c.isOpenDelayedRef.current?S():N()},[c.isOpenDelayedRef,S,N]),onTriggerLeave:p.useCallback(()=>{x?j():(window.clearTimeout(m.current),m.current=0)},[j,x]),onOpen:N,onClose:j,disableHoverableContent:x,children:r})})};HL.displayName=up;var vS="TooltipTrigger",GL=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=A0(vS,r),i=mk(vS,r),o=O0(r),l=p.useRef(null),c=We(t,l,a.onTriggerChange),u=p.useRef(!1),f=p.useRef(!1),d=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),s.jsx(Pg,{asChild:!0,...o,children:s.jsx(Ne.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:fe(e.onPointerMove,h=>{h.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),f.current=!0)}),onPointerLeave:fe(e.onPointerLeave,()=>{a.onTriggerLeave(),f.current=!1}),onPointerDown:fe(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:fe(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:fe(e.onBlur,a.onClose),onClick:fe(e.onClick,a.onClose)})})});GL.displayName=vS;var AQ="TooltipPortal",[L8e,TQ]=P0(AQ,{forceMount:void 0}),sf="TooltipContent",KL=p.forwardRef((e,t)=>{const r=TQ(sf,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=A0(sf,e.__scopeTooltip);return s.jsx(cn,{present:n||o.open,children:o.disableHoverableContent?s.jsx(YL,{side:a,...i,ref:t}):s.jsx(MQ,{side:a,...i,ref:t})})}),MQ=p.forwardRef((e,t)=>{const r=A0(sf,e.__scopeTooltip),n=mk(sf,e.__scopeTooltip),a=p.useRef(null),i=We(t,a),[o,l]=p.useState(null),{trigger:c,onClose:u}=r,f=a.current,{onPointerInTransitChange:d}=n,h=p.useCallback(()=>{l(null),d(!1)},[d]),m=p.useCallback((x,g)=>{const v=x.currentTarget,w={x:x.clientX,y:x.clientY},b=LQ(w,v.getBoundingClientRect()),y=FQ(w,b),N=BQ(g.getBoundingClientRect()),j=UQ([...y,...N]);l(j),d(!0)},[d]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(c&&f){const x=v=>m(v,f),g=v=>m(v,c);return c.addEventListener("pointerleave",x),f.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",x),f.removeEventListener("pointerleave",g)}}},[c,f,m,h]),p.useEffect(()=>{if(o){const x=g=>{const v=g.target,w={x:g.clientX,y:g.clientY},b=(c==null?void 0:c.contains(v))||(f==null?void 0:f.contains(v)),y=!zQ(w,o);b?h():y&&(h(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,f,o,u,h]),s.jsx(YL,{...e,ref:i})}),[RQ,IQ]=P0(up,{isInside:!1}),DQ=N$("TooltipContent"),YL=p.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=A0(sf,r),u=O0(r),{onClose:f}=c;return p.useEffect(()=>(document.addEventListener(xS,f),()=>document.removeEventListener(xS,f)),[f]),p.useEffect(()=>{if(c.trigger){const d=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&f()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,f]),s.jsx(ku,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:f,children:s.jsxs(k0,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(DQ,{children:n}),s.jsx(RQ,{scope:r,isInside:!0,children:s.jsx(FK,{id:c.contentId,role:"tooltip",children:a||n})})]})})});KL.displayName=sf;var XL="TooltipArrow",$Q=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=O0(r);return IQ(XL,r).isInside?null:s.jsx(E0,{...a,...n,ref:t})});$Q.displayName=XL;function LQ(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function FQ(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function BQ(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function zQ(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,f=l.y,d=c.x,h=c.y;f>n!=h>n&&r<(d-u)*(n-f)/(h-f)+u&&(a=!a)}return a}function UQ(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),WQ(t)}function WQ(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var qQ=VL,VQ=HL,HQ=GL,JL=KL;const GQ=qQ,af=VQ,of=HQ,du=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(JL,{ref:n,sideOffset:t,className:z("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));du.displayName=JL.displayName;var th=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},fu=typeof window>"u"||"Deno"in globalThis;function is(){}function KQ(e,t){return typeof e=="function"?e(t):e}function yS(e){return typeof e=="number"&&e>=0&&e!==1/0}function QL(e,t){return Math.max(e+(t||0)-Date.now(),0)}function El(e,t){return typeof e=="function"?e(t):e}function fa(e,t){return typeof e=="function"?e(t):e}function LA(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==pk(o,t.options))return!1}else if(!dp(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function FA(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(hu(t.options.mutationKey)!==hu(i))return!1}else if(!dp(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function pk(e,t){return((t==null?void 0:t.queryKeyHashFn)||hu)(e)}function hu(e){return JSON.stringify(e,(t,r)=>bS(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function dp(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>dp(e[r],t[r])):!1}function ZL(e,t){if(e===t)return e;const r=BA(e)&&BA(t);if(r||bS(e)&&bS(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(n);let u=0;for(let f=0;f<o;f++){const d=r?f:i[f];(!r&&c.has(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,u++):(l[d]=ZL(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&u++)}return a===o&&u===a?e:l}return t}function by(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function BA(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function bS(e){if(!zA(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!zA(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function zA(e){return Object.prototype.toString.call(e)==="[object Object]"}function YQ(e){return new Promise(t=>{setTimeout(t,e)})}function wS(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?ZL(e,t):t}function XQ(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function JQ(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var gk=Symbol();function e6(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===gk?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function t6(e,t){return typeof e=="function"?e(...t):!!e}var Fc,el,Dd,JD,QQ=(JD=class extends th{constructor(){super();Ve(this,Fc);Ve(this,el);Ve(this,Dd);ke(this,Dd,t=>{if(!fu&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){G(this,el)||this.setEventListener(G(this,Dd))}onUnsubscribe(){var t;this.hasListeners()||((t=G(this,el))==null||t.call(this),ke(this,el,void 0))}setEventListener(t){var r;ke(this,Dd,t),(r=G(this,el))==null||r.call(this),ke(this,el,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){G(this,Fc)!==t&&(ke(this,Fc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof G(this,Fc)=="boolean"?G(this,Fc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Fc=new WeakMap,el=new WeakMap,Dd=new WeakMap,JD),xk=new QQ,$d,tl,Ld,QD,ZQ=(QD=class extends th{constructor(){super();Ve(this,$d,!0);Ve(this,tl);Ve(this,Ld);ke(this,Ld,t=>{if(!fu&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){G(this,tl)||this.setEventListener(G(this,Ld))}onUnsubscribe(){var t;this.hasListeners()||((t=G(this,tl))==null||t.call(this),ke(this,tl,void 0))}setEventListener(t){var r;ke(this,Ld,t),(r=G(this,tl))==null||r.call(this),ke(this,tl,t(this.setOnline.bind(this)))}setOnline(t){G(this,$d)!==t&&(ke(this,$d,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return G(this,$d)}},$d=new WeakMap,tl=new WeakMap,Ld=new WeakMap,QD),wy=new ZQ;function jS(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function eZ(e){return Math.min(1e3*2**e,3e4)}function r6(e){return(e??"online")==="online"?wy.isOnline():!0}var n6=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Jj(e){return e instanceof n6}function s6(e){let t=!1,r=0,n=!1,a;const i=jS(),o=g=>{var v;n||(h(new n6(g)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>xk.isFocused()&&(e.networkMode==="always"||wy.isOnline())&&e.canRun(),f=()=>r6(e.networkMode)&&e.canRun(),d=g=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,g),a==null||a(),i.resolve(g))},h=g=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,g),a==null||a(),i.reject(g))},m=()=>new Promise(g=>{var v;a=w=>{(n||u())&&g(w)},(v=e.onPause)==null||v.call(e)}).then(()=>{var g;a=void 0,n||(g=e.onContinue)==null||g.call(e)}),x=()=>{if(n)return;let g;const v=r===0?e.initialPromise:void 0;try{g=v??e.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(d).catch(w=>{var S;if(n)return;const b=e.retry??(fu?0:3),y=e.retryDelay??eZ,N=typeof y=="function"?y(r,w):y,j=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,w);if(t||!j){h(w);return}r++,(S=e.onFail)==null||S.call(e,r,w),YQ(N).then(()=>u()?void 0:m()).then(()=>{t?h(w):x()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?x():m().then(x),i)}}var tZ=e=>setTimeout(e,0);function rZ(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=tZ;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var bn=rZ(),Bc,ZD,a6=(ZD=class{constructor(){Ve(this,Bc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),yS(this.gcTime)&&ke(this,Bc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(fu?1/0:5*60*1e3))}clearGcTimeout(){G(this,Bc)&&(clearTimeout(G(this,Bc)),ke(this,Bc,void 0))}},Bc=new WeakMap,ZD),Fd,zc,da,Uc,Yn,hg,Wc,Ba,Xi,e5,nZ=(e5=class extends a6{constructor(t){super();Ve(this,Ba);Ve(this,Fd);Ve(this,zc);Ve(this,da);Ve(this,Uc);Ve(this,Yn);Ve(this,hg);Ve(this,Wc);ke(this,Wc,!1),ke(this,hg,t.defaultOptions),this.setOptions(t.options),this.observers=[],ke(this,Uc,t.client),ke(this,da,G(this,Uc).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ke(this,Fd,sZ(this.options)),this.state=t.state??G(this,Fd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=G(this,Yn))==null?void 0:t.promise}setOptions(t){this.options={...G(this,hg),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&G(this,da).remove(this)}setData(t,r){const n=wS(this.state.data,t,this.options);return ct(this,Ba,Xi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ct(this,Ba,Xi).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=G(this,Yn))==null?void 0:n.promise;return(a=G(this,Yn))==null||a.cancel(t),r?r.then(is).catch(is):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(G(this,Fd))}isActive(){return this.observers.some(t=>fa(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===gk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>El(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!QL(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=G(this,Yn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=G(this,Yn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),G(this,da).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(G(this,Yn)&&(G(this,Wc)?G(this,Yn).cancel({revert:!0}):G(this,Yn).cancelRetry()),this.scheduleGc()),G(this,da).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ct(this,Ba,Xi).call(this,{type:"invalidate"})}fetch(t,r){var u,f,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(G(this,Yn))return G(this,Yn).continueRetry(),G(this,Yn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ke(this,Wc,!0),n.signal)})},i=()=>{const h=e6(this.options,r),x=(()=>{const g={client:G(this,Uc),queryKey:this.queryKey,meta:this.meta};return a(g),g})();return ke(this,Wc,!1),this.options.persister?this.options.persister(h,x,this):h(x)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:G(this,Uc),state:this.state,fetchFn:i};return a(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),ke(this,zc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&ct(this,Ba,Xi).call(this,{type:"fetch",meta:(d=l.fetchOptions)==null?void 0:d.meta});const c=h=>{var m,x,g,v;Jj(h)&&h.silent||ct(this,Ba,Xi).call(this,{type:"error",error:h}),Jj(h)||((x=(m=G(this,da).config).onError)==null||x.call(m,h,this),(v=(g=G(this,da).config).onSettled)==null||v.call(g,this.state.data,h,this)),this.scheduleGc()};return ke(this,Yn,s6({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var m,x,g,v;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(w){c(w);return}(x=(m=G(this,da).config).onSuccess)==null||x.call(m,h,this),(v=(g=G(this,da).config).onSettled)==null||v.call(g,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{ct(this,Ba,Xi).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{ct(this,Ba,Xi).call(this,{type:"pause"})},onContinue:()=>{ct(this,Ba,Xi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),G(this,Yn).start()}},Fd=new WeakMap,zc=new WeakMap,da=new WeakMap,Uc=new WeakMap,Yn=new WeakMap,hg=new WeakMap,Wc=new WeakMap,Ba=new WeakSet,Xi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...i6(n.data,this.options),fetchMeta:t.meta??null};case"success":return ke(this,zc,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Jj(a)&&a.revert&&G(this,zc)?{...G(this,zc),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),bn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),G(this,da).notify({query:this,type:"updated",action:t})})},e5);function i6(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:r6(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function sZ(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var pi,t5,aZ=(t5=class extends th{constructor(t={}){super();Ve(this,pi);this.config=t,ke(this,pi,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??pk(a,r);let o=this.get(i);return o||(o=new nZ({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){G(this,pi).has(t.queryHash)||(G(this,pi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=G(this,pi).get(t.queryHash);r&&(t.destroy(),r===t&&G(this,pi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){bn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return G(this,pi).get(t)}getAll(){return[...G(this,pi).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>LA(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>LA(t,n)):r}notify(t){bn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){bn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){bn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},pi=new WeakMap,t5),gi,rs,qc,xi,Uo,r5,iZ=(r5=class extends a6{constructor(t){super();Ve(this,xi);Ve(this,gi);Ve(this,rs);Ve(this,qc);this.mutationId=t.mutationId,ke(this,rs,t.mutationCache),ke(this,gi,[]),this.state=t.state||o6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){G(this,gi).includes(t)||(G(this,gi).push(t),this.clearGcTimeout(),G(this,rs).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ke(this,gi,G(this,gi).filter(r=>r!==t)),this.scheduleGc(),G(this,rs).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){G(this,gi).length||(this.state.status==="pending"?this.scheduleGc():G(this,rs).remove(this))}continue(){var t;return((t=G(this,qc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,u,f,d,h,m,x,g,v,w,b,y,N,j,S,_,k;const r=()=>{ct(this,xi,Uo).call(this,{type:"continue"})};ke(this,qc,s6({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,A)=>{ct(this,xi,Uo).call(this,{type:"failed",failureCount:E,error:A})},onPause:()=>{ct(this,xi,Uo).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>G(this,rs).canRun(this)}));const n=this.state.status==="pending",a=!G(this,qc).canStart();try{if(n)r();else{ct(this,xi,Uo).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=G(this,rs).config).onMutate)==null?void 0:o.call(i,t,this));const A=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));A!==this.state.context&&ct(this,xi,Uo).call(this,{type:"pending",context:A,variables:t,isPaused:a})}const E=await G(this,qc).start();return await((f=(u=G(this,rs).config).onSuccess)==null?void 0:f.call(u,E,t,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,E,t,this.state.context)),await((x=(m=G(this,rs).config).onSettled)==null?void 0:x.call(m,E,null,this.state.variables,this.state.context,this)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,E,null,t,this.state.context)),ct(this,xi,Uo).call(this,{type:"success",data:E}),E}catch(E){try{throw await((b=(w=G(this,rs).config).onError)==null?void 0:b.call(w,E,t,this.state.context,this)),await((N=(y=this.options).onError)==null?void 0:N.call(y,E,t,this.state.context)),await((S=(j=G(this,rs).config).onSettled)==null?void 0:S.call(j,void 0,E,this.state.variables,this.state.context,this)),await((k=(_=this.options).onSettled)==null?void 0:k.call(_,void 0,E,t,this.state.context)),E}finally{ct(this,xi,Uo).call(this,{type:"error",error:E})}}finally{G(this,rs).runNext(this)}}},gi=new WeakMap,rs=new WeakMap,qc=new WeakMap,xi=new WeakSet,Uo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),bn.batch(()=>{G(this,gi).forEach(n=>{n.onMutationUpdate(t)}),G(this,rs).notify({mutation:this,type:"updated",action:t})})},r5);function o6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var to,za,mg,n5,oZ=(n5=class extends th{constructor(t={}){super();Ve(this,to);Ve(this,za);Ve(this,mg);this.config=t,ke(this,to,new Set),ke(this,za,new Map),ke(this,mg,0)}build(t,r,n){const a=new iZ({mutationCache:this,mutationId:++ux(this,mg)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){G(this,to).add(t);const r=Mx(t);if(typeof r=="string"){const n=G(this,za).get(r);n?n.push(t):G(this,za).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(G(this,to).delete(t)){const r=Mx(t);if(typeof r=="string"){const n=G(this,za).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&G(this,za).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Mx(t);if(typeof r=="string"){const n=G(this,za).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Mx(t);if(typeof r=="string"){const a=(n=G(this,za).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){bn.batch(()=>{G(this,to).forEach(t=>{this.notify({type:"removed",mutation:t})}),G(this,to).clear(),G(this,za).clear()})}getAll(){return Array.from(G(this,to))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>FA(r,n))}findAll(t={}){return this.getAll().filter(r=>FA(t,r))}notify(t){bn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return bn.batch(()=>Promise.all(t.map(r=>r.continue().catch(is))))}},to=new WeakMap,za=new WeakMap,mg=new WeakMap,n5);function Mx(e){var t;return(t=e.options.scope)==null?void 0:t.id}function UA(e){return{onFetch:(t,r)=>{var f,d,h,m,x;const n=t.options,a=(h=(d=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const v=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},w=e6(t.options,t.fetchOptions),b=async(y,N,j)=>{if(g)return Promise.reject();if(N==null&&y.pages.length)return Promise.resolve(y);const _=(()=>{const C={client:t.client,queryKey:t.queryKey,pageParam:N,direction:j?"backward":"forward",meta:t.options.meta};return v(C),C})(),k=await w(_),{maxPages:E}=t.options,A=j?JQ:XQ;return{pages:A(y.pages,k,E),pageParams:A(y.pageParams,N,E)}};if(a&&i.length){const y=a==="backward",N=y?lZ:WA,j={pages:i,pageParams:o},S=N(n,j);l=await b(j,S,y)}else{const y=e??i.length;do{const N=c===0?o[0]??n.initialPageParam:WA(n,l);if(c>0&&N==null)break;l=await b(l,N),c++}while(c<y)}return l};t.options.persister?t.fetchFn=()=>{var g,v;return(v=(g=t.options).persister)==null?void 0:v.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function WA(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function lZ(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Dr,rl,nl,Bd,zd,sl,Ud,Wd,s5,cZ=(s5=class{constructor(e={}){Ve(this,Dr);Ve(this,rl);Ve(this,nl);Ve(this,Bd);Ve(this,zd);Ve(this,sl);Ve(this,Ud);Ve(this,Wd);ke(this,Dr,e.queryCache||new aZ),ke(this,rl,e.mutationCache||new oZ),ke(this,nl,e.defaultOptions||{}),ke(this,Bd,new Map),ke(this,zd,new Map),ke(this,sl,0)}mount(){ux(this,sl)._++,G(this,sl)===1&&(ke(this,Ud,xk.subscribe(async e=>{e&&(await this.resumePausedMutations(),G(this,Dr).onFocus())})),ke(this,Wd,wy.subscribe(async e=>{e&&(await this.resumePausedMutations(),G(this,Dr).onOnline())})))}unmount(){var e,t;ux(this,sl)._--,G(this,sl)===0&&((e=G(this,Ud))==null||e.call(this),ke(this,Ud,void 0),(t=G(this,Wd))==null||t.call(this),ke(this,Wd,void 0))}isFetching(e){return G(this,Dr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return G(this,rl).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=G(this,Dr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=G(this,Dr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(El(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return G(this,Dr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=G(this,Dr).get(n.queryHash),i=a==null?void 0:a.state.data,o=KQ(t,i);if(o!==void 0)return G(this,Dr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return bn.batch(()=>G(this,Dr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=G(this,Dr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=G(this,Dr);bn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=G(this,Dr);return bn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=bn.batch(()=>G(this,Dr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(is).catch(is)}invalidateQueries(e,t={}){return bn.batch(()=>(G(this,Dr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=bn.batch(()=>G(this,Dr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(is)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(is)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=G(this,Dr).build(this,t);return r.isStaleByTime(El(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(is).catch(is)}fetchInfiniteQuery(e){return e.behavior=UA(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(is).catch(is)}ensureInfiniteQueryData(e){return e.behavior=UA(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return wy.isOnline()?G(this,rl).resumePausedMutations():Promise.resolve()}getQueryCache(){return G(this,Dr)}getMutationCache(){return G(this,rl)}getDefaultOptions(){return G(this,nl)}setDefaultOptions(e){ke(this,nl,e)}setQueryDefaults(e,t){G(this,Bd).set(hu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...G(this,Bd).values()],r={};return t.forEach(n=>{dp(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){G(this,zd).set(hu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...G(this,zd).values()],r={};return t.forEach(n=>{dp(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...G(this,nl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=pk(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===gk&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...G(this,nl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){G(this,Dr).clear(),G(this,rl).clear()}},Dr=new WeakMap,rl=new WeakMap,nl=new WeakMap,Bd=new WeakMap,zd=new WeakMap,sl=new WeakMap,Ud=new WeakMap,Wd=new WeakMap,s5),ws,pt,pg,ns,Vc,qd,al,il,gg,Vd,Hd,Hc,Gc,ol,Gd,It,um,NS,SS,_S,CS,kS,ES,PS,l6,a5,uZ=(a5=class extends th{constructor(t,r){super();Ve(this,It);Ve(this,ws);Ve(this,pt);Ve(this,pg);Ve(this,ns);Ve(this,Vc);Ve(this,qd);Ve(this,al);Ve(this,il);Ve(this,gg);Ve(this,Vd);Ve(this,Hd);Ve(this,Hc);Ve(this,Gc);Ve(this,ol);Ve(this,Gd,new Set);this.options=r,ke(this,ws,t),ke(this,il,null),ke(this,al,jS()),this.options.experimental_prefetchInRender||G(this,al).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(G(this,pt).addObserver(this),qA(G(this,pt),this.options)?ct(this,It,um).call(this):this.updateResult(),ct(this,It,CS).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return OS(G(this,pt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return OS(G(this,pt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ct(this,It,kS).call(this),ct(this,It,ES).call(this),G(this,pt).removeObserver(this)}setOptions(t){const r=this.options,n=G(this,pt);if(this.options=G(this,ws).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof fa(this.options.enabled,G(this,pt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ct(this,It,PS).call(this),G(this,pt).setOptions(this.options),r._defaulted&&!by(this.options,r)&&G(this,ws).getQueryCache().notify({type:"observerOptionsUpdated",query:G(this,pt),observer:this});const a=this.hasListeners();a&&VA(G(this,pt),n,this.options,r)&&ct(this,It,um).call(this),this.updateResult(),a&&(G(this,pt)!==n||fa(this.options.enabled,G(this,pt))!==fa(r.enabled,G(this,pt))||El(this.options.staleTime,G(this,pt))!==El(r.staleTime,G(this,pt)))&&ct(this,It,NS).call(this);const i=ct(this,It,SS).call(this);a&&(G(this,pt)!==n||fa(this.options.enabled,G(this,pt))!==fa(r.enabled,G(this,pt))||i!==G(this,ol))&&ct(this,It,_S).call(this,i)}getOptimisticResult(t){const r=G(this,ws).getQueryCache().build(G(this,ws),t),n=this.createResult(r,t);return fZ(this,n)&&(ke(this,ns,n),ke(this,qd,this.options),ke(this,Vc,G(this,pt).state)),n}getCurrentResult(){return G(this,ns)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(n,a))})}trackProp(t){G(this,Gd).add(t)}getCurrentQuery(){return G(this,pt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=G(this,ws).defaultQueryOptions(t),n=G(this,ws).getQueryCache().build(G(this,ws),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ct(this,It,um).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),G(this,ns)))}createResult(t,r){var E;const n=G(this,pt),a=this.options,i=G(this,ns),o=G(this,Vc),l=G(this,qd),u=t!==n?t.state:G(this,pg),{state:f}=t;let d={...f},h=!1,m;if(r._optimisticResults){const A=this.hasListeners(),C=!A&&qA(t,r),O=A&&VA(t,n,r,a);(C||O)&&(d={...d,...i6(f.data,t.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:x,errorUpdatedAt:g,status:v}=d;m=d.data;let w=!1;if(r.placeholderData!==void 0&&m===void 0&&v==="pending"){let A;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(A=i.data,w=!0):A=typeof r.placeholderData=="function"?r.placeholderData((E=G(this,Hd))==null?void 0:E.state.data,G(this,Hd)):r.placeholderData,A!==void 0&&(v="success",m=wS(i==null?void 0:i.data,A,r),h=!0)}if(r.select&&m!==void 0&&!w)if(i&&m===(o==null?void 0:o.data)&&r.select===G(this,gg))m=G(this,Vd);else try{ke(this,gg,r.select),m=r.select(m),m=wS(i==null?void 0:i.data,m,r),ke(this,Vd,m),ke(this,il,null)}catch(A){ke(this,il,A)}G(this,il)&&(x=G(this,il),m=G(this,Vd),g=Date.now(),v="error");const b=d.fetchStatus==="fetching",y=v==="pending",N=v==="error",j=y&&b,S=m!==void 0,k={status:v,fetchStatus:d.fetchStatus,isPending:y,isSuccess:v==="success",isError:N,isInitialLoading:j,isLoading:j,data:m,dataUpdatedAt:d.dataUpdatedAt,error:x,errorUpdatedAt:g,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!y,isLoadingError:N&&!S,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:N&&S,isStale:vk(t,r),refetch:this.refetch,promise:G(this,al),isEnabled:fa(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=$=>{k.status==="error"?$.reject(k.error):k.data!==void 0&&$.resolve(k.data)},C=()=>{const $=ke(this,al,k.promise=jS());A($)},O=G(this,al);switch(O.status){case"pending":t.queryHash===n.queryHash&&A(O);break;case"fulfilled":(k.status==="error"||k.data!==O.value)&&C();break;case"rejected":(k.status!=="error"||k.error!==O.reason)&&C();break}}return k}updateResult(){const t=G(this,ns),r=this.createResult(G(this,pt),this.options);if(ke(this,Vc,G(this,pt).state),ke(this,qd,this.options),G(this,Vc).data!==void 0&&ke(this,Hd,G(this,pt)),by(r,t))return;ke(this,ns,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!G(this,Gd).size)return!0;const o=new Set(i??G(this,Gd));return this.options.throwOnError&&o.add("error"),Object.keys(G(this,ns)).some(l=>{const c=l;return G(this,ns)[c]!==t[c]&&o.has(c)})};ct(this,It,l6).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ct(this,It,CS).call(this)}},ws=new WeakMap,pt=new WeakMap,pg=new WeakMap,ns=new WeakMap,Vc=new WeakMap,qd=new WeakMap,al=new WeakMap,il=new WeakMap,gg=new WeakMap,Vd=new WeakMap,Hd=new WeakMap,Hc=new WeakMap,Gc=new WeakMap,ol=new WeakMap,Gd=new WeakMap,It=new WeakSet,um=function(t){ct(this,It,PS).call(this);let r=G(this,pt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(is)),r},NS=function(){ct(this,It,kS).call(this);const t=El(this.options.staleTime,G(this,pt));if(fu||G(this,ns).isStale||!yS(t))return;const n=QL(G(this,ns).dataUpdatedAt,t)+1;ke(this,Hc,setTimeout(()=>{G(this,ns).isStale||this.updateResult()},n))},SS=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(G(this,pt)):this.options.refetchInterval)??!1},_S=function(t){ct(this,It,ES).call(this),ke(this,ol,t),!(fu||fa(this.options.enabled,G(this,pt))===!1||!yS(G(this,ol))||G(this,ol)===0)&&ke(this,Gc,setInterval(()=>{(this.options.refetchIntervalInBackground||xk.isFocused())&&ct(this,It,um).call(this)},G(this,ol)))},CS=function(){ct(this,It,NS).call(this),ct(this,It,_S).call(this,ct(this,It,SS).call(this))},kS=function(){G(this,Hc)&&(clearTimeout(G(this,Hc)),ke(this,Hc,void 0))},ES=function(){G(this,Gc)&&(clearInterval(G(this,Gc)),ke(this,Gc,void 0))},PS=function(){const t=G(this,ws).getQueryCache().build(G(this,ws),this.options);if(t===G(this,pt))return;const r=G(this,pt);ke(this,pt,t),ke(this,pg,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},l6=function(t){bn.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(G(this,ns))}),G(this,ws).getQueryCache().notify({query:G(this,pt),type:"observerResultsUpdated"})})},a5);function dZ(e,t){return fa(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function qA(e,t){return dZ(e,t)||e.state.data!==void 0&&OS(e,t,t.refetchOnMount)}function OS(e,t,r){if(fa(t.enabled,e)!==!1&&El(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&vk(e,t)}return!1}function VA(e,t,r,n){return(e!==t||fa(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&vk(e,r)}function vk(e,t){return fa(t.enabled,e)!==!1&&e.isStaleByTime(El(t.staleTime,e))}function fZ(e,t){return!by(e.getCurrentResult(),t)}var ll,cl,js,ro,po,Av,AS,i5,hZ=(i5=class extends th{constructor(r,n){super();Ve(this,po);Ve(this,ll);Ve(this,cl);Ve(this,js);Ve(this,ro);ke(this,ll,r),this.setOptions(n),this.bindMethods(),ct(this,po,Av).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=G(this,ll).defaultMutationOptions(r),by(this.options,n)||G(this,ll).getMutationCache().notify({type:"observerOptionsUpdated",mutation:G(this,js),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&hu(n.mutationKey)!==hu(this.options.mutationKey)?this.reset():((a=G(this,js))==null?void 0:a.state.status)==="pending"&&G(this,js).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=G(this,js))==null||r.removeObserver(this)}onMutationUpdate(r){ct(this,po,Av).call(this),ct(this,po,AS).call(this,r)}getCurrentResult(){return G(this,cl)}reset(){var r;(r=G(this,js))==null||r.removeObserver(this),ke(this,js,void 0),ct(this,po,Av).call(this),ct(this,po,AS).call(this)}mutate(r,n){var a;return ke(this,ro,n),(a=G(this,js))==null||a.removeObserver(this),ke(this,js,G(this,ll).getMutationCache().build(G(this,ll),this.options)),G(this,js).addObserver(this),G(this,js).execute(r)}},ll=new WeakMap,cl=new WeakMap,js=new WeakMap,ro=new WeakMap,po=new WeakSet,Av=function(){var n;const r=((n=G(this,js))==null?void 0:n.state)??o6();ke(this,cl,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},AS=function(r){bn.batch(()=>{var n,a,i,o,l,c,u,f;if(G(this,ro)&&this.hasListeners()){const d=G(this,cl).variables,h=G(this,cl).context;(r==null?void 0:r.type)==="success"?((a=(n=G(this,ro)).onSuccess)==null||a.call(n,r.data,d,h),(o=(i=G(this,ro)).onSettled)==null||o.call(i,r.data,null,d,h)):(r==null?void 0:r.type)==="error"&&((c=(l=G(this,ro)).onError)==null||c.call(l,r.error,d,h),(f=(u=G(this,ro)).onSettled)==null||f.call(u,void 0,r.error,d,h))}this.listeners.forEach(d=>{d(G(this,cl))})})},i5),c6=p.createContext(void 0),yk=e=>{const t=p.useContext(c6);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},mZ=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(c6.Provider,{value:e,children:t})),u6=p.createContext(!1),pZ=()=>p.useContext(u6);u6.Provider;function gZ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var xZ=p.createContext(gZ()),vZ=()=>p.useContext(xZ),yZ=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},bZ=e=>{p.useEffect(()=>{e.clearReset()},[e])},wZ=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||t6(r,[e.error,n])),jZ=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},NZ=(e,t)=>e.isLoading&&e.isFetching&&!t,SZ=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,HA=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function _Z(e,t,r){var d,h,m,x,g;const n=pZ(),a=vZ(),i=yk(),o=i.defaultQueryOptions(e);(h=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=n?"isRestoring":"optimistic",jZ(o),yZ(o,a),bZ(a);const l=!i.getQueryCache().get(o.queryHash),[c]=p.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),f=!n&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(v=>{const w=f?c.subscribe(bn.batchCalls(v)):is;return c.updateResult(),w},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(o)},[o,c]),SZ(o,u))throw HA(o,c,a);if(wZ({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((x=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||x.call(m,o,u),o.experimental_prefetchInRender&&!fu&&NZ(u,n)){const v=l?HA(o,c,a):(g=i.getQueryCache().get(o.queryHash))==null?void 0:g.promise;v==null||v.catch(is).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function GA(e,t){return _Z(e,uZ)}function CZ(e,t){const r=yk(),[n]=p.useState(()=>new hZ(r,e));p.useEffect(()=>{n.setOptions(e)},[n,e]);const a=p.useSyncExternalStore(p.useCallback(o=>n.subscribe(bn.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=p.useCallback((o,l)=>{n.mutate(o,l).catch(is)},[n]);if(a.error&&t6(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fp(){return fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fp.apply(this,arguments)}var fl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(fl||(fl={}));const KA="popstate";function kZ(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return TS("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:jy(a)}return PZ(t,r,null,e)}function Mr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function d6(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function EZ(){return Math.random().toString(36).substr(2,8)}function YA(e,t){return{usr:e.state,key:e.key,idx:t}}function TS(e,t,r,n){return r===void 0&&(r=null),fp({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?rh(t):t,{state:r,key:t&&t.key||n||EZ()})}function jy(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function rh(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function PZ(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=fl.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(fp({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function d(){l=fl.Pop;let v=f(),w=v==null?null:v-u;u=v,c&&c({action:l,location:g.location,delta:w})}function h(v,w){l=fl.Push;let b=TS(g.location,v,w);u=f()+1;let y=YA(b,u),N=g.createHref(b);try{o.pushState(y,"",N)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(N)}i&&c&&c({action:l,location:g.location,delta:1})}function m(v,w){l=fl.Replace;let b=TS(g.location,v,w);u=f();let y=YA(b,u),N=g.createHref(b);o.replaceState(y,"",N),i&&c&&c({action:l,location:g.location,delta:0})}function x(v){let w=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof v=="string"?v:jy(v);return b=b.replace(/ $/,"%20"),Mr(w,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,w)}let g={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(KA,d),c=v,()=>{a.removeEventListener(KA,d),c=null}},createHref(v){return t(a,v)},createURL:x,encodeLocation(v){let w=x(v);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:m,go(v){return o.go(v)}};return g}var XA;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(XA||(XA={}));function OZ(e,t,r){return r===void 0&&(r="/"),AZ(e,t,r)}function AZ(e,t,r,n){let a=typeof t=="string"?rh(t):t,i=lf(a.pathname||"/",r);if(i==null)return null;let o=f6(e);TZ(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=WZ(i);l=zZ(o[c],u)}return l}function f6(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Mr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Pl([n,c.relativePath]),f=r.concat(c);i.children&&i.children.length>0&&(Mr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),f6(i.children,t,f,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:FZ(u,i.index),routesMeta:f})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of h6(i.path))a(i,o,c)}),t}function h6(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=h6(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function TZ(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:BZ(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const MZ=/^:[\w-]+$/,RZ=3,IZ=2,DZ=1,$Z=10,LZ=-2,JA=e=>e==="*";function FZ(e,t){let r=e.split("/"),n=r.length;return r.some(JA)&&(n+=LZ),t&&(n+=IZ),r.filter(a=>!JA(a)).reduce((a,i)=>a+(MZ.test(i)?RZ:i===""?DZ:$Z),n)}function BZ(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function zZ(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=i==="/"?t:t.slice(i.length)||"/",d=MS({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),h=c.route;if(!d)return null;Object.assign(a,d.params),o.push({params:a,pathname:Pl([i,d.pathname]),pathnameBase:GZ(Pl([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Pl([i,d.pathnameBase]))}return o}function MS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=UZ(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,f,d)=>{let{paramName:h,isOptional:m}=f;if(h==="*"){let g=l[d]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const x=l[d];return m&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function UZ(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),d6(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function WZ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return d6(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function lf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function qZ(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?rh(e):e;return{pathname:r?r.startsWith("/")?r:VZ(r,t):t,search:KZ(n),hash:YZ(a)}}function VZ(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Qj(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function HZ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function bk(e,t){let r=HZ(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function wk(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=rh(e):(a=fp({},e),Mr(!a.pathname||!a.pathname.includes("?"),Qj("?","pathname","search",a)),Mr(!a.pathname||!a.pathname.includes("#"),Qj("#","pathname","hash",a)),Mr(!a.search||!a.search.includes("#"),Qj("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;a.pathname=h.join("/")}l=d>=0?t[d]:"/"}let c=qZ(a,l),u=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Pl=e=>e.join("/").replace(/\/\/+/g,"/"),GZ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),KZ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,YZ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function XZ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const m6=["post","put","patch","delete"];new Set(m6);const JZ=["get",...m6];new Set(JZ);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hp(){return hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hp.apply(this,arguments)}const T0=p.createContext(null),p6=p.createContext(null),Po=p.createContext(null),M0=p.createContext(null),Kl=p.createContext({outlet:null,matches:[],isDataRoute:!1}),g6=p.createContext(null);function QZ(e,t){let{relative:r}=t===void 0?{}:t;nh()||Mr(!1);let{basename:n,navigator:a}=p.useContext(Po),{hash:i,pathname:o,search:l}=R0(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Pl([n,o])),a.createHref({pathname:c,search:l,hash:i})}function nh(){return p.useContext(M0)!=null}function oi(){return nh()||Mr(!1),p.useContext(M0).location}function x6(e){p.useContext(Po).static||p.useLayoutEffect(e)}function li(){let{isDataRoute:e}=p.useContext(Kl);return e?dee():ZZ()}function ZZ(){nh()||Mr(!1);let e=p.useContext(T0),{basename:t,future:r,navigator:n}=p.useContext(Po),{matches:a}=p.useContext(Kl),{pathname:i}=oi(),o=JSON.stringify(bk(a,r.v7_relativeSplatPath)),l=p.useRef(!1);return x6(()=>{l.current=!0}),p.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=wk(u,JSON.parse(o),i,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Pl([t,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[t,n,o,i,e])}function R0(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=p.useContext(Po),{matches:a}=p.useContext(Kl),{pathname:i}=oi(),o=JSON.stringify(bk(a,n.v7_relativeSplatPath));return p.useMemo(()=>wk(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function eee(e,t){return tee(e,t)}function tee(e,t,r,n){nh()||Mr(!1);let{navigator:a}=p.useContext(Po),{matches:i}=p.useContext(Kl),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=oi(),f;if(t){var d;let v=typeof t=="string"?rh(t):t;c==="/"||(d=v.pathname)!=null&&d.startsWith(c)||Mr(!1),f=v}else f=u;let h=f.pathname||"/",m=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=OZ(e,{pathname:m}),g=iee(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Pl([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Pl([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&g?p.createElement(M0.Provider,{value:{location:hp({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:fl.Pop}},g):g}function ree(){let e=uee(),t=XZ(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:a},r):null,null)}const nee=p.createElement(ree,null);class see extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(Kl.Provider,{value:this.props.routeContext},p.createElement(g6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aee(e){let{routeContext:t,match:r,children:n}=e,a=p.useContext(T0);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(Kl.Provider,{value:t},n)}function iee(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let f=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);f>=0||Mr(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let d=o[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:h,errors:m}=r,x=d.route.loader&&h[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,d,h)=>{let m,x=!1,g=null,v=null;r&&(m=l&&d.route.id?l[d.route.id]:void 0,g=d.route.errorElement||nee,c&&(u<0&&h===0?(fee("route-fallback"),x=!0,v=null):u===h&&(x=!0,v=d.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,h+1)),b=()=>{let y;return m?y=g:x?y=v:d.route.Component?y=p.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=f,p.createElement(aee,{match:d,routeContext:{outlet:f,matches:w,isDataRoute:r!=null},children:y})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?p.createElement(see,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:b(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):b()},null)}var v6=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(v6||{}),y6=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(y6||{});function oee(e){let t=p.useContext(T0);return t||Mr(!1),t}function lee(e){let t=p.useContext(p6);return t||Mr(!1),t}function cee(e){let t=p.useContext(Kl);return t||Mr(!1),t}function b6(e){let t=cee(),r=t.matches[t.matches.length-1];return r.route.id||Mr(!1),r.route.id}function uee(){var e;let t=p.useContext(g6),r=lee(),n=b6();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function dee(){let{router:e}=oee(v6.UseNavigateStable),t=b6(y6.UseNavigateStable),r=p.useRef(!1);return x6(()=>{r.current=!0}),p.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,hp({fromRouteId:t},i)))},[e,t])}const QA={};function fee(e,t,r){QA[e]||(QA[e]=!0)}function hee(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function jk(e){let{to:t,replace:r,state:n,relative:a}=e;nh()||Mr(!1);let{future:i,static:o}=p.useContext(Po),{matches:l}=p.useContext(Kl),{pathname:c}=oi(),u=li(),f=wk(t,bk(l,i.v7_relativeSplatPath),c,a==="path"),d=JSON.stringify(f);return p.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:a}),[u,d,a,r,n]),null}function Ut(e){Mr(!1)}function mee(e){let{basename:t="/",children:r=null,location:n,navigationType:a=fl.Pop,navigator:i,static:o=!1,future:l}=e;nh()&&Mr(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:i,static:o,future:hp({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=rh(n));let{pathname:f="/",search:d="",hash:h="",state:m=null,key:x="default"}=n,g=p.useMemo(()=>{let v=lf(f,c);return v==null?null:{location:{pathname:v,search:d,hash:h,state:m,key:x},navigationType:a}},[c,f,d,h,m,x,a]);return g==null?null:p.createElement(Po.Provider,{value:u},p.createElement(M0.Provider,{children:r,value:g}))}function pee(e){let{children:t,location:r}=e;return eee(RS(t),r)}new Promise(()=>{});function RS(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(n,a)=>{if(!p.isValidElement(n))return;let i=[...t,a];if(n.type===p.Fragment){r.push.apply(r,RS(n.props.children,i));return}n.type!==Ut&&Mr(!1),!n.props.index||!n.props.children||Mr(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=RS(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ny.apply(this,arguments)}function w6(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function gee(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function xee(e,t){return e.button===0&&(!t||t==="_self")&&!gee(e)}const vee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yee=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],bee="6";try{window.__reactRouterVersion=bee}catch{}const wee=p.createContext({isTransitioning:!1}),jee="startTransition",ZA=J2[jee];function Nee(e){let{basename:t,children:r,future:n,window:a}=e,i=p.useRef();i.current==null&&(i.current=kZ({window:a,v5Compat:!0}));let o=i.current,[l,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},f=p.useCallback(d=>{u&&ZA?ZA(()=>c(d)):c(d)},[c,u]);return p.useLayoutEffect(()=>o.listen(f),[o,f]),p.useEffect(()=>hee(n),[n]),p.createElement(mee,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const See=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cf=p.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:f,viewTransition:d}=t,h=w6(t,vee),{basename:m}=p.useContext(Po),x,g=!1;if(typeof u=="string"&&_ee.test(u)&&(x=u,See))try{let y=new URL(window.location.href),N=u.startsWith("//")?new URL(y.protocol+u):new URL(u),j=lf(N.pathname,m);N.origin===y.origin&&j!=null?u=j+N.search+N.hash:g=!0}catch{}let v=QZ(u,{relative:a}),w=kee(u,{replace:o,state:l,target:c,preventScrollReset:f,relative:a,viewTransition:d});function b(y){n&&n(y),y.defaultPrevented||w(y)}return p.createElement("a",Ny({},h,{href:x||v,onClick:g||i?n:b,ref:r,target:c}))}),IS=p.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:f}=t,d=w6(t,yee),h=R0(c,{relative:d.relative}),m=oi(),x=p.useContext(p6),{navigator:g,basename:v}=p.useContext(Po),w=x!=null&&Eee(h)&&u===!0,b=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,y=m.pathname,N=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;a||(y=y.toLowerCase(),N=N?N.toLowerCase():null,b=b.toLowerCase()),N&&v&&(N=lf(N,v)||N);const j=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let S=y===b||!o&&y.startsWith(b)&&y.charAt(j)==="/",_=N!=null&&(N===b||!o&&N.startsWith(b)&&N.charAt(b.length)==="/"),k={isActive:S,isPending:_,isTransitioning:w},E=S?n:void 0,A;typeof i=="function"?A=i(k):A=[i,S?"active":null,_?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let C=typeof l=="function"?l(k):l;return p.createElement(cf,Ny({},d,{"aria-current":E,className:A,ref:r,style:C,to:c,viewTransition:u}),typeof f=="function"?f(k):f)});var DS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(DS||(DS={}));var eT;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(eT||(eT={}));function Cee(e){let t=p.useContext(T0);return t||Mr(!1),t}function kee(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=li(),u=oi(),f=R0(e,{relative:o});return p.useCallback(d=>{if(xee(d,r)){d.preventDefault();let h=n!==void 0?n:jy(u)===jy(f);c(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,f,n,a,r,e,i,o,l])}function Eee(e,t){t===void 0&&(t={});let r=p.useContext(wee);r==null&&Mr(!1);let{basename:n}=Cee(DS.useViewTransitionState),a=R0(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=lf(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=lf(r.nextLocation.pathname,n)||r.nextLocation.pathname;return MS(a.pathname,o)!=null||MS(a.pathname,i)!=null}var yi=function(){return yi=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},yi.apply(this,arguments)};function sh(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Pee(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):a(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function Oee(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const Aee=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Nk extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Tee extends Nk{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class tT extends Nk{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class rT extends Nk{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var $S;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})($S||($S={}));class Mee{constructor(t,{headers:r={},customFetch:n,region:a=$S.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=Aee(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Pee(this,arguments,void 0,function*(r,n={}){var a;let i,o;try{const{headers:l,method:c,body:u,signal:f,timeout:d}=n;let h={},{region:m}=n;m||(m=this.region);const x=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,x.searchParams.set("forceFunctionRegion",m));let g;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)):g=u;let v=f;d&&(o=new AbortController,i=setTimeout(()=>o.abort(),d),f?(v=o.signal,f.addEventListener("abort",()=>o.abort())):v=o.signal);const w=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:g,signal:v}).catch(j=>{throw new Tee(j)}),b=w.headers.get("x-relay-error");if(b&&b==="true")throw new tT(w);if(!w.ok)throw new rT(w);let y=((a=w.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),N;return y==="application/json"?N=yield w.json():y==="application/octet-stream"||y==="application/pdf"?N=yield w.blob():y==="text/event-stream"?N=w:y==="multipart/form-data"?N=yield w.formData():N=yield w.text(),{data:N,error:null,response:w}}catch(l){return{data:null,error:l,response:l instanceof rT||l instanceof tT?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var Ree=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Iee=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,f=i.statusText;if(i.ok){var d,h;if(r.method!=="HEAD"){var m;const w=await i.text();w===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=w:l=JSON.parse(w))}const g=(d=r.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),v=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");g&&v&&v.length>1&&(c=parseInt(v[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,f="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var x;const g=await i.text();try{o=JSON.parse(g),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,f="OK")}catch{i.status===404&&g===""?(u=204,f="No Content"):o={message:g}}if(o&&r.isMaybeSingle&&(!(o==null||(x=o.details)===null||x===void 0)&&x.includes("0 rows"))&&(o=null,u=200,f="OK"),o&&r.shouldThrowOnError)throw new Ree(o)}return{error:o,data:l,count:c,status:u,statusText:f}});return this.shouldThrowOnError||(a=a.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,f,d,h;const x=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",g=(f=c==null?void 0:c.code)!==null&&f!==void 0?f:"";l=`${(d=i==null?void 0:i.name)!==null&&d!==void 0?d:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${x}`,g&&(l+=` (${g})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},Dee=class extends Iee{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const nT=new RegExp("[,()]");var Qu=class extends Dee{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&nT.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&nT.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},$ee=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Qu({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(i.length>0){const o=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Qu({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Qu({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Qu({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Qu({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},Lee=class j6{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new $ee(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new j6(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{c.searchParams.append(d,h)})):(l="POST",u=r);const f=new Headers(this.headers);return i&&f.set("Prefer",`count=${i}`),new Qu({method:l,url:c,headers:f,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class Fee{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Bee="2.89.0",zee=`realtime-js/${Bee}`,N6="1.0.0",Uee="2.0.0",sT=N6,LS=1e4,Wee=1e3,qee=100;var Go;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Go||(Go={}));var gn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(gn||(gn={}));var Wa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Wa||(Wa={}));var FS;(function(e){e.websocket="websocket"})(FS||(FS={}));var kc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(kc||(kc={}));class Vee{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var a,i;const o=t.topic,l=(a=t.ref)!==null&&a!==void 0?a:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,f=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(f).length===0?"":JSON.stringify(f);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+d.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let x=new DataView(m),g=0;x.setUint8(g++,this.KINDS.userBroadcastPush),x.setUint8(g++,c.length),x.setUint8(g++,l.length),x.setUint8(g++,o.length),x.setUint8(g++,u.length),x.setUint8(g++,d.length),x.setUint8(g++,r),Array.from(c,w=>x.setUint8(g++,w.charCodeAt(0))),Array.from(l,w=>x.setUint8(g++,w.charCodeAt(0))),Array.from(o,w=>x.setUint8(g++,w.charCodeAt(0))),Array.from(u,w=>x.setUint8(g++,w.charCodeAt(0))),Array.from(d,w=>x.setUint8(g++,w.charCodeAt(0)));var v=new Uint8Array(m.byteLength+n.byteLength);return v.set(new Uint8Array(m),0),v.set(new Uint8Array(n),m.byteLength),v.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,o,l,c]=n;return r({join_ref:a,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+a));c=c+a;const f=n.decode(t.slice(c,c+i));c=c+i;const d=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,x={type:this.BROADCAST_EVENT,event:f,payload:m};return o>0&&(x.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class S6{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var tr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(tr||(tr={}));const aT=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=Hee(o,e,t,a),i),{}):{}},Hee=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?_6(i,o):BS(o)},_6=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Xee(t,r)}switch(e){case tr.bool:return Gee(t);case tr.float4:case tr.float8:case tr.int2:case tr.int4:case tr.int8:case tr.numeric:case tr.oid:return Kee(t);case tr.json:case tr.jsonb:return Yee(t);case tr.timestamp:return Jee(t);case tr.abstime:case tr.date:case tr.daterange:case tr.int4range:case tr.int8range:case tr.money:case tr.reltime:case tr.text:case tr.time:case tr.timestamptz:case tr.timetz:case tr.tsrange:case tr.tstzrange:return BS(t);default:return BS(t)}},BS=e=>e,Gee=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Kee=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Yee=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Xee=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>_6(t,l))}return e},Jee=e=>typeof e=="string"?e.replace(" ","T"):e,C6=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Zj{constructor(t,r,n={},a=LS){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var iT;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(iT||(iT={}));class km{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=km.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=km.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=km.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,f)=>{o[u]||(c[u]=f)}),this.map(o,(u,f)=>{const d=i[u];if(d){const h=f.map(v=>v.presence_ref),m=d.map(v=>v.presence_ref),x=f.filter(v=>m.indexOf(v.presence_ref)<0),g=d.filter(v=>h.indexOf(v.presence_ref)<0);x.length>0&&(l[u]=x),g.length>0&&(c[u]=g)}else l[u]=f}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),f.length>0){const d=t[l].map(m=>m.presence_ref),h=f.filter(m=>d.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,f,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const f=c.map(d=>d.presence_ref);u=u.filter(d=>f.indexOf(d.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var oT;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(oT||(oT={}));var Em;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Em||(Em={}));var Qi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Qi||(Qi={}));class hd{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=gn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Zj(this,Wa.join,this.params,this.timeout),this.rejoinTimer=new S6(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=gn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=gn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wa.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new km(this),this.broadcastEndpointURL=C6(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==gn.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],f=!!this.bindings[Em.PRESENCE]&&this.bindings[Em.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Qi.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Qi.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(Qi.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(x=g==null?void 0:g.length)!==null&&x!==void 0?x:0,w=[];for(let b=0;b<v;b++){const y=g[b],{filter:{event:N,schema:j,table:S,filter:_}}=y,k=m&&m[b];if(k&&k.event===N&&hd.isFilterValueEqual(k.schema,j)&&hd.isFilterValueEqual(k.table,S)&&hd.isFilterValueEqual(k.filter,_))w.push(Object.assign(Object.assign({},y),{id:k.id}));else{this.unsubscribe(),this.state=gn.errored,t==null||t(Qi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Qi.SUBSCRIBED);return}}).receive("error",m=>{this.state=gn.errored,t==null||t(Qi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Qi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===gn.joined&&t===Em.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=gn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Zj(this,Wa.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gn.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Zj(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>qee){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:f}=Wa;if(n&&[l,c,u,f].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var x,g,v;return((x=m.filter)===null||x===void 0?void 0:x.event)==="*"||((v=(g=m.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var x,g,v,w,b,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const N=m.id,j=(x=m.filter)===null||x===void 0?void 0:x.event;return N&&((g=r.ids)===null||g===void 0?void 0:g.includes(N))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const N=(b=(w=m==null?void 0:m.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return N==="*"||N===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:g,table:v,commit_timestamp:w,type:b,errors:y}=x;h=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:w,eventType:b,new:{},old:{},errors:y}),this._getPayloadRecords(x))}m.callback(h,n)})}_isClosed(){return this.state===gn.closed}_isJoined(){return this.state===gn.joined}_isJoining(){return this.state===gn.joining}_isLeaving(){return this.state===gn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&hd.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Wa.close,{},t)}_onError(t){this._on(Wa.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=aT(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=aT(t.columns,t.old_record)),r}}const e1=()=>{},Rx={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Qee=[1e3,2e3,5e3,1e4],Zee=1e4,ete=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tte{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=LS,this.transport=null,this.heartbeatIntervalMs=Rx.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=e1,this.ref=0,this.reconnectTimer=null,this.vsn=sT,this.logger=e1,this.conn=null,this.sendBuffer=[],this.serializer=new Vee,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${FS.websocket}`,this.httpEndpoint=C6(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Fee.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Go.connecting:return kc.Connecting;case Go.open:return kc.Open;case Go.closing:return kc.Closing;default:return kc.Closed}}isConnected(){return this.connectionState()===kc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new hd(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Wee,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Rx.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Go.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Go.open||this.conn.readyState===Go.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Wa.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([ete],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:zee};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(Wa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new S6(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rx.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,f,d,h,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:LS,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Rx.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:e1,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:sT,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:x=>Qee[x-1]||Zee,this.vsn){case N6:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:(x,g)=>g(JSON.stringify(x)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(x,g)=>g(JSON.parse(x));break;case Uee:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var mp=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function rte(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function nte(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function ste(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:o}){const l=rte(e.baseUrl,n,a),c=await nte(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),f=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),h=d&&f?JSON.parse(f):f;if(!u.ok){const m=d?h:void 0,x=m==null?void 0:m.error;throw new mp((x==null?void 0:x.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function Ix(e){return e.join("")}var ate=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Ix(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ix(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ix(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ix(e.namespace)}`}),!0}catch(t){if(t instanceof mp&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof mp&&r.status===409)return;throw r}}};function $u(e){return e.join("")}var ite=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$u(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${$u(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${$u(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${$u(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$u(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${$u(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof mp&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof mp&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},ote=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=ste({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new ate(this.client,t),this.tableOps=new ite(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},I0=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Sr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var lte=class extends I0{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},zS=class extends I0{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Sk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),cte=()=>Response,US=e=>{if(Array.isArray(e))return e.map(r=>US(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=US(n)}),t},ute=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},dte=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}function fte(e,t){if(pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hte(e){var t=fte(e,"string");return pp(t)=="symbol"?t:t+""}function mte(e,t,r){return(t=hte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(r),!0).forEach(function(n){mte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const t1=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},pte=async(e,t,r)=>{e instanceof await cte()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const a=e.status||500,i=(n==null?void 0:n.statusCode)||a+"";t(new lte(t1(n),a,i))}).catch(n=>{t(new zS(t1(n),n))}):t(new zS(t1(e),e))},gte=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(ute(n)?(a.headers=Ye({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Ye(Ye({},a),r))};async function Og(e,t,r,n,a,i){return new Promise((o,l)=>{e(r,gte(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>pte(c,l,n))})}async function gp(e,t,r,n){return Og(e,"GET",t,r,n)}async function Fa(e,t,r,n,a){return Og(e,"POST",t,n,a,r)}async function WS(e,t,r,n,a){return Og(e,"PUT",t,n,a,r)}async function xte(e,t,r,n){return Og(e,"HEAD",t,Ye(Ye({},r),{},{noResolveJson:!0}),n)}async function _k(e,t,r,n,a){return Og(e,"DELETE",t,n,a,r)}var vte=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Sr(t))return{data:null,error:t};throw t}}};let k6;k6=Symbol.toStringTag;var yte=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[k6]="BlobDownloadBuilder",this.promise=null}asStream(){return new vte(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Sr(t))return{data:null,error:t};throw t}}};const bte={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var wte=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Sk(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var a=this;try{let i;const o=Ye(Ye({},cT),n);let l=Ye(Ye({},a.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",a.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=a.toBase64(a.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=Ye(Ye({},l),n.headers));const u=a._removeEmptyFolders(t),f=a._getFinalPath(u),d=await(e=="PUT"?WS:Fa)(a.fetch,`${a.url}/object/${f}`,i,Ye({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Sr(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const i=a._removeEmptyFolders(e),o=a._getFinalPath(i),l=new URL(a.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let c;const u=Ye({upsert:cT.upsert},n),f=Ye(Ye({},a.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType),{data:{path:i,fullPath:(await WS(a.fetch,l.toString(),c,{headers:f})).Key},error:null}}catch(c){if(a.shouldThrowOnError)throw c;if(Sr(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const a=Ye({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const i=await Fa(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new I0("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await Fa(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Sr(a))return{data:null,error:a};throw a}}async copy(e,t,r){var n=this;try{return{data:{path:(await Fa(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Sr(a))return{data:null,error:a};throw a}}async createSignedUrl(e,t,r){var n=this;try{let a=n._getFinalPath(e),i=await Fa(n.fetch,`${n.url}/object/sign/${a}`,Ye({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Sr(a))return{data:null,error:a};throw a}}async createSignedUrls(e,t,r){var n=this;try{const a=await Fa(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(o=>Ye(Ye({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Sr(a))return{data:null,error:a};throw a}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>gp(this.fetch,`${this.url}/${r}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new yte(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:US(await gp(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await xte(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Sr(n)&&n instanceof zS){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await _k(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const a=Ye(Ye(Ye({},bte),t),{},{prefix:e||""});return{data:await Fa(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Sr(a))return{data:null,error:a};throw a}}async listV2(e,t){var r=this;try{const n=Ye({},e);return{data:await Fa(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const E6="2.89.0",P6={"X-Client-Info":`storage-js/${E6}`};var jte=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Ye(Ye({},P6),t),this.fetch=Sk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await gp(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await gp(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await Fa(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await WS(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await Fa(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await _k(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Nte=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ye(Ye({},P6),t),this.fetch=Sk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Fa(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await gp(t.fetch,a,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await _k(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!dte(e))throw new I0("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new ote({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const o=a[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(a,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const Ck={"X-Client-Info":`storage-js/${E6}`,"Content-Type":"application/json"};var O6=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function zs(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var r1=class extends O6{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ste=class extends O6{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const kk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),_te=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},uT=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Cte=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,a=e;if(typeof a.json=="function")a.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new r1(uT(i),n,o))}).catch(()=>{const i=n+"";t(new r1(a.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new r1(a.statusText||`HTTP ${n} error`,n,i))}}else t(new Ste(uT(e),e))},kte=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(_te(n)?(a.headers=Ye({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Ye(Ye({},a),r)):a};async function Ete(e,t,r,n,a,i){return new Promise((o,l)=>{e(r,kte(t,n,a,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>Cte(c,l,n))})}async function Us(e,t,r,n,a){return Ete(e,"POST",t,n,a,r)}var Pte=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ye(Ye({},Ck),t),this.fetch=kk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Us(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(zs(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await Us(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(zs(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await Us(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(zs(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await Us(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(zs(n))return{data:null,error:n};throw n}}},Ote=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ye(Ye({},Ck),t),this.fetch=kk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Us(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(zs(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await Us(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(zs(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Us(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(zs(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await Us(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(zs(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Us(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(zs(r))return{data:null,error:r};throw r}}},Ate=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ye(Ye({},Ck),t),this.fetch=kk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Us(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(zs(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Us(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(zs(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await Us(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(zs(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Us(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(zs(r))return{data:null,error:r};throw r}}},Tte=class extends Ate{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Mte(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},Mte=class extends Pte{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Ye(Ye({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Ye(Ye({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new Rte(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Rte=class extends Ote{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Ye(Ye({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Ye(Ye({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Ye(Ye({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Ye(Ye({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Ye(Ye({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Ite=class extends jte{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new wte(this.url,this.headers,e,this.fetch)}get vectors(){return new Tte(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Nte(this.url+"/iceberg",this.headers,this.fetch)}};const A6="2.89.0",Zu=30*1e3,qS=3,n1=qS*Zu,Dte="http://localhost:9999",$te="supabase.auth.token",Lte={"X-Client-Info":`gotrue-js/${A6}`},VS="X-Supabase-Api-Version",T6={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Fte=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Bte=10*60*1e3;class xp extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Le(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class zte extends xp{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Ute(e){return Le(e)&&e.name==="AuthApiError"}class Ec extends xp{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Oo extends xp{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Is extends Oo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Wte(e){return Le(e)&&e.name==="AuthSessionMissingError"}class Lu extends Oo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Dx extends Oo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class $x extends Oo{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qte(e){return Le(e)&&e.name==="AuthImplicitGrantRedirectError"}class dT extends Oo{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vte extends Oo{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class HS extends Oo{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function s1(e){return Le(e)&&e.name==="AuthRetryableFetchError"}class fT extends Oo{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class GS extends Oo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Sy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),hT=` 	
\r=`.split(""),Hte=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<hT.length;t+=1)e[hT[t].charCodeAt(0)]=-2;for(let t=0;t<Sy.length;t+=1)e[Sy[t].charCodeAt(0)]=t;return e})();function mT(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Sy[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Sy[n]),t.queuedBits-=6}}function M6(e,t,r){const n=Hte[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function pT(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{Yte(o,n,r)};for(let o=0;o<e.length;o+=1)M6(e.charCodeAt(o),a,i);return t.join("")}function Gte(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Kte(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Gte(n,t)}}function Yte(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ed(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)M6(e.charCodeAt(a),r,n);return new Uint8Array(t)}function Xte(e){const t=[];return Kte(e,r=>t.push(r)),new Uint8Array(t)}function Mc(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>mT(a,r,n)),mT(null,r,n),t.join("")}function Jte(e){return Math.round(Date.now()/1e3)+e}function Qte(){return Symbol("auth-callback")}const $n=()=>typeof window<"u"&&typeof document<"u",dc={tested:!1,writable:!1},R6=()=>{if(!$n())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(dc.tested)return dc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),dc.tested=!0,dc.writable=!0}catch{dc.tested=!0,dc.writable=!1}return dc.writable};function Zte(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const I6=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ere=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ed=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},fc=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Dn=async(e,t)=>{await e.removeItem(t)};class D0{constructor(){this.promise=new D0.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}D0.promiseConstructor=Promise;function a1(e){const t=e.split(".");if(t.length!==3)throw new GS("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Fte.test(t[n]))throw new GS("JWT not in base64url format");return{header:JSON.parse(pT(t[0])),payload:JSON.parse(pT(t[1])),signature:Ed(t[2]),raw:{header:t[0],payload:t[1]}}}async function tre(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function rre(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function nre(e){return("0"+e.toString(16)).substr(-2)}function sre(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,nre).join("")}async function are(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function ire(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await are(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fu(e,t,r=!1){const n=sre();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await ed(e,`${t}-code-verifier`,a);const i=await ire(n);return[i,n===i?"plain":"s256"]}const ore=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function lre(e){const t=e.headers.get(VS);if(!t||!t.match(ore))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function cre(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ure(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const dre=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Bu(e){if(!dre.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function i1(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function fre(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function gT(e){return JSON.parse(JSON.stringify(e))}const jc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),hre=[502,503,504];async function xT(e){var t;if(!ere(e))throw new HS(jc(e),0);if(hre.includes(e.status))throw new HS(jc(e),e.status);let r;try{r=await e.json()}catch(i){throw new Ec(jc(i),i)}let n;const a=lre(e);if(a&&a.getTime()>=T6["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new fT(jc(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Is}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new fT(jc(r),e.status,r.weak_password.reasons);throw new zte(jc(r),e.status||500,n)}const mre=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Ke(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[VS]||(i[VS]=T6["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await pre(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function pre(e,t,r,n,a,i){const o=mre(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new HS(jc(c),0)}if(l.ok||await xT(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await xT(c)}}function Da(e){var t;let r=null;vre(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Jte(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function vT(e){const t=Da(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Qo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function gre(e){return{data:e,error:null}}function xre(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=sh(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function yT(e){return e}function vre(e){return e.access_token&&e.refresh_token&&e.expires_in}const o1=["global","local","others"];class yre{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=I6(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=o1[0]){if(o1.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${o1.join(", ")}`);try{return await Ke(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Qo})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=sh(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:xre,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Le(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ke(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Qo})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await Ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:yT});if(f.error)throw f.error;const d=await f.json(),h=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(x.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(Le(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Bu(t);try{return await Ke(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Qo})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Bu(t);try{return await Ke(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Qo})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Bu(t);try{return await Ke(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Qo})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Bu(t.userId);try{const{data:r,error:n}=await Ke(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Bu(t.userId),Bu(t.id);try{return{data:await Ke(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await Ke(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:yT});if(f.error)throw f.error;const d=await f.json(),h=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(x.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(Le(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Ke(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ke(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ke(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ke(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ke(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Le(r))return{data:null,error:r};throw r}}}function bT(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const zu={debug:!!(globalThis&&R6()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class D6 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class bre extends D6{}async function wre(e,t,r){zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),zu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new bre(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(zu.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function jre(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function $6(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Nre(e){return parseInt(e,16)}function Sre(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function _re(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:f,uri:d,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=$6(e.address),x=f?`${f}://${n}`:n,g=e.statement?`${e.statement}
`:"",v=`${x} wants you to sign in with your Ethereum account:
${m}

${g}`;let w=`URI: ${d}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(w+=`
Expiration Time: ${a.toISOString()}`),l&&(w+=`
Not Before: ${l.toISOString()}`),c&&(w+=`
Request ID: ${c}`),u){let b=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);b+=`
- ${y}`}w+=b}return`${v}
${w}`}class sn extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class _y extends sn{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Cre({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new sn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new sn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new sn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new sn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new sn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new sn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new sn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new sn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(L6(o)){if(i.rp.id!==o)return new sn({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new sn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new sn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new sn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new sn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function kre({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new sn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new sn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(L6(n)){if(r.rpId!==n)return new sn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new sn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new sn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new sn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Ere{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Pre=new Ere;function Ore(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=sh(e,["challenge","user","excludeCredentials"]),i=Ed(t).buffer,o=Object.assign(Object.assign({},r),{id:Ed(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Ed(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function Are(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=sh(e,["challenge","allowCredentials"]),a=Ed(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Ed(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function Tre(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Mc(new Uint8Array(e.response.attestationObject)),clientDataJSON:Mc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Mre(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Mc(new Uint8Array(a.authenticatorData)),clientDataJSON:Mc(new Uint8Array(a.clientDataJSON)),signature:Mc(new Uint8Array(a.signature)),userHandle:a.userHandle?Mc(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function L6(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function wT(){var e,t;return!!($n()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Rre(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _y("Browser returned unexpected credential type",t)}:{data:null,error:new _y("Empty credential response",t)}}catch(t){return{data:null,error:Cre({error:t,options:e})}}}async function Ire(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _y("Browser returned unexpected credential type",t)}:{data:null,error:new _y("Empty credential response",t)}}catch(t){return{data:null,error:kre({error:t,options:e})}}}const Dre={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},$re={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Cy(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=Cy(l,o):n[i]=Cy(o)}else n[i]=o}return n}function Lre(e,t){return Cy(Dre,e,t||{})}function Fre(e,t){return Cy($re,e,t||{})}class Bre{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=a??Pre.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Lre(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:d}=await Rre({publicKey:u,signal:c});return f?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:d}}case"request":{const u=Fre(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:d}=await Ire(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return f?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:d}}}}catch(o){return Le(o)?{data:null,error:o}:{data:null,error:new Ec("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new xp("rpId is required for WebAuthn authentication")};try{if(!wT())return{data:null,error:new Ec("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Le(o)?{data:null,error:o}:{data:null,error:new Ec("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new xp("rpId is required for WebAuthn registration")};try{if(!wT())return{data:null,error:new Ec("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(f=>{var d;return(d=f.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Le(o)?{data:null,error:o}:{data:null,error:new Ec("Unexpected error in register",o)}}}}jre();const zre={url:Dte,storageKey:$te,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Lte,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function jT(e,t,r){return await r()}const Uu={};class vp{get jwks(){var t,r;return(r=(t=Uu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Uu[this.storageKey]=Object.assign(Object.assign({},Uu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Uu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Uu[this.storageKey]=Object.assign(Object.assign({},Uu[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},zre),t);if(this.storageKey=i.storageKey,this.instanceID=(r=vp.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,vp.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&$n()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new yre({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=I6(i.fetch),this.lock=i.lock||jT,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&$n()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=wre:this.lock=jT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Bre(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:R6()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=bT(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=bT(this.memoryStorage)),$n()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${A6}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if($n()&&(r=Zte(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),$n()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),qte(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Le(r)?this._returnResult({error:r}):this._returnResult({error:new Ec("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Da}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Le(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:f,password:d,options:h}=t;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await Fu(this.storage,this.storageKey)),i=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:f,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:x},xform:Da})}else if("phone"in t){const{phone:f,password:d,options:h}=t;i=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Da})}else throw new Dx("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await Dn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await Dn(this.storage,`${this.storageKey}-code-verifier`),Le(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:vT})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:vT})}else throw new Dx("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new Lu;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Le(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,u,f,d,h;let m,x;if("message"in t)m=t.message,x=t.signature;else{const{chain:g,wallet:v,statement:w,options:b}=t;let y;if($n())if(typeof v=="object")y=v;else{const E=window;if("ethereum"in E&&typeof E.ethereum=="object"&&"request"in E.ethereum&&typeof E.ethereum.request=="function")y=E.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=v}const N=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),j=await y.request({method:"eth_requestAccounts"}).then(E=>E).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=$6(j[0]);let _=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!_){const E=await y.request({method:"eth_chainId"});_=Nre(E)}const k={domain:N.host,address:S,statement:w,uri:N.href,version:"1",chainId:_,nonce:(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(f=b==null?void 0:b.signInWithEthereum)===null||f===void 0?void 0:f.resources};m=_re(k),x=await y.request({method:"personal_sign",params:[Sre(m),S]})}try{const{data:g,error:v}=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:x},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Da});if(v)throw v;if(!g||!g.session||!g.user){const w=new Lu;return this._returnResult({data:{user:null,session:null},error:w})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:v})}catch(g){if(Le(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,n,a,i,o,l,c,u,f,d,h,m;let x,g;if("message"in t)x=t.message,g=t.signature;else{const{chain:v,wallet:w,statement:b,options:y}=t;let N;if($n())if(typeof w=="object")N=w;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))N=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=w}const j=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in N&&N.signIn){const S=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),b?{statement:b}:null));let _;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")_=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)_=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)x=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),g=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${j.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((d=(f=y==null?void 0:y.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||d===void 0)&&d.length?["Resources",...y.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const S=await N.signMessage(new TextEncoder().encode(x),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=S}}try{const{data:v,error:w}=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Mc(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Da});if(w)throw w;if(!v||!v.session||!v.user){const b=new Lu;return this._returnResult({data:{user:null,session:null},error:b})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:w})}catch(v){if(Le(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await fc(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Vte;const{data:i,error:o}=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Da});if(await Dn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new Lu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(await Dn(this.storage,`${this.storageKey}-code-verifier`),Le(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Da}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const f=new Lu;return this._returnResult({data:{user:null,session:null},error:f})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Le(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Fu(this.storage,this.storageKey));const{error:d}=await Ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:f}=await Ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f})}throw new Dx("You must provide either an email or phone number.")}catch(l){if(await Dn(this.storage,`${this.storageKey}-code-verifier`),Le(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Da});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Le(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Fu(this.storage,this.storageKey));const u=await Ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:gre});return!((i=u.data)===null||i===void 0)&&i.url&&$n()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Dn(this.storage,`${this.storageKey}-code-verifier`),Le(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Is;const{error:a}=await Ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Le(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Ke(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await Ke(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Dx("You must provide either an email or phone number and a type")}catch(r){if(Le(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await fc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<n1:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await fc(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=i1()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=fre(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Qo}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Is}:await Ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Qo})})}catch(r){if(Le(r))return Wte(r)&&(await this._removeSession(),await Dn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Is;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Fu(this.storage,this.storageKey));const{data:u,error:f}=await Ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Qo});if(f)throw f;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await Dn(this.storage,`${this.storageKey}-code-verifier`),Le(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Is;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=a1(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Le(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Is;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Le(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!$n())throw new $x("No browser detected.");if(t.error||t.error_description||t.error_code)throw new $x(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new dT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $x("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new dT("No code detected.");const{data:b,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new $x("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(l);let h=f+d;c&&(h=parseInt(c));const m=h-f;m*1e3<=Zu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const x=h-d;f-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,f):f-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,f);const{data:g,error:v}=await this._getUser(i);if(v)throw v;const w={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:t.type},error:null})}catch(n){if(Le(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await fc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Ute(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Dn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Qte(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Fu(this.storage,this.storageKey,!0));try{return await Ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Dn(this.storage,`${this.storageKey}-code-verifier`),Le(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Le(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,f;const{data:d,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ke(this.fetch,"GET",m,{headers:this.headers,jwt:(f=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(a)throw a;return $n()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Le(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:f}=t,d=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Da}),{data:h,error:m}=d;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Lu}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(a){if(await Dn(this.storage,`${this.storageKey}-code-verifier`),Le(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Ke(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Le(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await rre(async a=>(a>0&&await tre(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Da})),(a,i)=>{const o=200*Math.pow(2,a);return i&&s1(i)&&Date.now()+o-n<Zu})}catch(n){if(this._debug(r,"error",n),Le(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),$n()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await fc(this.storage,this.storageKey);if(a&&this.userStorage){let o=await fc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await ed(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:i1()}else if(a&&!a.user&&!a.user){const o=await fc(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Dn(this.storage,this.storageKey+"-user"),await ed(this.storage,this.storageKey,a)):a.user=i1()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<n1;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${n1}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),s1(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Is;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new D0;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Is;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Le(i)){const o={data:null,error:i};return s1(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Dn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ed(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=gT(a);await ed(this.storage,this.storageKey,i)}else{const a=gT(r);await ed(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Dn(this.storage,this.storageKey),await Dn(this.storage,this.storageKey+"-code-verifier"),await Dn(this.storage,this.storageKey+"-user"),this.userStorage&&await Dn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&$n()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Zu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Zu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Zu}ms, refresh threshold is ${qS} ticks`),a<=qS&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof D6)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$n()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Fu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await Ke(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Le(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Ke(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Le(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Tre(t.webauthn.credential_response):Mre(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Le(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await Ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Ore(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Are(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Le(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=a1(n.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Ke(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Is})})}catch(r){if(Le(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Is});const o=await Ke(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&$n()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Le(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Is});const o=await Ke(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&$n()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Le(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Ke(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Is})})}catch(t){if(Le(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Ke(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Is})})}catch(r){if(Le(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Bte>a)return n;const{data:i,error:o}=await Ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:x}=await this.getSession();if(x||!m.session)return this._returnResult({data:null,error:x});n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=a1(n);r!=null&&r.allowExpired||cre(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const f=ure(a.alg),d=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,d,o,Xte(`${l}.${c}`)))throw new GS("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Le(n))return this._returnResult({data:null,error:n});throw n}}}vp.nextInstanceID={};const Ure=vp,Wre="2.89.0";let dm="";typeof Deno<"u"?dm="deno":typeof document<"u"?dm="web":typeof navigator<"u"&&navigator.product==="ReactNative"?dm="react-native":dm="node";const qre={"X-Client-Info":`supabase-js-${dm}/${Wre}`},Vre={headers:qre},Hre={schema:"public"},Gre={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Kre={};function yp(e){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(e)}function Yre(e,t){if(yp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xre(e){var t=Yre(e,"string");return yp(t)=="symbol"?t:t+""}function Jre(e,t,r){return(t=Xre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NT(Object(r),!0).forEach(function(n){Jre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Qre=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Zre=()=>Headers,ene=(e,t,r)=>{const n=Qre(r),a=Zre();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,$r($r({},o),{},{headers:u}))}};function tne(e){return e.endsWith("/")?e:e+"/"}function rne(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:f,global:d}=t,h={db:$r($r({},c),a),auth:$r($r({},u),i),realtime:$r($r({},f),o),storage:{},global:$r($r($r({},d),l),{},{headers:$r($r({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function nne(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(tne(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var sne=class extends Ure{constructor(e){super(e)}},ane=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const i=nne(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:Hre,realtime:Kre,auth:$r($r({},Gre),{},{storageKey:o}),global:Vre},c=rne(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=ene(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient($r({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new Lee(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Ite(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Mee(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},f,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sne({url:this.authUrl.href,headers:$r($r({},h),f),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:o,lock:l,debug:c,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new tte(this.realtimeUrl.href,$r($r({},e),{},{params:$r($r({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const ine=(e,t,r)=>new ane(e,t,r);function one(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}one()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const lne="https://xfjlwxssxfvhbiytcoar.supabase.co",cne="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inhmamx3eHNzeGZ2aGJpeXRjb2FyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk2NDI4MDUsImV4cCI6MjA4NTIxODgwNX0.EgH-i0SBnlWH3lF4ZgZ3b8SRdBZc5fZruWmyaIu9GIQ",H=ine(lne,cne,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),F6=p.createContext(void 0),une=({children:e})=>{const[t,r]=p.useState(null),[n,a]=p.useState(null),[i,o]=p.useState(!0);p.useEffect(()=>{const{data:{subscription:c}}=H.auth.onAuthStateChange((u,f)=>{a(f),r((f==null?void 0:f.user)??null),o(!1)});return H.auth.getSession().then(({data:{session:u}})=>{a(u),r((u==null?void 0:u.user)??null)}).catch(u=>{console.error("Error getting session:",u),a(null),r(null)}).finally(()=>{o(!1)}),()=>c.unsubscribe()},[]);const l=async()=>{await H.auth.signOut()};return s.jsx(F6.Provider,{value:{user:t,session:n,loading:i,signOut:l},children:e})},ut=()=>{const e=p.useContext(F6);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Bo={pomodoro_work_duration:25,pomodoro_short_break:5,pomodoro_long_break:15,font_size:"medium",language:"es"},B6=p.createContext(null),dne=({children:e})=>{const{user:t}=ut(),[r,n]=p.useState(Bo),[a,i]=p.useState(!0);p.useEffect(()=>{t?o():(n(Bo),i(!1))},[t]),p.useEffect(()=>{const c=document.documentElement;switch(c.classList.remove("text-sm","text-base","text-lg"),r.font_size){case"small":c.classList.add("text-sm");break;case"large":c.classList.add("text-lg");break;default:c.classList.add("text-base")}},[r.font_size]);const o=async()=>{if(t)try{const{data:c,error:u}=await H.from("user_settings").select("*").eq("user_id",t.id).maybeSingle();if(u)throw u;if(c)n({pomodoro_work_duration:c.pomodoro_work_duration,pomodoro_short_break:c.pomodoro_short_break,pomodoro_long_break:c.pomodoro_long_break,font_size:c.font_size||"medium",language:c.language||"es"});else{const{error:f}=await H.from("user_settings").insert({user_id:t.id,pomodoro_work_duration:Bo.pomodoro_work_duration,pomodoro_short_break:Bo.pomodoro_short_break,pomodoro_long_break:Bo.pomodoro_long_break,font_size:Bo.font_size,language:Bo.language});if(f)throw f;n(Bo)}}catch(c){console.error("Error fetching user settings:",c)}finally{i(!1)}},l=async c=>{if(t)try{const{error:u}=await H.from("user_settings").update(c).eq("user_id",t.id);if(u)throw u;n(f=>({...f,...c}))}catch(u){throw console.error("Error updating settings:",u),u}};return s.jsx(B6.Provider,{value:{settings:r,loading:a,updateSettings:l},children:e})},$0=()=>{const e=p.useContext(B6);if(!e)throw new Error("useUserSettings must be used within UserSettingsProvider");return e},fne=({children:e})=>{const{user:t,loading:r}=ut();return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(_e,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Cargando..."})]})}):t?s.jsx(s.Fragment,{children:e}):s.jsx(jk,{to:"/login",replace:!0})};function hne(){return p.useEffect(()=>{const e=async t=>{var c,u;if(t.origin!==window.location.origin)return;const r=t.data;if(!r||r.type!=="oauth:google")return;const n=r.access_token,a=r.refresh_token,i=r.provider_token,o=r.provider_refresh_token;if(!n||!a)return;try{localStorage.removeItem("google_provider_token"),localStorage.removeItem("google_provider_refresh_token"),localStorage.removeItem("google_token_expires_at")}catch{}const{error:l}=await H.auth.setSession({access_token:n,refresh_token:a});if(l){V.error(l.message||"No se pudo completar el login con Google");return}try{if(i){localStorage.setItem("google_provider_token",i);const f=Date.now()+3600*1e3;localStorage.setItem("google_token_expires_at",f.toString())}else{const{data:f}=await H.auth.getSession(),d=(c=f.session)==null?void 0:c.provider_token;if(d){localStorage.setItem("google_provider_token",d);const h=Date.now()+3600*1e3;localStorage.setItem("google_token_expires_at",h.toString())}}if(o)localStorage.setItem("google_provider_refresh_token",o);else{const{data:f}=await H.auth.getSession(),d=(u=f.session)==null?void 0:u.provider_refresh_token;d&&localStorage.setItem("google_provider_refresh_token",d)}}catch(f){console.warn("Could not persist Google provider tokens:",f)}V.success("Conectado con Google")};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[]),null}const mne={light:10,medium:25,heavy:50,success:[10,50,10],warning:[30,30,30],error:[50,100,50],selection:5},Ag=()=>{const e=typeof navigator<"u"&&"vibrate"in navigator,t=p.useCallback((f="light")=>{if(!e)return!1;try{const d=mne[f];return navigator.vibrate(d)}catch{return!1}},[e]),r=p.useCallback(()=>t("light"),[t]),n=p.useCallback(()=>t("medium"),[t]),a=p.useCallback(()=>t("heavy"),[t]),i=p.useCallback(()=>t("success"),[t]),o=p.useCallback(()=>t("warning"),[t]),l=p.useCallback(()=>t("error"),[t]),c=p.useCallback(()=>t("selection"),[t]),u=p.useCallback(()=>{e&&navigator.vibrate(0)},[e]);return{isSupported:e,vibrate:t,lightTap:r,mediumTap:n,heavyTap:a,success:i,warning:o,error:l,selection:c,stop:u}},pne=[{icon:nL,label:"Dashboard",path:"/dashboard"},{icon:Sg,label:"Tareas",path:"/tasks"},{icon:ou,label:"JARVIS",path:null,isJarvis:!0},{icon:ja,label:"Chat",path:"/chat"},{icon:tf,label:"Ajustes",path:"/settings"}],z6=({onJarvisPress:e,isJarvisActive:t=!1})=>{const r=oi(),{selection:n}=Ag(),a=()=>{n()},i=()=>{n(),e==null||e()};return s.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-40 lg:hidden bg-background/95 backdrop-blur-md border-t border-border safe-bottom",children:s.jsx("div",{className:"flex items-center justify-around h-16 px-1",children:pne.map(o=>{if(o.isJarvis)return s.jsxs("button",{onClick:i,className:z("flex flex-col items-center justify-center gap-0.5 py-2 px-3 rounded-xl transition-all touch-manipulation min-w-[60px]",t?"text-destructive":"text-muted-foreground hover:text-foreground active:bg-accent/50"),children:[s.jsx("div",{className:z("flex items-center justify-center w-8 h-8 rounded-full",t?"bg-destructive/20":"bg-primary/10"),children:s.jsx(o.icon,{className:z("w-5 h-5",t&&"animate-pulse")})}),s.jsx("span",{className:z("text-[10px] font-semibold",t&&"text-destructive"),children:o.label})]},"jarvis");const l=r.pathname===o.path;return s.jsxs(IS,{to:o.path,onClick:a,className:z("flex flex-col items-center justify-center gap-0.5 py-2 px-3 rounded-xl transition-all touch-manipulation min-w-[60px]",l?"text-primary":"text-muted-foreground hover:text-foreground active:bg-accent/50"),children:[s.jsx(o.icon,{className:z("w-5 h-5",l&&"scale-110")}),s.jsx("span",{className:"text-[10px] font-medium",children:o.label})]},o.path)})})})},bp=Xf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),U=p.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?w$:"button";return s.jsx(o,{className:z(bp({variant:t,size:r,className:e})),ref:i,...a})});U.displayName="Button";const ST=({level:e,color:t})=>s.jsx("div",{className:"flex items-center gap-[2px] h-5",children:Array.from({length:12}).map((n,a)=>{const i=Math.sin(a/12*Math.PI*2)*.3,o=e>.05?Math.max(4,(e+i)*16+Math.random()*4):4;return s.jsx("div",{className:z("w-[2px] rounded-full transition-all duration-75",t),style:{height:`${o}px`}},a)})}),gne=({state:e,transcript:t,audioLevel:r,onClose:n})=>{const a=()=>{switch(e){case"listening":return s.jsx(ou,{className:"h-4 w-4 text-destructive"});case"processing":return s.jsx(_e,{className:"h-4 w-4 animate-spin text-primary"});case"speaking":return s.jsx(cu,{className:"h-4 w-4 text-primary animate-pulse"});default:return s.jsx(ou,{className:"h-4 w-4 text-muted-foreground"})}},i=()=>{switch(e){case"listening":return t||"Escuchando...";case"processing":return"JARVIS est pensando...";case"speaking":return"JARVIS est hablando...";default:return"Iniciando..."}};return s.jsx("div",{className:z("fixed top-0 left-0 right-0 z-50","bg-card/95 backdrop-blur-md border-b border-primary/30","shadow-lg shadow-primary/10","animate-in slide-in-from-top duration-200","safe-top"),children:s.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[s.jsx("div",{className:z("flex items-center justify-center w-8 h-8 rounded-full shrink-0",e==="listening"&&"bg-destructive/20",e==="processing"&&"bg-primary/20",e==="speaking"&&"bg-primary/20",e==="idle"&&"bg-muted"),children:a()}),e==="listening"&&s.jsx(ST,{level:r,color:"bg-destructive"}),e==="speaking"&&s.jsx(ST,{level:.6,color:"bg-primary"}),s.jsx("span",{className:"flex-1 text-sm text-foreground truncate",children:i()}),s.jsx(U,{size:"icon",variant:"ghost",className:"h-8 w-8 shrink-0 hover:bg-destructive/20 hover:text-destructive",onClick:n,children:s.jsx(kt,{className:"h-4 w-4"})})]})})},xne="gpt-4o-realtime-preview-2024-12-17";function vne(e={}){const{onTranscript:t,onResponse:r,onStateChange:n}=e,[a,i]=p.useState("idle"),[o,l]=p.useState(!1),[c,u]=p.useState(""),[f,d]=p.useState(""),h=p.useRef(null),m=p.useRef(null),x=p.useRef(null),g=p.useRef(null);p.useRef(new Map);const v=p.useRef(null),w=p.useRef(!1),b=p.useRef(null),y=p.useRef(0),N=p.useCallback($=>{i($),n==null||n($)},[n]),j=p.useCallback($=>{var R;((R=m.current)==null?void 0:R.readyState)==="open"?(console.log("[JARVIS] Sending event:",JSON.stringify($).substring(0,200)),m.current.send(JSON.stringify($))):console.warn("[JARVIS] Data channel not open, cannot send event")},[]),S=p.useCallback(()=>{v.current&&(clearTimeout(v.current),v.current=null),b.current&&(clearTimeout(b.current),b.current=null)},[]),_=p.useCallback(async($,R)=>{var T,L;console.log("[JARVIS] Executing function:",$,R);try{switch($){case"create_task":{const{data:I,error:P}=await H.from("tasks").insert({title:R.title,type:R.type,priority:R.priority,duration:R.duration,completed:!1,user_id:(T=(await H.auth.getUser()).data.user)==null?void 0:T.id}).select().single();if(P)throw P;return JSON.stringify({success:!0,task:I})}case"complete_task":{const I=R.task_title.toLowerCase(),{data:P}=await H.from("tasks").select("id, title").eq("completed",!1).ilike("title",`%${I}%`).limit(1);if(!(P!=null&&P.length))return JSON.stringify({success:!1,message:"No se encontr la tarea"});const{error:M}=await H.from("tasks").update({completed:!0,completed_at:new Date().toISOString()}).eq("id",P[0].id);if(M)throw M;return JSON.stringify({success:!0,task:P[0].title})}case"list_pending_tasks":{const{data:I}=await H.from("tasks").select("title, type, priority, duration").eq("completed",!1).order("created_at",{ascending:!1}).limit(10);return JSON.stringify({tasks:I||[]})}case"get_today_summary":{const I=new Date().toISOString().split("T")[0],[{data:P},{data:M}]=await Promise.all([H.from("tasks").select("title, completed, type").gte("created_at",I),H.from("check_ins").select("*").eq("date",I).maybeSingle()]),F=(P==null?void 0:P.filter(q=>q.completed).length)||0,B=(P==null?void 0:P.filter(q=>!q.completed).length)||0;return JSON.stringify({date:I,tasksCompleted:F,tasksPending:B,checkIn:M?{energy:M.energy,mood:M.mood,focus:M.focus}:null})}case"create_event":{const I=new Date().toISOString().split("T")[0],P=new Date(`${I}T${R.time}:00`),M=new Date(P.getTime()+R.duration*60*1e3),{data:F,error:B}=await H.functions.invoke("icloud-calendar",{body:{action:"create",title:R.title,start:P.toISOString(),end:M.toISOString(),description:R.description||""}});if(B)throw B;return JSON.stringify({success:!0,event:F})}case"log_observation":{const I=new Date().toISOString().split("T")[0],P=(L=(await H.auth.getUser()).data.user)==null?void 0:L.id,{data:M}=await H.from("daily_observations").select("id, observations").eq("user_id",P).eq("date",I).maybeSingle(),F=R.observation,B=M!=null&&M.observations?`${M.observations}
${F}`:F;return M?await H.from("daily_observations").update({observations:B}).eq("id",M.id):await H.from("daily_observations").insert({user_id:P,date:I,observations:F}),JSON.stringify({success:!0,message:"Observacin registrada"})}case"get_my_stats":{const I=new Date,P=new Date(I);P.setDate(P.getDate()-7);const[{data:M},{data:F},{data:B}]=await Promise.all([H.from("pomodoro_sessions").select("id").gte("created_at",P.toISOString()),H.from("tasks").select("id, completed").gte("created_at",P.toISOString()),H.from("check_ins").select("date").gte("date",P.toISOString().split("T")[0]).order("date",{ascending:!1})]),q=(B==null?void 0:B.length)||0,J=(F==null?void 0:F.filter(he=>he.completed).length)||0,W=(F==null?void 0:F.length)||0,ne=(M==null?void 0:M.length)||0;return JSON.stringify({weeklyStreak:q,pomodoroSessions:ne,tasksCompleted:J,totalTasks:W,completionRate:W>0?Math.round(J/W*100):0})}case"ask_about_habits":{const{data:I}=await H.from("habit_insights").select("insight_type, title, description, created_at").order("created_at",{ascending:!1}).limit(5);return I!=null&&I.length?JSON.stringify({question:R.question,insights:I.map(P=>({type:P.insight_type,title:P.title,description:P.description}))}):JSON.stringify({message:"An no hay suficientes datos para generar insights sobre hbitos.",suggestion:"Contine usando la app durante unos das ms."})}case"delete_event":{const{data:I,error:P}=await H.functions.invoke("icloud-calendar",{body:{action:"delete",title:R.event_title}});if(P)throw P;return JSON.stringify({success:!0,deleted:R.event_title})}default:return JSON.stringify({error:`Funcin ${$} no implementada`})}}catch(I){return console.error("[JARVIS] Function execution error:",I),JSON.stringify({error:I instanceof Error?I.message:"Error desconocido"})}},[]),k=p.useCallback(()=>{b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{const R=Date.now()-y.current;a==="processing"&&R>1200&&(console.log("[JARVIS] Response watchdog triggered - forcing response.create"),j({type:"response.create"}),b.current=setTimeout(()=>{a==="processing"&&(console.log("[JARVIS] Still no response after watchdog, returning to listening"),N("listening"))},3e3))},1500)},[a,j,N]),E=p.useCallback(async $=>{const R=$.type;switch(console.log("[JARVIS] Realtime event:",R),R.startsWith("response.")&&(y.current=Date.now(),b.current&&(clearTimeout(b.current),b.current=null)),R){case"input_audio_buffer.speech_started":N("listening");break;case"input_audio_buffer.speech_stopped":N("processing"),k();break;case"conversation.item.input_audio_transcription.completed":$.transcript&&(u($.transcript),t==null||t($.transcript));break;case"response.audio_transcript.delta":$.delta&&(N("speaking"),d(T=>T+$.delta));break;case"response.audio_transcript.done":$.transcript&&(d($.transcript),r==null||r($.transcript));break;case"response.function_call_arguments.done":{const T=$.call_id,L=$.name,I=$.arguments;console.log("[JARVIS] Function call:",L,I),N("processing");try{const P=JSON.parse(I||"{}"),M=await _(L,P);j({type:"conversation.item.create",item:{type:"function_call_output",call_id:T,output:M}}),j({type:"response.create"})}catch(P){console.error("[JARVIS] Error processing function call:",P),j({type:"conversation.item.create",item:{type:"function_call_output",call_id:T,output:JSON.stringify({error:"Error al ejecutar la funcin"})}}),j({type:"response.create"})}break}case"response.done":N("listening"),d("");break;case"error":{const T=$.error,L=(T==null?void 0:T.message)||"Error desconocido",I=(T==null?void 0:T.code)||"";console.error("[JARVIS] Realtime API error:",I,L),V.error(`Error: ${L}`);break}}},[N,t,r,_,j,k]),A=p.useCallback(()=>{console.log("[JARVIS] Stopping session..."),S(),w.current=!1,m.current&&(m.current.close(),m.current=null),h.current&&(h.current.close(),h.current=null),x.current&&(x.current.getTracks().forEach($=>$.stop()),x.current=null),g.current&&(g.current.srcObject=null,g.current.remove(),g.current=null),l(!1),N("idle"),u(""),d("")},[N,S]),C=p.useCallback(async()=>{var T,L;if(o){console.log("[JARVIS] Session already active, skipping start");return}const{data:$}=await H.auth.getSession();if(!($!=null&&$.session)){V.error("Inicie sesin para usar JARVIS");return}const R=I=>{console.log("[JARVIS] Cleanup on error:",I||"unknown"),S(),w.current=!1,m.current&&(m.current.close(),m.current=null),h.current&&(h.current.close(),h.current=null),x.current&&(x.current.getTracks().forEach(P=>P.stop()),x.current=null),g.current&&(g.current.srcObject=null,g.current.remove(),g.current=null),l(!1),N("idle")};try{N("connecting"),l(!0),console.log("[JARVIS] Getting ephemeral token...");const{data:I,error:P}=await H.functions.invoke("jarvis-voice");if(P||!((T=I==null?void 0:I.client_secret)!=null&&T.value))throw console.error("[JARVIS] Failed to get ephemeral token:",P,I),new Error("No se pudo obtener el token de sesin");const M=I.client_secret.value;console.log("[JARVIS] Got ephemeral token, requesting microphone access...");try{x.current=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}}),console.log("[JARVIS] Microphone access granted")}catch(ce){throw console.error("[JARVIS] Microphone access denied:",ce),new Error("Se requiere acceso al micrfono para usar JARVIS")}console.log("[JARVIS] Creating RTCPeerConnection with ICE servers...");const F=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]});h.current=F,console.log("[JARVIS] PeerConnection created successfully"),F.onconnectionstatechange=()=>{const ce=F.connectionState,re=F.iceConnectionState;switch(console.log("[JARVIS] Connection state:",ce,"ICE state:",re),v.current&&(clearTimeout(v.current),v.current=null),ce){case"connected":w.current=!1;break;case"disconnected":if(console.log("[JARVIS] Connection disconnected, attempting recovery..."),!w.current){w.current=!0,console.log("[JARVIS] Attempting ICE restart...");try{F.restartIce()}catch(se){console.warn("[JARVIS] ICE restart failed:",se)}}v.current=setTimeout(()=>{(F.connectionState==="disconnected"||F.connectionState==="failed")&&(console.error("[JARVIS] Connection did not recover after timeout"),V.error("Conexin perdida con JARVIS"),R("disconnect_timeout"))},8e3);break;case"failed":console.error("[JARVIS] WebRTC connection failed"),V.error("Error de conexin WebRTC"),R("connection_failed");break;case"closed":console.log("[JARVIS] Connection closed normally");break}},F.oniceconnectionstatechange=()=>{console.log("[JARVIS] ICE state:",F.iceConnectionState)};const B=x.current.getTracks();console.log("[JARVIS] Adding microphone tracks:",B.length),B.forEach(ce=>{console.log("[JARVIS] Adding track:",ce.kind,ce.label),F.addTrack(ce,x.current)}),console.log("[JARVIS] Creating audio element for playback...");const q=document.createElement("audio");q.autoplay=!0,q.playsInline=!0,q.setAttribute("playsinline",""),q.setAttribute("autoplay",""),q.style.display="none",document.body.appendChild(q),g.current=q,console.log("[JARVIS] Audio element created and added to DOM"),F.ontrack=ce=>{console.log("[JARVIS] Received remote audio track:",ce.streams.length,"streams"),q.srcObject=ce.streams[0],q.play().catch(re=>console.log("[JARVIS] Audio play warning (normal on some browsers):",re.message))};const J=F.createDataChannel("oai-events");m.current=J,J.onopen=()=>{console.log("[JARVIS] Data channel open - ready for conversation!"),j({type:"session.update",session:{modalities:["text","audio"],instructions:`Eres JARVIS, el asistente personal de IA de alta gama. Hablas espaol con un tono profesional pero cercano, como el JARVIS de Iron Man. 

Tu rol principal es ayudar al usuario a gestionar su da a da:
- Crear y gestionar tareas
- Consultar y crear eventos en el calendario
- Proporcionar resmenes diarios
- Dar insights sobre productividad y hbitos

Siempre:
- S conciso y directo
- Usa un tono confiable y eficiente
- Confirma las acciones realizadas
- Ofrece sugerencias proactivas cuando sea apropiado

Cuando el usuario pida crear una tarea, usa la funcin create_task.
Cuando pida ver tareas pendientes, usa list_pending_tasks.
Cuando pida completar una tarea, usa complete_task.
Cuando pida un resumen del da, usa get_today_summary.
Cuando pida crear un evento o cita, usa create_event.
Cuando pida registrar una observacin o nota, usa log_observation.
Cuando pregunte sobre sus estadsticas o rendimiento, usa get_my_stats.
Cuando pregunte sobre sus hbitos o patrones, usa ask_about_habits.
Cuando pida eliminar o cancelar un evento, usa delete_event.`,voice:"ash",input_audio_format:"pcm16",output_audio_format:"pcm16",input_audio_transcription:{model:"whisper-1"},turn_detection:{type:"server_vad",threshold:.5,prefix_padding_ms:300,silence_duration_ms:500},tools:[{type:"function",name:"create_task",description:"Crea una nueva tarea para el usuario",parameters:{type:"object",properties:{title:{type:"string",description:"Ttulo de la tarea"},type:{type:"string",enum:["work","personal","health","learning"],description:"Tipo de tarea"},priority:{type:"string",enum:["low","medium","high"],description:"Prioridad de la tarea"},duration:{type:"number",description:"Duracin estimada en minutos"}},required:["title","type","priority","duration"]}},{type:"function",name:"complete_task",description:"Marca una tarea como completada buscando por ttulo",parameters:{type:"object",properties:{task_title:{type:"string",description:"Ttulo o parte del ttulo de la tarea a completar"}},required:["task_title"]}},{type:"function",name:"list_pending_tasks",description:"Lista las tareas pendientes del usuario",parameters:{type:"object",properties:{}}},{type:"function",name:"get_today_summary",description:"Obtiene un resumen del da actual incluyendo tareas y check-in",parameters:{type:"object",properties:{}}},{type:"function",name:"create_event",description:"Crea un evento o cita en el calendario",parameters:{type:"object",properties:{title:{type:"string",description:"Ttulo del evento"},time:{type:"string",description:"Hora del evento en formato HH:MM"},duration:{type:"number",description:"Duracin en minutos"},description:{type:"string",description:"Descripcin opcional del evento"}},required:["title","time","duration"]}},{type:"function",name:"log_observation",description:"Registra una observacin o nota del da",parameters:{type:"object",properties:{observation:{type:"string",description:"La observacin o nota a registrar"}},required:["observation"]}},{type:"function",name:"get_my_stats",description:"Obtiene estadsticas de productividad del usuario de la ltima semana",parameters:{type:"object",properties:{}}},{type:"function",name:"ask_about_habits",description:"Consulta insights sobre los hbitos y patrones del usuario",parameters:{type:"object",properties:{question:{type:"string",description:"Pregunta especfica sobre los hbitos"}},required:["question"]}},{type:"function",name:"delete_event",description:"Elimina o cancela un evento del calendario",parameters:{type:"object",properties:{event_title:{type:"string",description:"Ttulo del evento a eliminar"}},required:["event_title"]}}]}}),N("listening"),V.success("JARVIS conectado")},J.onmessage=ce=>{try{const re=JSON.parse(ce.data);E(re)}catch(re){console.error("[JARVIS] Error parsing realtime event:",re)}},J.onerror=ce=>{var me;const se=((me=ce.error)==null?void 0:me.message)||"Error en canal de datos";console.error("[JARVIS] Data channel error:",se),V.error(`Error de comunicacin: ${se}`)},J.onclose=()=>{console.log("[JARVIS] Data channel closed"),o&&F.connectionState==="connected"&&(console.warn("[JARVIS] Data channel closed unexpectedly"),V.error("Sesin de voz finalizada"),R("datachannel_closed"))},console.log("[JARVIS] Creating WebRTC offer...");const W=await F.createOffer();await F.setLocalDescription(W),F.iceGatheringState!=="complete"&&(console.log("[JARVIS] Waiting for ICE gathering to complete..."),await new Promise(ce=>{const re=()=>{console.log("[JARVIS] ICE gathering state:",F.iceGatheringState),F.iceGatheringState==="complete"&&ce()};F.onicegatheringstatechange=re,re(),setTimeout(()=>{console.log("[JARVIS] ICE gathering timeout, proceeding..."),ce()},5e3)})),console.log("[JARVIS] ICE gathering complete, local SDP ready");const ne=(L=F.localDescription)==null?void 0:L.sdp;if(!ne)throw new Error("No se pudo generar la descripcin SDP local");console.log("[JARVIS] Sending offer to OpenAI Realtime API...");const he=await fetch(`https://api.openai.com/v1/realtime?model=${encodeURIComponent(xne)}`,{method:"POST",headers:{Authorization:`Bearer ${M}`,"Content-Type":"application/sdp",Accept:"application/sdp"},body:ne});if(!he.ok){const ce=await he.text();throw console.error("[JARVIS] OpenAI Realtime error:",he.status,ce),new Error(`Error de OpenAI (${he.status}): ${ce.substring(0,100)}`)}const ie=await he.text();console.log("[JARVIS] Got answer SDP, setting remote description..."),await F.setRemoteDescription({type:"answer",sdp:ie}),console.log("[JARVIS] WebRTC connection established successfully!")}catch(I){console.error("[JARVIS] Error starting session:",I),V.error(I instanceof Error?I.message:"Error al iniciar JARVIS"),R("start_error")}},[o,N,E,j,S]),O=p.useCallback(()=>{console.log("[JARVIS] Toggle session, isActive:",o),o?A():C()},[o,C,A]);return p.useEffect(()=>()=>{S(),h.current&&h.current.close(),x.current&&x.current.getTracks().forEach($=>$.stop()),g.current&&g.current.remove()},[S]),{state:a,isActive:o,transcript:c,response:f,startSession:C,stopSession:A,toggleSession:O}}const yne=({children:e,showBackButton:t=!1})=>{const r=oi(),{isActive:n,state:a,transcript:i,response:o,toggleSession:l,stopSession:c}=vne(),u=r.pathname==="/login",f=a==="connecting"?"processing":a==="listening"?"listening":a==="speaking"?"speaking":"idle",d=a==="speaking"&&o?o:i;return s.jsxs("div",{className:"min-h-screen bg-background",children:[n&&s.jsx(gne,{state:f,transcript:d,audioLevel:a==="listening"?.5:0,onClose:c}),s.jsx("main",{className:z("pb-20 lg:pb-0",n&&"pt-14"),children:e}),!u&&s.jsx(z6,{onJarvisPress:l,isJarvisActive:n})]})},be=p.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:z("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));be.displayName="Input";var bne="Label",U6=p.forwardRef((e,t)=>s.jsx(Ne.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));U6.displayName=bne;var W6=U6;const wne=Xf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ue=p.forwardRef(({className:e,...t},r)=>s.jsx(W6,{ref:r,className:z(wne(),e),...t}));ue.displayName=W6.displayName;function jne(){try{return window.self!==window.top}catch{return!0}}const Nne=({className:e="",size:t=80})=>{const r=p.useRef(null),n=p.useRef();return p.useEffect(()=>{const a=r.current;if(!a)return;const i=a.getContext("2d");if(!i)return;const l=getComputedStyle(document.documentElement).getPropertyValue("--primary").trim()||"199 89% 48%",[c="199",u="89%",f="48%"]=l.split(/\s+/),d=w=>`hsla(${c}, ${u}, ${f}, ${w})`,h=window.devicePixelRatio||1;a.width=t*h,a.height=t*h,i.scale(h,h);let m=0;const x=t/2,g=t/2,v=()=>{i.clearRect(0,0,t,t),m+=.02;for(let N=0;N<3;N++){const j=12+N*10,S=m*(1-N*.3),_=.3+N*.2;i.beginPath(),i.strokeStyle=d(_),i.lineWidth=1;for(let k=0;k<360;k+=2){const E=k*Math.PI/180+S,A=Math.sin(E*6+m*2)*2,C=j+A,O=x+Math.cos(E)*C,$=g+Math.sin(E)*C;k===0?i.moveTo(O,$):i.lineTo(O,$)}i.closePath(),i.stroke()}const w=24;for(let N=0;N<w;N++){const j=N/w*Math.PI*2-Math.PI/2,S=Math.sin(m*3+N*.5)*.5+.5,_=6+S*12,k=8,E=x+Math.cos(j)*k,A=g+Math.sin(j)*k,C=x+Math.cos(j)*(k+_),O=g+Math.sin(j)*(k+_),$=i.createLinearGradient(E,A,C,O);$.addColorStop(0,d(.3)),$.addColorStop(1,d(.6+S*.4)),i.beginPath(),i.strokeStyle=$,i.lineWidth=2,i.lineCap="round",i.moveTo(E,A),i.lineTo(C,O),i.stroke()}const b=4+Math.sin(m*4)*1.5,y=i.createRadialGradient(x,g,0,x,g,b*2);y.addColorStop(0,d(1)),y.addColorStop(.5,d(.5)),y.addColorStop(1,d(0)),i.beginPath(),i.fillStyle=y,i.arc(x,g,b*2,0,Math.PI*2),i.fill();for(let N=0;N<6;N++){const j=25+N%2*8,S=.8+N*.2,_=m*S+N/6*Math.PI*2,k=x+Math.cos(_)*j,E=g+Math.sin(_)*j,A=1.5+Math.sin(m*2+N)*.5;i.beginPath(),i.fillStyle=d(.9),i.arc(k,E,A,0,Math.PI*2),i.fill();for(let C=1;C<=3;C++){const O=_-C*.1,$=x+Math.cos(O)*j,R=g+Math.sin(O)*j;i.beginPath(),i.fillStyle=d(.3-C*.08),i.arc($,R,A*(1-C*.2),0,Math.PI*2),i.fill()}}n.current=requestAnimationFrame(v)};return v(),()=>{n.current&&cancelAnimationFrame(n.current)}},[t]),s.jsx("canvas",{ref:r,className:e,style:{width:t,height:t}})},Sne="openid https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/calendar.events https://www.googleapis.com/auth/calendar.readonly",_ne=()=>{const e=li(),[t,r]=p.useState(!0),[n,a]=p.useState(""),[i,o]=p.useState(""),[l,c]=p.useState(!1),[u,f]=p.useState(!1);p.useEffect(()=>{const{data:{subscription:m}}=H.auth.onAuthStateChange((x,g)=>{g!=null&&g.user&&e("/dashboard")});return H.auth.getSession().then(({data:{session:x}})=>{x!=null&&x.user&&e("/dashboard")}),()=>m.unsubscribe()},[e]);const d=async m=>{m.preventDefault(),f(!0);try{if(t){const{error:x}=await H.auth.signInWithPassword({email:n,password:i});if(x)throw x;V.success("Bienvenido de nuevo")}else{const{error:x}=await H.auth.signUp({email:n,password:i,options:{emailRedirectTo:`${window.location.origin}/dashboard`}});if(x)throw x;V.success("Cuenta creada correctamente")}}catch(x){V.error(x.message||"Error de autenticacin")}finally{f(!1)}},h=async()=>{if(jne()){window.open(`${window.location.origin}/oauth/google`,"_blank"),V.info("Se abri una pestaa para iniciar sesin con Google.");return}f(!0);try{const{error:m}=await H.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/oauth/google/callback`,scopes:Sne}});if(m)throw m}catch(m){V.error(m.message||"Error con Google"),f(!1)}};return s.jsxs("div",{className:"min-h-screen bg-background relative overflow-hidden flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 opacity-20",children:s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`
              linear-gradient(hsl(var(--primary) / 0.1) 1px, transparent 1px),
              linear-gradient(90deg, hsl(var(--primary) / 0.1) 1px, transparent 1px)
            `,backgroundSize:"50px 50px"}})}),s.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-primary/20 rounded-full blur-[120px] animate-pulse"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-64 h-64 bg-primary/10 rounded-full blur-[100px] animate-pulse",style:{animationDelay:"1.5s"}}),s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] border border-primary/10 rounded-full"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[400px] h-[400px] border border-primary/5 rounded-full"}),s.jsxs("div",{className:"relative z-10 w-full max-w-md mx-4",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-2xl bg-primary/5 border border-primary/20 mb-4 relative overflow-hidden",children:[s.jsx(Nne,{size:80}),s.jsx("div",{className:"absolute inset-0 rounded-2xl border border-primary/30 animate-pulse opacity-40"})]}),s.jsx("h1",{className:"text-4xl font-bold text-foreground tracking-tight",children:"JARVIS"}),s.jsx("p",{className:"text-primary font-mono text-sm tracking-widest mt-1",children:"LIFE OPERATING SYSTEM"})]}),s.jsxs("div",{className:"backdrop-blur-xl bg-card/50 border border-border rounded-2xl p-8 shadow-2xl",children:[s.jsxs("div",{className:"mb-6 text-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-foreground",children:t?"Iniciar sesin":"Crear cuenta"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t?"Accede a tu sistema personal":"nete al sistema"})]}),s.jsxs(U,{type:"button",variant:"outline",onClick:h,className:"w-full h-12 border-border hover:border-primary/50 hover:bg-primary/5 text-foreground font-medium gap-3 mb-6",children:[s.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continuar con Google"]}),s.jsxs("div",{className:"relative mb-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-border"})}),s.jsx("div",{className:"relative flex justify-center",children:s.jsx("span",{className:"px-4 text-xs text-muted-foreground bg-card/50 font-mono",children:"O CON EMAIL"})})]}),s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"email",className:"text-foreground text-sm font-medium",children:"Email"}),s.jsx(be,{id:"email",type:"email",placeholder:"tu@email.com",value:n,onChange:m=>a(m.target.value),required:!0,className:"h-12 bg-background/50 border-border focus:border-primary focus:ring-primary/20 font-mono"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"password",className:"text-foreground text-sm font-medium",children:"Contrasea"}),s.jsxs("div",{className:"relative",children:[s.jsx(be,{id:"password",type:l?"text":"password",placeholder:"",value:i,onChange:m=>o(m.target.value),required:!0,minLength:6,className:"h-12 bg-background/50 border-border focus:border-primary focus:ring-primary/20 pr-12 font-mono"}),s.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:l?s.jsx(y0,{className:"w-5 h-5"}):s.jsx(fy,{className:"w-5 h-5"})})]})]}),t&&s.jsx("div",{className:"text-center",children:s.jsx("button",{type:"button",className:"text-sm text-muted-foreground hover:text-primary transition-colors font-mono",children:"Olvidaste tu contrasea?"})}),s.jsxs(U,{type:"submit",disabled:u,className:"w-full h-12 bg-primary hover:bg-primary/90 text-primary-foreground font-semibold transition-all relative overflow-hidden group",children:[s.jsx("span",{className:"relative z-10",children:u?"Procesando...":t?"Acceder al sistema":"Activar cuenta"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary via-primary/80 to-primary opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[t?"Nuevo en JARVIS?":"Ya tienes cuenta?",s.jsx("button",{type:"button",onClick:()=>r(!t),className:"ml-2 text-primary hover:text-primary/80 font-semibold transition-colors",children:t?"Crear cuenta":"Iniciar sesin"})]})})]}),s.jsx("p",{className:"text-center text-xs text-muted-foreground mt-6 font-mono",children:"SISTEMA OPERATIVO PERSONAL v2.0"})]})]})},X=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:z("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));X.displayName="Card";const pe=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:z("flex flex-col space-y-1.5 p-6",e),...t}));pe.displayName="CardHeader";const ge=p.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:z("text-2xl font-semibold leading-none tracking-tight",e),...t}));ge.displayName="CardTitle";const St=p.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:z("text-sm text-muted-foreground",e),...t}));St.displayName="CardDescription";const Y=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:z("p-6 pt-0",e),...t}));Y.displayName="CardContent";const Cne=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:z("flex items-center p-6 pt-0",e),...t}));Cne.displayName="CardFooter";const kne="openid https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/calendar.events https://www.googleapis.com/auth/calendar.readonly";function Ene(){const[e,t]=p.useState(null),[r,n]=p.useState(!0),a=p.useCallback(async()=>{t(null),n(!0);try{const{error:i}=await H.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/oauth/google/callback`,scopes:kne,queryParams:{access_type:"offline",prompt:"consent",include_granted_scopes:"true"}}});if(i)throw i}catch(i){t((i==null?void 0:i.message)??"No se pudo iniciar el login con Google"),n(!1)}},[]);return p.useEffect(()=>{document.title="Conectar Google | JARVIS",a()},[a]),s.jsx("main",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(X,{className:"w-full max-w-md",children:[s.jsxs(pe,{children:[s.jsx(ge,{children:s.jsx("h1",{className:"text-xl font-semibold text-foreground",children:"Conectando con Google"})}),s.jsx(St,{children:"Necesitamos permisos para sincronizar tu Google Calendar."})]}),s.jsxs(Y,{className:"space-y-4",children:[r?s.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground",children:[s.jsx(_e,{className:"h-5 w-5 animate-spin"}),s.jsx("p",{children:"Redirigiendo a Google"})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-destructive",children:e}),s.jsxs(U,{onClick:a,className:"w-full",children:[s.jsx(ht,{className:"h-4 w-4 mr-2"}),"Reintentar"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Si ves una pgina en blanco, revisa que el navegador no est bloqueando redirecciones o popups."})]})]})})}function Pne(){const e=li(),[t,r]=p.useState("loading"),[n,a]=p.useState(null);p.useEffect(()=>{document.title="Finalizando Google | JARVIS";const o=c=>new Promise(u=>setTimeout(u,c));(async()=>{for(let c=0;c<12;c++){const{data:u,error:f}=await H.auth.getSession();if(f){a(f.message),r("error");return}const d=u.session;if(d!=null&&d.access_token&&d.refresh_token){if(window.opener&&!window.opener.closed){window.opener.postMessage({type:"oauth:google",access_token:d.access_token,refresh_token:d.refresh_token,provider_token:d.provider_token,provider_refresh_token:d.provider_refresh_token},window.location.origin),r("done"),setTimeout(()=>window.close(),250);return}e("/dashboard",{replace:!0});return}await o(150)}a("No se pudo recuperar la sesin tras el login con Google."),r("error")})()},[e]);const i=()=>{window.location.assign(`${window.location.origin}/oauth/google`)};return s.jsx("main",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(X,{className:"w-full max-w-md",children:[s.jsxs(pe,{children:[s.jsx(ge,{children:s.jsx("h1",{className:"text-xl font-semibold text-foreground",children:"Finalizando conexin"})}),s.jsx(St,{children:"Estamos completando el inicio de sesin con Google."})]}),s.jsxs(Y,{className:"space-y-4",children:[t==="loading"&&s.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground",children:[s.jsx(_e,{className:"h-5 w-5 animate-spin"}),s.jsx("p",{children:"Procesando"})]}),t==="done"&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Listo. Ya puedes volver a la pestaa anterior."}),t==="error"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-destructive",children:n}),s.jsxs(U,{onClick:i,className:"w-full",children:[s.jsx(ht,{className:"h-4 w-4 mr-2"}),"Reintentar"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Si esto se queda cargando, revisa que el navegador no est bloqueando redirecciones o popups."})]})]})})}function One(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return p.useMemo(()=>n=>{t.forEach(a=>a(n))},t)}const L0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ah(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Ek(e){return"nodeType"in e}function vs(e){var t,r;return e?ah(e)?e:Ek(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function Pk(e){const{Document:t}=vs(e);return e instanceof t}function Tg(e){return ah(e)?!1:e instanceof vs(e).HTMLElement}function q6(e){return e instanceof vs(e).SVGElement}function ih(e){return e?ah(e)?e.document:Ek(e)?Pk(e)?e:Tg(e)||q6(e)?e.ownerDocument:document:document:document}const si=L0?p.useLayoutEffect:p.useEffect;function F0(e){const t=p.useRef(e);return si(()=>{t.current=e}),p.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.current==null?void 0:t.current(...n)},[])}function Ane(){const e=p.useRef(null),t=p.useCallback((n,a)=>{e.current=setInterval(n,a)},[]),r=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function wp(e,t){t===void 0&&(t=[e]);const r=p.useRef(e);return si(()=>{r.current!==e&&(r.current=e)},t),r}function Mg(e,t){const r=p.useRef();return p.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function ky(e){const t=F0(e),r=p.useRef(null),n=p.useCallback(a=>{a!==r.current&&(t==null||t(a,r.current)),r.current=a},[]);return[r,n]}function Ey(e){const t=p.useRef();return p.useEffect(()=>{t.current=e},[e]),t.current}let l1={};function Rg(e,t){return p.useMemo(()=>{if(t)return t;const r=l1[e]==null?0:l1[e]+1;return l1[e]=r,e+"-"+r},[e,t])}function V6(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.reduce((i,o)=>{const l=Object.entries(o);for(const[c,u]of l){const f=i[c];f!=null&&(i[c]=f+e*u)}return i},{...t})}}const Pd=V6(1),Py=V6(-1);function Tne(e){return"clientX"in e&&"clientY"in e}function B0(e){if(!e)return!1;const{KeyboardEvent:t}=vs(e.target);return t&&e instanceof t}function Mne(e){if(!e)return!1;const{TouchEvent:t}=vs(e.target);return t&&e instanceof t}function Oy(e){if(Mne(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return Tne(e)?{x:e.clientX,y:e.clientY}:null}const Bl=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Bl.Translate.toString(e),Bl.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),_T="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Rne(e){return e.matches(_T)?e:e.querySelector(_T)}const Ine={display:"none"};function Dne(e){let{id:t,value:r}=e;return D.createElement("div",{id:t,style:Ine},r)}function $ne(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return D.createElement("div",{id:t,style:a,role:"status","aria-live":n,"aria-atomic":!0},r)}function Lne(){const[e,t]=p.useState("");return{announce:p.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const H6=p.createContext(null);function Fne(e){const t=p.useContext(H6);p.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Bne(){const[e]=p.useState(()=>new Set),t=p.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[p.useCallback(n=>{let{type:a,event:i}=n;e.forEach(o=>{var l;return(l=o[a])==null?void 0:l.call(o,i)})},[e]),t]}const zne={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Une={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Wne(e){let{announcements:t=Une,container:r,hiddenTextDescribedById:n,screenReaderInstructions:a=zne}=e;const{announce:i,announcement:o}=Lne(),l=Rg("DndLiveRegion"),[c,u]=p.useState(!1);if(p.useEffect(()=>{u(!0)},[]),Fne(p.useMemo(()=>({onDragStart(d){let{active:h}=d;i(t.onDragStart({active:h}))},onDragMove(d){let{active:h,over:m}=d;t.onDragMove&&i(t.onDragMove({active:h,over:m}))},onDragOver(d){let{active:h,over:m}=d;i(t.onDragOver({active:h,over:m}))},onDragEnd(d){let{active:h,over:m}=d;i(t.onDragEnd({active:h,over:m}))},onDragCancel(d){let{active:h,over:m}=d;i(t.onDragCancel({active:h,over:m}))}}),[i,t])),!c)return null;const f=D.createElement(D.Fragment,null,D.createElement(Dne,{id:n,value:a.draggable}),D.createElement($ne,{id:l,announcement:o}));return r?va.createPortal(f,r):f}var vn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(vn||(vn={}));function Ay(){}function qne(e,t){return p.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Vne(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return p.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const ai=Object.freeze({x:0,y:0});function Hne(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Gne(e,t){const r=Oy(e);if(!r)return"0 0";const n={x:(r.x-t.left)/t.width*100,y:(r.y-t.top)/t.height*100};return n.x+"% "+n.y+"%"}function Kne(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function Yne(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function Xne(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function CT(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const Jne=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const a=CT(t,t.left,t.top),i=[];for(const o of n){const{id:l}=o,c=r.get(l);if(c){const u=Hne(CT(c),a);i.push({id:l,data:{droppableContainer:o,value:u}})}}return i.sort(Kne)};function Qne(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=a-n,l=i-r;if(n<a&&r<i){const c=t.width*t.height,u=e.width*e.height,f=o*l,d=f/(c+u-f);return Number(d.toFixed(4))}return 0}const Zne=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const a=[];for(const i of n){const{id:o}=i,l=r.get(o);if(l){const c=Qne(l,t);c>0&&a.push({id:o,data:{droppableContainer:i,value:c}})}}return a.sort(Yne)};function ese(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function G6(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ai}function tse(e){return function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return a.reduce((o,l)=>({...o,top:o.top+e*l.y,bottom:o.bottom+e*l.y,left:o.left+e*l.x,right:o.right+e*l.x}),{...r})}}const rse=tse(1);function K6(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function nse(e,t,r){const n=K6(t);if(!n)return e;const{scaleX:a,scaleY:i,x:o,y:l}=n,c=e.left-o-(1-a)*parseFloat(r),u=e.top-l-(1-i)*parseFloat(r.slice(r.indexOf(" ")+1)),f=a?e.width/a:e.width,d=i?e.height/i:e.height;return{width:f,height:d,top:u,right:c+f,bottom:u+d,left:c}}const sse={ignoreTransform:!1};function oh(e,t){t===void 0&&(t=sse);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:f}=vs(e).getComputedStyle(e);u&&(r=nse(r,u,f))}const{top:n,left:a,width:i,height:o,bottom:l,right:c}=r;return{top:n,left:a,width:i,height:o,bottom:l,right:c}}function kT(e){return oh(e,{ignoreTransform:!0})}function ase(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function ise(e,t){return t===void 0&&(t=vs(e).getComputedStyle(e)),t.position==="fixed"}function ose(e,t){t===void 0&&(t=vs(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const i=t[a];return typeof i=="string"?r.test(i):!1})}function Ok(e,t){const r=[];function n(a){if(t!=null&&r.length>=t||!a)return r;if(Pk(a)&&a.scrollingElement!=null&&!r.includes(a.scrollingElement))return r.push(a.scrollingElement),r;if(!Tg(a)||q6(a)||r.includes(a))return r;const i=vs(e).getComputedStyle(a);return a!==e&&ose(a,i)&&r.push(a),ise(a,i)?r:n(a.parentNode)}return e?n(e):r}function Y6(e){const[t]=Ok(e,1);return t??null}function c1(e){return!L0||!e?null:ah(e)?e:Ek(e)?Pk(e)||e===ih(e).scrollingElement?window:Tg(e)?e:null:null}function X6(e){return ah(e)?e.scrollX:e.scrollLeft}function J6(e){return ah(e)?e.scrollY:e.scrollTop}function KS(e){return{x:X6(e),y:J6(e)}}var Pn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Pn||(Pn={}));function Q6(e){return!L0||!e?!1:e===document.scrollingElement}function Z6(e){const t={x:0,y:0},r=Q6(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},a=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=n.y,l=e.scrollLeft>=n.x;return{isTop:a,isLeft:i,isBottom:o,isRight:l,maxScroll:n,minScroll:t}}const lse={x:.2,y:.2};function cse(e,t,r,n,a){let{top:i,left:o,right:l,bottom:c}=r;n===void 0&&(n=10),a===void 0&&(a=lse);const{isTop:u,isBottom:f,isLeft:d,isRight:h}=Z6(e),m={x:0,y:0},x={x:0,y:0},g={height:t.height*a.y,width:t.width*a.x};return!u&&i<=t.top+g.height?(m.y=Pn.Backward,x.y=n*Math.abs((t.top+g.height-i)/g.height)):!f&&c>=t.bottom-g.height&&(m.y=Pn.Forward,x.y=n*Math.abs((t.bottom-g.height-c)/g.height)),!h&&l>=t.right-g.width?(m.x=Pn.Forward,x.x=n*Math.abs((t.right-g.width-l)/g.width)):!d&&o<=t.left+g.width&&(m.x=Pn.Backward,x.x=n*Math.abs((t.left+g.width-o)/g.width)),{direction:m,speed:x}}function use(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:r,right:n,bottom:a}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:a,width:e.clientWidth,height:e.clientHeight}}function eF(e){return e.reduce((t,r)=>Pd(t,KS(r)),ai)}function dse(e){return e.reduce((t,r)=>t+X6(r),0)}function fse(e){return e.reduce((t,r)=>t+J6(r),0)}function tF(e,t){if(t===void 0&&(t=oh),!e)return;const{top:r,left:n,bottom:a,right:i}=t(e);Y6(e)&&(a<=0||i<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const hse=[["x",["left","right"],dse],["y",["top","bottom"],fse]];class Ak{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Ok(r),a=eF(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,l]of hse)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=l(n),f=a[i]-u;return this.rect[c]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Pm{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var a;(a=this.target)==null||a.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function mse(e){const{EventTarget:t}=vs(e);return e instanceof t?e:ih(e)}function u1(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var ha;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ha||(ha={}));function ET(e){e.preventDefault()}function pse(e){e.stopPropagation()}var Ct;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Ct||(Ct={}));const rF={start:[Ct.Space,Ct.Enter],cancel:[Ct.Esc],end:[Ct.Space,Ct.Enter,Ct.Tab]},gse=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case Ct.Right:return{...r,x:r.x+25};case Ct.Left:return{...r,x:r.x-25};case Ct.Down:return{...r,y:r.y+25};case Ct.Up:return{...r,y:r.y-25}}};class nF{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new Pm(ih(r)),this.windowListeners=new Pm(vs(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ha.Resize,this.handleCancel),this.windowListeners.add(ha.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ha.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&tF(n),r(ai)}handleKeyDown(t){if(B0(t)){const{active:r,context:n,options:a}=this.props,{keyboardCodes:i=rF,coordinateGetter:o=gse,scrollBehavior:l="smooth"}=a,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=n.current,f=u?{x:u.left,y:u.top}:ai;this.referenceCoordinates||(this.referenceCoordinates=f);const d=o(t,{active:r,context:n.current,currentCoordinates:f});if(d){const h=Py(d,f),m={x:0,y:0},{scrollableAncestors:x}=n.current;for(const g of x){const v=t.code,{isTop:w,isRight:b,isLeft:y,isBottom:N,maxScroll:j,minScroll:S}=Z6(g),_=use(g),k={x:Math.min(v===Ct.Right?_.right-_.width/2:_.right,Math.max(v===Ct.Right?_.left:_.left+_.width/2,d.x)),y:Math.min(v===Ct.Down?_.bottom-_.height/2:_.bottom,Math.max(v===Ct.Down?_.top:_.top+_.height/2,d.y))},E=v===Ct.Right&&!b||v===Ct.Left&&!y,A=v===Ct.Down&&!N||v===Ct.Up&&!w;if(E&&k.x!==d.x){const C=g.scrollLeft+h.x,O=v===Ct.Right&&C<=j.x||v===Ct.Left&&C>=S.x;if(O&&!h.y){g.scrollTo({left:C,behavior:l});return}O?m.x=g.scrollLeft-C:m.x=v===Ct.Right?g.scrollLeft-j.x:g.scrollLeft-S.x,m.x&&g.scrollBy({left:-m.x,behavior:l});break}else if(A&&k.y!==d.y){const C=g.scrollTop+h.y,O=v===Ct.Down&&C<=j.y||v===Ct.Up&&C>=S.y;if(O&&!h.x){g.scrollTo({top:C,behavior:l});return}O?m.y=g.scrollTop-C:m.y=v===Ct.Down?g.scrollTop-j.y:g.scrollTop-S.y,m.y&&g.scrollBy({top:-m.y,behavior:l});break}}this.handleMove(t,Pd(Py(d,this.referenceCoordinates),m))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}nF.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=rF,onActivation:a}=t,{active:i}=r;const{code:o}=e.nativeEvent;if(n.start.includes(o)){const l=i.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),a==null||a({event:e.nativeEvent}),!0)}return!1}}];function PT(e){return!!(e&&"distance"in e)}function OT(e){return!!(e&&"delay"in e)}class Tk{constructor(t,r,n){var a;n===void 0&&(n=mse(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:i}=t,{target:o}=i;this.props=t,this.events=r,this.document=ih(o),this.documentListeners=new Pm(this.document),this.listeners=new Pm(n),this.windowListeners=new Pm(vs(o)),this.initialCoordinates=(a=Oy(i))!=null?a:ai,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ha.Resize,this.handleCancel),this.windowListeners.add(ha.DragStart,ET),this.windowListeners.add(ha.VisibilityChange,this.handleCancel),this.windowListeners.add(ha.ContextMenu,ET),this.documentListeners.add(ha.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(OT(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(PT(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:a}=this.props;a(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(ha.Click,pse,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ha.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:a,props:i}=this,{onMove:o,options:{activationConstraint:l}}=i;if(!a)return;const c=(r=Oy(t))!=null?r:ai,u=Py(a,c);if(!n&&l){if(PT(l)){if(l.tolerance!=null&&u1(u,l.tolerance))return this.handleCancel();if(u1(u,l.distance))return this.handleStart()}if(OT(l)&&u1(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===Ct.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const xse={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Mk extends Tk{constructor(t){const{event:r}=t,n=ih(r.target);super(t,xse,n)}}Mk.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const vse={move:{name:"mousemove"},end:{name:"mouseup"}};var YS;(function(e){e[e.RightClick=2]="RightClick"})(YS||(YS={}));class yse extends Tk{constructor(t){super(t,vse,ih(t.event.target))}}yse.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===YS.RightClick?!1:(n==null||n({event:r}),!0)}}];const d1={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class bse extends Tk{constructor(t){super(t,d1)}static setup(){return window.addEventListener(d1.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(d1.move.name,t)};function t(){}}}bse.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:a}=r;return a.length>1?!1:(n==null||n({event:r}),!0)}}];var Om;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Om||(Om={}));var Ty;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ty||(Ty={}));function wse(e){let{acceleration:t,activator:r=Om.Pointer,canScroll:n,draggingRect:a,enabled:i,interval:o=5,order:l=Ty.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:f,delta:d,threshold:h}=e;const m=Nse({delta:d,disabled:!i}),[x,g]=Ane(),v=p.useRef({x:0,y:0}),w=p.useRef({x:0,y:0}),b=p.useMemo(()=>{switch(r){case Om.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Om.DraggableRect:return a}},[r,a,c]),y=p.useRef(null),N=p.useCallback(()=>{const S=y.current;if(!S)return;const _=v.current.x*w.current.x,k=v.current.y*w.current.y;S.scrollBy(_,k)},[]),j=p.useMemo(()=>l===Ty.TreeOrder?[...u].reverse():u,[l,u]);p.useEffect(()=>{if(!i||!u.length||!b){g();return}for(const S of j){if((n==null?void 0:n(S))===!1)continue;const _=u.indexOf(S),k=f[_];if(!k)continue;const{direction:E,speed:A}=cse(S,k,b,t,h);for(const C of["x","y"])m[C][E[C]]||(A[C]=0,E[C]=0);if(A.x>0||A.y>0){g(),y.current=S,x(N,o),v.current=A,w.current=E;return}}v.current={x:0,y:0},w.current={x:0,y:0},g()},[t,N,n,g,i,o,JSON.stringify(b),JSON.stringify(m),x,u,j,f,JSON.stringify(h)])}const jse={x:{[Pn.Backward]:!1,[Pn.Forward]:!1},y:{[Pn.Backward]:!1,[Pn.Forward]:!1}};function Nse(e){let{delta:t,disabled:r}=e;const n=Ey(t);return Mg(a=>{if(r||!n||!a)return jse;const i={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[Pn.Backward]:a.x[Pn.Backward]||i.x===-1,[Pn.Forward]:a.x[Pn.Forward]||i.x===1},y:{[Pn.Backward]:a.y[Pn.Backward]||i.y===-1,[Pn.Forward]:a.y[Pn.Forward]||i.y===1}}},[r,t,n])}function Sse(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return Mg(a=>{var i;return t==null?null:(i=n??a)!=null?i:null},[n,t])}function _se(e,t){return p.useMemo(()=>e.reduce((r,n)=>{const{sensor:a}=n,i=a.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,n)}));return[...r,...i]},[]),[e,t])}var uf;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(uf||(uf={}));var XS;(function(e){e.Optimized="optimized"})(XS||(XS={}));const AT=new Map;function Cse(e,t){let{dragging:r,dependencies:n,config:a}=t;const[i,o]=p.useState(null),{frequency:l,measure:c,strategy:u}=a,f=p.useRef(e),d=v(),h=wp(d),m=p.useCallback(function(w){w===void 0&&(w=[]),!h.current&&o(b=>b===null?w:b.concat(w.filter(y=>!b.includes(y))))},[h]),x=p.useRef(null),g=Mg(w=>{if(d&&!r)return AT;if(!w||w===AT||f.current!==e||i!=null){const b=new Map;for(let y of e){if(!y)continue;if(i&&i.length>0&&!i.includes(y.id)&&y.rect.current){b.set(y.id,y.rect.current);continue}const N=y.node.current,j=N?new Ak(c(N),N):null;y.rect.current=j,j&&b.set(y.id,j)}return b}return w},[e,i,r,d,c]);return p.useEffect(()=>{f.current=e},[e]),p.useEffect(()=>{d||m()},[r,d]),p.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),p.useEffect(()=>{d||typeof l!="number"||x.current!==null||(x.current=setTimeout(()=>{m(),x.current=null},l))},[l,d,m,...n]),{droppableRects:g,measureDroppableContainers:m,measuringScheduled:i!=null};function v(){switch(u){case uf.Always:return!1;case uf.BeforeDragging:return r;default:return!r}}}function Rk(e,t){return Mg(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function kse(e,t){return Rk(e,t)}function Ese(e){let{callback:t,disabled:r}=e;const n=F0(t),a=p.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(n)},[n,r]);return p.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function z0(e){let{callback:t,disabled:r}=e;const n=F0(t),a=p.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(n)},[r]);return p.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function Pse(e){return new Ak(oh(e),e)}function TT(e,t,r){t===void 0&&(t=Pse);const[n,a]=p.useState(null);function i(){a(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??r)!=null?u:null}const f=t(e);return JSON.stringify(c)===JSON.stringify(f)?c:f})}const o=Ese({callback(c){if(e)for(const u of c){const{type:f,target:d}=u;if(f==="childList"&&d instanceof HTMLElement&&d.contains(e)){i();break}}}}),l=z0({callback:i});return si(()=>{i(),e?(l==null||l.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[e]),n}function Ose(e){const t=Rk(e);return G6(e,t)}const MT=[];function Ase(e){const t=p.useRef(e),r=Mg(n=>e?n&&n!==MT&&e&&t.current&&e.parentNode===t.current.parentNode?n:Ok(e):MT,[e]);return p.useEffect(()=>{t.current=e},[e]),r}function Tse(e){const[t,r]=p.useState(null),n=p.useRef(e),a=p.useCallback(i=>{const o=c1(i.target);o&&r(l=>l?(l.set(o,KS(o)),new Map(l)):null)},[]);return p.useEffect(()=>{const i=n.current;if(e!==i){o(i);const l=e.map(c=>{const u=c1(c);return u?(u.addEventListener("scroll",a,{passive:!0}),[u,KS(u)]):null}).filter(c=>c!=null);r(l.length?new Map(l):null),n.current=e}return()=>{o(e),o(i)};function o(l){l.forEach(c=>{const u=c1(c);u==null||u.removeEventListener("scroll",a)})}},[a,e]),p.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>Pd(i,o),ai):eF(e):ai,[e,t])}function RT(e,t){t===void 0&&(t=[]);const r=p.useRef(null);return p.useEffect(()=>{r.current=null},t),p.useEffect(()=>{const n=e!==ai;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?Py(e,r.current):ai}function Mse(e){p.useEffect(()=>{if(!L0)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function Rse(e,t){return p.useMemo(()=>e.reduce((r,n)=>{let{eventName:a,handler:i}=n;return r[a]=o=>{i(o,t)},r},{}),[e,t])}function sF(e){return p.useMemo(()=>e?ase(e):null,[e])}const IT=[];function Ise(e,t){t===void 0&&(t=oh);const[r]=e,n=sF(r?vs(r):null),[a,i]=p.useState(IT);function o(){i(()=>e.length?e.map(c=>Q6(c)?n:new Ak(t(c),c)):IT)}const l=z0({callback:o});return si(()=>{l==null||l.disconnect(),o(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),a}function aF(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Tg(t)?t:e}function Dse(e){let{measure:t}=e;const[r,n]=p.useState(null),a=p.useCallback(u=>{for(const{target:f}of u)if(Tg(f)){n(d=>{const h=t(f);return d?{...d,width:h.width,height:h.height}:h});break}},[t]),i=z0({callback:a}),o=p.useCallback(u=>{const f=aF(u);i==null||i.disconnect(),f&&(i==null||i.observe(f)),n(f?t(f):null)},[t,i]),[l,c]=ky(o);return p.useMemo(()=>({nodeRef:l,rect:r,setRef:c}),[r,l,c])}const $se=[{sensor:Mk,options:{}},{sensor:nF,options:{}}],Lse={current:{}},Tv={draggable:{measure:kT},droppable:{measure:kT,strategy:uf.WhileDragging,frequency:XS.Optimized},dragOverlay:{measure:oh}};class Am extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const Fse={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Am,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ay},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Tv,measureDroppableContainers:Ay,windowRect:null,measuringScheduled:!1},iF={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ay,draggableNodes:new Map,over:null,measureDroppableContainers:Ay},Ig=p.createContext(iF),oF=p.createContext(Fse);function Bse(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Am}}}function zse(e,t){switch(t.type){case vn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case vn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case vn.DragEnd:case vn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case vn.RegisterDroppable:{const{element:r}=t,{id:n}=r,a=new Am(e.droppable.containers);return a.set(n,r),{...e,droppable:{...e.droppable,containers:a}}}case vn.SetDroppableDisabled:{const{id:r,key:n,disabled:a}=t,i=e.droppable.containers.get(r);if(!i||n!==i.key)return e;const o=new Am(e.droppable.containers);return o.set(r,{...i,disabled:a}),{...e,droppable:{...e.droppable,containers:o}}}case vn.UnregisterDroppable:{const{id:r,key:n}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;const i=new Am(e.droppable.containers);return i.delete(r),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function Use(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:a}=p.useContext(Ig),i=Ey(n),o=Ey(r==null?void 0:r.id);return p.useEffect(()=>{if(!t&&!n&&i&&o!=null){if(!B0(i)||document.activeElement===i.target)return;const l=a.get(o);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const f of[c.current,u.current]){if(!f)continue;const d=Rne(f);if(d){d.focus();break}}})}},[n,t,a,o,i]),null}function lF(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((a,i)=>i({transform:a,...n}),r):r}function Wse(e){return p.useMemo(()=>({draggable:{...Tv.draggable,...e==null?void 0:e.draggable},droppable:{...Tv.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Tv.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function qse(e){let{activeNode:t,measure:r,initialRect:n,config:a=!0}=e;const i=p.useRef(!1),{x:o,y:l}=typeof a=="boolean"?{x:a,y:a}:a;si(()=>{if(!o&&!l||!t){i.current=!1;return}if(i.current||!n)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const f=r(u),d=G6(f,n);if(o||(d.x=0),l||(d.y=0),i.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const h=Y6(u);h&&h.scrollBy({top:d.y,left:d.x})}},[t,o,l,n,r])}const U0=p.createContext({...ai,scaleX:1,scaleY:1});var Ko;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ko||(Ko={}));const Vse=p.memo(function(t){var r,n,a,i;let{id:o,accessibility:l,autoScroll:c=!0,children:u,sensors:f=$se,collisionDetection:d=Zne,measuring:h,modifiers:m,...x}=t;const g=p.useReducer(zse,void 0,Bse),[v,w]=g,[b,y]=Bne(),[N,j]=p.useState(Ko.Uninitialized),S=N===Ko.Initialized,{draggable:{active:_,nodes:k,translate:E},droppable:{containers:A}}=v,C=_!=null?k.get(_):null,O=p.useRef({initial:null,translated:null}),$=p.useMemo(()=>{var ur;return _!=null?{id:_,data:(ur=C==null?void 0:C.data)!=null?ur:Lse,rect:O}:null},[_,C]),R=p.useRef(null),[T,L]=p.useState(null),[I,P]=p.useState(null),M=wp(x,Object.values(x)),F=Rg("DndDescribedBy",o),B=p.useMemo(()=>A.getEnabled(),[A]),q=Wse(h),{droppableRects:J,measureDroppableContainers:W,measuringScheduled:ne}=Cse(B,{dragging:S,dependencies:[E.x,E.y],config:q.droppable}),he=Sse(k,_),ie=p.useMemo(()=>I?Oy(I):null,[I]),ce=Vi(),re=kse(he,q.draggable.measure);qse({activeNode:_!=null?k.get(_):null,config:ce.layoutShiftCompensation,initialRect:re,measure:q.draggable.measure});const se=TT(he,q.draggable.measure,re),me=TT(he?he.parentElement:null),te=p.useRef({activatorEvent:null,active:null,activeNode:he,collisionRect:null,collisions:null,droppableRects:J,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:A,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ee=A.getNodeFor((r=te.current.over)==null?void 0:r.id),je=Dse({measure:q.dragOverlay.measure}),Be=(n=je.nodeRef.current)!=null?n:he,le=S?(a=je.rect)!=null?a:se:null,Me=!!(je.nodeRef.current&&je.rect),rt=Ose(Me?null:se),He=sF(Be?vs(Be):null),xt=Ase(S?Ee??he:null),yt=Ise(xt),qt=lF(m,{transform:{x:E.x-rt.x,y:E.y-rt.y,scaleX:1,scaleY:1},activatorEvent:I,active:$,activeNodeRect:se,containerNodeRect:me,draggingNodeRect:le,over:te.current.over,overlayNodeRect:je.rect,scrollableAncestors:xt,scrollableAncestorRects:yt,windowRect:He}),lt=ie?Pd(ie,E):null,vr=Tse(xt),yr=RT(vr),de=RT(vr,[se]),we=Pd(qt,yr),Se=le?rse(le,qt):null,Vt=$&&Se?d({active:$,collisionRect:Se,droppableRects:J,droppableContainers:B,pointerCoordinates:lt}):null,Tt=Xne(Vt,"id"),[bt,oe]=p.useState(null),vt=Me?qt:Pd(qt,de),st=ese(vt,(i=bt==null?void 0:bt.rect)!=null?i:null,se),qr=p.useRef(null),dn=p.useCallback((ur,Zt)=>{let{sensor:hn,options:Fe}=Zt;if(R.current==null)return;const ze=k.get(R.current);if(!ze)return;const nt=ur.nativeEvent,er=new hn({active:R.current,activeNode:ze,event:nt,options:Fe,context:te,onAbort(Mt){if(!k.get(Mt))return;const{onDragAbort:Z}=M.current,Ce={id:Mt};Z==null||Z(Ce),b({type:"onDragAbort",event:Ce})},onPending(Mt,tn,Z,Ce){if(!k.get(Mt))return;const{onDragPending:Ir}=M.current,Vr={id:Mt,constraint:tn,initialCoordinates:Z,offset:Ce};Ir==null||Ir(Vr),b({type:"onDragPending",event:Vr})},onStart(Mt){const tn=R.current;if(tn==null)return;const Z=k.get(tn);if(!Z)return;const{onDragStart:Ce}=M.current,at={activatorEvent:nt,active:{id:tn,data:Z.data,rect:O}};va.unstable_batchedUpdates(()=>{Ce==null||Ce(at),j(Ko.Initializing),w({type:vn.DragStart,initialCoordinates:Mt,active:tn}),b({type:"onDragStart",event:at}),L(qr.current),P(nt)})},onMove(Mt){w({type:vn.DragMove,coordinates:Mt})},onEnd:dr(vn.DragEnd),onCancel:dr(vn.DragCancel)});qr.current=er;function dr(Mt){return async function(){const{active:Z,collisions:Ce,over:at,scrollAdjustedTranslate:Ir}=te.current;let Vr=null;if(Z&&Ir){const{cancelDrop:dt}=M.current;Vr={activatorEvent:nt,active:Z,collisions:Ce,delta:Ir,over:at},Mt===vn.DragEnd&&typeof dt=="function"&&await Promise.resolve(dt(Vr))&&(Mt=vn.DragCancel)}R.current=null,va.unstable_batchedUpdates(()=>{w({type:Mt}),j(Ko.Uninitialized),oe(null),L(null),P(null),qr.current=null;const dt=Mt===vn.DragEnd?"onDragEnd":"onDragCancel";if(Vr){const Hn=M.current[dt];Hn==null||Hn(Vr),b({type:dt,event:Vr})}})}}},[k]),fn=p.useCallback((ur,Zt)=>(hn,Fe)=>{const ze=hn.nativeEvent,nt=k.get(Fe);if(R.current!==null||!nt||ze.dndKit||ze.defaultPrevented)return;const er={active:nt};ur(hn,Zt.options,er)===!0&&(ze.dndKit={capturedBy:Zt.sensor},R.current=Fe,dn(hn,Zt))},[k,dn]),In=_se(f,fn);Mse(f),si(()=>{se&&N===Ko.Initializing&&j(Ko.Initialized)},[se,N]),p.useEffect(()=>{const{onDragMove:ur}=M.current,{active:Zt,activatorEvent:hn,collisions:Fe,over:ze}=te.current;if(!Zt||!hn)return;const nt={active:Zt,activatorEvent:hn,collisions:Fe,delta:{x:we.x,y:we.y},over:ze};va.unstable_batchedUpdates(()=>{ur==null||ur(nt),b({type:"onDragMove",event:nt})})},[we.x,we.y]),p.useEffect(()=>{const{active:ur,activatorEvent:Zt,collisions:hn,droppableContainers:Fe,scrollAdjustedTranslate:ze}=te.current;if(!ur||R.current==null||!Zt||!ze)return;const{onDragOver:nt}=M.current,er=Fe.get(Tt),dr=er&&er.rect.current?{id:er.id,rect:er.rect.current,data:er.data,disabled:er.disabled}:null,Mt={active:ur,activatorEvent:Zt,collisions:hn,delta:{x:ze.x,y:ze.y},over:dr};va.unstable_batchedUpdates(()=>{oe(dr),nt==null||nt(Mt),b({type:"onDragOver",event:Mt})})},[Tt]),si(()=>{te.current={activatorEvent:I,active:$,activeNode:he,collisionRect:Se,collisions:Vt,droppableRects:J,draggableNodes:k,draggingNode:Be,draggingNodeRect:le,droppableContainers:A,over:bt,scrollableAncestors:xt,scrollAdjustedTranslate:we},O.current={initial:le,translated:Se}},[$,he,Vt,Se,k,Be,le,J,A,bt,xt,we]),wse({...ce,delta:E,draggingRect:Se,pointerCoordinates:lt,scrollableAncestors:xt,scrollableAncestorRects:yt});const Vn=p.useMemo(()=>({active:$,activeNode:he,activeNodeRect:se,activatorEvent:I,collisions:Vt,containerNodeRect:me,dragOverlay:je,draggableNodes:k,droppableContainers:A,droppableRects:J,over:bt,measureDroppableContainers:W,scrollableAncestors:xt,scrollableAncestorRects:yt,measuringConfiguration:q,measuringScheduled:ne,windowRect:He}),[$,he,se,I,Vt,me,je,k,A,J,bt,W,xt,yt,q,ne,He]),bs=p.useMemo(()=>({activatorEvent:I,activators:In,active:$,activeNodeRect:se,ariaDescribedById:{draggable:F},dispatch:w,draggableNodes:k,over:bt,measureDroppableContainers:W}),[I,In,$,se,w,F,k,bt,W]);return D.createElement(H6.Provider,{value:y},D.createElement(Ig.Provider,{value:bs},D.createElement(oF.Provider,{value:Vn},D.createElement(U0.Provider,{value:st},u)),D.createElement(Use,{disabled:(l==null?void 0:l.restoreFocus)===!1})),D.createElement(Wne,{...l,hiddenTextDescribedById:F}));function Vi(){const ur=(T==null?void 0:T.autoScrollEnabled)===!1,Zt=typeof c=="object"?c.enabled===!1:c===!1,hn=S&&!ur&&!Zt;return typeof c=="object"?{...c,enabled:hn}:{enabled:hn}}}),Hse=p.createContext(null),DT="button",Gse="Draggable";function Kse(e){let{id:t,data:r,disabled:n=!1,attributes:a}=e;const i=Rg(Gse),{activators:o,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:f,draggableNodes:d,over:h}=p.useContext(Ig),{role:m=DT,roleDescription:x="draggable",tabIndex:g=0}=a??{},v=(c==null?void 0:c.id)===t,w=p.useContext(v?U0:Hse),[b,y]=ky(),[N,j]=ky(),S=Rse(o,t),_=wp(r);si(()=>(d.set(t,{id:t,key:i,node:b,activatorNode:N,data:_}),()=>{const E=d.get(t);E&&E.key===i&&d.delete(t)}),[d,t]);const k=p.useMemo(()=>({role:m,tabIndex:g,"aria-disabled":n,"aria-pressed":v&&m===DT?!0:void 0,"aria-roledescription":x,"aria-describedby":f.draggable}),[n,m,g,v,x,f.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:k,isDragging:v,listeners:n?void 0:S,node:b,over:h,setNodeRef:y,setActivatorNodeRef:j,transform:w}}function cF(){return p.useContext(oF)}const Yse="Droppable",Xse={timeout:25};function uF(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:a}=e;const i=Rg(Yse),{active:o,dispatch:l,over:c,measureDroppableContainers:u}=p.useContext(Ig),f=p.useRef({disabled:r}),d=p.useRef(!1),h=p.useRef(null),m=p.useRef(null),{disabled:x,updateMeasurementsFor:g,timeout:v}={...Xse,...a},w=wp(g??n),b=p.useCallback(()=>{if(!d.current){d.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(w.current)?w.current:[w.current]),m.current=null},v)},[v]),y=z0({callback:b,disabled:x||!o}),N=p.useCallback((k,E)=>{y&&(E&&(y.unobserve(E),d.current=!1),k&&y.observe(k))},[y]),[j,S]=ky(N),_=wp(t);return p.useEffect(()=>{!y||!j.current||(y.disconnect(),d.current=!1,y.observe(j.current))},[j,y]),p.useEffect(()=>(l({type:vn.RegisterDroppable,element:{id:n,key:i,disabled:r,node:j,rect:h,data:_}}),()=>l({type:vn.UnregisterDroppable,key:i,id:n})),[n]),p.useEffect(()=>{r!==f.current.disabled&&(l({type:vn.SetDroppableDisabled,id:n,key:i,disabled:r}),f.current.disabled=r)},[n,i,r,l]),{active:o,rect:h,isOver:(c==null?void 0:c.id)===n,node:j,over:c,setNodeRef:S}}function Jse(e){let{animation:t,children:r}=e;const[n,a]=p.useState(null),[i,o]=p.useState(null),l=Ey(r);return!r&&!n&&l&&a(l),si(()=>{if(!i)return;const c=n==null?void 0:n.key,u=n==null?void 0:n.props.id;if(c==null||u==null){a(null);return}Promise.resolve(t(u,i)).then(()=>{a(null)})},[t,n,i]),D.createElement(D.Fragment,null,r,n?p.cloneElement(n,{ref:o}):null)}const Qse={x:0,y:0,scaleX:1,scaleY:1};function Zse(e){let{children:t}=e;return D.createElement(Ig.Provider,{value:iF},D.createElement(U0.Provider,{value:Qse},t))}const eae={position:"fixed",touchAction:"none"},tae=e=>B0(e)?"transform 250ms ease":void 0,rae=p.forwardRef((e,t)=>{let{as:r,activatorEvent:n,adjustScale:a,children:i,className:o,rect:l,style:c,transform:u,transition:f=tae}=e;if(!l)return null;const d=a?u:{...u,scaleX:1,scaleY:1},h={...eae,width:l.width,height:l.height,top:l.top,left:l.left,transform:Bl.Transform.toString(d),transformOrigin:a&&n?Gne(n,l):void 0,transition:typeof f=="function"?f(n):f,...c};return D.createElement(r,{className:o,style:h,ref:t},i)}),nae=e=>t=>{let{active:r,dragOverlay:n}=t;const a={},{styles:i,className:o}=e;if(i!=null&&i.active)for(const[l,c]of Object.entries(i.active))c!==void 0&&(a[l]=r.node.style.getPropertyValue(l),r.node.style.setProperty(l,c));if(i!=null&&i.dragOverlay)for(const[l,c]of Object.entries(i.dragOverlay))c!==void 0&&n.node.style.setProperty(l,c);return o!=null&&o.active&&r.node.classList.add(o.active),o!=null&&o.dragOverlay&&n.node.classList.add(o.dragOverlay),function(){for(const[c,u]of Object.entries(a))r.node.style.setProperty(c,u);o!=null&&o.active&&r.node.classList.remove(o.active)}},sae=e=>{let{transform:{initial:t,final:r}}=e;return[{transform:Bl.Transform.toString(t)},{transform:Bl.Transform.toString(r)}]},aae={duration:250,easing:"ease",keyframes:sae,sideEffects:nae({styles:{active:{opacity:"0"}}})};function iae(e){let{config:t,draggableNodes:r,droppableContainers:n,measuringConfiguration:a}=e;return F0((i,o)=>{if(t===null)return;const l=r.get(i);if(!l)return;const c=l.node.current;if(!c)return;const u=aF(o);if(!u)return;const{transform:f}=vs(o).getComputedStyle(o),d=K6(f);if(!d)return;const h=typeof t=="function"?t:oae(t);return tF(c,a.draggable.measure),h({active:{id:i,data:l.data,node:c,rect:a.draggable.measure(c)},draggableNodes:r,dragOverlay:{node:o,rect:a.dragOverlay.measure(u)},droppableContainers:n,measuringConfiguration:a,transform:d})})}function oae(e){const{duration:t,easing:r,sideEffects:n,keyframes:a}={...aae,...e};return i=>{let{active:o,dragOverlay:l,transform:c,...u}=i;if(!t)return;const f={x:l.rect.left-o.rect.left,y:l.rect.top-o.rect.top},d={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/l.rect.height:1},h={x:c.x-f.x,y:c.y-f.y,...d},m=a({...u,active:o,dragOverlay:l,transform:{initial:c,final:h}}),[x]=m,g=m[m.length-1];if(JSON.stringify(x)===JSON.stringify(g))return;const v=n==null?void 0:n({active:o,dragOverlay:l,...u}),w=l.node.animate(m,{duration:t,easing:r,fill:"forwards"});return new Promise(b=>{w.onfinish=()=>{v==null||v(),b()}})}}let $T=0;function lae(e){return p.useMemo(()=>{if(e!=null)return $T++,$T},[e])}const cae=D.memo(e=>{let{adjustScale:t=!1,children:r,dropAnimation:n,style:a,transition:i,modifiers:o,wrapperElement:l="div",className:c,zIndex:u=999}=e;const{activatorEvent:f,active:d,activeNodeRect:h,containerNodeRect:m,draggableNodes:x,droppableContainers:g,dragOverlay:v,over:w,measuringConfiguration:b,scrollableAncestors:y,scrollableAncestorRects:N,windowRect:j}=cF(),S=p.useContext(U0),_=lae(d==null?void 0:d.id),k=lF(o,{activatorEvent:f,active:d,activeNodeRect:h,containerNodeRect:m,draggingNodeRect:v.rect,over:w,overlayNodeRect:v.rect,scrollableAncestors:y,scrollableAncestorRects:N,transform:S,windowRect:j}),E=Rk(h),A=iae({config:n,draggableNodes:x,droppableContainers:g,measuringConfiguration:b}),C=E?v.setRef:void 0;return D.createElement(Zse,null,D.createElement(Jse,{animation:A},d&&_?D.createElement(rae,{key:_,id:d.id,ref:C,as:l,activatorEvent:f,adjustScale:t,className:c,transition:i,rect:E,style:{zIndex:u,...a},transform:k},r):null))});function jp(e,[t,r]){return Math.min(r,Math.max(t,e))}var uae=p.createContext(void 0);function Yl(e){const t=p.useContext(uae);return e||t||"ltr"}function Dg(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var dF=["PageUp","PageDown"],fF=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],hF={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},lh="Slider",[JS,dae,fae]=jg(lh),[mF]=en(lh,[fae]),[hae,W0]=mF(lh),pF=p.forwardRef((e,t)=>{const{name:r,min:n=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:f,onValueChange:d=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:x,...g}=e,v=p.useRef(new Set),w=p.useRef(0),y=o==="horizontal"?mae:pae,[N=[],j]=Wn({prop:f,defaultProp:u,onChange:C=>{var $;($=[...v.current][w.current])==null||$.focus(),d(C)}}),S=p.useRef(N);function _(C){const O=bae(N,C);A(C,O)}function k(C){A(C,w.current)}function E(){const C=S.current[w.current];N[w.current]!==C&&h(N)}function A(C,O,{commit:$}={commit:!1}){const R=Sae(i),T=_ae(Math.round((C-n)/i)*i+n,R),L=jp(T,[n,a]);j((I=[])=>{const P=vae(I,L,O);if(Nae(P,c*i)){w.current=P.indexOf(L);const M=String(P)!==String(I);return M&&$&&h(P),M?P:I}else return I})}return s.jsx(hae,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:w,thumbs:v.current,values:N,orientation:o,form:x,children:s.jsx(JS.Provider,{scope:e.__scopeSlider,children:s.jsx(JS.Slot,{scope:e.__scopeSlider,children:s.jsx(y,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:t,onPointerDown:fe(g.onPointerDown,()=>{l||(S.current=N)}),min:n,max:a,inverted:m,onSlideStart:l?void 0:_,onSlideMove:l?void 0:k,onSlideEnd:l?void 0:E,onHomeKeyDown:()=>!l&&A(n,0,{commit:!0}),onEndKeyDown:()=>!l&&A(a,N.length-1,{commit:!0}),onStepKeyDown:({event:C,direction:O})=>{if(!l){const T=dF.includes(C.key)||C.shiftKey&&fF.includes(C.key)?10:1,L=w.current,I=N[L],P=i*T*O;A(I+P,L,{commit:!0})}}})})})})});pF.displayName=lh;var[gF,xF]=mF(lh,{startEdge:"left",endEdge:"right",size:"width",direction:1}),mae=p.forwardRef((e,t)=>{const{min:r,max:n,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...f}=e,[d,h]=p.useState(null),m=We(t,y=>h(y)),x=p.useRef(void 0),g=Yl(a),v=g==="ltr",w=v&&!i||!v&&i;function b(y){const N=x.current||d.getBoundingClientRect(),j=[0,N.width],_=Ik(j,w?[r,n]:[n,r]);return x.current=N,_(y-N.left)}return s.jsx(gF,{scope:e.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:s.jsx(vF,{dir:g,"data-orientation":"horizontal",...f,ref:m,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:y=>{const N=b(y.clientX);o==null||o(N)},onSlideMove:y=>{const N=b(y.clientX);l==null||l(N)},onSlideEnd:()=>{x.current=void 0,c==null||c()},onStepKeyDown:y=>{const j=hF[w?"from-left":"from-right"].includes(y.key);u==null||u({event:y,direction:j?-1:1})}})})}),pae=p.forwardRef((e,t)=>{const{min:r,max:n,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,f=p.useRef(null),d=We(t,f),h=p.useRef(void 0),m=!a;function x(g){const v=h.current||f.current.getBoundingClientRect(),w=[0,v.height],y=Ik(w,m?[n,r]:[r,n]);return h.current=v,y(g-v.top)}return s.jsx(gF,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:s.jsx(vF,{"data-orientation":"vertical",...u,ref:d,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const v=x(g.clientY);i==null||i(v)},onSlideMove:g=>{const v=x(g.clientY);o==null||o(v)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:g=>{const w=hF[m?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:w?-1:1})}})})}),vF=p.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,f=W0(lh,r);return s.jsx(Ne.span,{...u,ref:t,onKeyDown:fe(e.onKeyDown,d=>{d.key==="Home"?(o(d),d.preventDefault()):d.key==="End"?(l(d),d.preventDefault()):dF.concat(fF).includes(d.key)&&(c(d),d.preventDefault())}),onPointerDown:fe(e.onPointerDown,d=>{const h=d.target;h.setPointerCapture(d.pointerId),d.preventDefault(),f.thumbs.has(h)?h.focus():n(d)}),onPointerMove:fe(e.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&a(d)}),onPointerUp:fe(e.onPointerUp,d=>{const h=d.target;h.hasPointerCapture(d.pointerId)&&(h.releasePointerCapture(d.pointerId),i(d))})})}),yF="SliderTrack",bF=p.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=W0(yF,r);return s.jsx(Ne.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});bF.displayName=yF;var QS="SliderRange",wF=p.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=W0(QS,r),i=xF(QS,r),o=p.useRef(null),l=We(t,o),c=a.values.length,u=a.values.map(h=>SF(h,a.min,a.max)),f=c>1?Math.min(...u):0,d=100-Math.max(...u);return s.jsx(Ne.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...e.style,[i.startEdge]:f+"%",[i.endEdge]:d+"%"}})});wF.displayName=QS;var ZS="SliderThumb",jF=p.forwardRef((e,t)=>{const r=dae(e.__scopeSlider),[n,a]=p.useState(null),i=We(t,l=>a(l)),o=p.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return s.jsx(gae,{...e,ref:i,index:o})}),gae=p.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:a,...i}=e,o=W0(ZS,r),l=xF(ZS,r),[c,u]=p.useState(null),f=We(t,b=>u(b)),d=c?o.form||!!c.closest("form"):!0,h=Eg(c),m=o.values[n],x=m===void 0?0:SF(m,o.min,o.max),g=yae(n,o.values.length),v=h==null?void 0:h[l.size],w=v?wae(v,x,l.direction):0;return p.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${x}% + ${w}px)`},children:[s.jsx(JS.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(Ne.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:f,style:m===void 0?{display:"none"}:e.style,onFocus:fe(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),d&&s.jsx(NF,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},n)]})});jF.displayName=ZS;var xae="RadioBubbleInput",NF=p.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const a=p.useRef(null),i=We(a,n),o=Dg(t);return p.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&f){const d=new Event("input",{bubbles:!0});f.call(l,t),l.dispatchEvent(d)}},[o,t]),s.jsx(Ne.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});NF.displayName=xae;function vae(e=[],t,r){const n=[...e];return n[r]=t,n.sort((a,i)=>a-i)}function SF(e,t,r){const i=100/(r-t)*(e-t);return jp(i,[0,100])}function yae(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function bae(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function wae(e,t,r){const n=e/2,i=Ik([0,50],[0,n]);return(n-i(t)*r)*r}function jae(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function Nae(e,t){if(t>0){const r=jae(e);return Math.min(...r)>=t}return!0}function Ik(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Sae(e){return(String(e).split(".")[1]||"").length}function _ae(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var _F=pF,Cae=bF,kae=wF,Eae=jF;const Er=p.forwardRef(({className:e,...t},r)=>s.jsxs(_F,{ref:r,className:z("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(Cae,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(kae,{className:"absolute h-full bg-primary"})}),s.jsx(Eae,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Er.displayName=_F.displayName;var q0="Collapsible",[Pae]=en(q0),[Oae,Dk]=Pae(q0),CF=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c,u]=Wn({prop:n,defaultProp:a??!1,onChange:o,caller:q0});return s.jsx(Oae,{scope:r,disabled:i,contentId:Ys(),open:c,onOpenToggle:p.useCallback(()=>u(f=>!f),[u]),children:s.jsx(Ne.div,{"data-state":Lk(c),"data-disabled":i?"":void 0,...l,ref:t})})});CF.displayName=q0;var kF="CollapsibleTrigger",EF=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=Dk(kF,r);return s.jsx(Ne.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":Lk(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:fe(e.onClick,a.onOpenToggle)})});EF.displayName=kF;var $k="CollapsibleContent",PF=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Dk($k,e.__scopeCollapsible);return s.jsx(cn,{present:r||a.open,children:({present:i})=>s.jsx(Aae,{...n,ref:t,present:i})})});PF.displayName=$k;var Aae=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=e,o=Dk($k,r),[l,c]=p.useState(n),u=p.useRef(null),f=We(t,u),d=p.useRef(0),h=d.current,m=p.useRef(0),x=m.current,g=o.open||l,v=p.useRef(g),w=p.useRef(void 0);return p.useEffect(()=>{const b=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(b)},[]),_n(()=>{const b=u.current;if(b){w.current=w.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const y=b.getBoundingClientRect();d.current=y.height,m.current=y.width,v.current||(b.style.transitionDuration=w.current.transitionDuration,b.style.animationName=w.current.animationName),c(n)}},[o.open,n]),s.jsx(Ne.div,{"data-state":Lk(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...i,ref:f,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:g&&a})});function Lk(e){return e?"open":"closed"}var Tae=CF;const ka=Tae,ea=EF,Ea=PF,Mae={success:{frequencies:[523,659,784],durations:[100,100,150]},complete:{frequencies:[440,554,659],durations:[80,80,120]},delete:{frequencies:[440,349,294],durations:[100,100,150]},tap:{frequencies:[800],durations:[30]},warning:{frequencies:[440,440],durations:[150,150]},error:{frequencies:[200,150],durations:[200,300]}},Fk=()=>{const e=p.useRef(null),t=p.useRef(!0),r=p.useCallback(()=>{if(!e.current)try{e.current=new(window.AudioContext||window.webkitAudioContext)}catch{return console.warn("Web Audio API not supported"),null}return e.current},[]),n=p.useCallback(async()=>{const h=r();return h&&h.state==="suspended"&&await h.resume(),h},[r]),a=p.useCallback(async(h="tap",m=.3)=>{if(!t.current)return;const x=await n();if(!x)return;const g=Mae[h];let v=x.currentTime;g.frequencies.forEach((w,b)=>{const y=x.createOscillator(),N=x.createGain();y.connect(N),N.connect(x.destination),y.frequency.setValueAtTime(w,v),y.type=h==="error"||h==="warning"?"square":"sine";const j=g.durations[b]/1e3;N.gain.setValueAtTime(0,v),N.gain.linearRampToValueAtTime(m,v+.01),N.gain.exponentialRampToValueAtTime(.01,v+j),y.start(v),y.stop(v+j+.05),v+=j})},[n]),i=p.useCallback(h=>{t.current=h},[]);p.useEffect(()=>()=>{e.current&&e.current.close()},[]);const o=p.useCallback(()=>a("success"),[a]),l=p.useCallback(()=>a("complete"),[a]),c=p.useCallback(()=>a("delete"),[a]),u=p.useCallback(()=>a("tap",.2),[a]),f=p.useCallback(()=>a("warning"),[a]),d=p.useCallback(()=>a("error"),[a]);return{playSound:a,setEnabled:i,success:o,complete:l,delete:c,tap:u,warning:f,error:d}},f1=e=>e<=2?{bg:"bg-destructive/20",text:"text-destructive",bar:"bg-destructive"}:e<=3?{bg:"bg-warning/20",text:"text-warning",bar:"bg-warning"}:{bg:"bg-success/20",text:"text-success",bar:"bg-success"},Rae=({data:e,onUpdate:t,onRegister:r,saving:n,isRegistered:a})=>{const[i,o]=p.useState(!0),l=Ag(),c=Fk(),u={low:"bg-success/20 text-success border-success/30",medium:"bg-warning/20 text-warning border-warning/30",high:"bg-destructive/20 text-destructive border-destructive/30"},f={balanced:"bg-primary/20 text-primary border-primary/30",push:"bg-success/20 text-success border-success/30",survival:"bg-warning/20 text-warning border-warning/30"},d={balanced:"Balanceado",push:"Empuje",survival:"Supervivencia"},h={low:"Bajo",medium:"Medio",high:"Alto"},m=g=>v=>{l.selection(),c.tap(),t({...e,[g]:v[0]})},x=()=>{l.success(),c.success(),r()};if(a){const g=f1(e.energy),v=f1(e.mood),w=f1(e.focus);return s.jsx(ka,{open:i,onOpenChange:o,children:s.jsxs("div",{className:"border border-border bg-card rounded-lg",children:[s.jsx(ea,{asChild:!0,children:s.jsxs("button",{className:"w-full flex items-center justify-between px-3 sm:px-4 py-2.5 sm:py-3 hover:bg-muted/50 transition-colors rounded-t-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-lg bg-success/10 flex items-center justify-center",children:s.jsx(gr,{className:"w-4 h-4 text-success"})}),s.jsx("span",{className:"text-sm sm:text-base font-semibold text-foreground",children:"Check-in Completado"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground text-xs",children:[s.jsx(iL,{className:"w-3 h-3"}),s.jsx("span",{className:"hidden sm:inline",children:"Bloqueado"})]}),s.jsx(qn,{className:z("w-4 h-4 text-muted-foreground transition-transform duration-200",i&&"rotate-180")})]})]})}),s.jsx(Ea,{children:s.jsxs(Y,{className:"space-y-4 pt-0",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:z("rounded-lg p-3 text-center",g.bg),children:[s.jsx(ip,{className:z("w-5 h-5 mx-auto mb-1",g.text)}),s.jsx("p",{className:z("text-2xl font-bold font-mono",g.text),children:e.energy}),s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Energa"}),s.jsx("div",{className:"mt-2 h-1.5 bg-background/50 rounded-full overflow-hidden",children:s.jsx("div",{className:z("h-full rounded-full transition-all",g.bar),style:{width:`${e.energy/5*100}%`}})})]}),s.jsxs("div",{className:z("rounded-lg p-3 text-center",v.bg),children:[s.jsx(mt,{className:z("w-5 h-5 mx-auto mb-1",v.text)}),s.jsx("p",{className:z("text-2xl font-bold font-mono",v.text),children:e.mood}),s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"nimo"}),s.jsx("div",{className:"mt-2 h-1.5 bg-background/50 rounded-full overflow-hidden",children:s.jsx("div",{className:z("h-full rounded-full transition-all",v.bar),style:{width:`${e.mood/5*100}%`}})})]}),s.jsxs("div",{className:z("rounded-lg p-3 text-center",w.bg),children:[s.jsx(Dt,{className:z("w-5 h-5 mx-auto mb-1",w.text)}),s.jsx("p",{className:z("text-2xl font-bold font-mono",w.text),children:e.focus}),s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Foco"}),s.jsx("div",{className:"mt-2 h-1.5 bg-background/50 rounded-full overflow-hidden",children:s.jsx("div",{className:z("h-full rounded-full transition-all",w.bar),style:{width:`${e.focus/5*100}%`}})})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-border text-sm",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[s.jsx(Pt,{className:"w-4 h-4"}),s.jsxs("span",{className:"font-mono",children:[e.availableTime,"h"]})]}),s.jsxs("div",{className:z("px-2 py-0.5 rounded text-xs border",u[e.interruptionRisk]),children:["Riesgo ",h[e.interruptionRisk].toLowerCase()]})]}),s.jsx("div",{className:z("px-2 py-0.5 rounded text-xs border",f[e.dayMode]),children:d[e.dayMode]})]})]})})]})})}return s.jsx(ka,{open:i,onOpenChange:o,children:s.jsxs("div",{className:"border border-border bg-card rounded-lg",children:[s.jsx(ea,{asChild:!0,children:s.jsxs("button",{className:"w-full flex items-center justify-between px-3 sm:px-4 py-2.5 sm:py-3 hover:bg-muted/50 transition-colors rounded-t-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(Mn,{className:"w-4 h-4 text-primary"})}),s.jsx("span",{className:"text-sm sm:text-base font-semibold text-foreground",children:"Check-in Diario"}),n&&s.jsx(_e,{className:"w-4 h-4 text-primary animate-spin"})]}),s.jsx(qn,{className:z("w-4 h-4 text-muted-foreground transition-transform duration-200",i&&"rotate-180")})]})}),s.jsx(Ea,{children:s.jsxs(Y,{className:"space-y-6 pt-0",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ip,{className:"w-4 h-4 text-success"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Energa"})]}),s.jsxs("span",{className:"text-sm font-bold text-primary font-mono",children:[e.energy,"/5"]})]}),s.jsx(Er,{value:[e.energy],onValueChange:m("energy"),min:1,max:5,step:1,className:"w-full"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mt,{className:"w-4 h-4 text-destructive"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"nimo"})]}),s.jsxs("span",{className:"text-sm font-bold text-primary font-mono",children:[e.mood,"/5"]})]}),s.jsx(Er,{value:[e.mood],onValueChange:m("mood"),min:1,max:5,step:1,className:"w-full"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dt,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Foco"})]}),s.jsxs("span",{className:"text-sm font-bold text-primary font-mono",children:[e.focus,"/5"]})]}),s.jsx(Er,{value:[e.focus],onValueChange:m("focus"),min:1,max:5,step:1,className:"w-full"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t border-border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-secondary flex items-center justify-center",children:s.jsx(Pt,{className:"w-5 h-5 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Tiempo disponible"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("input",{type:"number",value:e.availableTime,onChange:g=>t({...e,availableTime:Number(g.target.value)}),className:"w-12 bg-transparent text-lg font-bold text-foreground border-none outline-none font-mono",min:0,max:24}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"h"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-secondary flex items-center justify-center",children:s.jsx(kr,{className:"w-5 h-5 text-muted-foreground"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Riesgo interrupcin"}),s.jsx("div",{className:"flex gap-1",children:["low","medium","high"].map(g=>s.jsx("button",{onClick:()=>t({...e,interruptionRisk:g}),className:`px-2 py-1 text-xs rounded-md border transition-all ${e.interruptionRisk===g?u[g]:"border-border text-muted-foreground hover:border-primary/50"}`,children:h[g]},g))})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-secondary flex items-center justify-center",children:s.jsx(Mn,{className:"w-5 h-5 text-muted-foreground"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Modo del da"}),s.jsx("div",{className:"flex gap-1",children:["balanced","push","survival"].map(g=>s.jsx("button",{onClick:()=>t({...e,dayMode:g}),className:`px-2 py-1 text-xs rounded-md border transition-all ${e.dayMode===g?f[g]:"border-border text-muted-foreground hover:border-primary/50"}`,children:d[g]},g))})]})]})]}),s.jsx(U,{onClick:x,disabled:n,className:"w-full gap-2",children:n?s.jsxs(s.Fragment,{children:[s.jsx(_e,{className:"w-4 h-4 animate-spin"}),"Registrando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(gr,{className:"w-4 h-4"}),"Registrar Check-in"]})})]})})]})})},Iae=Xf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Q({className:e,variant:t,...r}){return s.jsx("div",{className:z(Iae({variant:t}),e),...r})}const OF=()=>{const{user:e,session:t}=ut(),[r,n]=p.useState([]),[a,i]=p.useState(!1),[o,l]=p.useState(!1),[c,u]=p.useState(null),f=()=>Intl.DateTimeFormat().resolvedOptions().timeZone,d=p.useCallback(async()=>{if(t!=null&&t.access_token)try{const{data:x,error:g}=await H.functions.invoke("icloud-calendar",{body:{action:"check"},headers:{Authorization:`Bearer ${t.access_token}`,"x-user-timezone":f()}});if(g){console.error("iCloud check error:",g),l(!1);return}l((x==null?void 0:x.connected)??!1)}catch(x){console.error("iCloud connection check failed:",x),l(!1)}},[t==null?void 0:t.access_token]),h=p.useCallback(async(x,g)=>{if(!(t!=null&&t.access_token))return[];i(!0);try{const v=x||new Date;v.setHours(0,0,0,0);const w=g||new Date(v);w.setHours(23,59,59,999);const{data:b,error:y}=await H.functions.invoke("icloud-calendar",{body:{action:"fetch",startDate:v.toISOString(),endDate:w.toISOString()},headers:{Authorization:`Bearer ${t.access_token}`,"x-user-timezone":f()}});if(y)return console.error("iCloud fetch error:",y),om({title:"Error al cargar eventos",description:"No se pudieron cargar los eventos de iCloud",variant:"destructive"}),[];if(!(b!=null&&b.connected)&&(b!=null&&b.message))return l(!1),[];const N=(b==null?void 0:b.events)||[];return n(N),l(!0),u(new Date),N}catch(v){return console.error("iCloud fetch failed:",v),[]}finally{i(!1)}},[t==null?void 0:t.access_token]),m=p.useCallback(async x=>{if(!(t!=null&&t.access_token))return om({title:"No autenticado",description:"Por favor inicia sesin para crear eventos",variant:"destructive"}),null;try{const{data:g,error:v}=await H.functions.invoke("icloud-calendar",{body:{action:"create",...x},headers:{Authorization:`Bearer ${t.access_token}`,"x-user-timezone":f()}});return v?(console.error("iCloud create error:",v),om({title:"Error al crear evento",description:"No se pudo crear el evento en iCloud",variant:"destructive"}),null):(om({title:"Evento creado",description:"El evento se ha aadido a tu calendario de iCloud"}),await h(),g)}catch(g){return console.error("iCloud create failed:",g),null}},[t==null?void 0:t.access_token,h]);return p.useEffect(()=>{e&&d()},[e,d]),p.useEffect(()=>{o&&e&&h()},[o,e,h]),{events:r,loading:a,connected:o,lastSync:c,fetchEvents:h,createEvent:m,checkConnection:d}},Bn=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:z("animate-pulse rounded-md bg-muted",e),...t}));Bn.displayName="Skeleton";const h1={work:{icon:Ts,color:"bg-primary/10 text-primary border-primary/20",label:"Trabajo"},life:{icon:Qr,color:"bg-chart-4/20 text-chart-4 border-chart-4/30",label:"Vida"},health:{icon:mt,color:"bg-success/10 text-success border-success/20",label:"Salud"},family:{icon:Hl,color:"bg-warning/10 text-warning border-warning/20",label:"Familia"}},Dae=()=>{const{events:e,loading:t,connected:r,fetchEvents:n}=OF(),[a,i]=p.useState(!0),o=new Date,l=o.getHours(),c=o.getMinutes(),u=h=>{const[m,x]=h.split(":").map(Number);return m<l||m===l&&x<c},f=h=>{const[m]=h.split(":").map(Number);return m===l},d=()=>{window.location.href="/settings"};return r?s.jsx(ka,{open:a,onOpenChange:i,children:s.jsxs("div",{className:"border border-border bg-card rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 py-2.5 sm:py-3",children:[s.jsx(ea,{asChild:!0,children:s.jsxs("button",{className:"flex items-center gap-2 hover:text-primary transition-colors flex-1",children:[s.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(Jt,{className:"w-4 h-4 text-primary"})}),s.jsx("span",{className:"text-sm sm:text-base font-semibold text-foreground",children:"Agenda de Hoy"}),s.jsx(Xc,{className:"w-3 h-3 text-muted-foreground"}),s.jsx(qn,{className:z("w-4 h-4 text-muted-foreground transition-transform duration-200 ml-auto",a&&"rotate-180")})]})}),s.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>n(),disabled:t,className:"h-8 w-8 text-muted-foreground hover:text-foreground",children:s.jsx(ht,{className:`w-4 h-4 ${t?"animate-spin":""}`})}),s.jsx(Q,{variant:"outline",className:"text-xs border-border text-muted-foreground hidden sm:flex",children:o.toLocaleDateString("es-ES",{weekday:"short",day:"numeric"})})]})]}),s.jsx(Ea,{children:s.jsx(Y,{className:"pt-0",children:t?s.jsx("div",{className:"space-y-3",children:[1,2,3].map(h=>s.jsxs("div",{className:"flex items-center gap-4 p-3",children:[s.jsx(Bn,{className:"w-16 h-10"}),s.jsx(Bn,{className:"w-0.5 h-12"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(Bn,{className:"h-4 w-3/4"}),s.jsx(Bn,{className:"h-4 w-1/4"})]})]},h))}):e.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground",children:"No hay eventos para hoy"}),s.jsx("p",{className:"text-sm text-muted-foreground/70 mt-1",children:"Los eventos de iCloud aparecern aqu automticamente"})]}):s.jsx("div",{className:"space-y-3",children:e.map(h=>{var w;const m=u(h.time),x=f(h.time),g=((w=h1[h.type])==null?void 0:w.icon)||Qr,v=h1[h.type]||h1.life;return s.jsxs("div",{className:`group flex items-center gap-4 p-3 rounded-lg border transition-all hover:border-primary/30 ${x?"bg-primary/5 border-primary/30":m?"opacity-50 border-border":"border-border hover:bg-card"}`,children:[s.jsxs("div",{className:"w-16 text-center",children:[s.jsx("p",{className:`text-sm font-mono font-medium ${x?"text-primary":"text-foreground"}`,children:h.time}),s.jsx("p",{className:"text-xs text-muted-foreground",children:h.duration})]}),s.jsx("div",{className:`w-0.5 h-12 rounded-full ${x?"bg-primary":"bg-border"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`font-medium truncate ${m?"text-muted-foreground line-through":"text-foreground"}`,children:h.title}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsxs(Q,{variant:"outline",className:`text-xs ${v.color}`,children:[s.jsx(g,{className:"w-3 h-3 mr-1"}),v.label]}),h.location&&s.jsxs("span",{className:"text-xs text-muted-foreground truncate max-w-[100px]",children:[" ",h.location]})]})]}),x&&s.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-pulse"})]},h.id)})})})})]})}):s.jsx(ka,{open:a,onOpenChange:i,children:s.jsxs("div",{className:"border border-border bg-card rounded-lg",children:[s.jsx(ea,{asChild:!0,children:s.jsxs("button",{className:"w-full flex items-center justify-between px-3 sm:px-4 py-2.5 sm:py-3 hover:bg-muted/50 transition-colors rounded-t-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(Jt,{className:"w-4 h-4 text-primary"})}),s.jsx("span",{className:"text-sm sm:text-base font-semibold text-foreground",children:"Agenda de Hoy"})]}),s.jsx(qn,{className:z("w-4 h-4 text-muted-foreground transition-transform duration-200",a&&"rotate-180")})]})}),s.jsx(Ea,{children:s.jsx(Y,{className:"pt-0",children:s.jsxs("div",{className:"text-center py-8 space-y-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-muted/50 flex items-center justify-center mx-auto",children:s.jsx(Xc,{className:"w-8 h-8 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-foreground font-medium",children:"Conecta tu iCloud Calendar"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Configura tu Apple ID para sincronizar tus eventos"})]}),s.jsxs(U,{onClick:d,className:"gap-2",children:[s.jsx(Xc,{className:"w-4 h-4"}),"Configurar iCloud"]})]})})})]})})};var V0="Checkbox",[$ae]=en(V0),[Lae,Bk]=$ae(V0);function Fae(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:f="on",internal_do_not_use_render:d}=e,[h,m]=Wn({prop:r,defaultProp:a??!1,onChange:c,caller:V0}),[x,g]=p.useState(null),[v,w]=p.useState(null),b=p.useRef(!1),y=x?!!o||!!x.closest("form"):!0,N={checked:h,disabled:i,setChecked:m,control:x,setControl:g,name:l,form:o,value:f,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:Ol(a)?!1:a,isFormControl:y,bubbleInput:v,setBubbleInput:w};return s.jsx(Lae,{scope:t,...N,children:Bae(d)?d(N):n})}var AF="CheckboxTrigger",TF=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:f,setChecked:d,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:x}=Bk(AF,e),g=We(a,f),v=p.useRef(c);return p.useEffect(()=>{const w=i==null?void 0:i.form;if(w){const b=()=>d(v.current);return w.addEventListener("reset",b),()=>w.removeEventListener("reset",b)}},[i,d]),s.jsx(Ne.button,{type:"button",role:"checkbox","aria-checked":Ol(c)?"mixed":c,"aria-required":u,"data-state":$F(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:g,onKeyDown:fe(t,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:fe(r,w=>{d(b=>Ol(b)?!0:!b),x&&m&&(h.current=w.isPropagationStopped(),h.current||w.stopPropagation())})})});TF.displayName=AF;var zk=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:f,...d}=e;return s.jsx(Fae,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:f,value:c,internal_do_not_use_render:({isFormControl:h})=>s.jsxs(s.Fragment,{children:[s.jsx(TF,{...d,ref:t,__scopeCheckbox:r}),h&&s.jsx(DF,{__scopeCheckbox:r})]})})});zk.displayName=V0;var MF="CheckboxIndicator",RF=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=Bk(MF,r);return s.jsx(cn,{present:n||Ol(i.checked)||i.checked===!0,children:s.jsx(Ne.span,{"data-state":$F(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});RF.displayName=MF;var IF="CheckboxBubbleInput",DF=p.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:f,form:d,bubbleInput:h,setBubbleInput:m}=Bk(IF,e),x=We(r,m),g=Dg(i),v=Eg(n);p.useEffect(()=>{const b=h;if(!b)return;const y=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(y,"checked").set,S=!a.current;if(g!==i&&j){const _=new Event("click",{bubbles:S});b.indeterminate=Ol(i),j.call(b,Ol(i)?!1:i),b.dispatchEvent(_)}},[h,g,i,a]);const w=p.useRef(Ol(i)?!1:i);return s.jsx(Ne.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??w.current,required:l,disabled:c,name:u,value:f,form:d,...t,tabIndex:-1,ref:x,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});DF.displayName=IF;function Bae(e){return typeof e=="function"}function Ol(e){return e==="indeterminate"}function $F(e){return Ol(e)?"indeterminate":e?"checked":"unchecked"}const ls=p.forwardRef(({className:e,...t},r)=>s.jsx(zk,{ref:r,className:z("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(RF,{className:z("flex items-center justify-center text-current"),children:s.jsx(gt,{className:"h-4 w-4"})})}));ls.displayName=zk.displayName;const zae={P0:"bg-destructive/20 text-destructive border-destructive/30",P1:"bg-warning/20 text-warning border-warning/30",P2:"bg-muted text-muted-foreground border-border"},Uae={work:Ts,life:mt,finance:Li},Wae=({priorities:e,onToggleComplete:t})=>{const[r,n]=p.useState(!0);return s.jsx(ka,{open:r,onOpenChange:n,children:s.jsxs("div",{className:"border border-border bg-card rounded-lg",children:[s.jsx(ea,{asChild:!0,children:s.jsxs("button",{className:"w-full flex items-center justify-between px-3 sm:px-4 py-2.5 sm:py-3 hover:bg-muted/50 transition-colors rounded-t-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(Dt,{className:"w-4 h-4 text-primary"})}),s.jsx("span",{className:"text-sm sm:text-base font-semibold text-foreground",children:"Top 3 Prioridades"}),e.length>0&&s.jsx(Q,{variant:"secondary",className:"text-xs",children:e.length})]}),s.jsx(qn,{className:z("w-4 h-4 text-muted-foreground transition-transform duration-200",r&&"rotate-180")})]})}),s.jsx(Ea,{children:s.jsx(Y,{className:"pt-0",children:e.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No hay tareas pendientes"}):s.jsx("div",{className:"space-y-3",children:e.map(a=>{const i=Uae[a.type];return s.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg border transition-all ${a.completed?"opacity-50 border-border bg-muted/20":"border-border hover:border-primary/30"}`,children:[s.jsx(ls,{checked:a.completed,onCheckedChange:()=>t(a.id),className:"mt-0.5 border-primary data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`font-medium text-sm ${a.completed?"line-through text-muted-foreground":"text-foreground"}`,children:a.title}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(Q,{variant:"outline",className:`text-xs ${zae[a.priority]}`,children:a.priority}),s.jsxs(Q,{variant:"outline",className:"text-xs border-border text-muted-foreground",children:[s.jsx(i,{className:"w-3 h-3 mr-1"}),a.duration," min"]})]})]})]},a.id)})})})})]})})},mu=({id:e,title:t,icon:r,children:n,onHide:a,defaultOpen:i=!0,headerClassName:o,badge:l})=>{const[c,u]=p.useState(i);return s.jsx(ka,{open:c,onOpenChange:u,children:s.jsxs("div",{className:"border border-border bg-card rounded-lg overflow-hidden",children:[s.jsxs("div",{className:z("flex items-center justify-between px-3 sm:px-4 py-2.5 sm:py-3 bg-card border-b border-border",!c&&"border-b-0",o),children:[s.jsx(ea,{asChild:!0,children:s.jsxs("button",{className:"flex items-center gap-2 hover:text-primary transition-colors flex-1 min-w-0",children:[s.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:r}),s.jsx("span",{className:"text-sm sm:text-base font-semibold text-foreground truncate",children:t}),l,s.jsx(qn,{className:z("w-4 h-4 text-muted-foreground transition-transform duration-200 ml-auto flex-shrink-0",c&&"rotate-180")})]})}),a&&s.jsxs(af,{children:[s.jsx(of,{asChild:!0,children:s.jsx(U,{variant:"ghost",size:"icon",onClick:a,className:"h-7 w-7 ml-2 text-muted-foreground hover:text-destructive flex-shrink-0",children:s.jsx(y0,{className:"w-3.5 h-3.5"})})}),s.jsx(du,{children:"Ocultar tarjeta"})]})]}),s.jsx(Ea,{children:s.jsx("div",{className:"card-content",children:n})})]})})},qae=({pendingCount:e})=>{const t=li(),r=[];e>5&&r.push({id:"overload",type:"overload",message:`Tienes ${e} tareas pendientes`,action:"Revisar tareas",onClick:()=>t("/tasks")}),e===0&&r.push({id:"clear",type:"info",message:"Sin tareas pendientes. Buen trabajo!",action:void 0,onClick:void 0});const n={warning:{icon:kr,color:"text-warning",bgColor:"bg-warning/10 border-warning/20"},info:{icon:Pi,color:"text-success",bgColor:"bg-success/10 border-success/20"},overload:{icon:Zr,color:"text-destructive",bgColor:"bg-destructive/10 border-destructive/20"}},a=r.length>0&&e>5?s.jsx("span",{className:"ml-2 w-5 h-5 rounded-full bg-warning/20 text-warning text-xs flex items-center justify-center font-medium font-mono",children:"!"}):void 0;return s.jsx(mu,{id:"alerts",title:"Estado del Sistema",icon:s.jsx(kr,{className:"w-4 h-4 text-warning"}),badge:a,children:s.jsx("div",{className:"p-3 sm:p-4 space-y-3",children:r.length===0?s.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border bg-primary/10 border-primary/20",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-background/50 flex items-center justify-center flex-shrink-0",children:s.jsx(Pt,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm text-foreground",children:"Sistema operativo correctamente"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[e," tareas activas"]})]})]}):r.map(i=>{const o=n[i.type],l=o.icon;return s.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg border ${o.bgColor}`,children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-background/50 flex items-center justify-center flex-shrink-0",children:s.jsx(l,{className:`w-4 h-4 ${o.color}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm text-foreground",children:i.message}),i.action&&s.jsxs("button",{onClick:i.onClick,className:`mt-2 text-xs font-medium ${o.color} hover:underline font-mono`,children:[i.action," "]})]})]},i.id)})})})},Vae=()=>{const e=li(),t=()=>{e("/start-day")},r=()=>{e("/tasks")},n=()=>{e("/calendar")};return s.jsxs("div",{className:"flex flex-col gap-2 w-full sm:flex-row sm:gap-3",children:[s.jsxs(U,{onClick:t,className:"w-full sm:flex-1 h-12 sm:h-12 bg-primary hover:bg-primary/90 text-primary-foreground font-medium gap-2 transition-all hover:shadow-lg text-base touch-manipulation",style:{boxShadow:"var(--glow-primary)"},children:[s.jsx(my,{className:"w-5 h-5"}),s.jsx("span",{className:"truncate",children:"Iniciar Da"})]}),s.jsxs(U,{onClick:r,variant:"outline",className:"w-full sm:flex-1 h-12 sm:h-12 border-border hover:border-primary/50 hover:bg-primary/5 text-foreground font-medium gap-2 text-base touch-manipulation",children:[s.jsx(wt,{className:"w-5 h-5"}),s.jsx("span",{className:"truncate",children:"Aadir tarea"})]}),s.jsxs(U,{onClick:n,variant:"outline",className:"w-full sm:flex-1 h-12 sm:h-12 border-border hover:border-primary/50 hover:bg-primary/5 text-foreground font-medium gap-2 text-base touch-manipulation",children:[s.jsx(ht,{className:"w-5 h-5"}),s.jsx("span",{className:"truncate",children:"Calendario"})]})]})},Hae={survival:{icon:Pv,color:"bg-destructive/20 text-destructive border-destructive/30",label:"Supervivencia"},balanced:{icon:Dt,color:"bg-primary/20 text-primary border-primary/30",label:"Equilibrado"},push:{icon:Zr,color:"bg-success/20 text-success border-success/30",label:"Empuje"},recovery:{icon:mt,color:"bg-warning/20 text-warning border-warning/30",label:"Recuperacin"}},Gae={alta:"bg-success/20 text-success border-success/30",media:"bg-warning/20 text-warning border-warning/30",baja:"bg-destructive/20 text-destructive border-destructive/30"},Kae=({plan:e,loading:t,onRefresh:r})=>{var u,f,d,h,m,x,g,v;const n=li(),[a,i]=p.useState(!0);if(t)return s.jsxs("div",{className:"border border-border bg-card rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Bn,{className:"w-8 h-8 rounded-lg"}),s.jsx(Bn,{className:"h-6 w-48"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Bn,{className:"h-24 w-full"}),s.jsx(Bn,{className:"h-16 w-full"})]})]});if(!e)return s.jsx(ka,{open:a,onOpenChange:i,children:s.jsxs("div",{className:"border border-border bg-card rounded-lg",children:[s.jsx(ea,{asChild:!0,children:s.jsxs("button",{className:"w-full flex items-center justify-between px-3 sm:px-4 py-2.5 sm:py-3 hover:bg-muted/50 transition-colors rounded-t-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(et,{className:"w-4 h-4 text-primary"})}),s.jsx("span",{className:"text-sm sm:text-base font-semibold text-foreground",children:"Resumen del Da"})]}),s.jsx(qn,{className:z("w-4 h-4 text-muted-foreground transition-transform duration-200",a&&"rotate-180")})]})}),s.jsx(Ea,{children:s.jsx(Y,{className:"pt-0",children:s.jsxs("div",{className:"text-center py-8 space-y-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:s.jsx(Qr,{className:"w-8 h-8 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-foreground font-medium",children:"Completa tu check-in"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"JARVIS generar tu resumen diario"})]})]})})})]})});const o=Hae[((u=e.diagnosis)==null?void 0:u.dayMode)||"balanced"],l=o.icon,c=[];return(f=e.nextSteps)!=null&&f.immediate&&c.push({text:e.nextSteps.immediate,action:()=>n("/tasks"),icon:_Y,label:"Ver tareas"}),e.secretaryActions&&e.secretaryActions.length>0&&c.push({text:e.secretaryActions[0],action:()=>n("/calendar"),icon:Jt,label:"Ir al calendario"}),(d=e.nextSteps)!=null&&d.today&&c.push({text:e.nextSteps.today,action:()=>{V.success("Objetivo del da confirmado!",{description:"Mantn el foco en lo importante"})},icon:gr,label:"Confirmar objetivo"}),s.jsx(ka,{open:a,onOpenChange:i,children:s.jsxs("div",{className:"border border-border bg-card rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 py-2.5 sm:py-3",children:[s.jsx(ea,{asChild:!0,children:s.jsxs("button",{className:"flex items-center gap-2 hover:text-primary transition-colors flex-1",children:[s.jsxs("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-lg bg-primary/10 flex items-center justify-center relative",children:[s.jsx(et,{className:"w-4 h-4 text-primary"}),s.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-success rounded-full animate-pulse"})]}),s.jsx("span",{className:"text-sm sm:text-base font-semibold text-foreground",children:"Resumen del Da"}),s.jsx(qn,{className:z("w-4 h-4 text-muted-foreground transition-transform duration-200 ml-auto",a&&"rotate-180")})]})}),s.jsx(U,{variant:"ghost",size:"icon",onClick:r,className:"h-8 w-8 text-muted-foreground hover:text-foreground ml-2",children:s.jsx(ht,{className:"w-4 h-4"})})]}),s.jsx(Ea,{children:s.jsxs(Y,{className:"space-y-5 pt-0",children:[s.jsxs("div",{className:"p-4 rounded-lg bg-primary/5 border border-primary/20 space-y-3",children:[s.jsx("p",{className:"text-foreground font-medium",children:e.greeting}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsxs(Q,{variant:"outline",className:o.color,children:[s.jsx(l,{className:"w-3 h-3 mr-1"}),"Modo ",o.label]}),s.jsxs(Q,{variant:"outline",className:Gae[((h=e.diagnosis)==null?void 0:h.capacityLevel)||"media"],children:["Capacidad ",((m=e.diagnosis)==null?void 0:m.capacityLevel)||"media"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:((x=e.diagnosis)==null?void 0:x.modeReason)||((g=e.diagnosis)==null?void 0:g.currentState)})]}),c.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[s.jsx(Mn,{className:"w-4 h-4 text-primary"}),"Propuestas de JARVIS"]}),s.jsx("div",{className:"space-y-2",children:c.map((w,b)=>{const y=w.icon;return s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50 border border-border hover:border-primary/30 transition-colors",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[s.jsx(y,{className:"w-4 h-4 text-primary mt-0.5 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-foreground",children:w.text})]}),s.jsx(U,{size:"sm",variant:"outline",onClick:w.action,className:"ml-3 flex-shrink-0",children:w.label})]},b)})})]}),((v=e.nextSteps)==null?void 0:v.evening)&&s.jsx("div",{className:"p-3 rounded-lg bg-muted/50 border border-border",children:s.jsxs("p",{className:"text-sm text-muted-foreground italic",children:[" Cierre del da: ",e.nextSteps.evening]})})]})})]})})},LT={overload:{icon:kr,color:"text-destructive",bgColor:"bg-destructive/10 border-destructive/20"},p0_urgent:{icon:uo,color:"text-warning",bgColor:"bg-warning/10 border-warning/20"},rest:{icon:Jf,color:"text-success",bgColor:"bg-success/10 border-success/20"},health:{icon:mt,color:"text-chart-4",bgColor:"bg-chart-4/10 border-chart-4/20"},focus:{icon:Mn,color:"text-primary",bgColor:"bg-primary/10 border-primary/20"},motivation:{icon:et,color:"text-chart-5",bgColor:"bg-chart-5/10 border-chart-5/20"}},Yae=({notifications:e,onDismiss:t,loading:r})=>{const n=li(),[a,i]=p.useState(!0),o=l=>{switch(l.actionType){case"navigate_tasks":n("/tasks");break;case"navigate_calendar":n("/calendar");break;case"start_break":t(l);break;case"dismiss":default:t(l)}};return e.length===0&&!r?null:s.jsx(ka,{open:a,onOpenChange:i,children:s.jsx(X,{className:"border-border bg-card overflow-hidden",children:s.jsxs(Y,{className:"p-0",children:[s.jsx(ea,{asChild:!0,children:s.jsxs("button",{className:"w-full flex items-center justify-between px-3 sm:px-4 py-2 sm:py-3 border-b border-border bg-muted/30 hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gs,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-primary"}),s.jsx("span",{className:"text-xs sm:text-sm font-medium text-foreground",children:"Alertas inteligentes"}),e.length>0&&s.jsx("span",{className:"text-[10px] sm:text-xs bg-primary/20 text-primary px-1 sm:px-1.5 py-0.5 rounded-full",children:e.length})]}),s.jsx(qn,{className:`w-4 h-4 text-muted-foreground transition-transform duration-200 ${a?"rotate-180":""}`})]})}),s.jsx(Ea,{children:s.jsx("div",{className:"divide-y divide-border",children:r?s.jsxs("div",{className:"p-3 sm:p-4 text-center",children:[s.jsxs("div",{className:"animate-pulse flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Analizando tu da..."})]}):e.map((l,c)=>{const u=LT[l.type]||LT.motivation,f=u.icon;return s.jsx("div",{className:`p-3 sm:p-4 ${u.bgColor} border-l-4 transition-all hover:bg-opacity-20`,children:s.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[s.jsx(f,{className:`w-4 h-4 sm:w-5 sm:h-5 ${u.color} flex-shrink-0 mt-0.5`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`text-xs sm:text-sm font-medium ${u.color}`,children:l.title}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-0.5 line-clamp-2",children:l.message}),l.actionLabel&&s.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>o(l),className:`mt-2 h-7 sm:h-8 px-2 sm:px-3 text-xs ${u.color} hover:bg-background/50`,children:[l.actionLabel,s.jsx(iu,{className:"w-3 h-3 ml-1"})]})]}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>t(l),className:"h-7 w-7 sm:h-6 sm:w-6 text-muted-foreground hover:text-foreground flex-shrink-0",children:s.jsx(kt,{className:"w-4 h-4"})})]})},`${l.type}-${c}`)})})})]})})})};var m1="focusScope.autoFocusOnMount",p1="focusScope.autoFocusOnUnmount",FT={bubbles:!1,cancelable:!0},Xae="FocusScope",$g=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=p.useState(null),u=Gr(a),f=Gr(i),d=p.useRef(null),h=We(t,g=>c(g)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let g=function(y){if(m.paused||!l)return;const N=y.target;l.contains(N)?d.current=N:Wo(d.current,{select:!0})},v=function(y){if(m.paused||!l)return;const N=y.relatedTarget;N!==null&&(l.contains(N)||Wo(d.current,{select:!0}))},w=function(y){if(document.activeElement===document.body)for(const j of y)j.removedNodes.length>0&&Wo(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const b=new MutationObserver(w);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),b.disconnect()}}},[n,l,m.paused]),p.useEffect(()=>{if(l){zT.add(m);const g=document.activeElement;if(!l.contains(g)){const w=new CustomEvent(m1,FT);l.addEventListener(m1,u),l.dispatchEvent(w),w.defaultPrevented||(Jae(rie(LF(l)),{select:!0}),document.activeElement===g&&Wo(l))}return()=>{l.removeEventListener(m1,u),setTimeout(()=>{const w=new CustomEvent(p1,FT);l.addEventListener(p1,f),l.dispatchEvent(w),w.defaultPrevented||Wo(g??document.body,{select:!0}),l.removeEventListener(p1,f),zT.remove(m)},0)}}},[l,u,f,m]);const x=p.useCallback(g=>{if(!r&&!n||m.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(v&&w){const b=g.currentTarget,[y,N]=Qae(b);y&&N?!g.shiftKey&&w===N?(g.preventDefault(),r&&Wo(y,{select:!0})):g.shiftKey&&w===y&&(g.preventDefault(),r&&Wo(N,{select:!0})):w===b&&g.preventDefault()}},[r,n,m.paused]);return s.jsx(Ne.div,{tabIndex:-1,...o,ref:h,onKeyDown:x})});$g.displayName=Xae;function Jae(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Wo(n,{select:t}),document.activeElement!==r)return}function Qae(e){const t=LF(e),r=BT(t,e),n=BT(t.reverse(),e);return[r,n]}function LF(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function BT(e,t){for(const r of e)if(!Zae(r,{upTo:t}))return r}function Zae(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function eie(e){return e instanceof HTMLInputElement&&"select"in e}function Wo(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&eie(e)&&t&&e.select()}}var zT=tie();function tie(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=UT(e,t),e.unshift(t)},remove(t){var r;e=UT(e,t),(r=e[0])==null||r.resume()}}}function UT(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function rie(e){return e.filter(t=>t.tagName!=="A")}var g1=0;function H0(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??WT()),document.body.insertAdjacentElement("beforeend",e[1]??WT()),g1++,()=>{g1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),g1--}},[])}function WT(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Mv="right-scroll-bar-position",Rv="width-before-scroll-bar",nie="with-scroll-bars-hidden",sie="--removed-body-scroll-bar-size";function x1(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function aie(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var iie=typeof window<"u"?p.useLayoutEffect:p.useEffect,qT=new WeakMap;function oie(e,t){var r=aie(null,function(n){return e.forEach(function(a){return x1(a,n)})});return iie(function(){var n=qT.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||x1(l,null)}),i.forEach(function(l){a.has(l)||x1(l,o)})}qT.set(r,e)},[e]),r}function lie(e){return e}function cie(e,t){t===void 0&&(t=lie);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var f=o;o=[],f.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),r}}}};return a}function uie(e){e===void 0&&(e={});var t=cie(null);return t.options=yi({async:!0,ssr:!1},e),t}var FF=function(e){var t=e.sideCar,r=sh(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,yi({},r))};FF.isSideCarExport=!0;function die(e,t){return e.useMedium(t),FF}var BF=uie(),v1=function(){},G0=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:v1,onWheelCapture:v1,onTouchMoveCapture:v1}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,h=e.sideCar,m=e.noRelative,x=e.noIsolation,g=e.inert,v=e.allowPinchZoom,w=e.as,b=w===void 0?"div":w,y=e.gapMode,N=sh(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,S=oie([r,t]),_=yi(yi({},N),a);return p.createElement(p.Fragment,null,f&&p.createElement(j,{sideCar:BF,removeScrollBar:u,shards:d,noRelative:m,noIsolation:x,inert:g,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:y}),o?p.cloneElement(p.Children.only(l),yi(yi({},_),{ref:S})):p.createElement(b,yi({},_,{className:c,ref:S}),l))});G0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};G0.classNames={fullWidth:Rv,zeroRight:Mv};var fie=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function hie(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=fie();return t&&e.setAttribute("nonce",t),e}function mie(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function pie(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var gie=function(){var e=0,t=null;return{add:function(r){e==0&&(t=hie())&&(mie(t,r),pie(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},xie=function(){var e=gie();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},zF=function(){var e=xie(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},vie={left:0,top:0,right:0,gap:0},y1=function(e){return parseInt(e||"",10)||0},yie=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[y1(r),y1(n),y1(a)]},bie=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return vie;var t=yie(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},wie=zF(),Od="data-scroll-locked",jie=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(nie,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Od,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Mv,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Rv,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Mv," .").concat(Mv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Rv," .").concat(Rv,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Od,`] {
    `).concat(sie,": ").concat(l,`px;
  }
`)},VT=function(){var e=parseInt(document.body.getAttribute(Od)||"0",10);return isFinite(e)?e:0},Nie=function(){p.useEffect(function(){return document.body.setAttribute(Od,(VT()+1).toString()),function(){var e=VT()-1;e<=0?document.body.removeAttribute(Od):document.body.setAttribute(Od,e.toString())}},[])},Sie=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Nie();var i=p.useMemo(function(){return bie(a)},[a]);return p.createElement(wie,{styles:jie(i,!t,a,r?"":"!important")})},e_=!1;if(typeof window<"u")try{var Lx=Object.defineProperty({},"passive",{get:function(){return e_=!0,!0}});window.addEventListener("test",Lx,Lx),window.removeEventListener("test",Lx,Lx)}catch{e_=!1}var Wu=e_?{passive:!1}:!1,_ie=function(e){return e.tagName==="TEXTAREA"},UF=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!_ie(e)&&r[t]==="visible")},Cie=function(e){return UF(e,"overflowY")},kie=function(e){return UF(e,"overflowX")},HT=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=WF(e,n);if(a){var i=qF(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Eie=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Pie=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},WF=function(e,t){return e==="v"?Cie(t):kie(t)},qF=function(e,t){return e==="v"?Eie(t):Pie(t)},Oie=function(e,t){return e==="h"&&t==="rtl"?-1:1},Aie=function(e,t,r,n,a){var i=Oie(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,f=o>0,d=0,h=0;do{if(!l)break;var m=qF(e,l),x=m[0],g=m[1],v=m[2],w=g-v-i*x;(x||w)&&WF(e,l)&&(d+=w,h+=x);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&Math.abs(d)<1||!f&&Math.abs(h)<1)&&(u=!0),u},Fx=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},GT=function(e){return[e.deltaX,e.deltaY]},KT=function(e){return e&&"current"in e?e.current:e},Tie=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Mie=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Rie=0,qu=[];function Iie(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),a=p.useState(Rie++)[0],i=p.useState(zF)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=Oee([e.lockRef.current],(e.shards||[]).map(KT),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var w=Fx(g),b=r.current,y="deltaX"in g?g.deltaX:b[0]-w[0],N="deltaY"in g?g.deltaY:b[1]-w[1],j,S=g.target,_=Math.abs(y)>Math.abs(N)?"h":"v";if("touches"in g&&_==="h"&&S.type==="range")return!1;var k=HT(_,S);if(!k)return!0;if(k?j=_:(j=_==="v"?"h":"v",k=HT(_,S)),!k)return!1;if(!n.current&&"changedTouches"in g&&(y||N)&&(n.current=j),!j)return!0;var E=n.current||j;return Aie(E,v,g,E==="h"?y:N)},[]),c=p.useCallback(function(g){var v=g;if(!(!qu.length||qu[qu.length-1]!==i)){var w="deltaY"in v?GT(v):Fx(v),b=t.current.filter(function(j){return j.name===v.type&&(j.target===v.target||v.target===j.shadowParent)&&Tie(j.delta,w)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var y=(o.current.shards||[]).map(KT).filter(Boolean).filter(function(j){return j.contains(v.target)}),N=y.length>0?l(v,y[0]):!o.current.noIsolation;N&&v.cancelable&&v.preventDefault()}}},[]),u=p.useCallback(function(g,v,w,b){var y={name:g,delta:v,target:w,should:b,shadowParent:Die(w)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(N){return N!==y})},1)},[]),f=p.useCallback(function(g){r.current=Fx(g),n.current=void 0},[]),d=p.useCallback(function(g){u(g.type,GT(g),g.target,l(g,e.lockRef.current))},[]),h=p.useCallback(function(g){u(g.type,Fx(g),g.target,l(g,e.lockRef.current))},[]);p.useEffect(function(){return qu.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Wu),document.addEventListener("touchmove",c,Wu),document.addEventListener("touchstart",f,Wu),function(){qu=qu.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Wu),document.removeEventListener("touchmove",c,Wu),document.removeEventListener("touchstart",f,Wu)}},[]);var m=e.removeScrollBar,x=e.inert;return p.createElement(p.Fragment,null,x?p.createElement(i,{styles:Mie(a)}):null,m?p.createElement(Sie,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Die(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $ie=die(BF,Iie);var Lg=p.forwardRef(function(e,t){return p.createElement(G0,yi({},e,{ref:t,sideCar:$ie}))});Lg.classNames=G0.classNames;var Lie=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Vu=new WeakMap,Bx=new WeakMap,zx={},b1=0,VF=function(e){return e&&(e.host||VF(e.parentNode))},Fie=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=VF(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Bie=function(e,t,r,n){var a=Fie(t,Array.isArray(e)?e:[e]);zx[r]||(zx[r]=new WeakMap);var i=zx[r],o=[],l=new Set,c=new Set(a),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};a.forEach(u);var f=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(l.has(h))f(h);else try{var m=h.getAttribute(n),x=m!==null&&m!=="false",g=(Vu.get(h)||0)+1,v=(i.get(h)||0)+1;Vu.set(h,g),i.set(h,v),o.push(h),g===1&&x&&Bx.set(h,!0),v===1&&h.setAttribute(r,"true"),x||h.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return f(t),l.clear(),b1++,function(){o.forEach(function(d){var h=Vu.get(d)-1,m=i.get(d)-1;Vu.set(d,h),i.set(d,m),h||(Bx.has(d)||d.removeAttribute(n),Bx.delete(d)),m||d.removeAttribute(r)}),b1--,b1||(Vu=new WeakMap,Vu=new WeakMap,Bx=new WeakMap,zx={})}},K0=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Lie(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),Bie(n,a,r,"aria-hidden")):function(){return null}},Y0="Dialog",[HF,GF]=en(Y0),[zie,ci]=HF(Y0),KF=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=p.useRef(null),c=p.useRef(null),[u,f]=Wn({prop:n,defaultProp:a??!1,onChange:i,caller:Y0});return s.jsx(zie,{scope:t,triggerRef:l,contentRef:c,contentId:Ys(),titleId:Ys(),descriptionId:Ys(),open:u,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(d=>!d),[f]),modal:o,children:r})};KF.displayName=Y0;var YF="DialogTrigger",XF=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ci(YF,r),i=We(t,a.triggerRef);return s.jsx(Ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":qk(a.open),...n,ref:i,onClick:fe(e.onClick,a.onOpenToggle)})});XF.displayName=YF;var Uk="DialogPortal",[Uie,JF]=HF(Uk,{forceMount:void 0}),QF=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=ci(Uk,t);return s.jsx(Uie,{scope:t,forceMount:r,children:p.Children.map(n,o=>s.jsx(cn,{present:r||i.open,children:s.jsx(Yf,{asChild:!0,container:a,children:o})}))})};QF.displayName=Uk;var My="DialogOverlay",ZF=p.forwardRef((e,t)=>{const r=JF(My,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=ci(My,e.__scopeDialog);return i.modal?s.jsx(cn,{present:n||i.open,children:s.jsx(qie,{...a,ref:t})}):null});ZF.displayName=My;var Wie=Dl("DialogOverlay.RemoveScroll"),qie=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ci(My,r);return s.jsx(Lg,{as:Wie,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Ne.div,{"data-state":qk(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),pu="DialogContent",e8=p.forwardRef((e,t)=>{const r=JF(pu,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=ci(pu,e.__scopeDialog);return s.jsx(cn,{present:n||i.open,children:i.modal?s.jsx(Vie,{...a,ref:t}):s.jsx(Hie,{...a,ref:t})})});e8.displayName=pu;var Vie=p.forwardRef((e,t)=>{const r=ci(pu,e.__scopeDialog),n=p.useRef(null),a=We(t,r.contentRef,n);return p.useEffect(()=>{const i=n.current;if(i)return K0(i)},[]),s.jsx(t8,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:fe(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:fe(e.onFocusOutside,i=>i.preventDefault())})}),Hie=p.forwardRef((e,t)=>{const r=ci(pu,e.__scopeDialog),n=p.useRef(!1),a=p.useRef(!1);return s.jsx(t8,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),t8=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=ci(pu,r),c=p.useRef(null),u=We(t,c);return H0(),s.jsxs(s.Fragment,{children:[s.jsx($g,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(ku,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":qk(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Kie,{titleId:l.titleId}),s.jsx(Xie,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Wk="DialogTitle",r8=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ci(Wk,r);return s.jsx(Ne.h2,{id:a.titleId,...n,ref:t})});r8.displayName=Wk;var n8="DialogDescription",s8=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ci(n8,r);return s.jsx(Ne.p,{id:a.descriptionId,...n,ref:t})});s8.displayName=n8;var a8="DialogClose",i8=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ci(a8,r);return s.jsx(Ne.button,{type:"button",...n,ref:t,onClick:fe(e.onClick,()=>a.onOpenChange(!1))})});i8.displayName=a8;function qk(e){return e?"open":"closed"}var o8="DialogTitleWarning",[Gie,l8]=pK(o8,{contentName:pu,titleName:Wk,docsSlug:"dialog"}),Kie=({titleId:e})=>{const t=l8(o8),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Yie="DialogDescriptionWarning",Xie=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${l8(Yie).contentName}}.`;return p.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},c8=KF,u8=XF,d8=QF,Vk=ZF,Hk=e8,Gk=r8,Kk=s8,Yk=i8;const Lt=c8,Np=u8,Jie=d8,f8=p.forwardRef(({className:e,...t},r)=>s.jsx(Vk,{ref:r,className:z("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));f8.displayName=Vk.displayName;const Ft=p.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Jie,{children:[s.jsx(f8,{}),s.jsxs(Hk,{ref:n,className:z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(Yk,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(kt,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ft.displayName=Hk.displayName;const or=({className:e,...t})=>s.jsx("div",{className:z("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});or.displayName="DialogHeader";const Pu=({className:e,...t})=>s.jsx("div",{className:z("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Pu.displayName="DialogFooter";const lr=p.forwardRef(({className:e,...t},r)=>s.jsx(Gk,{ref:r,className:z("text-lg font-semibold leading-none tracking-tight",e),...t}));lr.displayName=Gk.displayName;const X0=p.forwardRef(({className:e,...t},r)=>s.jsx(Kk,{ref:r,className:z("text-sm text-muted-foreground",e),...t}));X0.displayName=Kk.displayName;function Qie(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var Xk="ScrollArea",[h8]=en(Xk),[Zie,Oa]=h8(Xk),m8=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=p.useState(null),[u,f]=p.useState(null),[d,h]=p.useState(null),[m,x]=p.useState(null),[g,v]=p.useState(null),[w,b]=p.useState(0),[y,N]=p.useState(0),[j,S]=p.useState(!1),[_,k]=p.useState(!1),E=We(t,C=>c(C)),A=Yl(a);return s.jsx(Zie,{scope:r,type:n,dir:A,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:f,content:d,onContentChange:h,scrollbarX:m,onScrollbarXChange:x,scrollbarXEnabled:j,onScrollbarXEnabledChange:S,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:_,onScrollbarYEnabledChange:k,onCornerWidthChange:b,onCornerHeightChange:N,children:s.jsx(Ne.div,{dir:A,...o,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});m8.displayName=Xk;var p8="ScrollAreaViewport",g8=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=Oa(p8,r),l=p.useRef(null),c=We(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Ne.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});g8.displayName=p8;var Bi="ScrollAreaScrollbar",Jk=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Oa(Bi,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return p.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(eoe,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(toe,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(x8,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(Qk,{...n,ref:t}):null});Jk.displayName=Bi;var eoe=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Oa(Bi,e.__scopeScrollArea),[i,o]=p.useState(!1);return p.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},f=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",f)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(cn,{present:r||i,children:s.jsx(x8,{"data-state":i?"visible":"hidden",...n,ref:t})})}),toe=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Oa(Bi,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Q0(()=>c("SCROLL_END"),100),[l,c]=Qie("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),p.useEffect(()=>{const u=a.viewport,f=i?"scrollLeft":"scrollTop";if(u){let d=u[f];const h=()=>{const m=u[f];d!==m&&(c("SCROLL"),o()),d=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,c,o]),s.jsx(cn,{present:r||l!=="hidden",children:s.jsx(Qk,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:fe(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:fe(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),x8=p.forwardRef((e,t)=>{const r=Oa(Bi,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=p.useState(!1),l=e.orientation==="horizontal",c=Q0(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:f)}},10);return df(r.viewport,c),df(r.content,c),s.jsx(cn,{present:n||i,children:s.jsx(Qk,{"data-state":i?"visible":"hidden",...a,ref:t})})}),Qk=p.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Oa(Bi,e.__scopeScrollArea),i=p.useRef(null),o=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=j8(l.viewport,l.content),f={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function d(h,m){return ooe(h,o.current,l,m)}return r==="horizontal"?s.jsx(roe,{...f,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,m=YT(h,l,a.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=d(h,a.dir))}}):r==="vertical"?s.jsx(noe,{...f,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,m=YT(h,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=d(h))}}):null}),roe=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Oa(Bi,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=We(t,c,i.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(y8,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":J0(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,d)=>{if(i.viewport){const h=i.viewport.scrollLeft+f.deltaX;e.onWheelScroll(h),S8(h,d)&&f.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Iy(o.paddingLeft),paddingEnd:Iy(o.paddingRight)}})}})}),noe=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Oa(Bi,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=We(t,c,i.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(y8,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":J0(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,d)=>{if(i.viewport){const h=i.viewport.scrollTop+f.deltaY;e.onWheelScroll(h),S8(h,d)&&f.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Iy(o.paddingTop),paddingEnd:Iy(o.paddingBottom)}})}})}),[soe,v8]=h8(Bi),y8=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:f,onResize:d,...h}=e,m=Oa(Bi,r),[x,g]=p.useState(null),v=We(t,E=>g(E)),w=p.useRef(null),b=p.useRef(""),y=m.viewport,N=n.content-n.viewport,j=Gr(f),S=Gr(c),_=Q0(d,10);function k(E){if(w.current){const A=E.clientX-w.current.left,C=E.clientY-w.current.top;u({x:A,y:C})}}return p.useEffect(()=>{const E=A=>{const C=A.target;(x==null?void 0:x.contains(C))&&j(A,N)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[y,x,N,j]),p.useEffect(S,[n,S]),df(x,_),df(m.content,_),s.jsx(soe,{scope:r,scrollbar:x,hasThumb:a,onThumbChange:Gr(i),onThumbPointerUp:Gr(o),onThumbPositionChange:S,onThumbPointerDown:Gr(l),children:s.jsx(Ne.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:fe(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),w.current=x.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),k(E))}),onPointerMove:fe(e.onPointerMove,k),onPointerUp:fe(e.onPointerUp,E=>{const A=E.target;A.hasPointerCapture(E.pointerId)&&A.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=b.current,m.viewport&&(m.viewport.style.scrollBehavior=""),w.current=null})})})}),Ry="ScrollAreaThumb",b8=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=v8(Ry,e.__scopeScrollArea);return s.jsx(cn,{present:r||a.hasThumb,children:s.jsx(aoe,{ref:t,...n})})}),aoe=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=Oa(Ry,r),o=v8(Ry,r),{onThumbPositionChange:l}=o,c=We(t,d=>o.onThumbChange(d)),u=p.useRef(void 0),f=Q0(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const d=i.viewport;if(d){const h=()=>{if(f(),!u.current){const m=loe(d,l);u.current=m,l()}};return l(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[i.viewport,f,l]),s.jsx(Ne.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:fe(e.onPointerDownCapture,d=>{const m=d.target.getBoundingClientRect(),x=d.clientX-m.left,g=d.clientY-m.top;o.onThumbPointerDown({x,y:g})}),onPointerUp:fe(e.onPointerUp,o.onThumbPointerUp)})});b8.displayName=Ry;var Zk="ScrollAreaCorner",w8=p.forwardRef((e,t)=>{const r=Oa(Zk,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(ioe,{...e,ref:t}):null});w8.displayName=Zk;var ioe=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Oa(Zk,r),[i,o]=p.useState(0),[l,c]=p.useState(0),u=!!(i&&l);return df(a.scrollbarX,()=>{var d;const f=((d=a.scrollbarX)==null?void 0:d.offsetHeight)||0;a.onCornerHeightChange(f),c(f)}),df(a.scrollbarY,()=>{var d;const f=((d=a.scrollbarY)==null?void 0:d.offsetWidth)||0;a.onCornerWidthChange(f),o(f)}),u?s.jsx(Ne.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Iy(e){return e?parseInt(e,10):0}function j8(e,t){const r=e/t;return isNaN(r)?0:r}function J0(e){const t=j8(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function ooe(e,t,r,n="ltr"){const a=J0(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,f=r.content-r.viewport,d=n==="ltr"?[0,f]:[f*-1,0];return N8([c,u],d)(e)}function YT(e,t,r="ltr"){const n=J0(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=jp(e,c);return N8([0,o],[0,l])(u)}function N8(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function S8(e,t){return e>0&&e<t}var loe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function Q0(e,t){const r=Gr(e),n=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),p.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function df(e,t){const r=Gr(t);_n(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var _8=m8,coe=g8,uoe=w8;const Tn=p.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(_8,{ref:n,className:z("relative overflow-hidden",e),...r,children:[s.jsx(coe,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(C8,{}),s.jsx(uoe,{})]}));Tn.displayName=_8.displayName;const C8=p.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(Jk,{ref:n,orientation:t,className:z("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(b8,{className:"relative flex-1 rounded-full bg-border"})}));C8.displayName=Jk.displayName;const doe={energy:5,mood:5,stress:5,anxiety:3,motivation:5},k8=()=>{const{user:e}=ut(),[t,r]=p.useState(null),[n,a]=p.useState(!1),[i,o]=p.useState(null),l=p.useCallback((m="daily",x=doe)=>{r({sessionType:m,protocol:null,emotionalState:x,messages:[]}),o(null)},[]),c=p.useCallback(async(m,x)=>{if(!t)return V.error("No hay sesin activa"),null;a(!0),o(null);const g=[...t.messages,{role:"user",content:m,timestamp:new Date}];r(v=>v?{...v,messages:g}:null);try{const{data:v,error:w}=await H.functions.invoke("jarvis-coach",{body:{messages:g.map(y=>({role:y.role,content:y.content})),emotionalState:t.emotionalState,context:{emotionalState:t.emotionalState,recentTopics:(x==null?void 0:x.recentTopics)||[],previousInsights:(x==null?void 0:x.previousInsights)||[],currentProtocol:t.protocol,dayMode:(x==null?void 0:x.dayMode)||"balanced",checkInData:x==null?void 0:x.checkInData},sessionType:t.sessionType}});if(w)throw w;if(v.error)throw new Error(v.error);const b={role:"assistant",content:v.message,timestamp:new Date};return r(y=>y?{...y,messages:[...g,b],protocol:v.protocol||y.protocol}:null),v.message}catch(v){const w=v instanceof Error?v.message:"Error en la sesin de coaching";return console.error("JARVIS Coach error:",v),o(w),w.includes("429")||w.includes("lmite")?V.error("Lmite de uso alcanzado",{description:"Intenta de nuevo en unos minutos"}):w.includes("402")||w.includes("crditos")?V.error("Crditos agotados",{description:"Recarga tu cuenta para continuar"}):V.error("Error en coaching",{description:w}),null}finally{a(!1)}},[t]),u=p.useCallback(m=>{r(x=>x?{...x,emotionalState:{...x.emotionalState,...m}}:null)},[]),f=p.useCallback(async()=>{if(!t||!e)return null;try{const m={user_id:e.id,session_type:t.sessionType,protocol:t.protocol,emotional_state:t.emotionalState,messages:t.messages,summary:t.summary,next_steps:t.nextSteps},{data:x,error:g}=await H.from("coach_sessions").insert(m).select().single();if(g)throw g;return V.success("Sesin guardada"),x}catch(m){return console.error("Error saving session:",m),V.error("Error al guardar la sesin"),null}},[t,e]),d=p.useCallback(async()=>{t&&t.messages.length>0&&await f(),r(null),o(null)},[t,f]),h=p.useCallback(async(m=5)=>{if(!e)return[];try{const{data:x,error:g}=await H.from("coach_sessions").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(m);if(g)throw g;return x||[]}catch(x){return console.error("Error fetching sessions:",x),[]}},[e]);return{session:t,loading:n,error:i,startSession:l,sendMessage:c,updateEmotionalState:u,saveSession:f,endSession:d,getRecentSessions:h}},XT={anxiety:{label:"Ansiedad",color:"bg-destructive/20 text-destructive",icon:kr},block:{label:"Bloqueo",color:"bg-warning/20 text-warning",icon:Qr},push:{label:"Empuje",color:"bg-success/20 text-success",icon:Mn},tired:{label:"Cansancio",color:"bg-chart-4/20 text-chart-4",icon:ip},crisis:{label:"Crisis",color:"bg-destructive/20 text-destructive",icon:mt},balanced:{label:"Equilibrado",color:"bg-primary/20 text-primary",icon:Qr}},E8=({open:e,onOpenChange:t,checkInData:r})=>{const{session:n,loading:a,startSession:i,sendMessage:o,endSession:l}=k8(),[c,u]=p.useState(""),[f,d]=p.useState(!0),[h,m]=p.useState({energy:r!=null&&r.energy?r.energy*2:5,mood:r!=null&&r.mood?r.mood*2:5,stress:5,anxiety:3,motivation:5}),x=p.useRef(null);p.useEffect(()=>{x.current&&(x.current.scrollTop=x.current.scrollHeight)},[n==null?void 0:n.messages]),p.useEffect(()=>{e&&!n&&(d(!0),m({energy:r!=null&&r.energy?r.energy*2:5,mood:r!=null&&r.mood?r.mood*2:5,stress:5,anxiety:3,motivation:5}))},[e,n,r]);const g=async()=>{i("daily",h),d(!1),await o("Hola JARVIS, estoy listo para nuestra sesin.",{checkInData:r?{energy:r.energy,mood:r.mood,focus:r.focus}:void 0,dayMode:(r==null?void 0:r.dayMode)||"balanced"})},v=async()=>{if(!c.trim()||a)return;const N=c;u(""),await o(N,{checkInData:r?{energy:r.energy,mood:r.mood,focus:r.focus}:void 0,dayMode:(r==null?void 0:r.dayMode)||"balanced"})},w=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),v())},b=async()=>{n&&n.messages.length>0&&await l(),t(!1)},y=n!=null&&n.protocol?XT[n.protocol]||XT.balanced:null;return s.jsx(Lt,{open:e,onOpenChange:b,children:s.jsxs(Ft,{className:"sm:max-w-[500px] h-[600px] flex flex-col p-0",children:[s.jsx(or,{className:"p-4 pb-2 border-b border-border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(lr,{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(Qr,{className:"w-4 h-4 text-primary"})}),"JARVIS Coach"]}),y&&s.jsxs(Q,{variant:"outline",className:y.color,children:[s.jsx(y.icon,{className:"w-3 h-3 mr-1"}),y.label]})]})}),s.jsx("div",{className:"flex-1 overflow-hidden flex flex-col",children:f?s.jsxs("div",{className:"p-4 space-y-6 overflow-auto",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("h3",{className:"font-medium text-foreground",children:"Cmo te encuentras ahora?"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Ajusta los niveles para que pueda adaptar la sesin"})]}),s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ip,{className:"w-4 h-4 text-success"}),s.jsx("span",{className:"text-sm font-medium",children:"Energa"})]}),s.jsxs("span",{className:"text-sm font-mono",children:[h.energy,"/10"]})]}),s.jsx(Er,{value:[h.energy],onValueChange:([N])=>m(j=>({...j,energy:N})),min:1,max:10,step:1})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mt,{className:"w-4 h-4 text-destructive"}),s.jsx("span",{className:"text-sm font-medium",children:"nimo"})]}),s.jsxs("span",{className:"text-sm font-mono",children:[h.mood,"/10"]})]}),s.jsx(Er,{value:[h.mood],onValueChange:([N])=>m(j=>({...j,mood:N})),min:1,max:10,step:1})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nn,{className:"w-4 h-4 text-warning"}),s.jsx("span",{className:"text-sm font-medium",children:"Estrs"})]}),s.jsxs("span",{className:"text-sm font-mono",children:[h.stress,"/10"]})]}),s.jsx(Er,{value:[h.stress],onValueChange:([N])=>m(j=>({...j,stress:N})),min:1,max:10,step:1})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kr,{className:"w-4 h-4 text-destructive"}),s.jsx("span",{className:"text-sm font-medium",children:"Ansiedad"})]}),s.jsxs("span",{className:"text-sm font-mono",children:[h.anxiety,"/10"]})]}),s.jsx(Er,{value:[h.anxiety],onValueChange:([N])=>m(j=>({...j,anxiety:N})),min:1,max:10,step:1})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mn,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"text-sm font-medium",children:"Motivacin"})]}),s.jsxs("span",{className:"text-sm font-mono",children:[h.motivation,"/10"]})]}),s.jsx(Er,{value:[h.motivation],onValueChange:([N])=>m(j=>({...j,motivation:N})),min:1,max:10,step:1})]})]}),s.jsx(U,{onClick:g,className:"w-full",disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(_e,{className:"w-4 h-4 mr-2 animate-spin"}),"Iniciando sesin..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Qr,{className:"w-4 h-4 mr-2"}),"Comenzar sesin"]})})]}):s.jsxs(s.Fragment,{children:[s.jsx(Tn,{className:"flex-1 p-4",ref:x,children:s.jsxs("div",{className:"space-y-4",children:[n==null?void 0:n.messages.map((N,j)=>s.jsx("div",{className:`flex ${N.role==="user"?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-[80%] p-3 rounded-lg ${N.role==="user"?"bg-primary text-primary-foreground":"bg-muted text-foreground"}`,children:s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:N.content})})},j)),a&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-muted p-3 rounded-lg",children:s.jsx(_e,{className:"w-4 h-4 animate-spin text-muted-foreground"})})})]})}),s.jsx("div",{className:"p-4 border-t border-border",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(be,{value:c,onChange:N=>u(N.target.value),onKeyPress:w,placeholder:"Escribe tu mensaje...",disabled:a,className:"flex-1"}),s.jsx(U,{onClick:v,disabled:!c.trim()||a,size:"icon",children:s.jsx(j0,{className:"w-4 h-4"})})]})})]})})]})})},foe=({checkInData:e})=>{const[t,r]=p.useState(!1),a=e?e.energy<=2&&e.mood<=2?{protocol:"crisis",label:"Sesin de apoyo recomendada"}:e.energy<=2?{protocol:"tired",label:"Da de baja energa"}:e.energy>=4&&e.mood>=4?{protocol:"push",label:"Buen momento para avanzar"}:{protocol:"balanced",label:"Sesin regular disponible"}:null;return s.jsxs(s.Fragment,{children:[s.jsx(mu,{id:"coach",title:"JARVIS Coach",icon:s.jsx(Qr,{className:"w-4 h-4 text-primary"}),children:s.jsxs("div",{className:"p-3 sm:p-4 space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Coaching personalizado con protocolos adaptativos segn tu estado emocional."}),a&&s.jsx("div",{className:"p-3 rounded-lg bg-primary/5 border border-primary/20",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(et,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"text-sm text-foreground",children:a.label})]})}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(Q,{variant:"outline",className:"text-xs",children:"Ansiedad"}),s.jsx(Q,{variant:"outline",className:"text-xs",children:"Bloqueo"}),s.jsx(Q,{variant:"outline",className:"text-xs",children:"Empuje"}),s.jsx(Q,{variant:"outline",className:"text-xs",children:"Cansancio"})]}),s.jsxs(U,{onClick:()=>r(!0),className:"w-full",children:[s.jsx(lm,{className:"w-4 h-4 mr-2"}),"Iniciar sesin de coaching"]})]})}),s.jsx(E8,{open:t,onOpenChange:r,checkInData:e})]})};var eE="Progress",tE=100,[hoe]=en(eE),[moe,poe]=hoe(eE),P8=p.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=goe,...o}=e;(a||a===0)&&!JT(a)&&console.error(xoe(`${a}`,"Progress"));const l=JT(a)?a:tE;n!==null&&!QT(n,l)&&console.error(voe(`${n}`,"Progress"));const c=QT(n,l)?n:null,u=Dy(c)?i(c,l):void 0;return s.jsx(moe,{scope:r,value:c,max:l,children:s.jsx(Ne.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Dy(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":T8(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});P8.displayName=eE;var O8="ProgressIndicator",A8=p.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=poe(O8,r);return s.jsx(Ne.div,{"data-state":T8(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});A8.displayName=O8;function goe(e,t){return`${Math.round(e/t*100)}%`}function T8(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Dy(e){return typeof e=="number"}function JT(e){return Dy(e)&&!isNaN(e)&&e>0}function QT(e,t){return Dy(e)&&!isNaN(e)&&e<=t&&e>=0}function xoe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${tE}\`.`}function voe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${tE} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var M8=P8,yoe=A8;const Cr=p.forwardRef(({className:e,value:t,...r},n)=>s.jsx(M8,{ref:n,className:z("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(yoe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Cr.displayName=M8.displayName;const Kr=p.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:z("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Kr.displayName="Textarea";var boe=[" ","Enter","ArrowUp","ArrowDown"],woe=[" ","Enter"],gu="Select",[Z0,ew,joe]=jg(gu),[ch]=en(gu,[joe,Gl]),tw=Gl(),[Noe,Xl]=ch(gu),[Soe,_oe]=ch(gu),R8=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:d,disabled:h,required:m,form:x}=e,g=tw(t),[v,w]=p.useState(null),[b,y]=p.useState(null),[N,j]=p.useState(!1),S=Yl(u),[_,k]=Wn({prop:n,defaultProp:a??!1,onChange:i,caller:gu}),[E,A]=Wn({prop:o,defaultProp:l,onChange:c,caller:gu}),C=p.useRef(null),O=v?x||!!v.closest("form"):!0,[$,R]=p.useState(new Set),T=Array.from($).map(L=>L.props.value).join(";");return s.jsx(C0,{...g,children:s.jsxs(Noe,{required:m,scope:t,trigger:v,onTriggerChange:w,valueNode:b,onValueNodeChange:y,valueNodeHasChildren:N,onValueNodeHasChildrenChange:j,contentId:Ys(),value:E,onValueChange:A,open:_,onOpenChange:k,dir:S,triggerPointerDownPosRef:C,disabled:h,children:[s.jsx(Z0.Provider,{scope:t,children:s.jsx(Soe,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(L=>{R(I=>new Set(I).add(L))},[]),onNativeOptionRemove:p.useCallback(L=>{R(I=>{const P=new Set(I);return P.delete(L),P})},[]),children:r})}),O?s.jsxs(sB,{"aria-hidden":!0,required:m,tabIndex:-1,name:f,autoComplete:d,value:E,onChange:L=>A(L.target.value),disabled:h,form:x,children:[E===void 0?s.jsx("option",{value:""}):null,Array.from($)]},T):null]})})};R8.displayName=gu;var I8="SelectTrigger",D8=p.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=tw(r),o=Xl(I8,r),l=o.disabled||n,c=We(t,o.onTriggerChange),u=ew(r),f=p.useRef("touch"),[d,h,m]=iB(g=>{const v=u().filter(y=>!y.disabled),w=v.find(y=>y.value===o.value),b=oB(v,g,w);b!==void 0&&o.onValueChange(b.value)}),x=g=>{l||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(Pg,{asChild:!0,...i,children:s.jsx(Ne.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":aB(o.value)?"":void 0,...a,ref:c,onClick:fe(a.onClick,g=>{g.currentTarget.focus(),f.current!=="mouse"&&x(g)}),onPointerDown:fe(a.onPointerDown,g=>{f.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:fe(a.onKeyDown,g=>{const v=d.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(v&&g.key===" ")&&boe.includes(g.key)&&(x(),g.preventDefault())})})})});D8.displayName=I8;var $8="SelectValue",L8=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=Xl($8,r),{onValueNodeHasChildrenChange:u}=c,f=i!==void 0,d=We(t,c.onValueNodeChange);return _n(()=>{u(f)},[u,f]),s.jsx(Ne.span,{...l,ref:d,style:{pointerEvents:"none"},children:aB(c.value)?s.jsx(s.Fragment,{children:o}):i})});L8.displayName=$8;var Coe="SelectIcon",F8=p.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Ne.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});F8.displayName=Coe;var koe="SelectPortal",B8=e=>s.jsx(Yf,{asChild:!0,...e});B8.displayName=koe;var xu="SelectContent",z8=p.forwardRef((e,t)=>{const r=Xl(xu,e.__scopeSelect),[n,a]=p.useState();if(_n(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?va.createPortal(s.jsx(U8,{scope:e.__scopeSelect,children:s.jsx(Z0.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(W8,{...e,ref:t})});z8.displayName=xu;var $a=10,[U8,Jl]=ch(xu),Eoe="SelectContentImpl",Poe=Dl("SelectContent.RemoveScroll"),W8=p.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:m,sticky:x,hideWhenDetached:g,avoidCollisions:v,...w}=e,b=Xl(xu,r),[y,N]=p.useState(null),[j,S]=p.useState(null),_=We(t,ie=>N(ie)),[k,E]=p.useState(null),[A,C]=p.useState(null),O=ew(r),[$,R]=p.useState(!1),T=p.useRef(!1);p.useEffect(()=>{if(y)return K0(y)},[y]),H0();const L=p.useCallback(ie=>{const[ce,...re]=O().map(te=>te.ref.current),[se]=re.slice(-1),me=document.activeElement;for(const te of ie)if(te===me||(te==null||te.scrollIntoView({block:"nearest"}),te===ce&&j&&(j.scrollTop=0),te===se&&j&&(j.scrollTop=j.scrollHeight),te==null||te.focus(),document.activeElement!==me))return},[O,j]),I=p.useCallback(()=>L([k,y]),[L,k,y]);p.useEffect(()=>{$&&I()},[$,I]);const{onOpenChange:P,triggerPointerDownPosRef:M}=b;p.useEffect(()=>{if(y){let ie={x:0,y:0};const ce=se=>{var me,te;ie={x:Math.abs(Math.round(se.pageX)-(((me=M.current)==null?void 0:me.x)??0)),y:Math.abs(Math.round(se.pageY)-(((te=M.current)==null?void 0:te.y)??0))}},re=se=>{ie.x<=10&&ie.y<=10?se.preventDefault():y.contains(se.target)||P(!1),document.removeEventListener("pointermove",ce),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",re,{capture:!0})}}},[y,P,M]),p.useEffect(()=>{const ie=()=>P(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[P]);const[F,B]=iB(ie=>{const ce=O().filter(me=>!me.disabled),re=ce.find(me=>me.ref.current===document.activeElement),se=oB(ce,ie,re);se&&setTimeout(()=>se.ref.current.focus())}),q=p.useCallback((ie,ce,re)=>{const se=!T.current&&!re;(b.value!==void 0&&b.value===ce||se)&&(E(ie),se&&(T.current=!0))},[b.value]),J=p.useCallback(()=>y==null?void 0:y.focus(),[y]),W=p.useCallback((ie,ce,re)=>{const se=!T.current&&!re;(b.value!==void 0&&b.value===ce||se)&&C(ie)},[b.value]),ne=n==="popper"?t_:q8,he=ne===t_?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:m,sticky:x,hideWhenDetached:g,avoidCollisions:v}:{};return s.jsx(U8,{scope:r,content:y,viewport:j,onViewportChange:S,itemRefCallback:q,selectedItem:k,onItemLeave:J,itemTextRefCallback:W,focusSelectedItem:I,selectedItemText:A,position:n,isPositioned:$,searchRef:F,children:s.jsx(Lg,{as:Poe,allowPinchZoom:!0,children:s.jsx($g,{asChild:!0,trapped:b.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:fe(a,ie=>{var ce;(ce=b.trigger)==null||ce.focus({preventScroll:!0}),ie.preventDefault()}),children:s.jsx(ku,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:s.jsx(ne,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:ie=>ie.preventDefault(),...w,...he,onPlaced:()=>R(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:fe(w.onKeyDown,ie=>{const ce=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!ce&&ie.key.length===1&&B(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let se=O().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(se=se.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const me=ie.target,te=se.indexOf(me);se=se.slice(te+1)}setTimeout(()=>L(se)),ie.preventDefault()}})})})})})})});W8.displayName=Eoe;var Ooe="SelectItemAlignedPosition",q8=p.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Xl(xu,r),o=Jl(xu,r),[l,c]=p.useState(null),[u,f]=p.useState(null),d=We(t,_=>f(_)),h=ew(r),m=p.useRef(!1),x=p.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:w,focusSelectedItem:b}=o,y=p.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&v&&w){const _=i.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),A=w.getBoundingClientRect();if(i.dir!=="rtl"){const me=A.left-k.left,te=E.left-me,Ee=_.left-te,je=_.width+Ee,Be=Math.max(je,k.width),le=window.innerWidth-$a,Me=jp(te,[$a,Math.max($a,le-Be)]);l.style.minWidth=je+"px",l.style.left=Me+"px"}else{const me=k.right-A.right,te=window.innerWidth-E.right-me,Ee=window.innerWidth-_.right-te,je=_.width+Ee,Be=Math.max(je,k.width),le=window.innerWidth-$a,Me=jp(te,[$a,Math.max($a,le-Be)]);l.style.minWidth=je+"px",l.style.right=Me+"px"}const C=h(),O=window.innerHeight-$a*2,$=g.scrollHeight,R=window.getComputedStyle(u),T=parseInt(R.borderTopWidth,10),L=parseInt(R.paddingTop,10),I=parseInt(R.borderBottomWidth,10),P=parseInt(R.paddingBottom,10),M=T+L+$+P+I,F=Math.min(v.offsetHeight*5,M),B=window.getComputedStyle(g),q=parseInt(B.paddingTop,10),J=parseInt(B.paddingBottom,10),W=_.top+_.height/2-$a,ne=O-W,he=v.offsetHeight/2,ie=v.offsetTop+he,ce=T+L+ie,re=M-ce;if(ce<=W){const me=C.length>0&&v===C[C.length-1].ref.current;l.style.bottom="0px";const te=u.clientHeight-g.offsetTop-g.offsetHeight,Ee=Math.max(ne,he+(me?J:0)+te+I),je=ce+Ee;l.style.height=je+"px"}else{const me=C.length>0&&v===C[0].ref.current;l.style.top="0px";const Ee=Math.max(W,T+g.offsetTop+(me?q:0)+he)+re;l.style.height=Ee+"px",g.scrollTop=ce-W+g.offsetTop}l.style.margin=`${$a}px 0`,l.style.minHeight=F+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,u,g,v,w,i.dir,n]);_n(()=>y(),[y]);const[N,j]=p.useState();_n(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const S=p.useCallback(_=>{_&&x.current===!0&&(y(),b==null||b(),x.current=!1)},[y,b]);return s.jsx(Toe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:s.jsx(Ne.div,{...a,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});q8.displayName=Ooe;var Aoe="SelectPopperPosition",t_=p.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=$a,...i}=e,o=tw(r);return s.jsx(k0,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});t_.displayName=Aoe;var[Toe,rE]=ch(xu,{}),r_="SelectViewport",V8=p.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Jl(r_,r),o=rE(r_,r),l=We(t,i.onViewportChange),c=p.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Z0.Slot,{scope:r,children:s.jsx(Ne.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:fe(a.onScroll,u=>{const f=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&d){const m=Math.abs(c.current-f.scrollTop);if(m>0){const x=window.innerHeight-$a*2,g=parseFloat(d.style.minHeight),v=parseFloat(d.style.height),w=Math.max(g,v);if(w<x){const b=w+m,y=Math.min(x,b),N=b-y;d.style.height=y+"px",d.style.bottom==="0px"&&(f.scrollTop=N>0?N:0,d.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});V8.displayName=r_;var H8="SelectGroup",[Moe,Roe]=ch(H8),Ioe=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Ys();return s.jsx(Moe,{scope:r,id:a,children:s.jsx(Ne.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Ioe.displayName=H8;var G8="SelectLabel",K8=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Roe(G8,r);return s.jsx(Ne.div,{id:a.id,...n,ref:t})});K8.displayName=G8;var $y="SelectItem",[Doe,Y8]=ch($y),X8=p.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=Xl($y,r),c=Jl($y,r),u=l.value===n,[f,d]=p.useState(i??""),[h,m]=p.useState(!1),x=We(t,b=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,b,n,a)}),g=Ys(),v=p.useRef("touch"),w=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Doe,{scope:r,value:n,disabled:a,textId:g,isSelected:u,onItemTextChange:p.useCallback(b=>{d(y=>y||((b==null?void 0:b.textContent)??"").trim())},[]),children:s.jsx(Z0.ItemSlot,{scope:r,value:n,disabled:a,textValue:f,children:s.jsx(Ne.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:x,onFocus:fe(o.onFocus,()=>m(!0)),onBlur:fe(o.onBlur,()=>m(!1)),onClick:fe(o.onClick,()=>{v.current!=="mouse"&&w()}),onPointerUp:fe(o.onPointerUp,()=>{v.current==="mouse"&&w()}),onPointerDown:fe(o.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:fe(o.onPointerMove,b=>{var y;v.current=b.pointerType,a?(y=c.onItemLeave)==null||y.call(c):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(o.onPointerLeave,b=>{var y;b.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:fe(o.onKeyDown,b=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&b.key===" "||(woe.includes(b.key)&&w(),b.key===" "&&b.preventDefault())})})})})});X8.displayName=$y;var fm="SelectItemText",J8=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=Xl(fm,r),l=Jl(fm,r),c=Y8(fm,r),u=_oe(fm,r),[f,d]=p.useState(null),h=We(t,w=>d(w),c.onItemTextChange,w=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,w,c.value,c.disabled)}),m=f==null?void 0:f.textContent,x=p.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return _n(()=>(g(x),()=>v(x)),[g,v,x]),s.jsxs(s.Fragment,{children:[s.jsx(Ne.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?va.createPortal(i.children,o.valueNode):null]})});J8.displayName=fm;var Q8="SelectItemIndicator",Z8=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Y8(Q8,r).isSelected?s.jsx(Ne.span,{"aria-hidden":!0,...n,ref:t}):null});Z8.displayName=Q8;var n_="SelectScrollUpButton",eB=p.forwardRef((e,t)=>{const r=Jl(n_,e.__scopeSelect),n=rE(n_,e.__scopeSelect),[a,i]=p.useState(!1),o=We(t,n.onScrollButtonChange);return _n(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(rB,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});eB.displayName=n_;var s_="SelectScrollDownButton",tB=p.forwardRef((e,t)=>{const r=Jl(s_,e.__scopeSelect),n=rE(s_,e.__scopeSelect),[a,i]=p.useState(!1),o=We(t,n.onScrollButtonChange);return _n(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;i(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(rB,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});tB.displayName=s_;var rB=p.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Jl("SelectScrollButton",r),o=p.useRef(null),l=ew(r),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),_n(()=>{var f;const u=l().find(d=>d.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),s.jsx(Ne.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:fe(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:fe(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:fe(a.onPointerLeave,()=>{c()})})}),$oe="SelectSeparator",nB=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Ne.div,{"aria-hidden":!0,...n,ref:t})});nB.displayName=$oe;var a_="SelectArrow",Loe=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=tw(r),i=Xl(a_,r),o=Jl(a_,r);return i.open&&o.position==="popper"?s.jsx(E0,{...a,...n,ref:t}):null});Loe.displayName=a_;var Foe="SelectBubbleInput",sB=p.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=p.useRef(null),i=We(n,a),o=Dg(t);return p.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&f){const d=new Event("change",{bubbles:!0});f.call(l,t),l.dispatchEvent(d)}},[o,t]),s.jsx(Ne.select,{...r,style:{...k$,...r.style},ref:i,defaultValue:t})});sB.displayName=Foe;function aB(e){return e===""||e===void 0}function iB(e){const t=Gr(e),r=p.useRef(""),n=p.useRef(0),a=p.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=p.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function oB(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Boe(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Boe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var zoe=R8,lB=D8,Uoe=L8,Woe=F8,qoe=B8,cB=z8,Voe=V8,uB=K8,dB=X8,Hoe=J8,Goe=Z8,fB=eB,hB=tB,mB=nB;const ar=zoe,ir=Uoe,Kt=p.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(lB,{ref:n,className:z("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(Woe,{asChild:!0,children:s.jsx(qn,{className:"h-4 w-4 opacity-50"})})]}));Kt.displayName=lB.displayName;const pB=p.forwardRef(({className:e,...t},r)=>s.jsx(fB,{ref:r,className:z("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(X$,{className:"h-4 w-4"})}));pB.displayName=fB.displayName;const gB=p.forwardRef(({className:e,...t},r)=>s.jsx(hB,{ref:r,className:z("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(qn,{className:"h-4 w-4"})}));gB.displayName=hB.displayName;const Yt=p.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(qoe,{children:s.jsxs(cB,{ref:a,className:z("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(pB,{}),s.jsx(Voe,{className:z("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(gB,{})]})}));Yt.displayName=cB.displayName;const Koe=p.forwardRef(({className:e,...t},r)=>s.jsx(uB,{ref:r,className:z("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Koe.displayName=uB.displayName;const De=p.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(dB,{ref:n,className:z("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Goe,{children:s.jsx(gt,{className:"h-4 w-4"})})}),s.jsx(Hoe,{children:t})]}));De.displayName=dB.displayName;const Yoe=p.forwardRef(({className:e,...t},r)=>s.jsx(mB,{ref:r,className:z("-mx-1 my-1 h-px bg-muted",e),...t}));Yoe.displayName=mB.displayName;const Xoe=Xf("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),rw=p.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:z(Xoe({variant:t}),e),...r}));rw.displayName="Alert";const Joe=p.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:z("mb-1 font-medium leading-none tracking-tight",e),...t}));Joe.displayName="AlertTitle";const nw=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:z("text-sm [&_p]:leading-relaxed",e),...t}));nw.displayName="AlertDescription";const Qoe=[{days:30,label:"30 das",description:"Ideal para empezar"},{days:90,label:"90 das",description:"Cambio de hbito"},{days:180,label:"180 das",description:"Transformacin"},{days:365,label:"365 das",description:"Compromiso total"}],Zoe=[{value:"objetivo",label:"Objetivo",icon:Pi,color:"bg-success/20 text-success border-success/30",description:"Lo que quieres lograr"},{value:"proposito",label:"Propsito",icon:GC,color:"bg-primary/20 text-primary border-primary/30",description:"Tu intencin/motivacin"},{value:"prohibicion",label:"Prohibicin",icon:HC,color:"bg-destructive/20 text-destructive border-destructive/30",description:"Lo que evitars"},{value:"excepcion",label:"Excepcin",icon:ek,color:"bg-warning/20 text-warning border-warning/30",description:"Excepciones permitidas"}],xB=({open:e,onOpenChange:t,onCreateChallenge:r})=>{const[n,a]=p.useState(""),[i,o]=p.useState(""),[l,c]=p.useState(30),[u,f]=p.useState(""),[d,h]=p.useState(""),[m,x]=p.useState([{title:"",goalType:"objetivo",frequency:"daily"}]),[g,v]=p.useState(!1),[w,b]=p.useState(!1),y=n.trim().length>0,N=m.filter(C=>C.title.trim()),j=N.length>0,S=N.some(C=>C.goalType==="objetivo"),_=(C="objetivo")=>{x([...m,{title:"",goalType:C,frequency:C==="objetivo"?"daily":"global"}])},k=C=>{x(m.filter((O,$)=>$!==C))},E=(C,O,$)=>{const R=[...m];O==="frequency"?R[C]={...R[C],frequency:$}:O==="goalType"?R[C]={...R[C],goalType:$}:O==="targetCount"?R[C]={...R[C],targetCount:Number($)||void 0}:R[C]={...R[C],[O]:$},x(R)},A=async()=>{if(b(!0),!y||!j||!S)return;const C=N.map(O=>({title:O.title,description:O.description,frequency:O.frequency,goalType:O.goalType,targetCount:O.frequency==="global"?O.targetCount||1:void 0}));v(!0);try{await r(n,l,C,{description:i||void 0,motivation:u||void 0,reward:d||void 0}),a(""),o(""),c(30),f(""),h(""),x([{title:"",goalType:"objetivo",frequency:"daily"}]),b(!1),t(!1)}finally{v(!1)}};return s.jsx(Lt,{open:e,onOpenChange:t,children:s.jsxs(Ft,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[s.jsx(or,{children:s.jsxs(lr,{className:"flex items-center gap-2",children:[s.jsx(Dt,{className:"w-5 h-5 text-primary"}),"Crear nuevo reto"]})}),s.jsxs("div",{className:"space-y-6 py-4",children:[w&&(!y||!j||!S)&&s.jsxs(rw,{variant:"destructive",children:[s.jsx(uo,{className:"h-4 w-4"}),s.jsxs(nw,{children:[!y&&s.jsx("p",{children:" El nombre del reto es obligatorio"}),!j&&s.jsx("p",{children:" Debes aadir al menos un elemento"}),j&&!S&&s.jsx("p",{children:" Debes aadir al menos un objetivo"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"name",children:"Nombre del reto *"}),s.jsx(be,{id:"name",placeholder:"Ej: Transformacin fitness 90 das",value:n,onChange:C=>a(C.target.value),className:w&&!y?"border-destructive":""})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{children:"Duracin"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:Qoe.map(C=>s.jsxs("button",{onClick:()=>c(C.days),className:`p-3 rounded-lg border text-left transition-all ${l===C.days?"border-primary bg-primary/10 text-foreground":"border-border hover:border-primary/50"}`,children:[s.jsx("p",{className:"font-medium text-sm",children:C.label}),s.jsx("p",{className:"text-xs text-muted-foreground",children:C.description})]},C.days))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx(ue,{children:"Elementos del reto *"})}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Define objetivos, propsitos, prohibiciones y excepciones para tu reto.",s.jsx("span",{className:"text-destructive",children:" Mnimo un objetivo requerido."})]}),Zoe.map(C=>{const O=C.icon,$=m.map((R,T)=>({...R,originalIndex:T})).filter(R=>R.goalType===C.value);return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Q,{variant:"outline",className:z("gap-1",C.color),children:[s.jsx(O,{className:"w-3 h-3"}),C.label]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:C.description})]}),s.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>_(C.value),className:"h-7 text-xs",children:[s.jsx(wt,{className:"w-3 h-3 mr-1"}),"Aadir"]})]}),$.length>0&&s.jsx("div",{className:"space-y-2 pl-2 border-l-2 border-border/50",children:$.map(R=>s.jsxs("div",{className:"p-3 rounded-lg border border-border/50 bg-muted/20 space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(be,{placeholder:C.value==="objetivo"?"Ej: Hacer ejercicio":C.value==="proposito"?"Ej: Mejorar mi salud":C.value==="prohibicion"?"Ej: No comer azcar":"Ej: Da de descanso semanal",value:R.title,onChange:T=>E(R.originalIndex,"title",T.target.value),className:"flex-1"}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>k(R.originalIndex),children:s.jsx(kt,{className:"w-4 h-4"})})]}),C.value==="objetivo"&&s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsxs(ar,{value:R.frequency,onValueChange:T=>E(R.originalIndex,"frequency",T),children:[s.jsx(Kt,{className:"w-28",children:s.jsx(ir,{})}),s.jsxs(Yt,{children:[s.jsx(De,{value:"daily",children:"Diario"}),s.jsx(De,{value:"global",children:"Global"})]})]}),R.frequency==="global"&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Meta:"}),s.jsx(be,{type:"number",min:1,placeholder:"12",value:R.targetCount||"",onChange:T=>E(R.originalIndex,"targetCount",T.target.value),className:"w-16 h-8"})]})]})]},R.originalIndex))})]},C.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"motivation",children:"Por qu este reto? (opcional)"}),s.jsx(Kr,{id:"motivation",placeholder:"Tu motivacin personal...",value:u,onChange:C=>f(C.target.value),rows:2})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"reward",children:"Recompensa al completar (opcional)"}),s.jsx(be,{id:"reward",placeholder:"Ej: Un viaje, un regalo...",value:d,onChange:C=>h(C.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"description",children:"Descripcin (opcional)"}),s.jsx(Kr,{id:"description",placeholder:"Detalles adicionales...",value:i,onChange:C=>o(C.target.value),rows:2})]})]}),s.jsxs(Pu,{children:[s.jsx(U,{variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),s.jsx(U,{onClick:A,disabled:g,children:g?"Creando...":"Crear reto"})]})]})})},ele=[{value:"objetivo",label:"Objetivo",icon:Pi,color:"bg-success/20 text-success border-success/30",description:"Lo que quieres lograr"},{value:"proposito",label:"Propsito",icon:GC,color:"bg-primary/20 text-primary border-primary/30",description:"Tu intencin/motivacin"},{value:"prohibicion",label:"Prohibicin",icon:HC,color:"bg-destructive/20 text-destructive border-destructive/30",description:"Lo que evitars"},{value:"excepcion",label:"Excepcin",icon:ek,color:"bg-warning/20 text-warning border-warning/30",description:"Excepciones permitidas"}],vB=({open:e,onOpenChange:t,challenge:r,onUpdateChallenge:n})=>{const[a,i]=p.useState(""),[o,l]=p.useState(""),[c,u]=p.useState(""),[f,d]=p.useState(""),[h,m]=p.useState([]),[x,g]=p.useState(!1),[v,w]=p.useState(!1);p.useEffect(()=>{e&&r&&(i(r.name),l(r.description||""),u(r.motivation||""),d(r.reward||""),m(r.goals.map(C=>({id:C.id,title:C.title,description:C.description||void 0,goalType:C.goal_type,frequency:C.frequency,targetCount:C.target_count,isNew:!1,deleted:!1}))))},[e,r]);const b=a.trim().length>0,N=h.filter(C=>!C.deleted).filter(C=>C.title.trim()),j=N.length>0,S=N.some(C=>C.goalType==="objetivo"),_=(C="objetivo")=>{m([...h,{title:"",goalType:C,frequency:C==="objetivo"?"daily":"global",isNew:!0,deleted:!1}])},k=C=>{const O=[...h];O[C].isNew?O.splice(C,1):O[C]={...O[C],deleted:!0},m(O)},E=(C,O,$)=>{const R=[...h];O==="frequency"?R[C]={...R[C],frequency:$}:O==="goalType"?R[C]={...R[C],goalType:$}:O==="targetCount"?R[C]={...R[C],targetCount:Number($)||void 0}:R[C]={...R[C],[O]:$},m(R)},A=async()=>{if(w(!0),!(!b||!j||!S)){g(!0);try{const C=h.filter(O=>O.title.trim()||O.deleted).map(O=>({id:O.id,title:O.title,description:O.description,frequency:O.frequency,goalType:O.goalType,targetCount:O.frequency==="global"?O.targetCount||1:void 0,deleted:O.deleted}));await n(r.id,{name:a,description:o||void 0,motivation:c||void 0,reward:f||void 0},C),w(!1),t(!1)}finally{g(!1)}}};return s.jsx(Lt,{open:e,onOpenChange:t,children:s.jsxs(Ft,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[s.jsx(or,{children:s.jsxs(lr,{className:"flex items-center gap-2",children:[s.jsx(kl,{className:"w-5 h-5 text-primary"}),"Editar reto"]})}),s.jsxs("div",{className:"space-y-6 py-4",children:[v&&(!b||!j||!S)&&s.jsxs(rw,{variant:"destructive",children:[s.jsx(uo,{className:"h-4 w-4"}),s.jsxs(nw,{children:[!b&&s.jsx("p",{children:" El nombre del reto es obligatorio"}),!j&&s.jsx("p",{children:" Debes tener al menos un elemento"}),j&&!S&&s.jsx("p",{children:" Debes tener al menos un objetivo"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"edit-name",children:"Nombre del reto *"}),s.jsx(be,{id:"edit-name",value:a,onChange:C=>i(C.target.value),className:v&&!b?"border-destructive":""})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsxs(Q,{variant:"outline",children:[r.duration_days," das"]}),s.jsx("span",{children:""}),s.jsxs("span",{children:["Da ",r.progress.daysElapsed+1," de ",r.duration_days]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(ue,{children:"Elementos del reto *"}),ele.map(C=>{const O=C.icon,$=h.map((R,T)=>({...R,originalIndex:T})).filter(R=>R.goalType===C.value&&!R.deleted);return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Q,{variant:"outline",className:z("gap-1",C.color),children:[s.jsx(O,{className:"w-3 h-3"}),C.label]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:C.description})]}),s.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>_(C.value),className:"h-7 text-xs",children:[s.jsx(wt,{className:"w-3 h-3 mr-1"}),"Aadir"]})]}),$.length>0&&s.jsx("div",{className:"space-y-2 pl-2 border-l-2 border-border/50",children:$.map(R=>s.jsxs("div",{className:"p-3 rounded-lg border border-border/50 bg-muted/20 space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(be,{placeholder:C.value==="objetivo"?"Ej: Hacer ejercicio":C.value==="proposito"?"Ej: Mejorar mi salud":C.value==="prohibicion"?"Ej: No comer azcar":"Ej: Da de descanso semanal",value:R.title,onChange:T=>E(R.originalIndex,"title",T.target.value),className:"flex-1"}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>k(R.originalIndex),children:s.jsx(kt,{className:"w-4 h-4"})})]}),C.value==="objetivo"&&s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsxs(ar,{value:R.frequency,onValueChange:T=>E(R.originalIndex,"frequency",T),children:[s.jsx(Kt,{className:"w-28",children:s.jsx(ir,{})}),s.jsxs(Yt,{children:[s.jsx(De,{value:"daily",children:"Diario"}),s.jsx(De,{value:"global",children:"Global"})]})]}),R.frequency==="global"&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Meta:"}),s.jsx(be,{type:"number",min:1,placeholder:"12",value:R.targetCount||"",onChange:T=>E(R.originalIndex,"targetCount",T.target.value),className:"w-16 h-8"})]})]})]},R.originalIndex))})]},C.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"edit-motivation",children:"Motivacin (opcional)"}),s.jsx(Kr,{id:"edit-motivation",value:c,onChange:C=>u(C.target.value),rows:2})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"edit-reward",children:"Recompensa (opcional)"}),s.jsx(be,{id:"edit-reward",value:f,onChange:C=>d(C.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"edit-description",children:"Descripcin (opcional)"}),s.jsx(Kr,{id:"edit-description",value:o,onChange:C=>l(C.target.value),rows:2})]})]}),s.jsxs(Pu,{children:[s.jsx(U,{variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),s.jsx(U,{onClick:A,disabled:x,children:x?"Guardando...":"Guardar cambios"})]})]})})},tle={objetivo:{color:"text-success",bgColor:"bg-success/20",icon:Pi,label:"Objetivo"},proposito:{color:"text-primary",bgColor:"bg-primary/20",icon:GC,label:"Propsito"},prohibicion:{color:"text-destructive",bgColor:"bg-destructive/20",icon:HC,label:"Prohibicin"},excepcion:{color:"text-warning",bgColor:"bg-warning/20",icon:ek,label:"Excepcin"}},rle=({challenges:e,loading:t,onCreateChallenge:r,onToggleGoal:n,onUpdateChallenge:a})=>{const[i,o]=p.useState(!1),[l,c]=p.useState(!1),[u,f]=p.useState(null),[d,h]=p.useState(new Set),m=b=>{h(y=>{const N=new Set(y);return N.has(b)?N.delete(b):N.add(b),N})},x=(b,y)=>{b.stopPropagation(),f(y),c(!0)},g=e.filter(b=>b.status==="active"),v=new Date().toISOString().split("T")[0];if(t)return s.jsx(mu,{id:"challenge",title:"JARVIS Reto",icon:s.jsx(Dt,{className:"w-4 h-4 text-warning"}),children:s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(_e,{className:"w-6 h-6 animate-spin text-primary"})})});const w=s.jsxs(U,{size:"sm",variant:"outline",onClick:b=>{b.stopPropagation(),o(!0)},className:"ml-auto",children:[s.jsx(wt,{className:"w-4 h-4 mr-1"}),"Nuevo"]});return s.jsxs(s.Fragment,{children:[s.jsx(mu,{id:"challenge",title:"JARVIS Reto",icon:s.jsx(Dt,{className:"w-4 h-4 text-warning"}),badge:w,children:s.jsx("div",{className:"p-3 sm:p-4 space-y-4",children:g.length===0?s.jsxs("div",{className:"text-center py-6 space-y-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-warning/10 flex items-center justify-center mx-auto",children:s.jsx(Yr,{className:"w-6 h-6 text-warning"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-foreground font-medium",children:"Sin retos activos"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Crea tu primer reto para empezar"})]}),s.jsxs(U,{onClick:()=>o(!0),children:[s.jsx(wt,{className:"w-4 h-4 mr-2"}),"Crear reto"]})]}):g.map(b=>{const y=d.has(b.id),N=b.logs.filter(S=>S.date===v&&S.completed),j=new Set(N.map(S=>S.goal_id));return s.jsx(ka,{open:y,onOpenChange:()=>m(b.id),children:s.jsxs("div",{className:"rounded-lg border border-border p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx(ea,{className:"flex-1 text-left",children:s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-foreground",children:b.name}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[b.duration_days," das"]})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(U,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:S=>x(S,b),children:s.jsx(kl,{className:"w-3.5 h-3.5 text-muted-foreground"})}),b.progress.currentStreak>0&&s.jsxs(Q,{variant:"outline",className:"bg-destructive/10 text-destructive border-destructive/20",children:[s.jsx(Nn,{className:"w-3 h-3 mr-1"}),b.progress.currentStreak]}),s.jsx(ea,{children:y?s.jsx(X$,{className:"w-4 h-4 text-muted-foreground"}):s.jsx(qn,{className:"w-4 h-4 text-muted-foreground"})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:["Da ",b.progress.daysElapsed+1]}),s.jsxs("span",{children:[b.progress.percentComplete,"%"]})]}),s.jsx(Cr,{value:b.progress.percentComplete,className:"h-2"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Jt,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"text-muted-foreground",children:["Hoy: ",b.progress.todayCompleted,"/",b.progress.todayTotal]})]}),s.jsxs(Ea,{className:"space-y-3 pt-2",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[s.jsxs("div",{className:"p-2 rounded-lg bg-muted/50",children:[s.jsx("p",{className:"text-lg font-bold text-foreground",children:b.progress.daysElapsed}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Das"})]}),s.jsxs("div",{className:"p-2 rounded-lg bg-muted/50",children:[s.jsx("p",{className:"text-lg font-bold text-foreground",children:b.progress.currentStreak}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Racha"})]}),s.jsxs("div",{className:"p-2 rounded-lg bg-muted/50",children:[s.jsx("p",{className:"text-lg font-bold text-foreground",children:b.progress.daysRemaining}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Faltan"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Elementos del reto"}),Object.entries(tle).map(([S,_])=>{const k=b.goals.filter(A=>A.goal_type===S);if(k.length===0)return null;const E=_.icon;return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(E,{className:`w-3.5 h-3.5 ${_.color}`}),s.jsx("span",{className:`text-xs font-medium ${_.color}`,children:_.label})]}),s.jsx("div",{className:"space-y-1 pl-5",children:k.map(A=>{const C=j.has(A.id);return s.jsxs("div",{className:`flex items-center gap-2 p-2 rounded-lg ${_.bgColor} transition-colors`,children:[s.jsx(ls,{checked:C,onCheckedChange:O=>n(b.id,A.id,!!O)}),s.jsx("span",{className:`text-sm flex-1 ${C?"line-through text-muted-foreground":"text-foreground"}`,children:A.title}),A.frequency==="global"&&A.target_count&&s.jsxs(Q,{variant:"outline",className:"text-xs",children:["Meta: ",A.target_count]})]},A.id)})})]},S)})]}),b.motivation&&s.jsx("div",{className:"p-3 rounded-lg bg-primary/5 border border-primary/20",children:s.jsxs("p",{className:"text-sm text-muted-foreground italic",children:[" ",b.motivation]})})]})]})},b.id)})})}),s.jsx(xB,{open:i,onOpenChange:o,onCreateChallenge:r}),u&&a&&s.jsx(vB,{open:l,onOpenChange:c,challenge:u,onUpdateChallenge:a})]})};var w1="rovingFocusGroup.onEntryFocus",nle={bubbles:!1,cancelable:!0},Fg="RovingFocusGroup",[i_,yB,sle]=jg(Fg),[ale,Ql]=en(Fg,[sle]),[ile,ole]=ale(Fg),bB=p.forwardRef((e,t)=>s.jsx(i_.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(i_.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(lle,{...e,ref:t})})}));bB.displayName=Fg;var lle=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...d}=e,h=p.useRef(null),m=We(t,h),x=Yl(i),[g,v]=Wn({prop:o,defaultProp:l??null,onChange:c,caller:Fg}),[w,b]=p.useState(!1),y=Gr(u),N=yB(r),j=p.useRef(!1),[S,_]=p.useState(0);return p.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(w1,y),()=>k.removeEventListener(w1,y)},[y]),s.jsx(ile,{scope:r,orientation:n,dir:x,loop:a,currentTabStopId:g,onItemFocus:p.useCallback(k=>v(k),[v]),onItemShiftTab:p.useCallback(()=>b(!0),[]),onFocusableItemAdd:p.useCallback(()=>_(k=>k+1),[]),onFocusableItemRemove:p.useCallback(()=>_(k=>k-1),[]),children:s.jsx(Ne.div,{tabIndex:w||S===0?-1:0,"data-orientation":n,...d,ref:m,style:{outline:"none",...e.style},onMouseDown:fe(e.onMouseDown,()=>{j.current=!0}),onFocus:fe(e.onFocus,k=>{const E=!j.current;if(k.target===k.currentTarget&&E&&!w){const A=new CustomEvent(w1,nle);if(k.currentTarget.dispatchEvent(A),!A.defaultPrevented){const C=N().filter(L=>L.focusable),O=C.find(L=>L.active),$=C.find(L=>L.id===g),T=[O,$,...C].filter(Boolean).map(L=>L.ref.current);NB(T,f)}}j.current=!1}),onBlur:fe(e.onBlur,()=>b(!1))})})}),wB="RovingFocusGroupItem",jB=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Ys(),u=i||c,f=ole(wB,r),d=f.currentTabStopId===u,h=yB(r),{onFocusableItemAdd:m,onFocusableItemRemove:x,currentTabStopId:g}=f;return p.useEffect(()=>{if(n)return m(),()=>x()},[n,m,x]),s.jsx(i_.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(Ne.span,{tabIndex:d?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:fe(e.onMouseDown,v=>{n?f.onItemFocus(u):v.preventDefault()}),onFocus:fe(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:fe(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){f.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const w=dle(v,f.orientation,f.dir);if(w!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let y=h().filter(N=>N.focusable).map(N=>N.ref.current);if(w==="last")y.reverse();else if(w==="prev"||w==="next"){w==="prev"&&y.reverse();const N=y.indexOf(v.currentTarget);y=f.loop?fle(y,N+1):y.slice(N+1)}setTimeout(()=>NB(y))}}),children:typeof o=="function"?o({isCurrentTabStop:d,hasTabStop:g!=null}):o})})});jB.displayName=wB;var cle={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ule(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function dle(e,t,r){const n=ule(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return cle[n]}function NB(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function fle(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var sw=bB,aw=jB,iw="Tabs",[hle]=en(iw,[Ql]),SB=Ql(),[mle,nE]=hle(iw),_B=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,f=Yl(l),[d,h]=Wn({prop:n,onChange:a,defaultProp:i??"",caller:iw});return s.jsx(mle,{scope:r,baseId:Ys(),value:d,onValueChange:h,orientation:o,dir:f,activationMode:c,children:s.jsx(Ne.div,{dir:f,"data-orientation":o,...u,ref:t})})});_B.displayName=iw;var CB="TabsList",kB=p.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=nE(CB,r),o=SB(r);return s.jsx(sw,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(Ne.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});kB.displayName=CB;var EB="TabsTrigger",PB=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=nE(EB,r),l=SB(r),c=TB(o.baseId,n),u=MB(o.baseId,n),f=n===o.value;return s.jsx(aw,{asChild:!0,...l,focusable:!a,active:f,children:s.jsx(Ne.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:fe(e.onMouseDown,d=>{!a&&d.button===0&&d.ctrlKey===!1?o.onValueChange(n):d.preventDefault()}),onKeyDown:fe(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(n)}),onFocus:fe(e.onFocus,()=>{const d=o.activationMode!=="manual";!f&&!a&&d&&o.onValueChange(n)})})})});PB.displayName=EB;var OB="TabsContent",AB=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=nE(OB,r),c=TB(l.baseId,n),u=MB(l.baseId,n),f=n===l.value,d=p.useRef(f);return p.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(cn,{present:a||f,children:({present:h})=>s.jsx(Ne.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:h&&i})})});AB.displayName=OB;function TB(e,t){return`${e}-trigger-${t}`}function MB(e,t){return`${e}-content-${t}`}var ple=_B,RB=kB,IB=PB,DB=AB;const aa=ple,Ms=p.forwardRef(({className:e,...t},r)=>s.jsx(RB,{ref:r,className:z("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ms.displayName=RB.displayName;const Qe=p.forwardRef(({className:e,...t},r)=>s.jsx(IB,{ref:r,className:z("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Qe.displayName=IB.displayName;const Ze=p.forwardRef(({className:e,...t},r)=>s.jsx(DB,{ref:r,className:z("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ze.displayName=DB.displayName;function gle(e=new Date){const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`}function Tm(){return gle(new Date)}const Ly=[{id:"bw_architecture",name:"Arquitectura B/N"},{id:"bw_landscape",name:"Paisaje B/N"},{id:"bw_abstract",name:"Abstracto B/N"},{id:"bw_minimal",name:"Minimalista B/N"},{id:"bw_urban",name:"Urbano B/N"},{id:"color_nature",name:"Naturaleza Color"}],Fy=[{id:"papel_claro",name:"Papel Claro"},{id:"urban_muted",name:"Urbano Desaturado"},{id:"urban_bw_blur",name:"Urbano B/N Desenfocado"},{id:"brutalista",name:"Brutalista Elegante"}],$B=()=>{const{user:e}=ut(),[t,r]=p.useState(null),[n,a]=p.useState(!1),[i,o]=p.useState(null),[l,c]=p.useState(null),[u,f]=p.useState("bw_architecture"),[d,h]=p.useState("papel_claro"),[m,x]=p.useState(null),g=p.useCallback(async C=>{if(!e)return V.error("Debes iniciar sesin"),null;a(!0),x(null);try{const{data:O,error:$}=await H.functions.invoke("jarvis-publications",{body:C||{}});if($)throw $;if(O.error)throw new Error(O.error);const R=Tm(),T={date:R,phrases:O.phrases||[],copyShort:O.copyShort||"",copyLong:O.copyLong||"",hashtags:O.hashtags||[],tipOfTheDay:O.tipOfTheDay||"",published:!1},{data:L,error:I}=await H.from("daily_publications").upsert({user_id:e.id,date:R,phrases:T.phrases,copy_short:T.copyShort,copy_long:T.copyLong,hashtags:T.hashtags,published:!1},{onConflict:"user_id,date"}).select().single();return I?console.error("Error auto-saving phrases:",I):L&&(T.id=L.id),r(T),V.success("Contenido generado y guardado",{description:"Selecciona una frase y genera su imagen"}),T}catch(O){const $=O instanceof Error?O.message:"Error al generar contenido";return console.error("JARVIS Publicaciones error:",O),x($),$.includes("429")||$.includes("lmite")?V.error("Lmite de uso alcanzado",{description:"Intenta de nuevo en unos minutos"}):$.includes("402")||$.includes("crditos")?V.error("Crditos agotados",{description:"Recarga tu cuenta para continuar"}):V.error("Error al generar contenido",{description:$}),null}finally{a(!1)}},[e]),v=p.useCallback(async(C,O,$="square",R)=>{if(!t||!t.phrases[C])return null;const T=t.phrases[C],L=O||u;o(T.category);try{const{data:I,error:P}=await H.functions.invoke("jarvis-publications",{body:{action:"generate-image",phraseText:T.text,phraseCategory:T.category,imageStyle:L,customImageStyle:R,format:$}});if(P)throw P;if(I.error)throw new Error(I.error);if(I.imageUrl)return r(M=>{if(!M)return null;const F=[...M.phrases];return F[C]={...F[C],imageUrl:I.imageUrl,imageStyle:L},{...M,phrases:F}}),V.success("Imagen generada",{description:`Imagen para ${T.category} lista`}),I.imageUrl;throw new Error("No se pudo generar la imagen")}catch(I){const P=I instanceof Error?I.message:"Error al generar imagen";return console.error("Image generation error:",I),V.error("Error al generar imagen",{description:P}),null}finally{o(null)}},[t,u]),w=p.useCallback(async(C,O,$)=>v(C,O,"square",$),[v]),b=p.useCallback(async(C,O,$,R,T,L)=>{if(!t||!t.phrases[C])return null;const I=t.phrases[C],P=O||d;c(I.category);try{const{data:M,error:F}=await H.functions.invoke("jarvis-publications",{body:{action:"generate-story",phraseText:I.text,reflection:I.textLong,phraseCategory:I.category,storyStyle:P,baseImageUrl:L||I.imageUrl,challengeDay:$,challengeTotal:R,displayTime:T}});if(F)throw F;if(M.error)throw new Error(M.error);if(M.imageUrl)return r(B=>{if(!B)return null;const q=[...B.phrases];return q[C]={...q[C],storyImageUrl:M.imageUrl},{...B,phrases:q}}),V.success("Story creada",{description:"Imagen 9:16 con tipografa creativa lista"}),M.imageUrl;throw new Error("No se pudo generar la story")}catch(M){const F=M instanceof Error?M.message:"Error al generar story";return console.error("Story generation error:",M),V.error("Error al generar story",{description:F}),null}finally{c(null)}},[t,d]),y=p.useCallback(async C=>{try{if(navigator.share&&navigator.canShare){let $;C.startsWith("data:")?$=await(await fetch(C)).blob():$=await(await fetch(C)).blob();const R=new File([$],"story.png",{type:"image/png"});if(navigator.canShare({files:[R]})){await navigator.share({files:[R],title:"Mi Story"}),V.success("Abriendo compartir...");return}}const O=document.createElement("a");O.href=C,O.download=`jarvis-story-${Tm()}.png`,document.body.appendChild(O),O.click(),document.body.removeChild(O),V.success("Imagen descargada",{description:"Abre Instagram en tu mvil y sbela a tu Story",duration:5e3})}catch(O){console.error("Share error:",O),V.error("Error al compartir",{description:"Descarga la imagen manualmente"})}},[]),N=p.useCallback(async()=>{if(t){for(let C=0;C<t.phrases.length;C++)t.phrases[C].imageUrl||(await v(C),await new Promise(O=>setTimeout(O,1e3)));V.success("Todas las imgenes generadas")}},[t,v]),j=p.useCallback(C=>{r(O=>O?{...O,selectedPhrase:C}:null)},[]),S=p.useCallback(async()=>{if(!t||!e)return null;try{const{data:C,error:O}=await H.from("daily_publications").upsert({user_id:e.id,date:t.date,phrases:t.phrases,selected_phrase:t.selectedPhrase,copy_short:t.copyShort,copy_long:t.copyLong,hashtags:t.hashtags,published:t.published},{onConflict:"user_id,date"}).select().single();if(O)throw O;return V.success("Publicacin guardada"),C}catch(C){return console.error("Error saving publication:",C),V.error("Error al guardar"),null}},[t,e]),_=p.useCallback(async C=>{if(!(!t||!e))try{await H.from("daily_publications").upsert({user_id:e.id,date:t.date,phrases:t.phrases,selected_phrase:t.selectedPhrase,copy_short:t.copyShort,copy_long:t.copyLong,hashtags:t.hashtags,published:!0,published_at:new Date().toISOString(),platform:C},{onConflict:"user_id,date"}),r(O=>O?{...O,published:!0}:null),V.success("Marcado como publicado")}catch(O){console.error("Error marking as published:",O)}},[t,e]),k=p.useCallback((C,O="Texto")=>{navigator.clipboard.writeText(C),V.success(`${O} copiado`)},[]),E=p.useCallback(async()=>{if(!e)return null;try{const C=Tm(),{data:O,error:$}=await H.from("daily_publications").select("*").eq("user_id",e.id).eq("date",C).maybeSingle();if($)throw $;return O?(r({id:O.id,date:O.date,phrases:O.phrases,selectedPhrase:O.selected_phrase,copyShort:O.copy_short||"",copyLong:O.copy_long||"",hashtags:O.hashtags||[],tipOfTheDay:"",published:O.published}),O):null}catch(C){return console.error("Error fetching publication:",C),null}},[e]),A=p.useCallback((C,O)=>{const $=document.createElement("a");$.href=C,$.download=O,document.body.appendChild($),$.click(),document.body.removeChild($),V.success("Imagen descargada")},[]);return{publication:t,setPublication:r,loading:n,generatingImage:i,generatingStory:l,selectedStyle:u,setSelectedStyle:f,selectedStoryStyle:d,setSelectedStoryStyle:h,error:m,generateContent:g,generateImageForPhrase:v,regenerateImage:w,generateAllImages:N,generateStoryImage:b,shareToInstagram:y,selectPhrase:j,savePublication:S,markAsPublished:_,copyToClipboard:k,getTodaysPublication:E,downloadImage:A,IMAGE_STYLES:Ly,STORY_STYLES:Fy}},ZT={inconformismo:{label:"Inconformismo",color:"bg-destructive/20 text-destructive",emoji:""},estoicismo:{label:"Estoicismo",color:"bg-chart-4/20 text-chart-4",emoji:""},superacion:{label:"Superacin",color:"bg-success/20 text-success",emoji:""},motivacion:{label:"Motivacin",color:"bg-warning/20 text-warning",emoji:""},reflexion:{label:"Reflexin",color:"bg-primary/20 text-primary",emoji:""}},xle=()=>{const{publication:e,loading:t,generatingImage:r,generatingStory:n,selectedStyle:a,setSelectedStyle:i,selectedStoryStyle:o,setSelectedStoryStyle:l,generateContent:c,regenerateImage:u,generateStoryImage:f,selectPhrase:d,copyToClipboard:h,markAsPublished:m,getTodaysPublication:x,downloadImage:g}=$B(),[v,w]=p.useState("phrases"),[b,y]=p.useState(null),[N,j]=p.useState(null),[S,_]=p.useState(null),[k,E]=p.useState(1),[A,C]=p.useState(180);p.useEffect(()=>{x()},[x]);const O=(T,L)=>{h(T),y(L),setTimeout(()=>y(null),2e3)},$=async()=>{await c()};if(t)return s.jsx(mu,{id:"publications",title:"JARVIS Publicaciones",icon:s.jsx(gA,{className:"w-4 h-4 text-chart-4"}),children:s.jsxs("div",{className:"flex flex-col items-center gap-3 py-12",children:[s.jsx(_e,{className:"w-8 h-8 animate-spin text-primary"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Generando contenido..."})]})});const R=s.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[s.jsxs(ar,{value:a,onValueChange:i,children:[s.jsx(Kt,{className:"w-[160px] h-8",children:s.jsx(ir,{placeholder:"Estilo"})}),s.jsx(Yt,{children:Ly.map(T=>s.jsx(De,{value:T.id,children:T.name},T.id))})]}),s.jsxs(U,{size:"sm",variant:"outline",onClick:T=>{T.stopPropagation(),$()},disabled:t,children:[s.jsx(ht,{className:`w-4 h-4 mr-1 ${t?"animate-spin":""}`}),e?"Regenerar":"Generar"]})]});return s.jsxs(s.Fragment,{children:[s.jsx(mu,{id:"publications",title:"JARVIS Publicaciones",icon:s.jsx(gA,{className:"w-4 h-4 text-chart-4"}),badge:R,children:s.jsx("div",{className:"p-3 sm:p-4",children:e?s.jsxs(aa,{value:v,onValueChange:w,children:[s.jsxs(Ms,{className:"w-full",children:[s.jsx(Qe,{value:"phrases",className:"flex-1",children:"Frases"}),s.jsx(Qe,{value:"copy",className:"flex-1",children:"Copys"}),s.jsx(Qe,{value:"hashtags",className:"flex-1",children:"Hashtags"})]}),s.jsxs(Ze,{value:"phrases",className:"mt-4",children:[e.tipOfTheDay&&s.jsx("div",{className:"p-3 mb-4 rounded-lg bg-primary/5 border border-primary/20",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-medium text-foreground",children:" Consejo: "}),e.tipOfTheDay]})}),s.jsx(Tn,{className:"h-[500px] pr-4",children:s.jsx("div",{className:"space-y-4",children:e.phrases.map((T,L)=>{var q;const I=ZT[T.category]||ZT.reflexion,P=((q=e.selectedPhrase)==null?void 0:q.category)===T.category,M=S===L,F=r===T.category,B=n===T.category;return s.jsxs("div",{className:`rounded-lg border transition-all ${P?"border-primary bg-primary/5":"border-border"}`,children:[s.jsxs("div",{className:"p-4 cursor-pointer hover:bg-muted/30 transition-colors",onClick:()=>{d(T),_(M?null:L)},children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[s.jsxs(Q,{variant:"outline",className:I.color,children:[I.emoji," ",I.label]}),s.jsxs("div",{className:"flex items-center gap-1",children:[T.imageUrl&&s.jsx(U,{size:"sm",variant:"ghost",className:"h-7 px-2",onClick:J=>{J.stopPropagation(),j({url:T.imageUrl,title:T.category})},children:s.jsx(tk,{className:"w-3 h-3"})}),T.storyImageUrl&&s.jsx(U,{size:"sm",variant:"ghost",className:"h-7 px-2",onClick:J=>{J.stopPropagation(),j({url:T.storyImageUrl,title:`Story ${T.category}`,isStory:!0})},children:s.jsx(Jc,{className:"w-3 h-3"})}),s.jsx(U,{size:"sm",variant:"ghost",className:"h-7 px-2",onClick:J=>{J.stopPropagation(),O(T.text,`phrase-${L}`)},children:b===`phrase-${L}`?s.jsx(gt,{className:"w-3 h-3 text-success"}):s.jsx(Ns,{className:"w-3 h-3"})})]})]}),s.jsx("p",{className:"text-foreground font-medium leading-relaxed",children:T.text}),T.textLong&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:T.textLong}),T.cta&&s.jsxs("p",{className:"text-xs text-primary mt-2 flex items-center gap-1",children:[s.jsx(Zs,{className:"w-3 h-3"}),T.cta]})]}),M&&s.jsxs("div",{className:"px-4 pb-4 pt-2 border-t border-border space-y-3",children:[T.imageUrl&&s.jsx("div",{className:"relative aspect-square max-w-[200px] rounded-lg overflow-hidden bg-muted",children:s.jsx("img",{src:T.imageUrl,alt:T.category,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(U,{size:"sm",variant:"outline",onClick:()=>u(L,a),disabled:F,children:[F?s.jsx(_e,{className:"w-4 h-4 mr-1 animate-spin"}):s.jsx(iS,{className:"w-4 h-4 mr-1"}),T.imageUrl?"Regenerar":"Generar"," imagen"]}),s.jsxs(U,{size:"sm",variant:"outline",onClick:()=>f(L,o,k,A),disabled:B,children:[B?s.jsx(_e,{className:"w-4 h-4 mr-1 animate-spin"}):s.jsx(Jc,{className:"w-4 h-4 mr-1"}),T.storyImageUrl?"Regenerar":"Crear"," Story 9:16"]}),T.imageUrl&&s.jsxs(U,{size:"sm",variant:"ghost",onClick:()=>g(T.imageUrl,`jarvis-${T.category}-square.png`),children:[s.jsx(Oi,{className:"w-4 h-4 mr-1"}),"1:1"]}),T.storyImageUrl&&s.jsxs(U,{size:"sm",variant:"ghost",onClick:()=>g(T.storyImageUrl,`jarvis-${T.category}-story.png`),children:[s.jsx(Oi,{className:"w-4 h-4 mr-1"}),"9:16"]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Imagen:"}),s.jsxs(ar,{value:a,onValueChange:i,children:[s.jsx(Kt,{className:"w-[140px] h-7 text-xs",children:s.jsx(ir,{})}),s.jsx(Yt,{children:Ly.map(J=>s.jsx(De,{value:J.id,children:J.name},J.id))})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Story:"}),s.jsxs(ar,{value:o,onValueChange:l,children:[s.jsx(Kt,{className:"w-[150px] h-7 text-xs",children:s.jsx(ir,{})}),s.jsx(Yt,{children:Fy.map(J=>s.jsx(De,{value:J.id,children:J.name},J.id))})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm pt-2 border-t border-border/50",children:[s.jsx(Jt,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:"Da del reto:"}),s.jsx(be,{type:"number",min:1,max:A,value:k,onChange:J=>E(parseInt(J.target.value)||1),className:"w-16 h-7 text-xs"}),s.jsx("span",{className:"text-muted-foreground",children:"/"}),s.jsx(be,{type:"number",min:1,value:A,onChange:J=>C(parseInt(J.target.value)||180),className:"w-16 h-7 text-xs"})]})]})]},L)})})})]}),s.jsxs(Ze,{value:"copy",className:"mt-4 space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"text-sm font-medium text-foreground",children:"Copy Corto (Story/Tweet)"}),s.jsx(U,{size:"sm",variant:"ghost",className:"h-7 px-2",onClick:()=>O(e.copyShort,"copy-short"),children:b==="copy-short"?s.jsx(gt,{className:"w-3 h-3 text-success"}):s.jsx(Ns,{className:"w-3 h-3"})})]}),s.jsx("div",{className:"p-3 rounded-lg bg-muted/50 border border-border",children:s.jsx("p",{className:"text-sm text-foreground whitespace-pre-wrap",children:e.copyShort})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"text-sm font-medium text-foreground",children:"Copy Largo (Post Feed)"}),s.jsx(U,{size:"sm",variant:"ghost",className:"h-7 px-2",onClick:()=>O(e.copyLong,"copy-long"),children:b==="copy-long"?s.jsx(gt,{className:"w-3 h-3 text-success"}):s.jsx(Ns,{className:"w-3 h-3"})})]}),s.jsx("div",{className:"p-3 rounded-lg bg-muted/50 border border-border",children:s.jsx("p",{className:"text-sm text-foreground whitespace-pre-wrap",children:e.copyLong})})]}),s.jsxs("div",{className:"pt-4 border-t border-border",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Marcar como publicado en:"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{size:"sm",variant:"outline",onClick:()=>m("instagram"),disabled:e.published,children:[s.jsx(kv,{className:"w-4 h-4 mr-1"}),"Instagram"]}),s.jsxs(U,{size:"sm",variant:"outline",onClick:()=>m("linkedin"),disabled:e.published,children:[s.jsx(oS,{className:"w-4 h-4 mr-1"}),"LinkedIn"]}),s.jsxs(U,{size:"sm",variant:"outline",onClick:()=>m("twitter"),disabled:e.published,children:[s.jsx(uS,{className:"w-4 h-4 mr-1"}),"Twitter"]})]})]})]}),s.jsx(Ze,{value:"hashtags",className:"mt-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[s.jsx(bY,{className:"w-4 h-4 text-muted-foreground"}),"Hashtags (",e.hashtags.length,")"]}),s.jsx(U,{size:"sm",variant:"ghost",className:"h-7 px-2",onClick:()=>O(e.hashtags.map(T=>`#${T}`).join(" "),"hashtags"),children:b==="hashtags"?s.jsxs(s.Fragment,{children:[s.jsx(gt,{className:"w-3 h-3 text-success mr-1"}),"Copiados"]}):s.jsxs(s.Fragment,{children:[s.jsx(Ns,{className:"w-3 h-3 mr-1"}),"Copiar todos"]})})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.hashtags.map((T,L)=>s.jsxs(Q,{variant:"outline",className:"cursor-pointer hover:bg-primary/10 transition-colors",onClick:()=>O(`#${T}`,`tag-${L}`),children:["#",T,b===`tag-${L}`&&s.jsx(gt,{className:"w-3 h-3 ml-1 text-success"})]},L))})]})})]}):s.jsxs("div",{className:"text-center py-8 space-y-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-full bg-chart-4/10 flex items-center justify-center mx-auto",children:s.jsx(et,{className:"w-7 h-7 text-chart-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-foreground font-medium",children:"Genera tu contenido del da"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"5 frases nicas con imgenes profesionales B/N"})]}),s.jsxs(U,{onClick:$,children:[s.jsx(et,{className:"w-4 h-4 mr-2"}),"Generar contenido"]})]})})}),s.jsx(Lt,{open:!!N,onOpenChange:()=>j(null),children:s.jsxs(Ft,{className:N!=null&&N.isStory?"max-w-sm":"max-w-lg",children:[s.jsx(or,{children:s.jsx(lr,{children:N==null?void 0:N.title})}),N&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:`rounded-lg overflow-hidden bg-muted ${N.isStory?"aspect-[9/16]":"aspect-square"}`,children:s.jsx("img",{src:N.url,alt:N.title,className:"w-full h-full object-cover"})}),s.jsxs(U,{className:"w-full",onClick:()=>g(N.url,`jarvis-${N.title}.png`),children:[s.jsx(Oi,{className:"w-4 h-4 mr-2"}),"Descargar imagen"]})]})]})})]})},vle=()=>{const{user:e}=ut(),t=yk(),[r,n]=p.useState(!1),{data:a=[],isLoading:i}=GA({queryKey:["habit-insights",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return[];const{data:x,error:g}=await H.from("habit_insights").select("*").eq("is_active",!0).order("confidence_score",{ascending:!1}).limit(10);if(g)throw g;return x},enabled:!!(e!=null&&e.id)}),{data:o=[],isLoading:l}=GA({queryKey:["weekly-patterns",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return[];const{data:x,error:g}=await H.from("weekly_patterns").select("*").order("week_start",{ascending:!1}).limit(4);if(g)throw g;return x},enabled:!!(e!=null&&e.id)}),c=p.useCallback(async()=>{if(e!=null&&e.id){n(!0);try{const{data:x,error:g}=await H.functions.invoke("habits-analyzer",{body:{action:"analyze"}});if(g)throw g;return t.invalidateQueries({queryKey:["habit-insights"]}),t.invalidateQueries({queryKey:["weekly-patterns"]}),V.success("Anlisis de hbitos completado"),x}catch(x){throw console.error("Error analyzing habits:",x),V.error("Error al analizar hbitos"),x}finally{n(!1)}}},[e==null?void 0:e.id,t]),u=p.useCallback(async x=>{if(!(e!=null&&e.id))return null;try{const{data:g,error:v}=await H.functions.invoke("habits-analyzer",{body:{action:"query",question:x}});if(v)throw v;return g}catch(g){return console.error("Error querying habits:",g),null}},[e==null?void 0:e.id]),f=CZ({mutationFn:async x=>{const{error:g}=await H.from("habit_insights").update({is_active:!1}).eq("id",x);if(g)throw g},onSuccess:()=>{t.invalidateQueries({queryKey:["habit-insights"]})}}),d=o[0]||null,h=a.slice(0,3),m=o.filter(x=>{var g;return(((g=x.metrics)==null?void 0:g.completionRate)||0)>0}).length;return{insights:a,weeklyPatterns:o,currentWeekPattern:d,topInsights:h,weeksWithData:m,isLoading:i||l,isAnalyzing:r,analyzeHabits:c,askAboutHabits:u,dismissInsight:f.mutate}},yle={energy:s.jsx(Mn,{className:"h-4 w-4 text-yellow-500"}),productivity:s.jsx(Zr,{className:"h-4 w-4 text-green-500"}),mood:s.jsx(et,{className:"h-4 w-4 text-purple-500"}),schedule:s.jsx(Jt,{className:"h-4 w-4 text-blue-500"})},ble={energy:"Energa",productivity:"Productividad",mood:"nimo",schedule:"Horarios"},wle=({insight:e,onDismiss:t})=>{const r=e.category||"productivity",n=e.confidence_score||.5;return s.jsx("div",{className:"group relative p-3 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"mt-0.5",children:yle[r]||s.jsx(Qr,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"text-sm font-medium text-foreground truncate",children:e.title}),s.jsxs(Q,{variant:"outline",className:"text-[10px] px-1.5 py-0",children:[Math.round(n*100),"%"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:e.description}),s.jsxs("div",{className:"flex items-center gap-2 mt-1.5",children:[s.jsx(Q,{variant:"secondary",className:"text-[10px]",children:ble[r]||r}),s.jsx("span",{className:"text-[10px] text-muted-foreground",children:e.insight_type==="pattern"?"Patrn":e.insight_type==="recommendation"?"Recomendacin":"Correlacin"})]})]}),s.jsx(U,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>t(e.id),children:s.jsx(kt,{className:"h-3 w-3"})})]})})},jle=()=>{var c,u;const{topInsights:e,currentWeekPattern:t,weeksWithData:r,isLoading:n,isAnalyzing:a,analyzeHabits:i,dismissInsight:o}=vle(),l=t==null?void 0:t.metrics;return s.jsx(mu,{id:"habits-insights",title:"Insights de Hbitos",icon:s.jsx(Qr,{className:"h-4 w-4 text-primary"}),badge:e.length>0?s.jsxs(Q,{variant:"secondary",className:"text-xs",children:[e.length," nuevo",e.length!==1?"s":""]}):null,children:s.jsxs("div",{className:"space-y-4",children:[l&&s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("div",{className:"p-2 rounded-lg bg-muted/30 text-center",children:[s.jsx("div",{className:"text-lg font-semibold text-foreground",children:((c=l.avgEnergy)==null?void 0:c.toFixed(1))||"-"}),s.jsx("div",{className:"text-[10px] text-muted-foreground",children:"Energa"})]}),s.jsxs("div",{className:"p-2 rounded-lg bg-muted/30 text-center",children:[s.jsx("div",{className:"text-lg font-semibold text-foreground",children:((u=l.avgFocus)==null?void 0:u.toFixed(1))||"-"}),s.jsx("div",{className:"text-[10px] text-muted-foreground",children:"Enfoque"})]}),s.jsxs("div",{className:"p-2 rounded-lg bg-muted/30 text-center",children:[s.jsxs("div",{className:"text-lg font-semibold text-primary",children:[l.completionRate||0,"%"]}),s.jsx("div",{className:"text-[10px] text-muted-foreground",children:"Completado"})]})]}),n?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(ht,{className:"h-5 w-5 animate-spin text-muted-foreground"})}):e.length>0?s.jsx("div",{className:"space-y-2",children:e.map(f=>s.jsx(wle,{insight:f,onDismiss:o},f.id))}):s.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[s.jsx(Qr,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Sin insights todava"}),s.jsx("p",{className:"text-xs mt-1",children:"Contina usando la app para generar insights personalizados"})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-border/50",children:[s.jsxs("span",{className:"text-xs text-muted-foreground",children:[r," semana",r!==1?"s":""," de datos"]}),s.jsxs(U,{size:"sm",variant:"outline",className:"h-7 text-xs gap-1.5",onClick:i,disabled:a,children:[s.jsx(ht,{className:z("h-3 w-3",a&&"animate-spin")}),a?"Analizando...":"Analizar"]})]})]})})},Nle=[{icon:nL,label:"Dashboard",path:"/dashboard"},{icon:ja,label:"JARVIS",path:"/chat"},{icon:Cm,label:"Comunicaciones",path:"/communications"},{icon:$l,label:"Salud",path:"/health"},{icon:Yr,label:"Deportes",path:"/sports"}],Sle=[{icon:Ev,label:"Noticias IA",path:"/ai-news"},{icon:UY,label:"Nutricin",path:"/nutrition"},{icon:Li,label:"Finanzas",path:"/finances"},{icon:Hs,label:"Bosco",path:"/bosco"}],Ux=[{icon:et,label:"Coach",path:"/coach"},{icon:w0,label:"Ingls",path:"/english"},{icon:eL,label:"Curso IA",path:"/ai-course"}],_le=[{icon:tf,label:"Ajustes",path:"/settings"}],zr=({isOpen:e,onClose:t,isCollapsed:r,onToggleCollapse:n})=>{var h,m;const a=oi(),{user:i,signOut:o}=ut(),[l,c]=p.useState(()=>Ux.some(x=>a.pathname===x.path)),u=async()=>{await o(),t()},f=x=>{const g=a.pathname===x.path,v=s.jsxs(IS,{to:x.path,onClick:t,className:z("flex items-center gap-3 rounded-xl transition-all font-medium text-sm",r?"justify-center p-3":"px-4 py-3",g?"bg-primary text-primary-foreground shadow-lg shadow-primary/30":"text-muted-foreground hover:text-foreground hover:bg-sidebar-accent"),children:[s.jsx(x.icon,{className:z("w-5 h-5 shrink-0",g&&"text-primary-foreground")}),!r&&s.jsx("span",{children:x.label})]},x.path);return r?s.jsxs(af,{delayDuration:0,children:[s.jsx(of,{asChild:!0,children:v}),s.jsx(du,{side:"right",sideOffset:10,children:x.label})]},x.path):v},d=()=>{const x=Ux.some(g=>a.pathname===g.path);return r?s.jsx("div",{className:"space-y-1.5",children:Ux.map(f)}):s.jsxs(ka,{open:l,onOpenChange:c,children:[s.jsxs(ea,{className:z("flex items-center justify-between w-full px-4 py-3 rounded-xl transition-all font-medium text-sm",x?"text-primary bg-primary/10":"text-muted-foreground hover:text-foreground hover:bg-sidebar-accent"),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(eL,{className:"w-5 h-5 shrink-0"}),s.jsx("span",{children:"Formacin"})]}),s.jsx(qn,{className:z("w-4 h-4 transition-transform duration-200",l&&"rotate-180")})]}),s.jsx(Ea,{className:"pl-4 mt-1 space-y-1",children:Ux.map(g=>{const v=a.pathname===g.path;return s.jsxs(IS,{to:g.path,onClick:t,className:z("flex items-center gap-3 rounded-xl transition-all font-medium text-sm px-4 py-2.5",v?"bg-primary text-primary-foreground shadow-lg shadow-primary/30":"text-muted-foreground hover:text-foreground hover:bg-sidebar-accent"),children:[s.jsx(g.icon,{className:z("w-4 h-4 shrink-0",v&&"text-primary-foreground")}),s.jsx("span",{children:g.label})]},g.path)})})]})};return s.jsxs(s.Fragment,{children:[e&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 lg:hidden",onClick:t,"aria-hidden":"true"}),s.jsxs("aside",{role:"navigation",className:z("fixed top-0 left-0 h-full bg-sidebar border-r border-sidebar-border z-50 safe-top","transition-transform duration-300 ease-out",r?"w-20":"w-72",e?"translate-x-0 shadow-2xl animate-slide-in-left":"-translate-x-full lg:translate-x-0"),children:[s.jsxs("div",{className:z("h-16 flex items-center border-b border-sidebar-border relative",r?"justify-center px-2":"px-5"),children:[!r&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"w-11 h-11 rounded-xl bg-gradient-to-br from-primary to-primary/70 flex items-center justify-center relative shadow-lg shadow-primary/30",children:[s.jsx(Qr,{className:"w-6 h-6 text-primary-foreground"}),s.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-2.5 h-2.5 bg-success rounded-full animate-pulse ring-2 ring-sidebar"})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-sidebar-foreground tracking-tight",children:"JARVIS"}),s.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:"v2.0"})]})]}),r&&s.jsxs("div",{className:"w-11 h-11 rounded-xl bg-gradient-to-br from-primary to-primary/70 flex items-center justify-center relative shadow-lg shadow-primary/30",children:[s.jsx(Qr,{className:"w-6 h-6 text-primary-foreground"}),s.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-2.5 h-2.5 bg-success rounded-full animate-pulse ring-2 ring-sidebar"})]}),e&&s.jsx("button",{onClick:t,"aria-label":"Cerrar men",className:"lg:hidden absolute right-4 top-1/2 -translate-y-1/2 p-2 rounded-lg hover:bg-sidebar-accent text-muted-foreground",children:s.jsx(kt,{className:"w-5 h-5"})})]}),s.jsx("button",{onClick:n,className:"hidden lg:flex absolute -right-3 top-20 w-6 h-6 rounded-full bg-sidebar border border-sidebar-border items-center justify-center text-muted-foreground hover:text-foreground hover:bg-sidebar-accent transition-colors z-10",children:r?s.jsx(Zs,{className:"w-4 h-4"}):s.jsx(Eu,{className:"w-4 h-4"})}),s.jsxs("nav",{className:z("flex-1 overflow-y-auto pb-20",r?"p-2":"p-4","scrollbar-thin scrollbar-thumb-sidebar-border scrollbar-track-transparent"),style:{maxHeight:"calc(100vh - 180px)"},children:[s.jsx("div",{className:"space-y-1.5",children:Nle.map(f)}),s.jsx("div",{className:z("my-4",r?"mx-2":"mx-3","border-t border-sidebar-border")}),s.jsx("div",{className:"space-y-1.5",children:Sle.map(f)}),s.jsx("div",{className:z("my-4",r?"mx-2":"mx-3","border-t border-sidebar-border")}),d(),s.jsx("div",{className:z("my-4",r?"mx-2":"mx-3","border-t border-sidebar-border")}),s.jsx("div",{className:"space-y-1.5",children:_le.map(f)})]}),s.jsxs("div",{className:z("absolute bottom-0 left-0 right-0 border-t border-sidebar-border safe-bottom bg-sidebar",r?"p-2":"p-4"),children:[!r&&s.jsxs("div",{className:"flex items-center gap-3 px-3 py-3 mb-2 bg-sidebar-accent/50 rounded-xl",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary/70 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-bold text-primary-foreground",children:((h=i==null?void 0:i.email)==null?void 0:h.charAt(0).toUpperCase())||"U"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-sidebar-foreground truncate",children:((m=i==null?void 0:i.email)==null?void 0:m.split("@")[0])||"Usuario"}),s.jsxs("p",{className:"text-xs text-success font-mono flex items-center gap-1",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-success rounded-full"}),"ONLINE"]})]})]}),r?s.jsxs(af,{delayDuration:0,children:[s.jsx(of,{asChild:!0,children:s.jsx("button",{onClick:u,className:"w-full flex items-center justify-center p-3 rounded-xl text-muted-foreground hover:text-destructive hover:bg-destructive/10 transition-all",children:s.jsx(pA,{className:"w-5 h-5"})})}),s.jsx(du,{side:"right",sideOffset:10,children:"Cerrar sesin"})]}):s.jsxs("button",{onClick:u,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-muted-foreground hover:text-destructive hover:bg-destructive/10 transition-all text-sm",children:[s.jsx(pA,{className:"w-5 h-5"}),"Cerrar sesin"]})]})]})]})},Cle={name:"Agustn",vital_role:"Emprendedor creativo y padre",current_context:null,cognitive_style:"analtico-creativo",primary_language:"es",secondary_language:"en",personal_principles:["Claridad sobre complejidad","Sostenibilidad sobre productividad mxima","Familia primero","Progreso no perfeccin"],life_goals:["Criar bien a Bosco","Mantener energa estable","Vivir con intencin"],professional_goals:["Escalar proyecto actual","Mejorar nivel de ingls","Generar contenido de valor"],family_context:{hijo:"Bosco",edad_hijo:"4.5 aos",tiempo_diario_minimo:120,actividades_prioridad:["vnculo","lectura","ingls_ldico"]},health_profile:{entrenamiento:"regular",tipo:"fuerza + actividad moderada",despertar:"05:00",siesta_condicional:!0},food_preferences:{},food_dislikes:[],best_focus_time:"morning",fatigue_time:"afternoon",needs_buffers:!0,communication_style:{tono_preferido:"directo_humano",evitar:["frases_vacias","motivacion_artificial","exceso_opciones"]},personal_rules:["No ms de 3 prioridades laborales al da","Nunca eliminar bloques familiares","Si hay cansancio, simplificar","Si hay urgencia familiar, modo supervivencia","Buffers diarios obligatorios"],auto_decisions:["Reordenar tareas","Mover bloques P1/P2","Activar siesta si aplica regla","Ajustar actividades de Bosco","Bajar exigencia diaria"],require_confirmation:["Quitar tiempo con Bosco","Saltarse entrenamiento sin causa","Cambiar rutinas base","Decisiones financieras","Forzar actividades educativas"],learned_patterns:{},emotional_history:[],current_mode:"normal",mode_activated_at:null,daily_routine:{despertar:"05:00",tiempo_personal:{inicio:"05:00",fin:"06:30"},entrenamiento:{inicio:"06:45",fin:"07:30"},preparacion:{inicio:"07:30",fin:"07:50"},desayuno_bosco:{inicio:"07:50",fin:"08:10"},salida_cole:{inicio:"08:10",fin:"08:55"},trayecto:{inicio:"08:55",fin:"09:20"},trabajo_profundo:{inicio:"09:30",fin:"14:00"},comida:{inicio:"14:00",fin:"14:30"},siesta:{inicio:"14:30",fin:"16:30",condicional:!0},reentrada:{inicio:"16:30",fin:"17:00"},tiempo_bosco:{inicio:"17:10",fin:"19:10"},cena:{inicio:"19:00",fin:"19:30"},bano_bosco:"20:15",bosco_duerme:{inicio:"21:00",fin:"21:30"},cierre_dia:{inicio:"21:30",fin:"22:15"}},special_days:{jueves:{natacion:{inicio:"17:00",fin:"17:30"},vuelta:{inicio:"17:30",fin:"17:50"},ajustar_bosco:!0}},rest_rules:{siesta_si_sueno_menor_7h:!0,reducir_carga_sin_siesta:!0,eliminar_p2_si_cansado:!0},bosco_settings:{duracion_diaria:120,idiomas:["castellano","ingles"],alternar_idioma:!0,no_forzar_resistencia:!0,priorizar_disfrute:!0,ia_semanal:{frecuencia:"1-2",max_duracion:15}},planning_rules:{max_prioridades_dia:3,buffers_obligatorios:!0,proteger_familia:!0,simplificar_si_cansado:!0,modo_supervivencia_si_urgencia:!0}},ow=()=>{const{user:e}=ut(),[t,r]=p.useState(null),[n,a]=p.useState(!0),[i,o]=p.useState(!1);p.useEffect(()=>{(async()=>{if(!e){r(null),a(!1);return}try{const{data:d,error:h}=await H.from("user_profile").select("*").eq("user_id",e.id).maybeSingle();if(h)throw h;if(d)r(d);else{const m={user_id:e.id,...Cle},{data:x,error:g}=await H.from("user_profile").insert(m).select().single();if(g)throw g;r(x)}}catch(d){console.error("Error fetching user profile:",d)}finally{a(!1)}})()},[e]);const l=p.useCallback(async f=>{if(!e||!t)return!1;o(!0);try{const{error:d}=await H.from("user_profile").update(f).eq("user_id",e.id);if(d)throw d;return r(h=>h?{...h,...f}:null),V.success("Perfil actualizado"),!0}catch(d){return console.error("Error updating profile:",d),V.error("Error al actualizar el perfil"),!1}finally{o(!1)}},[e,t]),c=p.useCallback(async(f,d)=>{if(!t)return;const m={...t.learned_patterns&&typeof t.learned_patterns=="object"&&!Array.isArray(t.learned_patterns)?t.learned_patterns:{},[f]:d};await l({learned_patterns:m})},[t,l]),u=p.useCallback(async f=>{if(!t)return;const h=[...(Array.isArray(t.emotional_history)?t.emotional_history:[]).slice(-49),{...f,timestamp:new Date().toISOString()}];await l({emotional_history:h})},[t,l]);return{profile:t,loading:n,saving:i,updateProfile:l,addLearnedPattern:c,addEmotionalEntry:u}},o_={normal:{label:"Normal",icon:_g,color:"bg-success/20 text-success border-success/30",description:"Planificacin completa, todas las funciones activas"},vacation:{label:"Vacaciones",icon:cS,color:"bg-warning/20 text-warning border-warning/30",description:"Planificacin relajada, notificaciones reducidas, solo bienestar"},crisis:{label:"Crisis",icon:kr,color:"bg-destructive/20 text-destructive border-destructive/30",description:"Solo 1 prioridad, bloques cortos, nutricin bsica, Coach en contencin"}};function LB({compact:e=!1}){const{profile:t,updateProfile:r}=ow(),[n,a]=p.useState(!1),[i,o]=p.useState(null),l=(t==null?void 0:t.current_mode)||"normal",c=o_[l],u=c.icon,f=async d=>{if(d===l){a(!1);return}l==="crisis"&&d==="normal"&&V.info("Transicin de 48h iniciada. El sistema se normalizar gradualmente."),await r({current_mode:d,mode_activated_at:new Date().toISOString()})&&(V.success(`Modo ${o_[d].label} activado`),a(!1),o(null))};return e?s.jsxs(Lt,{open:n,onOpenChange:a,children:[s.jsx(Np,{asChild:!0,children:s.jsxs(U,{variant:"outline",size:"sm",className:z("gap-2",c.color),children:[s.jsx(u,{className:"w-4 h-4"}),c.label,s.jsx(qn,{className:"w-3 h-3"})]})}),s.jsx(e4,{currentMode:l,confirmMode:i,setConfirmMode:o,onModeChange:f,onClose:()=>a(!1)})]}):s.jsxs(Lt,{open:n,onOpenChange:a,children:[s.jsx(Np,{asChild:!0,children:s.jsxs("div",{className:z("p-3 sm:p-4 rounded-lg border cursor-pointer transition-all hover:border-primary/50",c.color),children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[s.jsx("div",{className:z("w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center flex-shrink-0",c.color),children:s.jsx(u,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("p",{className:"font-medium text-sm sm:text-base",children:["Modo ",c.label]}),s.jsx("p",{className:"text-xs opacity-70 line-clamp-1",children:c.description})]})]}),s.jsx(qn,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0"})]}),(t==null?void 0:t.mode_activated_at)&&l!=="normal"&&s.jsxs("div",{className:"mt-2 sm:mt-3 pt-2 sm:pt-3 border-t border-current/20 flex items-center gap-2 text-xs",children:[s.jsx(Pt,{className:"w-3 h-3 flex-shrink-0"}),s.jsxs("span",{className:"truncate",children:["Activado: ",new Date(t.mode_activated_at).toLocaleDateString("es-ES",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})]})]})]})}),s.jsx(e4,{currentMode:l,confirmMode:i,setConfirmMode:o,onModeChange:f,onClose:()=>a(!1)})]})}function e4({currentMode:e,confirmMode:t,setConfirmMode:r,onModeChange:n,onClose:a}){return s.jsxs(Ft,{className:"sm:max-w-md",children:[s.jsxs(or,{children:[s.jsx(lr,{children:"Cambiar modo del sistema"}),s.jsx(X0,{children:"El modo afecta cmo JARVIS planifica y te asiste."})]}),s.jsx("div",{className:"space-y-3 py-4",children:Object.entries(o_).map(([i,o])=>{const l=o.icon,c=i===e,u=i===t;return s.jsxs("div",{className:"space-y-2",children:[s.jsx("button",{onClick:()=>{i!==e&&(i==="crisis"||i==="vacation"?r(i):n(i))},className:z("w-full p-4 rounded-lg border text-left transition-all",c?z(o.color,"ring-2 ring-offset-2 ring-offset-background ring-current"):"border-border hover:border-primary/50"),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:z("w-10 h-10 rounded-full flex items-center justify-center",c?o.color:"bg-muted"),children:s.jsx(l,{className:z("w-5 h-5",c?"":"text-muted-foreground")})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:o.label}),c&&s.jsx(Q,{variant:"secondary",className:"text-xs",children:"Activo"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:o.description})]})]})}),u&&s.jsxs("div",{className:"ml-4 p-3 rounded-lg bg-muted/50 border border-border space-y-3",children:[s.jsx("p",{className:"text-sm",children:i==="crisis"?" El modo Crisis cancelar tareas no esenciales y reducir la actividad del sistema. Confirmar?":" El modo Vacaciones desactivar la planificacin estricta. Confirmar?"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{size:"sm",variant:"outline",onClick:()=>r(null),children:"Cancelar"}),s.jsx(U,{size:"sm",onClick:()=>n(i),children:"Confirmar"})]})]})]},i)})}),e==="crisis"&&s.jsxs("div",{className:"p-3 rounded-lg bg-muted/50 border border-border text-sm",children:[s.jsx("p",{className:"font-medium mb-1",children:"Volver a modo Normal"}),s.jsx("p",{className:"text-muted-foreground text-xs",children:"Al salir del modo Crisis, el sistema har una transicin gradual de 48h para retomar la planificacin completa sin sobrecargarte."})]}),s.jsx(Pu,{children:s.jsx(U,{variant:"outline",onClick:a,children:"Cerrar"})})]})}const Ur=({onMenuClick:e,showModeSelector:t=!1})=>{const[r,n]=p.useState("default"),a=new Date,i=a.getHours()<12?"Buenos das":a.getHours()<20?"Buenas tardes":"Buenas noches";p.useEffect(()=>{"Notification"in window&&n(Notification.permission)},[]);const o=async()=>{if("Notification"in window&&Notification.permission==="default"){const l=await Notification.requestPermission();n(l)}};return s.jsx("header",{className:"safe-top border-b border-border bg-card/50 backdrop-blur-sm sticky top-0 z-30",children:s.jsxs("div",{className:"h-14 md:h-16 flex items-center justify-between px-3 lg:px-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:e,className:"lg:hidden p-2 rounded-lg hover:bg-secondary text-muted-foreground",children:s.jsx(EY,{className:"w-5 h-5"})}),s.jsxs("div",{className:"hidden md:block",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:i}),s.jsx("h2",{className:"text-lg font-semibold text-foreground",children:a.toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"})})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[t&&s.jsx(LB,{compact:!0}),s.jsx(U,{variant:"ghost",size:"icon",className:"relative text-muted-foreground hover:text-foreground",children:s.jsx(RY,{className:"w-5 h-5"})}),s.jsxs(af,{children:[s.jsx(of,{asChild:!0,children:s.jsx(U,{variant:"ghost",size:"icon",className:"relative text-muted-foreground hover:text-foreground",onClick:o,children:r==="granted"?s.jsxs(s.Fragment,{children:[s.jsx(Gs,{className:"w-5 h-5 text-success"}),s.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-success rounded-full"})]}):r==="denied"?s.jsx(op,{className:"w-5 h-5 text-destructive"}):s.jsxs(s.Fragment,{children:[s.jsx(Gs,{className:"w-5 h-5"}),s.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-warning rounded-full animate-pulse"})]})})}),s.jsx(du,{children:r==="granted"?"Notificaciones habilitadas":r==="denied"?"Notificaciones bloqueadas":"Haz clic para habilitar notificaciones"})]}),s.jsxs(af,{children:[s.jsx(of,{asChild:!0,children:s.jsx(U,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-foreground",asChild:!0,children:s.jsx(cf,{to:"/settings",children:s.jsx(tf,{className:"w-5 h-5"})})})}),s.jsx(du,{children:"Ajustes"})]})]})]})})};function Ie(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ht(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function br(e,t){const r=Ie(e);return isNaN(t)?Ht(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function es(e,t){const r=Ie(e);if(isNaN(t))return Ht(e,NaN);if(!t)return r;const n=r.getDate(),a=Ht(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const sE=6048e5,kle=864e5,aE=6e4,iE=36e5,Ele=1e3,Wx=43200,t4=1440;let Ple={};function Zl(){return Ple}function Sn(e,t){var l,c,u,f;const r=Zl(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,a=Ie(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function jo(e){return Sn(e,{weekStartsOn:1})}function FB(e){const t=Ie(e),r=t.getFullYear(),n=Ht(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=jo(n),i=Ht(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=jo(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function vu(e){const t=Ie(e);return t.setHours(0,0,0,0),t}function zl(e){const t=Ie(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Ya(e,t){const r=vu(e),n=vu(t),a=+r-zl(r),i=+n-zl(n);return Math.round((a-i)/kle)}function Ole(e){const t=FB(e),r=Ht(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),jo(r)}function Sp(e,t){const r=t*7;return br(e,r)}function oE(e,t){return es(e,t*12)}function Ale(e){let t;return e.forEach(function(r){const n=Ie(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Tle(e){let t;return e.forEach(r=>{const n=Ie(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Iv(e,t){const r=Ie(e),n=Ie(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function lE(e){return Ht(e,Date.now())}function Ar(e,t){const r=vu(e),n=vu(t);return+r==+n}function cE(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Mle(e){if(!cE(e)&&typeof e!="number")return!1;const t=Ie(e);return!isNaN(Number(t))}function ff(e,t){const r=Ie(e),n=Ie(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Rle(e,t,r){const n=Sn(e,r),a=Sn(t,r),i=+n-zl(n),o=+a-zl(a);return Math.round((i-o)/sE)}function r4(e,t){const r=Ie(e),n=Ie(t),a=n4(r,n),i=Math.abs(Ya(r,n));r.setDate(r.getDate()-a*i);const o=+(n4(r,n)===-a),l=a*(i-o);return l===0?0:l}function n4(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function Ile(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Dle(e,t){return+Ie(e)-+Ie(t)}function BB(e){const t=Ie(e);return t.setHours(23,59,59,999),t}function zi(e){const t=Ie(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function $le(e){const t=Ie(e);return+BB(t)==+zi(t)}function Lle(e,t){const r=Ie(e),n=Ie(t),a=Iv(r,n),i=Math.abs(ff(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=Iv(r,n)===-a;$le(Ie(e))&&i===1&&Iv(e,n)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function Fle(e,t,r){const n=Dle(e,t)/1e3;return Ile(r==null?void 0:r.roundingMethod)(n)}function Ble(e,t){const r=Ie(e.start),n=Ie(e.end);let a=+r>+n;const i=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0);let l=1;const c=[];for(;+o<=i;)c.push(Ie(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return a?c.reverse():c}function on(e){const t=Ie(e);return t.setDate(1),t.setHours(0,0,0,0),t}function zle(e){const t=Ie(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function lw(e){const t=Ie(e),r=Ht(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function uh(e,t){var l,c,u,f;const r=Zl(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,a=Ie(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function zB(e){return uh(e,{weekStartsOn:1})}const Ule={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Wle=(e,t,r)=>{let n;const a=Ule[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Ad(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const qle={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Vle={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Hle={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Gle={date:Ad({formats:qle,defaultWidth:"full"}),time:Ad({formats:Vle,defaultWidth:"full"}),dateTime:Ad({formats:Hle,defaultWidth:"full"})},Kle={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Yle=(e,t,r,n)=>Kle[e];function bi(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Xle={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Jle={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Qle={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Zle={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ece={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},tce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rce=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},nce={ordinalNumber:rce,era:bi({values:Xle,defaultWidth:"wide"}),quarter:bi({values:Jle,defaultWidth:"wide",argumentCallback:e=>e-1}),month:bi({values:Qle,defaultWidth:"wide"}),day:bi({values:Zle,defaultWidth:"wide"}),dayPeriod:bi({values:ece,defaultWidth:"wide",formattingValues:tce,defaultFormattingWidth:"wide"})};function wi(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?ace(l,d=>d.test(o)):sce(l,d=>d.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const f=t.slice(o.length);return{value:u,rest:f}}}function sce(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function ace(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function UB(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const ice=/^(\d+)(th|st|nd|rd)?/i,oce=/\d+/i,lce={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},cce={any:[/^b/i,/^(a|c)/i]},uce={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},dce={any:[/1/i,/2/i,/3/i,/4/i]},fce={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hce={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},mce={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pce={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},gce={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xce={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vce={ordinalNumber:UB({matchPattern:ice,parsePattern:oce,valueCallback:e=>parseInt(e,10)}),era:wi({matchPatterns:lce,defaultMatchWidth:"wide",parsePatterns:cce,defaultParseWidth:"any"}),quarter:wi({matchPatterns:uce,defaultMatchWidth:"wide",parsePatterns:dce,defaultParseWidth:"any",valueCallback:e=>e+1}),month:wi({matchPatterns:fce,defaultMatchWidth:"wide",parsePatterns:hce,defaultParseWidth:"any"}),day:wi({matchPatterns:mce,defaultMatchWidth:"wide",parsePatterns:pce,defaultParseWidth:"any"}),dayPeriod:wi({matchPatterns:gce,defaultMatchWidth:"any",parsePatterns:xce,defaultParseWidth:"any"})},cw={code:"en-US",formatDistance:Wle,formatLong:Gle,formatRelative:Yle,localize:nce,match:vce,options:{weekStartsOn:0,firstWeekContainsDate:1}};function yce(e){const t=Ie(e);return Ya(t,lw(t))+1}function uE(e){const t=Ie(e),r=+jo(t)-+Ole(t);return Math.round(r/sE)+1}function dE(e,t){var f,d,h,m;const r=Ie(e),n=r.getFullYear(),a=Zl(),i=(t==null?void 0:t.firstWeekContainsDate)??((d=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Ht(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Sn(o,t),c=Ht(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Sn(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function bce(e,t){var l,c,u,f;const r=Zl(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,a=dE(e,t),i=Ht(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Sn(i,t)}function fE(e,t){const r=Ie(e),n=+Sn(r,t)-+bce(r,t);return Math.round(n/sE)+1}function $t(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const zo={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return $t(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):$t(r+1,2)},d(e,t){return $t(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return $t(e.getHours()%12||12,t.length)},H(e,t){return $t(e.getHours(),t.length)},m(e,t){return $t(e.getMinutes(),t.length)},s(e,t){return $t(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return $t(a,t.length)}},Hu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},s4={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return zo.y(e,t)},Y:function(e,t,r,n){const a=dE(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return $t(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):$t(i,t.length)},R:function(e,t){const r=FB(e);return $t(r,t.length)},u:function(e,t){const r=e.getFullYear();return $t(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return $t(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return $t(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return zo.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return $t(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=fE(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):$t(a,t.length)},I:function(e,t,r){const n=uE(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):$t(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):zo.d(e,t)},D:function(e,t,r){const n=yce(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):$t(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return $t(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return $t(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return $t(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Hu.noon:n===0?a=Hu.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Hu.evening:n>=12?a=Hu.afternoon:n>=4?a=Hu.morning:a=Hu.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return zo.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):zo.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):$t(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):$t(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):zo.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):zo.s(e,t)},S:function(e,t){return zo.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return i4(n);case"XXXX":case"XX":return Nc(n);case"XXXXX":case"XXX":default:return Nc(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return i4(n);case"xxxx":case"xx":return Nc(n);case"xxxxx":case"xxx":default:return Nc(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+a4(n,":");case"OOOO":default:return"GMT"+Nc(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+a4(n,":");case"zzzz":default:return"GMT"+Nc(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return $t(n,t.length)},T:function(e,t,r){const n=e.getTime();return $t(n,t.length)}};function a4(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+$t(i,2)}function i4(e,t){return e%60===0?(e>0?"-":"+")+$t(Math.abs(e)/60,2):Nc(e,t)}function Nc(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=$t(Math.trunc(n/60),2),i=$t(n%60,2);return r+a+t+i}const o4=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},WB=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},wce=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return o4(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",o4(n,t)).replace("{{time}}",WB(a,t))},l_={p:WB,P:wce},jce=/^D+$/,Nce=/^Y+$/,Sce=["D","DD","YY","YYYY"];function qB(e){return jce.test(e)}function VB(e){return Nce.test(e)}function c_(e,t,r){const n=_ce(e,t,r);if(console.warn(n),Sce.includes(e))throw new RangeError(n)}function _ce(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Cce=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kce=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ece=/^'([^]*?)'?$/,Pce=/''/g,Oce=/[a-zA-Z]/;function ye(e,t,r){var f,d,h,m,x,g,v,w;const n=Zl(),a=(r==null?void 0:r.locale)??n.locale??cw,i=(r==null?void 0:r.firstWeekContainsDate)??((d=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((g=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((w=(v=n.locale)==null?void 0:v.options)==null?void 0:w.weekStartsOn)??0,l=Ie(e);if(!Mle(l))throw new RangeError("Invalid time value");let c=t.match(kce).map(b=>{const y=b[0];if(y==="p"||y==="P"){const N=l_[y];return N(b,a.formatLong)}return b}).join("").match(Cce).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const y=b[0];if(y==="'")return{isToken:!1,value:Ace(b)};if(s4[y])return{isToken:!0,value:b};if(y.match(Oce))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(b=>{if(!b.isToken)return b.value;const y=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&VB(y)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&qB(y))&&c_(y,t,String(e));const N=s4[y[0]];return N(l,y,a.localize,u)}).join("")}function Ace(e){const t=e.match(Ece);return t?t[1].replace(Pce,"'"):e}function Tce(e,t,r){const n=Zl(),a=(r==null?void 0:r.locale)??n.locale??cw,i=2520,o=Iv(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Ie(t),u=Ie(e)):(c=Ie(e),u=Ie(t));const f=Fle(u,c),d=(zl(u)-zl(c))/1e3,h=Math.round((f-d)/60);let m;if(h<2)return r!=null&&r.includeSeconds?f<5?a.formatDistance("lessThanXSeconds",5,l):f<10?a.formatDistance("lessThanXSeconds",10,l):f<20?a.formatDistance("lessThanXSeconds",20,l):f<40?a.formatDistance("halfAMinute",0,l):f<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<t4){const x=Math.round(h/60);return a.formatDistance("aboutXHours",x,l)}else{if(h<i)return a.formatDistance("xDays",1,l);if(h<Wx){const x=Math.round(h/t4);return a.formatDistance("xDays",x,l)}else if(h<Wx*2)return m=Math.round(h/Wx),a.formatDistance("aboutXMonths",m,l)}if(m=Lle(u,c),m<12){const x=Math.round(h/Wx);return a.formatDistance("xMonths",x,l)}else{const x=m%12,g=Math.trunc(m/12);return x<3?a.formatDistance("aboutXYears",g,l):x<9?a.formatDistance("overXYears",g,l):a.formatDistance("almostXYears",g+1,l)}}function Mce(e,t){return Tce(e,lE(e),t)}function Rce(e){const t=Ie(e),r=t.getFullYear(),n=t.getMonth(),a=Ht(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function Ice(){return Object.assign({},Zl())}function Dce(e){let r=Ie(e).getDay();return r===0&&(r=7),r}function $ce(e){return Math.trunc(+Ie(e)/1e3)}function Lce(e){const t=Ie(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Fce(e,t){return Rle(Lce(e),on(e),t)+1}function u_(e,t){const r=Ie(e),n=Ie(t);return r.getTime()>n.getTime()}function HB(e,t){const r=Ie(e),n=Ie(t);return+r<+n}function Bce(e,t){const r=t instanceof Date?Ht(t,0):new t(0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}const zce=10;class GB{constructor(){Pe(this,"subPriority",0)}validate(t,r){return!0}}class Uce extends GB{constructor(t,r,n,a,i){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=a,i&&(this.subPriority=i)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class Wce extends GB{constructor(){super(...arguments);Pe(this,"priority",zce);Pe(this,"subPriority",-1)}set(r,n){return n.timestampIsSet?r:Ht(r,Bce(r,Date))}}class At{run(t,r,n,a){const i=this.parse(t,r,n,a);return i?{setter:new Uce(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,r,n){return!0}}class qce extends At{constructor(){super(...arguments);Pe(this,"priority",140);Pe(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})||a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"})}}set(r,n,a){return n.era=a,r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}const Xr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ji={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Jr(e,t){return e&&{value:t(e.value),rest:e.rest}}function Pr(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Ni(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:n*(a*iE+i*aE+o*Ele),rest:t.slice(r[0].length)}}function KB(e){return Pr(Xr.anyDigitsSigned,e)}function Wr(e,t){switch(e){case 1:return Pr(Xr.singleDigit,t);case 2:return Pr(Xr.twoDigits,t);case 3:return Pr(Xr.threeDigits,t);case 4:return Pr(Xr.fourDigits,t);default:return Pr(new RegExp("^\\d{1,"+e+"}"),t)}}function By(e,t){switch(e){case 1:return Pr(Xr.singleDigitSigned,t);case 2:return Pr(Xr.twoDigitsSigned,t);case 3:return Pr(Xr.threeDigitsSigned,t);case 4:return Pr(Xr.fourDigitsSigned,t);default:return Pr(new RegExp("^-?\\d{1,"+e+"}"),t)}}function hE(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function YB(e,t){const r=t>0,n=r?t:1-t;let a;if(n<=50)a=e||100;else{const i=n+50,o=Math.trunc(i/100)*100,l=e>=i%100;a=e+o-(l?100:0)}return r?a:1-a}function XB(e){return e%400===0||e%4===0&&e%100!==0}class Vce extends At{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,a){const i=o=>({year:o,isTwoDigitYear:n==="yy"});switch(n){case"y":return Jr(Wr(4,r),i);case"yo":return Jr(a.ordinalNumber(r,{unit:"year"}),i);default:return Jr(Wr(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a){const i=r.getFullYear();if(a.isTwoDigitYear){const l=YB(a.year,i);return r.setFullYear(l,0,1),r.setHours(0,0,0,0),r}const o=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class Hce extends At{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,a){const i=o=>({year:o,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Jr(Wr(4,r),i);case"Yo":return Jr(a.ordinalNumber(r,{unit:"year"}),i);default:return Jr(Wr(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a,i){const o=dE(r,i);if(a.isTwoDigitYear){const c=YB(a.year,o);return r.setFullYear(c,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Sn(r,i)}const l=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(l,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Sn(r,i)}}class Gce extends At{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return By(n==="R"?4:n.length,r)}set(r,n,a){const i=Ht(r,0);return i.setFullYear(a,0,4),i.setHours(0,0,0,0),jo(i)}}class Kce extends At{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return By(n==="u"?4:n.length,r)}set(r,n,a){return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}class Yce extends At{constructor(){super(...arguments);Pe(this,"priority",120);Pe(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"Q":case"QQ":return Wr(n.length,r);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})||a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class Xce extends At{constructor(){super(...arguments);Pe(this,"priority",120);Pe(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"q":case"qq":return Wr(n.length,r);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})||a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class Jce extends At{constructor(){super(...arguments);Pe(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Pe(this,"priority",110)}parse(r,n,a){const i=o=>o-1;switch(n){case"M":return Jr(Pr(Xr.month,r),i);case"MM":return Jr(Wr(2,r),i);case"Mo":return Jr(a.ordinalNumber(r,{unit:"month"}),i);case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})||a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}class Qce extends At{constructor(){super(...arguments);Pe(this,"priority",110);Pe(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,a){const i=o=>o-1;switch(n){case"L":return Jr(Pr(Xr.month,r),i);case"LL":return Jr(Wr(2,r),i);case"Lo":return Jr(a.ordinalNumber(r,{unit:"month"}),i);case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})||a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}function Zce(e,t,r){const n=Ie(e),a=fE(n,r)-t;return n.setDate(n.getDate()-a*7),n}class eue extends At{constructor(){super(...arguments);Pe(this,"priority",100);Pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,a){switch(n){case"w":return Pr(Xr.week,r);case"wo":return a.ordinalNumber(r,{unit:"week"});default:return Wr(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a,i){return Sn(Zce(r,a,i),i)}}function tue(e,t){const r=Ie(e),n=uE(r)-t;return r.setDate(r.getDate()-n*7),r}class rue extends At{constructor(){super(...arguments);Pe(this,"priority",100);Pe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,a){switch(n){case"I":return Pr(Xr.week,r);case"Io":return a.ordinalNumber(r,{unit:"week"});default:return Wr(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a){return jo(tue(r,a))}}const nue=[31,28,31,30,31,30,31,31,30,31,30,31],sue=[31,29,31,30,31,30,31,31,30,31,30,31];class aue extends At{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"subPriority",1);Pe(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"d":return Pr(Xr.date,r);case"do":return a.ordinalNumber(r,{unit:"date"});default:return Wr(n.length,r)}}validate(r,n){const a=r.getFullYear(),i=XB(a),o=r.getMonth();return i?n>=1&&n<=sue[o]:n>=1&&n<=nue[o]}set(r,n,a){return r.setDate(a),r.setHours(0,0,0,0),r}}class iue extends At{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"subpriority",1);Pe(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,a){switch(n){case"D":case"DD":return Pr(Xr.dayOfYear,r);case"Do":return a.ordinalNumber(r,{unit:"date"});default:return Wr(n.length,r)}}validate(r,n){const a=r.getFullYear();return XB(a)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,a){return r.setMonth(0,a),r.setHours(0,0,0,0),r}}function mE(e,t,r){var d,h,m,x;const n=Zl(),a=(r==null?void 0:r.weekStartsOn)??((h=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((x=(m=n.locale)==null?void 0:m.options)==null?void 0:x.weekStartsOn)??0,i=Ie(e),o=i.getDay(),c=(t%7+7)%7,u=7-a,f=t<0||t>6?t-(o+u)%7:(c+u)%7-(o+u)%7;return br(i,f)}class oue extends At{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=mE(r,a,i),r.setHours(0,0,0,0),r}}class lue extends At{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,a,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(n){case"e":case"ee":return Jr(Wr(n.length,r),o);case"eo":return Jr(a.ordinalNumber(r,{unit:"day"}),o);case"eee":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=mE(r,a,i),r.setHours(0,0,0,0),r}}class cue extends At{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,a,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(n){case"c":case"cc":return Jr(Wr(n.length,r),o);case"co":return Jr(a.ordinalNumber(r,{unit:"day"}),o);case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})||a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=mE(r,a,i),r.setHours(0,0,0,0),r}}function uue(e,t){const r=Ie(e),n=Dce(r),a=t-n;return br(r,a)}class due extends At{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,a){const i=o=>o===0?7:o;switch(n){case"i":case"ii":return Wr(n.length,r);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return Jr(a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return Jr(a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Jr(a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Jr(a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,n){return n>=1&&n<=7}set(r,n,a){return r=uue(r,a),r.setHours(0,0,0,0),r}}class fue extends At{constructor(){super(...arguments);Pe(this,"priority",80);Pe(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(hE(a),0,0,0),r}}class hue extends At{constructor(){super(...arguments);Pe(this,"priority",80);Pe(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(hE(a),0,0,0),r}}class mue extends At{constructor(){super(...arguments);Pe(this,"priority",80);Pe(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(hE(a),0,0,0),r}}class pue extends At{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,a){switch(n){case"h":return Pr(Xr.hour12h,r);case"ho":return a.ordinalNumber(r,{unit:"hour"});default:return Wr(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,a){const i=r.getHours()>=12;return i&&a<12?r.setHours(a+12,0,0,0):!i&&a===12?r.setHours(0,0,0,0):r.setHours(a,0,0,0),r}}class gue extends At{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,a){switch(n){case"H":return Pr(Xr.hour23h,r);case"Ho":return a.ordinalNumber(r,{unit:"hour"});default:return Wr(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,a){return r.setHours(a,0,0,0),r}}class xue extends At{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,a){switch(n){case"K":return Pr(Xr.hour11h,r);case"Ko":return a.ordinalNumber(r,{unit:"hour"});default:return Wr(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.getHours()>=12&&a<12?r.setHours(a+12,0,0,0):r.setHours(a,0,0,0),r}}class vue extends At{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,a){switch(n){case"k":return Pr(Xr.hour24h,r);case"ko":return a.ordinalNumber(r,{unit:"hour"});default:return Wr(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,a){const i=a<=24?a%24:a;return r.setHours(i,0,0,0),r}}class yue extends At{constructor(){super(...arguments);Pe(this,"priority",60);Pe(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"m":return Pr(Xr.minute,r);case"mo":return a.ordinalNumber(r,{unit:"minute"});default:return Wr(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setMinutes(a,0,0),r}}class bue extends At{constructor(){super(...arguments);Pe(this,"priority",50);Pe(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"s":return Pr(Xr.second,r);case"so":return a.ordinalNumber(r,{unit:"second"});default:return Wr(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setSeconds(a,0),r}}class wue extends At{constructor(){super(...arguments);Pe(this,"priority",30);Pe(this,"incompatibleTokens",["t","T"])}parse(r,n){const a=i=>Math.trunc(i*Math.pow(10,-n.length+3));return Jr(Wr(n.length,r),a)}set(r,n,a){return r.setMilliseconds(a),r}}class jue extends At{constructor(){super(...arguments);Pe(this,"priority",10);Pe(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return Ni(ji.basicOptionalMinutes,r);case"XX":return Ni(ji.basic,r);case"XXXX":return Ni(ji.basicOptionalSeconds,r);case"XXXXX":return Ni(ji.extendedOptionalSeconds,r);case"XXX":default:return Ni(ji.extended,r)}}set(r,n,a){return n.timestampIsSet?r:Ht(r,r.getTime()-zl(r)-a)}}class Nue extends At{constructor(){super(...arguments);Pe(this,"priority",10);Pe(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return Ni(ji.basicOptionalMinutes,r);case"xx":return Ni(ji.basic,r);case"xxxx":return Ni(ji.basicOptionalSeconds,r);case"xxxxx":return Ni(ji.extendedOptionalSeconds,r);case"xxx":default:return Ni(ji.extended,r)}}set(r,n,a){return n.timestampIsSet?r:Ht(r,r.getTime()-zl(r)-a)}}class Sue extends At{constructor(){super(...arguments);Pe(this,"priority",40);Pe(this,"incompatibleTokens","*")}parse(r){return KB(r)}set(r,n,a){return[Ht(r,a*1e3),{timestampIsSet:!0}]}}class _ue extends At{constructor(){super(...arguments);Pe(this,"priority",20);Pe(this,"incompatibleTokens","*")}parse(r){return KB(r)}set(r,n,a){return[Ht(r,a),{timestampIsSet:!0}]}}const Cue={G:new qce,y:new Vce,Y:new Hce,R:new Gce,u:new Kce,Q:new Yce,q:new Xce,M:new Jce,L:new Qce,w:new eue,I:new rue,d:new aue,D:new iue,E:new oue,e:new lue,c:new cue,i:new due,a:new fue,b:new hue,B:new mue,h:new pue,H:new gue,K:new xue,k:new vue,m:new yue,s:new bue,S:new wue,X:new jue,x:new Nue,t:new Sue,T:new _ue},kue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Eue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Pue=/^'([^]*?)'?$/,Oue=/''/g,Aue=/\S/,Tue=/[a-zA-Z]/;function Mue(e,t,r,n){var g,v,w,b;const a=Ice(),i=a.locale??cw,o=a.firstWeekContainsDate??((v=(g=a.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,l=a.weekStartsOn??((b=(w=a.locale)==null?void 0:w.options)==null?void 0:b.weekStartsOn)??0,c={firstWeekContainsDate:o,weekStartsOn:l,locale:i},u=[new Wce],f=t.match(Eue).map(y=>{const N=y[0];if(N in l_){const j=l_[N];return j(y,i.formatLong)}return y}).join("").match(kue),d=[];for(let y of f){VB(y)&&c_(y,t,e),qB(y)&&c_(y,t,e);const N=y[0],j=Cue[N];if(j){const{incompatibleTokens:S}=j;if(Array.isArray(S)){const k=d.find(E=>S.includes(E.token)||E.token===N);if(k)throw new RangeError(`The format string mustn't contain \`${k.fullToken}\` and \`${y}\` at the same time`)}else if(j.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${y}\` and any other token at the same time`);d.push({token:N,fullToken:y});const _=j.run(e,y,i.match,c);if(!_)return Ht(r,NaN);u.push(_.setter),e=_.rest}else{if(N.match(Tue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");if(y==="''"?y="'":N==="'"&&(y=Rue(y)),e.indexOf(y)===0)e=e.slice(y.length);else return Ht(r,NaN)}}if(e.length>0&&Aue.test(e))return Ht(r,NaN);const h=u.map(y=>y.priority).sort((y,N)=>N-y).filter((y,N,j)=>j.indexOf(y)===N).map(y=>u.filter(N=>N.priority===y).sort((N,j)=>j.subPriority-N.subPriority)).map(y=>y[0]);let m=Ie(r);if(isNaN(m.getTime()))return Ht(r,NaN);const x={};for(const y of h){if(!y.validate(m,c))return Ht(r,NaN);const N=y.set(m,x,c);Array.isArray(N)?(m=N[0],Object.assign(x,N[1])):m=N}return Ht(r,m)}function Rue(e){return e.match(Pue)[1].replace(Oue,"'")}function yu(e,t){const r=Ie(e),n=Ie(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Iue(e,t){const r=Ie(e),n=Ie(t);return r.getFullYear()===n.getFullYear()}function Mm(e){return Ar(e,lE(e))}function Due(e,t){const r=+Ie(e),[n,a]=[+Ie(t.start),+Ie(t.end)].sort((i,o)=>i-o);return r>=n&&r<=a}function Dv(e,t){return br(e,-t)}function j1(e){return Ar(e,Dv(lE(e),1))}function Br(e,t){const n=Bue(e);let a;if(n.date){const c=zue(n.date,2);a=Uue(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(n.time&&(o=Wue(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=que(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const qx={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},$ue=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Lue=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Fue=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Bue(e){const t={},r=e.split(qx.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],qx.timeZoneDelimiter.test(t.date)&&(t.date=e.split(qx.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=qx.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function zue(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function Uue(e,t){if(t===null)return new Date(NaN);const r=e.match($ue);if(!r)return new Date(NaN);const n=!!r[4],a=Uh(r[1]),i=Uh(r[2])-1,o=Uh(r[3]),l=Uh(r[4]),c=Uh(r[5])-1;if(n)return Yue(t,l,c)?Vue(t,l,c):new Date(NaN);{const u=new Date(0);return!Gue(t,i,o)||!Kue(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}}function Uh(e){return e?parseInt(e):1}function Wue(e){const t=e.match(Lue);if(!t)return NaN;const r=N1(t[1]),n=N1(t[2]),a=N1(t[3]);return Xue(r,n,a)?r*iE+n*aE+a*1e3:NaN}function N1(e){return e&&parseFloat(e.replace(",","."))||0}function que(e){if(e==="Z")return 0;const t=e.match(Fue);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Jue(n,a)?r*(n*iE+a*aE):NaN}function Vue(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const Hue=[31,null,31,30,31,30,31,31,30,31,30,31];function JB(e){return e%400===0||e%4===0&&e%100!==0}function Gue(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Hue[t]||(JB(e)?29:28))}function Kue(e,t){return t>=1&&t<=(JB(e)?366:365)}function Yue(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Xue(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Jue(e,t){return t>=0&&t<=59}function S1(e,t){const r=Ie(e),n=r.getFullYear(),a=r.getDate(),i=Ht(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=Rce(i);return r.setMonth(t,Math.min(a,o)),r}function l4(e,t){const r=Ie(e);return isNaN(+r)?Ht(e,NaN):(r.setFullYear(t),r)}function uw(e,t){return es(e,-t)}function Que(e,t){return Sp(e,-1)}function Zue(e,t){return oE(e,-1)}const ede={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},tde=(e,t,r)=>{let n;const a=ede[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+n:"hace "+n:n},rde={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},nde={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},sde={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ade={date:Ad({formats:rde,defaultWidth:"full"}),time:Ad({formats:nde,defaultWidth:"full"}),dateTime:Ad({formats:sde,defaultWidth:"full"})},ide={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},ode={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},lde=(e,t,r,n)=>t.getHours()!==1?ode[e]:ide[e],cde={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},ude={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},dde={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},fde={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},hde={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},mde={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},pde=(e,t)=>Number(e)+"",gde={ordinalNumber:pde,era:bi({values:cde,defaultWidth:"wide"}),quarter:bi({values:ude,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:bi({values:dde,defaultWidth:"wide"}),day:bi({values:fde,defaultWidth:"wide"}),dayPeriod:bi({values:hde,defaultWidth:"wide",formattingValues:mde,defaultFormattingWidth:"wide"})},xde=/^(\d+)()?/i,vde=/\d+/i,yde={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},bde={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},wde={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},jde={any:[/1/i,/2/i,/3/i,/4/i]},Nde={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},Sde={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},_de={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},Cde={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},kde={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},Ede={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},Pde={ordinalNumber:UB({matchPattern:xde,parsePattern:vde,valueCallback:function(e){return parseInt(e,10)}}),era:wi({matchPatterns:yde,defaultMatchWidth:"wide",parsePatterns:bde,defaultParseWidth:"any"}),quarter:wi({matchPatterns:wde,defaultMatchWidth:"wide",parsePatterns:jde,defaultParseWidth:"any",valueCallback:e=>e+1}),month:wi({matchPatterns:Nde,defaultMatchWidth:"wide",parsePatterns:Sde,defaultParseWidth:"any"}),day:wi({matchPatterns:_de,defaultMatchWidth:"wide",parsePatterns:Cde,defaultParseWidth:"any"}),dayPeriod:wi({matchPatterns:kde,defaultMatchWidth:"any",parsePatterns:Ede,defaultParseWidth:"any"})},ot={code:"es",formatDistance:tde,formatLong:ade,formatRelative:lde,localize:gde,match:Pde,options:{weekStartsOn:1,firstWeekContainsDate:1}},Ode=()=>{const{user:e}=ut(),{profile:t}=ow(),[r,n]=p.useState(null),[a,i]=p.useState(!0),o=()=>{const f=new Date().getHours();return f<12?"Buenos das":f<20?"Buenas tardes":"Buenas noches"},l=()=>{const f=new Date().getHours();return f>=6&&f<20?s.jsx(_g,{className:"h-5 w-5 text-yellow-500"}):s.jsx(lu,{className:"h-5 w-5 text-blue-400"})};p.useEffect(()=>{(async()=>{if(e)try{const d=ye(new Date,"yyyy-MM-dd"),[h,m,x]=await Promise.all([H.from("jarvis_emails_cache").select("id",{count:"exact"}).eq("user_id",e.id).eq("is_read",!1),H.from("jarvis_whatsapp_cache").select("id",{count:"exact"}).eq("user_id",e.id).eq("is_read",!1),H.from("tasks").select("id",{count:"exact"}).eq("user_id",e.id).eq("completed",!1)]);n({unreadEmails:h.count||0,unreadWhatsApp:m.count||0,eventsToday:0,pendingTasks:x.count||0,notifications:0})}catch(d){console.error("Error fetching day summary:",d)}finally{i(!1)}})()},[e]);const c=(t==null?void 0:t.name)||"Usuario",u=ye(new Date,"EEEE, d 'de' MMMM",{locale:ot});return a?s.jsxs(X,{className:"border-primary/20 bg-gradient-to-br from-primary/5 to-transparent",children:[s.jsxs(pe,{className:"pb-2",children:[s.jsx(Bn,{className:"h-8 w-64"}),s.jsx(Bn,{className:"h-4 w-48 mt-2"})]}),s.jsx(Y,{children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(Bn,{className:"h-8 w-32"}),s.jsx(Bn,{className:"h-8 w-28"}),s.jsx(Bn,{className:"h-8 w-36"})]})})]}):s.jsxs(X,{className:"border-primary/20 bg-gradient-to-br from-primary/5 to-transparent overflow-hidden",children:[s.jsx(pe,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[l(),s.jsxs("div",{children:[s.jsxs(ge,{className:"text-xl sm:text-2xl font-bold",children:[o(),", ",c]}),s.jsx("p",{className:"text-sm text-muted-foreground capitalize mt-0.5",children:u})]})]}),s.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[s.jsx(Pt,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-mono",children:ye(new Date,"HH:mm")})]})]})}),s.jsx(Y,{className:"pt-0",children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[(r==null?void 0:r.pendingTasks)&&r.pendingTasks>0&&s.jsxs(Q,{variant:"outline",className:"gap-1.5 py-1.5 px-3 bg-orange-500/10 border-orange-500/30 text-orange-600 dark:text-orange-400",children:[s.jsx(Gs,{className:"h-3.5 w-3.5"}),r.pendingTasks," tareas pendientes"]}),(r==null?void 0:r.unreadEmails)&&r.unreadEmails>0&&s.jsxs(Q,{variant:"outline",className:"gap-1.5 py-1.5 px-3 bg-blue-500/10 border-blue-500/30 text-blue-600 dark:text-blue-400",children:[s.jsx(Cm,{className:"h-3.5 w-3.5"}),r.unreadEmails," emails sin leer"]}),(r==null?void 0:r.unreadWhatsApp)&&r.unreadWhatsApp>0&&s.jsxs(Q,{variant:"outline",className:"gap-1.5 py-1.5 px-3 bg-green-500/10 border-green-500/30 text-green-600 dark:text-green-400",children:[s.jsx(ja,{className:"h-3.5 w-3.5"}),r.unreadWhatsApp," WhatsApp sin leer"]}),(r==null?void 0:r.eventsToday)&&r.eventsToday>0&&s.jsxs(Q,{variant:"outline",className:"gap-1.5 py-1.5 px-3 bg-purple-500/10 border-purple-500/30 text-purple-600 dark:text-purple-400",children:[s.jsx(Jt,{className:"h-3.5 w-3.5"}),r.eventsToday," eventos hoy"]}),r&&r.pendingTasks===0&&r.unreadEmails===0&&r.unreadWhatsApp===0&&s.jsx(Q,{variant:"outline",className:"gap-1.5 py-1.5 px-3 bg-green-500/10 border-green-500/30 text-green-600 dark:text-green-400",children:" Todo al da"})]})})]})};function QB(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function Ade(e,t){return e.reduce((r,n,a)=>{const i=t.get(n);return i&&(r[a]=i),r},Array(e.length))}function Vx(e){return e!==null&&e>=0}function Tde(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Mde(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const pE=e=>{let{rects:t,activeIndex:r,overIndex:n,index:a}=e;const i=QB(t,n,r),o=t[a],l=i[a];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},ZB="Sortable",ez=D.createContext({activeIndex:-1,containerId:ZB,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:pE,disabled:{draggable:!1,droppable:!1}});function Rde(e){let{children:t,id:r,items:n,strategy:a=pE,disabled:i=!1}=e;const{active:o,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:f}=cF(),d=Rg(ZB,r),h=l.rect!==null,m=p.useMemo(()=>n.map(S=>typeof S=="object"&&"id"in S?S.id:S),[n]),x=o!=null,g=o?m.indexOf(o.id):-1,v=u?m.indexOf(u.id):-1,w=p.useRef(m),b=!Tde(m,w.current),y=v!==-1&&g===-1||b,N=Mde(i);si(()=>{b&&x&&f(m)},[b,m,x,f]),p.useEffect(()=>{w.current=m},[m]);const j=p.useMemo(()=>({activeIndex:g,containerId:d,disabled:N,disableTransforms:y,items:m,overIndex:v,useDragOverlay:h,sortedRects:Ade(m,c),strategy:a}),[g,d,N.draggable,N.droppable,y,m,v,c,h,a]);return D.createElement(ez.Provider,{value:j},t)}const Ide=e=>{let{id:t,items:r,activeIndex:n,overIndex:a}=e;return QB(r,n,a).indexOf(t)},Dde=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:a,items:i,newIndex:o,previousItems:l,previousContainerId:c,transition:u}=e;return!u||!n||l!==i&&a===o?!1:r?!0:o!==a&&t===c},$de={duration:200,easing:"ease"},tz="transform",Lde=Bl.Transition.toString({property:tz,duration:0,easing:"linear"}),Fde={roleDescription:"sortable"};function Bde(e){let{disabled:t,index:r,node:n,rect:a}=e;const[i,o]=p.useState(null),l=p.useRef(r);return si(()=>{if(!t&&r!==l.current&&n.current){const c=a.current;if(c){const u=oh(n.current,{ignoreTransform:!0}),f={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(f.x||f.y)&&o(f)}}r!==l.current&&(l.current=r)},[t,r,n,a]),p.useEffect(()=>{i&&o(null)},[i]),i}function zde(e){let{animateLayoutChanges:t=Dde,attributes:r,disabled:n,data:a,getNewIndex:i=Ide,id:o,strategy:l,resizeObserverConfig:c,transition:u=$de}=e;const{items:f,containerId:d,activeIndex:h,disabled:m,disableTransforms:x,sortedRects:g,overIndex:v,useDragOverlay:w,strategy:b}=p.useContext(ez),y=Ude(n,m),N=f.indexOf(o),j=p.useMemo(()=>({sortable:{containerId:d,index:N,items:f},...a}),[d,a,N,f]),S=p.useMemo(()=>f.slice(f.indexOf(o)),[f,o]),{rect:_,node:k,isOver:E,setNodeRef:A}=uF({id:o,data:j,disabled:y.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...c}}),{active:C,activatorEvent:O,activeNodeRect:$,attributes:R,setNodeRef:T,listeners:L,isDragging:I,over:P,setActivatorNodeRef:M,transform:F}=Kse({id:o,data:j,attributes:{...Fde,...r},disabled:y.draggable}),B=One(A,T),q=!!C,J=q&&!x&&Vx(h)&&Vx(v),W=!w&&I,ne=W&&J?F:null,ie=J?ne??(l??b)({rects:g,activeNodeRect:$,activeIndex:h,overIndex:v,index:N}):null,ce=Vx(h)&&Vx(v)?i({id:o,items:f,activeIndex:h,overIndex:v}):N,re=C==null?void 0:C.id,se=p.useRef({activeId:re,items:f,newIndex:ce,containerId:d}),me=f!==se.current.items,te=t({active:C,containerId:d,isDragging:I,isSorting:q,id:o,index:N,items:f,newIndex:se.current.newIndex,previousItems:se.current.items,previousContainerId:se.current.containerId,transition:u,wasDragging:se.current.activeId!=null}),Ee=Bde({disabled:!te,index:N,node:k,rect:_});return p.useEffect(()=>{q&&se.current.newIndex!==ce&&(se.current.newIndex=ce),d!==se.current.containerId&&(se.current.containerId=d),f!==se.current.items&&(se.current.items=f)},[q,ce,d,f]),p.useEffect(()=>{if(re===se.current.activeId)return;if(re!=null&&se.current.activeId==null){se.current.activeId=re;return}const Be=setTimeout(()=>{se.current.activeId=re},50);return()=>clearTimeout(Be)},[re]),{active:C,activeIndex:h,attributes:R,data:j,rect:_,index:N,newIndex:ce,items:f,isOver:E,isSorting:q,isDragging:I,listeners:L,node:k,overIndex:v,over:P,setNodeRef:B,setActivatorNodeRef:M,setDroppableNodeRef:A,setDraggableNodeRef:T,transform:Ee??ie,transition:je()};function je(){if(Ee||me&&se.current.newIndex===N)return Lde;if(!(W&&!B0(O)||!u)&&(q||te))return Bl.Transition.toString({...u,property:tz})}}function Ude(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(n=e==null?void 0:e.droppable)!=null?n:t.droppable}}Ct.Down,Ct.Right,Ct.Up,Ct.Left;var d_=["Enter"," "],Wde=["ArrowDown","PageUp","Home"],rz=["ArrowUp","PageDown","End"],qde=[...Wde,...rz],Vde={ltr:[...d_,"ArrowRight"],rtl:[...d_,"ArrowLeft"]},Hde={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Bg="Menu",[_p,Gde,Kde]=jg(Bg),[Ou,nz]=en(Bg,[Kde,Gl,Ql]),dw=Gl(),sz=Ql(),[Yde,Au]=Ou(Bg),[Xde,zg]=Ou(Bg),az=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=dw(t),[c,u]=p.useState(null),f=p.useRef(!1),d=Gr(i),h=Yl(a);return p.useEffect(()=>{const m=()=>{f.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>f.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),s.jsx(C0,{...l,children:s.jsx(Yde,{scope:t,open:r,onOpenChange:d,content:c,onContentChange:u,children:s.jsx(Xde,{scope:t,onClose:p.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:f,dir:h,modal:o,children:n})})})};az.displayName=Bg;var Jde="MenuAnchor",gE=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=dw(r);return s.jsx(Pg,{...a,...n,ref:t})});gE.displayName=Jde;var xE="MenuPortal",[Qde,iz]=Ou(xE,{forceMount:void 0}),oz=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=Au(xE,t);return s.jsx(Qde,{scope:t,forceMount:r,children:s.jsx(cn,{present:r||i.open,children:s.jsx(Yf,{asChild:!0,container:a,children:n})})})};oz.displayName=xE;var Na="MenuContent",[Zde,vE]=Ou(Na),lz=p.forwardRef((e,t)=>{const r=iz(Na,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Au(Na,e.__scopeMenu),o=zg(Na,e.__scopeMenu);return s.jsx(_p.Provider,{scope:e.__scopeMenu,children:s.jsx(cn,{present:n||i.open,children:s.jsx(_p.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(efe,{...a,ref:t}):s.jsx(tfe,{...a,ref:t})})})})}),efe=p.forwardRef((e,t)=>{const r=Au(Na,e.__scopeMenu),n=p.useRef(null),a=We(t,n);return p.useEffect(()=>{const i=n.current;if(i)return K0(i)},[]),s.jsx(yE,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:fe(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),tfe=p.forwardRef((e,t)=>{const r=Au(Na,e.__scopeMenu);return s.jsx(yE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),rfe=Dl("MenuContent.ScrollLock"),yE=p.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:m,disableOutsideScroll:x,...g}=e,v=Au(Na,r),w=zg(Na,r),b=dw(r),y=sz(r),N=Gde(r),[j,S]=p.useState(null),_=p.useRef(null),k=We(t,_,v.onContentChange),E=p.useRef(0),A=p.useRef(""),C=p.useRef(0),O=p.useRef(null),$=p.useRef("right"),R=p.useRef(0),T=x?Lg:p.Fragment,L=x?{as:rfe,allowPinchZoom:!0}:void 0,I=M=>{var ie,ce;const F=A.current+M,B=N().filter(re=>!re.disabled),q=document.activeElement,J=(ie=B.find(re=>re.ref.current===q))==null?void 0:ie.textValue,W=B.map(re=>re.textValue),ne=mfe(W,F,J),he=(ce=B.find(re=>re.textValue===ne))==null?void 0:ce.ref.current;(function re(se){A.current=se,window.clearTimeout(E.current),se!==""&&(E.current=window.setTimeout(()=>re(""),1e3))})(F),he&&setTimeout(()=>he.focus())};p.useEffect(()=>()=>window.clearTimeout(E.current),[]),H0();const P=p.useCallback(M=>{var B,q;return $.current===((B=O.current)==null?void 0:B.side)&&gfe(M,(q=O.current)==null?void 0:q.area)},[]);return s.jsx(Zde,{scope:r,searchRef:A,onItemEnter:p.useCallback(M=>{P(M)&&M.preventDefault()},[P]),onItemLeave:p.useCallback(M=>{var F;P(M)||((F=_.current)==null||F.focus(),S(null))},[P]),onTriggerLeave:p.useCallback(M=>{P(M)&&M.preventDefault()},[P]),pointerGraceTimerRef:C,onPointerGraceIntentChange:p.useCallback(M=>{O.current=M},[]),children:s.jsx(T,{...L,children:s.jsx($g,{asChild:!0,trapped:a,onMountAutoFocus:fe(i,M=>{var F;M.preventDefault(),(F=_.current)==null||F.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(ku,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:m,children:s.jsx(sw,{asChild:!0,...y,dir:w.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:S,onEntryFocus:fe(c,M=>{w.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(k0,{role:"menu","aria-orientation":"vertical","data-state":Sz(v.open),"data-radix-menu-content":"",dir:w.dir,...b,...g,ref:k,style:{outline:"none",...g.style},onKeyDown:fe(g.onKeyDown,M=>{const B=M.target.closest("[data-radix-menu-content]")===M.currentTarget,q=M.ctrlKey||M.altKey||M.metaKey,J=M.key.length===1;B&&(M.key==="Tab"&&M.preventDefault(),!q&&J&&I(M.key));const W=_.current;if(M.target!==W||!qde.includes(M.key))return;M.preventDefault();const he=N().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);rz.includes(M.key)&&he.reverse(),ffe(he)}),onBlur:fe(e.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(E.current),A.current="")}),onPointerMove:fe(e.onPointerMove,Cp(M=>{const F=M.target,B=R.current!==M.clientX;if(M.currentTarget.contains(F)&&B){const q=M.clientX>R.current?"right":"left";$.current=q,R.current=M.clientX}}))})})})})})})});lz.displayName=Na;var nfe="MenuGroup",bE=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ne.div,{role:"group",...n,ref:t})});bE.displayName=nfe;var sfe="MenuLabel",cz=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ne.div,{...n,ref:t})});cz.displayName=sfe;var zy="MenuItem",c4="menu.itemSelect",fw=p.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=p.useRef(null),o=zg(zy,e.__scopeMenu),l=vE(zy,e.__scopeMenu),c=We(t,i),u=p.useRef(!1),f=()=>{const d=i.current;if(!r&&d){const h=new CustomEvent(c4,{bubbles:!0,cancelable:!0});d.addEventListener(c4,m=>n==null?void 0:n(m),{once:!0}),UC(d,h),h.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(uz,{...a,ref:c,disabled:r,onClick:fe(e.onClick,f),onPointerDown:d=>{var h;(h=e.onPointerDown)==null||h.call(e,d),u.current=!0},onPointerUp:fe(e.onPointerUp,d=>{var h;u.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:fe(e.onKeyDown,d=>{const h=l.searchRef.current!=="";r||h&&d.key===" "||d_.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});fw.displayName=zy;var uz=p.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=vE(zy,r),l=sz(r),c=p.useRef(null),u=We(t,c),[f,d]=p.useState(!1),[h,m]=p.useState("");return p.useEffect(()=>{const x=c.current;x&&m((x.textContent??"").trim())},[i.children]),s.jsx(_p.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:s.jsx(aw,{asChild:!0,...l,focusable:!n,children:s.jsx(Ne.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:fe(e.onPointerMove,Cp(x=>{n?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:fe(e.onPointerLeave,Cp(x=>o.onItemLeave(x))),onFocus:fe(e.onFocus,()=>d(!0)),onBlur:fe(e.onBlur,()=>d(!1))})})})}),afe="MenuCheckboxItem",dz=p.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(gz,{scope:e.__scopeMenu,checked:r,children:s.jsx(fw,{role:"menuitemcheckbox","aria-checked":Uy(r)?"mixed":r,...a,ref:t,"data-state":jE(r),onSelect:fe(a.onSelect,()=>n==null?void 0:n(Uy(r)?!0:!r),{checkForDefaultPrevented:!1})})})});dz.displayName=afe;var fz="MenuRadioGroup",[ife,ofe]=Ou(fz,{value:void 0,onValueChange:()=>{}}),hz=p.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=Gr(n);return s.jsx(ife,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(bE,{...a,ref:t})})});hz.displayName=fz;var mz="MenuRadioItem",pz=p.forwardRef((e,t)=>{const{value:r,...n}=e,a=ofe(mz,e.__scopeMenu),i=r===a.value;return s.jsx(gz,{scope:e.__scopeMenu,checked:i,children:s.jsx(fw,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":jE(i),onSelect:fe(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});pz.displayName=mz;var wE="MenuItemIndicator",[gz,lfe]=Ou(wE,{checked:!1}),xz=p.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=lfe(wE,r);return s.jsx(cn,{present:n||Uy(i.checked)||i.checked===!0,children:s.jsx(Ne.span,{...a,ref:t,"data-state":jE(i.checked)})})});xz.displayName=wE;var cfe="MenuSeparator",vz=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ne.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});vz.displayName=cfe;var ufe="MenuArrow",yz=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=dw(r);return s.jsx(E0,{...a,...n,ref:t})});yz.displayName=ufe;var dfe="MenuSub",[B8e,bz]=Ou(dfe),hm="MenuSubTrigger",wz=p.forwardRef((e,t)=>{const r=Au(hm,e.__scopeMenu),n=zg(hm,e.__scopeMenu),a=bz(hm,e.__scopeMenu),i=vE(hm,e.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},f=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>f,[f]),p.useEffect(()=>{const d=l.current;return()=>{window.clearTimeout(d),c(null)}},[l,c]),s.jsx(gE,{asChild:!0,...u,children:s.jsx(uz,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":Sz(r.open),...e,ref:g0(t,a.onTriggerChange),onClick:d=>{var h;(h=e.onClick)==null||h.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:fe(e.onPointerMove,Cp(d=>{i.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:fe(e.onPointerLeave,Cp(d=>{var m,x;f();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const g=(x=r.content)==null?void 0:x.dataset.side,v=g==="right",w=v?-5:5,b=h[v?"left":"right"],y=h[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:d.clientX+w,y:d.clientY},{x:b,y:h.top},{x:y,y:h.top},{x:y,y:h.bottom},{x:b,y:h.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(d),d.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:fe(e.onKeyDown,d=>{var m;const h=i.searchRef.current!=="";e.disabled||h&&d.key===" "||Vde[n.dir].includes(d.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),d.preventDefault())})})})});wz.displayName=hm;var jz="MenuSubContent",Nz=p.forwardRef((e,t)=>{const r=iz(Na,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Au(Na,e.__scopeMenu),o=zg(Na,e.__scopeMenu),l=bz(jz,e.__scopeMenu),c=p.useRef(null),u=We(t,c);return s.jsx(_p.Provider,{scope:e.__scopeMenu,children:s.jsx(cn,{present:n||i.open,children:s.jsx(_p.Slot,{scope:e.__scopeMenu,children:s.jsx(yE,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var d;o.isUsingKeyboardRef.current&&((d=c.current)==null||d.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:fe(e.onFocusOutside,f=>{f.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:fe(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:fe(e.onKeyDown,f=>{var m;const d=f.currentTarget.contains(f.target),h=Hde[o.dir].includes(f.key);d&&h&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),f.preventDefault())})})})})})});Nz.displayName=jz;function Sz(e){return e?"open":"closed"}function Uy(e){return e==="indeterminate"}function jE(e){return Uy(e)?"indeterminate":e?"checked":"unchecked"}function ffe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function hfe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function mfe(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=hfe(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function pfe(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,f=l.y,d=c.x,h=c.y;f>n!=h>n&&r<(d-u)*(n-f)/(h-f)+u&&(a=!a)}return a}function gfe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return pfe(r,t)}function Cp(e){return t=>t.pointerType==="mouse"?e(t):void 0}var xfe=az,vfe=gE,yfe=oz,bfe=lz,wfe=bE,jfe=cz,Nfe=fw,Sfe=dz,_fe=hz,Cfe=pz,kfe=xz,Efe=vz,Pfe=yz,Ofe=wz,Afe=Nz,hw="DropdownMenu",[Tfe]=en(hw,[nz]),ys=nz(),[Mfe,_z]=Tfe(hw),Cz=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=ys(t),u=p.useRef(null),[f,d]=Wn({prop:a,defaultProp:i??!1,onChange:o,caller:hw});return s.jsx(Mfe,{scope:t,triggerId:Ys(),triggerRef:u,contentId:Ys(),open:f,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(h=>!h),[d]),modal:l,children:s.jsx(xfe,{...c,open:f,onOpenChange:d,dir:n,modal:l,children:r})})};Cz.displayName=hw;var kz="DropdownMenuTrigger",Ez=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=_z(kz,r),o=ys(r);return s.jsx(vfe,{asChild:!0,...o,children:s.jsx(Ne.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:g0(t,i.triggerRef),onPointerDown:fe(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:fe(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Ez.displayName=kz;var Rfe="DropdownMenuPortal",Pz=e=>{const{__scopeDropdownMenu:t,...r}=e,n=ys(t);return s.jsx(yfe,{...n,...r})};Pz.displayName=Rfe;var Oz="DropdownMenuContent",Az=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=_z(Oz,r),i=ys(r),o=p.useRef(!1);return s.jsx(bfe,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:fe(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:fe(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!a.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Az.displayName=Oz;var Ife="DropdownMenuGroup",Dfe=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ys(r);return s.jsx(wfe,{...a,...n,ref:t})});Dfe.displayName=Ife;var $fe="DropdownMenuLabel",Tz=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ys(r);return s.jsx(jfe,{...a,...n,ref:t})});Tz.displayName=$fe;var Lfe="DropdownMenuItem",Mz=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ys(r);return s.jsx(Nfe,{...a,...n,ref:t})});Mz.displayName=Lfe;var Ffe="DropdownMenuCheckboxItem",Rz=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ys(r);return s.jsx(Sfe,{...a,...n,ref:t})});Rz.displayName=Ffe;var Bfe="DropdownMenuRadioGroup",zfe=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ys(r);return s.jsx(_fe,{...a,...n,ref:t})});zfe.displayName=Bfe;var Ufe="DropdownMenuRadioItem",Iz=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ys(r);return s.jsx(Cfe,{...a,...n,ref:t})});Iz.displayName=Ufe;var Wfe="DropdownMenuItemIndicator",Dz=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ys(r);return s.jsx(kfe,{...a,...n,ref:t})});Dz.displayName=Wfe;var qfe="DropdownMenuSeparator",$z=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ys(r);return s.jsx(Efe,{...a,...n,ref:t})});$z.displayName=qfe;var Vfe="DropdownMenuArrow",Hfe=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ys(r);return s.jsx(Pfe,{...a,...n,ref:t})});Hfe.displayName=Vfe;var Gfe="DropdownMenuSubTrigger",Lz=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ys(r);return s.jsx(Ofe,{...a,...n,ref:t})});Lz.displayName=Gfe;var Kfe="DropdownMenuSubContent",Fz=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ys(r);return s.jsx(Afe,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Fz.displayName=Kfe;var Yfe=Cz,Xfe=Ez,Jfe=Pz,Bz=Az,zz=Tz,Uz=Mz,Wz=Rz,qz=Iz,Vz=Dz,Hz=$z,Gz=Lz,Kz=Fz;const mw=Yfe,pw=Xfe,Qfe=p.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(Gz,{ref:a,className:z("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(Zs,{className:"ml-auto h-4 w-4"})]}));Qfe.displayName=Gz.displayName;const Zfe=p.forwardRef(({className:e,...t},r)=>s.jsx(Kz,{ref:r,className:z("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Zfe.displayName=Kz.displayName;const Ug=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(Jfe,{children:s.jsx(Bz,{ref:n,sideOffset:t,className:z("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Ug.displayName=Bz.displayName;const os=p.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(Uz,{ref:n,className:z("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));os.displayName=Uz.displayName;const f_=p.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(Wz,{ref:a,className:z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Vz,{children:s.jsx(gt,{className:"h-4 w-4"})})}),t]}));f_.displayName=Wz.displayName;const ehe=p.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(qz,{ref:n,className:z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Vz,{children:s.jsx(J$,{className:"h-2 w-2 fill-current"})})}),t]}));ehe.displayName=qz.displayName;const Wy=p.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(zz,{ref:n,className:z("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Wy.displayName=zz.displayName;const kp=p.forwardRef(({className:e,...t},r)=>s.jsx(Hz,{ref:r,className:z("-mx-1 my-1 h-px bg-muted",e),...t}));kp.displayName=Hz.displayName;const _1={compact:{label:"Compacto",icon:lL},normal:{label:"Normal",icon:tk},large:{label:"Grande",icon:oL}},u4={"1/3":"1/3","1/2":"1/2","2/3":"2/3",full:"Completo"},the=({id:e,children:t,className:r,size:n="normal",width:a="full",onSizeChange:i,onWidthChange:o,onHide:l})=>{const{attributes:c,listeners:u,setNodeRef:f,setActivatorNodeRef:d,transform:h,transition:m,isDragging:x,isOver:g}=zde({id:e}),v={transform:Bl.Transform.toString(h),transition:m||"transform 250ms cubic-bezier(0.25, 1, 0.5, 1)"},w={compact:"[&_.card-content]:max-h-[150px] [&_.card-content]:overflow-hidden",normal:"",large:"[&_.card-content]:min-h-[300px]"};return s.jsxs("div",{ref:f,style:v,className:z("relative group transition-all duration-200",w[n],x&&"opacity-70 scale-[1.02] z-50 shadow-2xl shadow-primary/20",g&&!x&&"ring-2 ring-primary/30 ring-offset-2 ring-offset-background rounded-lg",r),children:[s.jsxs("div",{className:z("absolute -left-3 top-4 flex flex-col gap-1 opacity-0 group-hover:opacity-100 transition-all duration-200 z-10",x&&"opacity-100"),children:[s.jsx("div",{ref:d,...c,...u,className:z("cursor-grab active:cursor-grabbing p-1.5 rounded-md","bg-background/90 backdrop-blur-sm border border-border/50","hover:bg-primary/10 hover:border-primary/30 hover:scale-110","shadow-sm transition-all duration-200",x&&"scale-110 bg-primary/20 border-primary/50"),children:s.jsx(aS,{className:z("w-4 h-4 transition-colors",x?"text-primary":"text-muted-foreground")})}),(i||o||l)&&s.jsxs(mw,{children:[s.jsx(pw,{asChild:!0,children:s.jsxs(U,{variant:"ghost",size:"icon",className:z("h-7 w-7 p-0","bg-background/90 backdrop-blur-sm border border-border/50","hover:bg-primary/10 hover:border-primary/30","shadow-sm"),children:[n==="compact"&&s.jsx(lL,{className:"w-3.5 h-3.5 text-muted-foreground"}),n==="normal"&&s.jsx(tk,{className:"w-3.5 h-3.5 text-muted-foreground"}),n==="large"&&s.jsx(oL,{className:"w-3.5 h-3.5 text-muted-foreground"})]})}),s.jsxs(Ug,{align:"start",className:"w-40",children:[i&&s.jsxs(s.Fragment,{children:[s.jsx(Wy,{className:"text-xs",children:"Altura"}),Object.keys(_1).map(b=>{const y=_1[b].icon;return s.jsxs(os,{onClick:()=>i(b),className:z(n===b&&"bg-primary/10"),children:[s.jsx(y,{className:"w-4 h-4 mr-2"}),_1[b].label]},b)})]}),i&&o&&s.jsx(kp,{}),o&&s.jsxs(s.Fragment,{children:[s.jsx(Wy,{className:"text-xs",children:"Ancho"}),Object.keys(u4).map(b=>s.jsxs(os,{onClick:()=>o(b),className:z(a===b&&"bg-primary/10"),children:[s.jsx(mY,{className:"w-4 h-4 mr-2"}),u4[b]]},b))]}),l&&s.jsxs(s.Fragment,{children:[s.jsx(kp,{}),s.jsxs(os,{onClick:l,className:"text-destructive focus:text-destructive",children:[s.jsx(y0,{className:"w-4 h-4 mr-2"}),"Ocultar tarjeta"]})]})]})]})]}),s.jsx("div",{className:z("transition-transform duration-200",x&&"rotate-[1deg]"),children:t})]})},d4=({id:e,items:t,children:r,className:n})=>{const{setNodeRef:a,isOver:i,active:o}=uF({id:e}),l=o==null?void 0:o.id,c=l&&!t.includes(l);return s.jsxs("div",{ref:a,className:z("min-h-[200px] rounded-xl p-2 -m-2 transition-all duration-300",i&&c&&["bg-gradient-to-b from-primary/5 to-primary/10","ring-2 ring-primary/30 ring-dashed","shadow-inner shadow-primary/5"],i&&!c&&"bg-muted/30",n),children:[s.jsx(Rde,{items:t,strategy:pE,children:r}),i&&c&&s.jsx("div",{className:"h-2 bg-primary/20 rounded-full animate-pulse mx-4 mt-4"})]})},f4={energy:3,mood:3,focus:3,availableTime:8,interruptionRisk:"low",dayMode:"balanced"},NE=()=>{const{user:e}=ut(),[t,r]=p.useState(f4),[n,a]=p.useState(f4),[i,o]=p.useState(!0),[l,c]=p.useState(!1),[u,f]=p.useState(!1),d=Tm();p.useEffect(()=>{e&&h()},[e]);const h=async()=>{if(e){o(!0);try{const{data:g,error:v}=await H.from("check_ins").select("*").eq("user_id",e.id).eq("date",d).maybeSingle();if(v)throw v;if(g){const w={energy:g.energy,mood:g.mood,focus:g.focus,availableTime:g.available_time,interruptionRisk:g.interruption_risk,dayMode:g.day_mode};r(w),a(w),f(!0)}else f(!1)}catch(g){console.error("Error fetching check-in:",g)}finally{o(!1)}}},m=p.useCallback(g=>{a(g)},[]);return{checkIn:u?t:n,draftCheckIn:n,setCheckIn:m,registerCheckIn:async()=>{if(e){c(!0);try{const{error:g}=await H.from("check_ins").upsert({user_id:e.id,date:d,energy:n.energy,mood:n.mood,focus:n.focus,available_time:n.availableTime,interruption_risk:n.interruptionRisk,day_mode:n.dayMode},{onConflict:"user_id,date"});if(g)throw g;r(n),f(!0),V.success("Check-in registrado correctamente")}catch(g){console.error("Error saving check-in:",g),V.error("Error al registrar el check-in")}finally{c(!1)}}},loading:i,saving:l,isRegistered:u}},gw=()=>{const{user:e}=ut(),[t,r]=p.useState([]),[n,a]=p.useState(!0);p.useEffect(()=>{e&&i()},[e]);const i=async()=>{if(e){a(!0);try{const{data:d,error:h}=await H.from("tasks").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(h)throw h;r(d.map(m=>({id:m.id,title:m.title,type:m.type,priority:m.priority,duration:m.duration,completed:m.completed,createdAt:new Date(m.created_at),completedAt:m.completed_at?new Date(m.completed_at):void 0})))}catch(d){console.error("Error fetching tasks:",d),V.error("Error al cargar tareas")}finally{a(!1)}}},o=async d=>{if(e)try{const{data:h,error:m}=await H.from("tasks").insert({user_id:e.id,title:d.title,type:d.type,priority:d.priority,duration:d.duration,completed:!1}).select().single();if(m)throw m;r(x=>[{id:h.id,title:h.title,type:h.type,priority:h.priority,duration:h.duration,completed:h.completed,createdAt:new Date(h.created_at)},...x]),V.success("Tarea creada")}catch(h){console.error("Error adding task:",h),V.error("Error al crear tarea")}},l=async d=>{const h=t.find(x=>x.id===d);if(!h)return;const m=!h.completed;try{const{error:x}=await H.from("tasks").update({completed:m,completed_at:m?new Date().toISOString():null}).eq("id",d);if(x)throw x;r(g=>g.map(v=>v.id===d?{...v,completed:m,completedAt:m?new Date:void 0}:v))}catch(x){console.error("Error toggling task:",x),V.error("Error al actualizar tarea")}},c=async d=>{try{const{error:h}=await H.from("tasks").delete().eq("id",d);if(h)throw h;r(m=>m.filter(x=>x.id!==d)),V.success("Tarea eliminada")}catch(h){console.error("Error deleting task:",h),V.error("Error al eliminar tarea")}},u=t.filter(d=>!d.completed),f=t.filter(d=>d.completed);return{tasks:t,pendingTasks:u,completedTasks:f,loading:n,addTask:o,toggleComplete:l,deleteTask:c,refetch:i}},Wg=()=>{const{session:e,user:t}=ut(),[r,n]=p.useState([]),[a,i]=p.useState(!1),[o,l]=p.useState(!1),[c,u]=p.useState(!1),[f,d]=p.useState(!1),[h,m]=p.useState(null),x=p.useCallback(()=>{try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return"Europe/Madrid"}},[]),g=p.useCallback(async()=>{if(!(e!=null&&e.access_token))return u(!1),!1;try{const{data:j,error:S}=await H.functions.invoke("icloud-calendar",{body:{action:"check"},headers:{Authorization:`Bearer ${e.access_token}`,"x-user-timezone":x()}});if(S)return console.error("iCloud check error:",S),u(!1),!1;const _=(j==null?void 0:j.connected)??!1;return u(_),_}catch(j){return console.error("iCloud connection check failed:",j),u(!1),!1}},[e==null?void 0:e.access_token,x]);p.useEffect(()=>{t&&g()},[t,g]);const v=p.useCallback(async(j,S,_=!1)=>{if(!(e!=null&&e.access_token)){n([]);return}_?l(!0):i(!0);try{const k=j?new Date(j):new Date;k.setHours(0,0,0,0);const E=S?new Date(S):new Date(k);E.setHours(23,59,59,999);const{data:A,error:C}=await H.functions.invoke("icloud-calendar",{body:{action:"fetch",startDate:k.toISOString(),endDate:E.toISOString()},headers:{Authorization:`Bearer ${e.access_token}`,"x-user-timezone":x()}});if(C){console.error("iCloud fetch error:",C),_||V.error("Error al cargar eventos del calendario");return}if(!(A!=null&&A.connected)&&(A!=null&&A.message)){u(!1),d(!0);return}const O=((A==null?void 0:A.events)||[]).map($=>({id:$.id,title:$.title,date:k.toISOString().split("T")[0],time:$.time,duration:$.duration,type:$.type,location:$.location,allDay:$.allDay}));n(O),u(!0),d(!1),m(new Date)}catch(k){console.error("iCloud fetch failed:",k),_||V.error("Error al cargar eventos del calendario")}finally{i(!1),l(!1)}},[e==null?void 0:e.access_token,x]),w=p.useCallback(async j=>{if(!(e!=null&&e.access_token))return V.error("Conecta tu calendario primero"),null;try{const S=j.date||new Date().toISOString().split("T")[0],_=new Date(`${S}T${j.time}:00`),k=new Date(_.getTime()+j.duration*60*1e3),{data:E,error:A}=await H.functions.invoke("icloud-calendar",{body:{action:"create",title:j.title,start:_.toISOString(),end:k.toISOString(),description:j.description,allDay:!1},headers:{Authorization:`Bearer ${e.access_token}`,"x-user-timezone":x()}});return A?(console.error("iCloud create error:",A),V.error("Error al crear evento"),null):(V.success("Evento creado en el calendario"),await v(),E)}catch(S){return console.error("iCloud create failed:",S),V.error("Error al crear evento"),null}},[e==null?void 0:e.access_token,x,v]),b=p.useCallback(async j=>(V.info("La edicin de eventos de iCloud estar disponible prximamente"),null),[]),y=p.useCallback(async j=>(V.info("La eliminacin de eventos de iCloud estar disponible prximamente"),!1),[]),N=p.useCallback(async()=>{V.info("Ve a Ajustes para reconectar tu calendario de iCloud")},[]);return{events:r,loading:a,syncing:o,connected:c,needsReauth:f,lastSyncTime:h,fetchEvents:v,createEvent:w,updateEvent:b,deleteEvent:y,checkConnection:g,reconnectGoogle:N}},Yz=()=>{const[e,t]=p.useState(null),[r,n]=p.useState(!1),[a,i]=p.useState(null),o=p.useCallback(async(c,u,f,d)=>{n(!0),i(null);try{const{data:h,error:m}=await H.functions.invoke("jarvis-core",{body:{checkIn:c,tasks:u,calendarEvents:f,currentTime:d}});if(m)throw m;if(h.error)throw new Error(h.error);const x=rhe(h.plan);return t(x),x}catch(h){const m=h instanceof Error?h.message:"Error al generar el plan";return console.error("JARVIS Core error:",h),i(m),m.includes("429")||m.includes("lmite")?V.error("Lmite de uso alcanzado",{description:"Intenta de nuevo en unos minutos"}):m.includes("402")||m.includes("crditos")?V.error("Crditos agotados",{description:"Recarga tu cuenta para continuar"}):V.error("Error al generar el plan",{description:m}),null}finally{n(!1)}},[]),l=p.useCallback(()=>{t(null),i(null)},[]);return{plan:e,loading:r,error:a,generatePlan:o,clearPlan:l}};function rhe(e){var t,r,n,a;return{greeting:e.greeting||"Buenos das!",diagnosis:e.diagnosis||{currentState:"Estado no determinado",dayMode:"balanced",modeReason:"Modo por defecto",capacityLevel:"media",riskFactors:[],opportunities:[]},decisions:e.decisions||[],secretaryActions:e.secretaryActions||[],timeBlocks:e.timeBlocks||[],nextSteps:e.nextSteps||{immediate:"Revisa tu plan del da",today:"Completa las tareas prioritarias",evening:"Reflexiona sobre lo logrado"},tips:e.tips||[],warnings:e.warnings||((t=e.analysis)==null?void 0:t.warnings)||[],analysis:e.analysis||{capacityLevel:((r=e.diagnosis)==null?void 0:r.capacityLevel)||"media",recommendation:((n=e.diagnosis)==null?void 0:n.currentState)||"",warnings:e.warnings||[]},eveningReflection:e.eveningReflection||((a=e.nextSteps)==null?void 0:a.evening)||""}}const Xz=()=>{const{user:e}=ut(),[t,r]=p.useState(new Set),[n,a]=p.useState(!0);p.useEffect(()=>{if(!e){r(new Set),a(!1);return}(async()=>{try{const{data:u,error:f}=await H.from("dismissed_alerts").select("alert_id").eq("user_id",e.id);if(f)throw f;const d=new Set((u||[]).map(h=>h.alert_id));r(d)}catch(u){console.error("Error loading dismissed alerts:",u)}finally{a(!1)}})()},[e]);const i=p.useCallback(async c=>{if(e){r(u=>new Set([...u,c]));try{const{error:u}=await H.from("dismissed_alerts").upsert({user_id:e.id,alert_id:c},{onConflict:"user_id,alert_id"});if(u)throw u}catch(u){console.error("Error dismissing alert:",u),r(f=>{const d=new Set(f);return d.delete(c),d})}}},[e]),o=p.useCallback(c=>t.has(c),[t]),l=p.useCallback(async()=>{if(e)try{await H.from("dismissed_alerts").delete().eq("user_id",e.id),r(new Set)}catch(c){console.error("Error clearing dismissed alerts:",c)}},[e]);return{dismissedIds:t,dismissAlert:i,isDismissed:o,clearDismissed:l,loading:n}},nhe=()=>{const[e,t]=p.useState([]),[r,n]=p.useState(!1),{dismissAlert:a,isDismissed:i,dismissedIds:o}=Xz(),l=p.useCallback(async(f,d,h)=>{n(!0);try{const m=new Date().getHours(),{data:x,error:g}=await H.functions.invoke("smart-notifications",{body:{checkIn:f,tasks:d,calendarEvents:h,currentHour:m}});if(g)throw g;const v=(x.notifications||[]).filter(w=>!i(`smart-${w.type}-${w.title}`));return t(v),v}catch(m){return console.error("Error fetching smart notifications:",m),[]}finally{n(!1)}},[i,o]),c=p.useCallback(async f=>{const d=`smart-${f.type}-${f.title}`;await a(d),t(h=>h.filter(m=>`${m.type}-${m.title}`!=`${f.type}-${f.title}`))},[a]),u=p.useCallback(async()=>{for(const f of e)await a(`smart-${f.type}-${f.title}`);t([])},[e,a]);return{notifications:e,loading:r,fetchNotifications:l,dismissNotification:c,clearAllNotifications:u}},Jz=()=>{const{user:e}=ut(),[t,r]=p.useState([]),[n,a]=p.useState(!0),[i,o]=p.useState(null),l=(v,w,b)=>{const y=new Date,N=new Date(v.start_date),j=new Date(v.end_date),S=Math.max(0,Math.floor((y.getTime()-N.getTime())/(1e3*60*60*24))),_=Math.max(0,Math.floor((j.getTime()-y.getTime())/(1e3*60*60*24))),k=Math.min(100,Math.round(S/v.duration_days*100)),E=w.filter(I=>I.frequency==="daily");w.filter(I=>I.frequency==="global");const A=y.toISOString().split("T")[0],O=b.filter(I=>I.date===A&&I.completed).filter(I=>{const P=w.find(M=>M.id===I.goal_id);return(P==null?void 0:P.frequency)==="daily"}).length,$=E.length;let R=0,T=0,L=0;for(let I=S;I>=0;I--){const P=new Date(N);P.setDate(N.getDate()+I);const M=P.toISOString().split("T")[0],F=b.filter(q=>q.date===M&&q.completed);E.length>0&&F.length>=E.length?(L++,(I===S||I===S-1)&&(R=L)):(T=Math.max(T,L),L=0,(I===S||I===S-1)&&(R=0))}return T=Math.max(T,L),{daysElapsed:S,daysRemaining:_,percentComplete:k,currentStreak:R,longestStreak:T,todayCompleted:O,todayTotal:$}},c=p.useCallback(async()=>{if(e){a(!0);try{const{data:v,error:w}=await H.from("challenges").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(w)throw w;const b=await Promise.all((v||[]).map(async y=>{const[N,j]=await Promise.all([H.from("challenge_goals").select("*").eq("challenge_id",y.id).order("sort_order"),H.from("challenge_logs").select("*").eq("challenge_id",y.id)]),S=N.data||[],_=j.data||[],k=l(y,S,_);return{...y,goals:S,logs:_,progress:k}}));r(b)}catch(v){console.error("Error fetching challenges:",v),o("Error al cargar los retos")}finally{a(!1)}}},[e]);p.useEffect(()=>{c()},[c]);const u=async(v,w,b,y)=>{if(!e)return null;try{const N=new Date,j=new Date;j.setDate(j.getDate()+w);const{data:S,error:_}=await H.from("challenges").insert({user_id:e.id,name:v,description:y==null?void 0:y.description,duration_days:w,start_date:N.toISOString().split("T")[0],end_date:j.toISOString().split("T")[0],motivation:y==null?void 0:y.motivation,reward:y==null?void 0:y.reward}).select().single();if(_)throw _;if(b.length>0&&S){const k=b.map((A,C)=>({challenge_id:S.id,user_id:e.id,title:A.title,description:A.description,frequency:A.frequency||"daily",goal_type:A.goalType||"objetivo",target_count:A.targetCount||1,sort_order:C})),{error:E}=await H.from("challenge_goals").insert(k);if(E)throw E}return V.success("Reto creado",{description:`${v} - ${w} das`}),await c(),S}catch(N){return console.error("Error creating challenge:",N),V.error("Error al crear el reto"),null}},f=async(v,w,b)=>{if(!e)return;const y=new Date().toISOString().split("T")[0];try{if(b){const{error:N}=await H.from("challenge_logs").upsert({challenge_id:v,goal_id:w,user_id:e.id,date:y,completed:!0},{onConflict:"goal_id,date"});if(N)throw N}else{const{error:N}=await H.from("challenge_logs").update({completed:!1}).eq("goal_id",w).eq("date",y);if(N)throw N}await c()}catch(N){console.error("Error toggling goal:",N),V.error("Error al actualizar el objetivo")}},d=async(v,w)=>{try{const{error:b}=await H.from("challenges").update({status:w}).eq("id",v);if(b)throw b;V.success(w==="completed"?"Reto completado!":w==="abandoned"?"Reto abandonado":"Reto reactivado"),await c()}catch(b){console.error("Error updating challenge:",b),V.error("Error al actualizar el reto")}},h=async(v,w,b)=>{if(e)try{const{error:y}=await H.from("challenges").update({name:w.name,description:w.description,motivation:w.motivation,reward:w.reward,updated_at:new Date().toISOString()}).eq("id",v);if(y)throw y;if(b)for(const N of b)N.deleted&&N.id?await H.from("challenge_goals").delete().eq("id",N.id):N.id&&!N.deleted?await H.from("challenge_goals").update({title:N.title,description:N.description,frequency:N.frequency||"daily",goal_type:N.goalType||"objetivo",target_count:N.targetCount||1}).eq("id",N.id):!N.id&&!N.deleted&&N.title.trim()&&await H.from("challenge_goals").insert({challenge_id:v,user_id:e.id,title:N.title,description:N.description,frequency:N.frequency||"daily",goal_type:N.goalType||"objetivo",target_count:N.targetCount||1,sort_order:0});V.success("Reto actualizado"),await c()}catch(y){console.error("Error updating challenge:",y),V.error("Error al actualizar el reto")}},m=async v=>{try{const{error:w}=await H.from("challenges").delete().eq("id",v);if(w)throw w;V.success("Reto eliminado"),await c()}catch(w){console.error("Error deleting challenge:",w),V.error("Error al eliminar el reto")}},x=t.filter(v=>v.status==="active"),g=t.filter(v=>v.status==="completed");return{challenges:t,activeChallenges:x,completedChallenges:g,loading:n,error:i,createChallenge:u,updateChallenge:h,toggleGoalCompletion:f,updateChallengeStatus:d,deleteChallenge:m,refetch:c}},she=[{name:"layout-grid",label:"Grid"},{name:"briefcase",label:"Trabajo"},{name:"home",label:"Casa"},{name:"user",label:"Personal"},{name:"star",label:"Favorito"},{name:"heart",label:"Favorito"},{name:"zap",label:"Energa"},{name:"target",label:"Objetivos"},{name:"rocket",label:"Productividad"},{name:"coffee",label:"Descanso"},{name:"sun",label:"Da"},{name:"moon",label:"Noche"},{name:"sparkles",label:"Especial"},{name:"flame",label:"Intenso"}],$v={"check-in":{size:"normal",width:"full",visible:!0},"daily-plan":{size:"normal",width:"full",visible:!0},publications:{size:"normal",width:"full",visible:!0},agenda:{size:"normal",width:"full",visible:!0},challenge:{size:"normal",width:"full",visible:!0},coach:{size:"normal",width:"full",visible:!0},priorities:{size:"normal",width:"full",visible:!0},alerts:{size:"compact",width:"full",visible:!0},"habits-insights":{size:"normal",width:"full",visible:!0}},ahe={"check-in":"Check-in diario","daily-plan":"Plan del da",publications:"Publicaciones",agenda:"Agenda",challenge:"Retos",coach:"Coach IA",priorities:"Prioridades",alerts:"Alertas","habits-insights":"Insights de Hbitos"},Lv={leftColumn:["check-in","daily-plan","publications","habits-insights"],rightColumn:["agenda","challenge","coach","priorities","alerts"],cardSettings:$v},ihe=[{id:"default",name:"Principal",icon:"layout-grid",layout:Lv}],ohe={activeProfileId:"default",profiles:ihe},h4="dashboard-profiles-v1",m4=()=>Math.random().toString(36).substring(2,9),lhe=()=>{const[e,t]=p.useState(ohe),[r,n]=p.useState(!1);p.useEffect(()=>{try{const j=localStorage.getItem(h4);if(j){const S=JSON.parse(j);if(S.profiles&&S.activeProfileId){const _=S.profiles.map(k=>({...k,layout:{...k.layout,cardSettings:{...$v,...k.layout.cardSettings}}}));t({activeProfileId:S.activeProfileId,profiles:_})}}}catch(j){console.error("Error loading dashboard profiles:",j)}n(!0)},[]),p.useEffect(()=>{if(r)try{localStorage.setItem(h4,JSON.stringify(e))}catch(j){console.warn("Could not persist dashboard profiles:",j)}},[e,r]);const a=e.profiles.find(j=>j.id===e.activeProfileId)||e.profiles[0],i=(a==null?void 0:a.layout)||Lv,o=(j,S="layout-grid")=>{const _={id:m4(),name:j,icon:S,layout:{...Lv,cardSettings:{...$v}}};return t(k=>({...k,profiles:[...k.profiles,_],activeProfileId:_.id})),_.id},l=(j,S)=>{const _=e.profiles.find(E=>E.id===j);if(!_)return null;const k={id:m4(),name:S,icon:_.icon,layout:JSON.parse(JSON.stringify(_.layout))};return t(E=>({...E,profiles:[...E.profiles,k],activeProfileId:k.id})),k.id},c=(j,S)=>{t(_=>({..._,profiles:_.profiles.map(k=>k.id===j?{...k,icon:S}:k)}))},u=(j,S)=>{t(_=>({..._,profiles:_.profiles.map(k=>k.id===j?{...k,name:S}:k)}))},f=j=>{e.profiles.length<=1||t(S=>{const _=S.profiles.filter(E=>E.id!==j);return{activeProfileId:S.activeProfileId===j?_[0].id:S.activeProfileId,profiles:_}})},d=j=>{t(S=>({...S,activeProfileId:j}))},h=j=>{t(S=>({...S,profiles:S.profiles.map(_=>_.id===S.activeProfileId?{..._,layout:j(_.layout)}:_)}))},m=(j,S,_,k)=>{h(E=>{const A={...E},C=S==="left"?"leftColumn":"rightColumn",O=_==="left"?"leftColumn":"rightColumn";return A[C]=E[C].filter($=>$!==j),S===_?(A[O]=[...A[O]],A[O].splice(k,0,j)):(A[O]=[...E[O]],A[O].splice(k,0,j)),A})},x=(j,S,_)=>{h(k=>{const E=j==="left"?"leftColumn":"rightColumn",A=[...k[E]],[C]=A.splice(S,1);return A.splice(_,0,C),{...k,[E]:A}})},g=(j,S)=>{h(_=>({..._,cardSettings:{..._.cardSettings,[j]:{..._.cardSettings[j],size:S}}}))},v=(j,S)=>{h(_=>({..._,cardSettings:{..._.cardSettings,[j]:{..._.cardSettings[j],width:S}}}))},w=(j,S)=>{h(_=>({..._,cardSettings:{..._.cardSettings,[j]:{..._.cardSettings[j],visible:S}}}))},b=()=>{h(()=>({...Lv,cardSettings:{...$v}}))},y=i.leftColumn.filter(j=>{var S;return((S=i.cardSettings[j])==null?void 0:S.visible)!==!1}),N=i.rightColumn.filter(j=>{var S;return((S=i.cardSettings[j])==null?void 0:S.visible)!==!1});return{profiles:e.profiles,activeProfile:a,activeProfileId:e.activeProfileId,layout:i,visibleLeftCards:y,visibleRightCards:N,isLoaded:r,createProfile:o,duplicateProfile:l,renameProfile:u,setProfileIcon:c,deleteProfile:f,switchProfile:d,moveCard:m,reorderInColumn:x,setCardSize:g,setCardWidth:v,setCardVisibility:w,resetLayout:b}},un=()=>{const[e,t]=p.useState(!1),r=u=>{try{return localStorage.getItem(u)}catch{return null}},n=(u,f)=>{try{localStorage.setItem(u,f)}catch{}},[a,i]=p.useState(()=>r("sidebar-collapsed")==="true"),o=p.useCallback(()=>t(!0),[]),l=p.useCallback(()=>t(!1),[]),c=p.useCallback(()=>{i(u=>{const f=!u;return n("sidebar-collapsed",String(f)),f})},[]);return{isOpen:e,isCollapsed:a,open:o,close:l,toggleCollapse:c}},p4="jarvis_scheduled_notifications",Qz=()=>{const[e,t]=p.useState("default"),[r,n]=p.useState(!1),[a,i]=p.useState([]);p.useEffect(()=>{const v="Notification"in window;n(v),v&&(t(Notification.permission),o())},[]);const o=()=>{try{const v=localStorage.getItem(p4);if(v){const w=JSON.parse(v);i(w.map(b=>({...b,time:new Date(b.time)})))}}catch{}},l=v=>{try{localStorage.setItem(p4,JSON.stringify(v))}catch{}},c=p.useCallback(async()=>{if(!r)return V.error("Las notificaciones no estn soportadas en este navegador"),!1;try{const v=await Notification.requestPermission();return t(v),v==="granted"?(V.success("Notificaciones activadas!"),!0):(v==="denied"&&V.error("Notificaciones bloqueadas. Actvalas en la configuracin del navegador."),!1)}catch{return V.error("Error al solicitar permisos de notificacin"),!1}},[r]),u=p.useCallback(async v=>{if(!r||e!=="granted"&&!await c())return null;try{if("serviceWorker"in navigator)return await(await navigator.serviceWorker.ready).showNotification(v.title,{body:v.body,icon:v.icon||"/pwa-192x192.png",badge:v.badge||"/pwa-192x192.png",tag:v.tag,data:v.data,requireInteraction:v.requireInteraction}),!0;const w=new Notification(v.title,{body:v.body,icon:v.icon||"/pwa-192x192.png",tag:v.tag,data:v.data,requireInteraction:v.requireInteraction});return w.onclick=()=>{window.focus(),w.close()},w}catch(w){return console.error("Error showing notification:",w),null}},[r,e,c]),f=p.useCallback((v,w,b)=>{const y={id:v,time:w,options:b},N=[...a.filter(S=>S.id!==v),y];i(N),l(N);const j=w.getTime()-Date.now();return j>0&&j<24*60*60*1e3&&setTimeout(()=>{u(b);const S=a.filter(_=>_.id!==v);i(S),l(S)},j),v},[a,u]),d=p.useCallback(v=>{const w=a.filter(b=>b.id!==v);i(w),l(w)},[a]),h=p.useCallback((v,w)=>u({title:w==="P0"?" Tarea Urgente":" Recordatorio de Tarea",body:v,tag:"task-reminder",requireInteraction:w==="P0"}),[u]),m=p.useCallback(()=>u({title:" Buenos das!",body:"Es hora de hacer tu check-in diario",tag:"daily-checkin",requireInteraction:!0}),[u]),x=p.useCallback(v=>u({title:v==="work"?" Pomodoro completado!":" Descanso terminado!",body:v==="work"?"Tiempo de un descanso":"Vuelve al trabajo!",tag:"pomodoro"}),[u]),g=p.useCallback((v,w)=>u({title:" Evento prximo",body:`${v} comienza en ${w} minutos`,tag:"calendar-event"}),[u]);return{isSupported:r,permission:e,requestPermission:c,showNotification:u,scheduleNotification:f,cancelNotification:d,scheduledNotifications:a,notifyTaskReminder:h,notifyCheckIn:m,notifyPomodoroEnd:x,notifyCalendarEvent:g}},g4="jarvis_checkin_reminder_scheduled",che="jarvis_notification_prefs",C1=()=>{try{const e=localStorage.getItem(che);if(e)return JSON.parse(e)}catch{}return{dailyCheckIn:!0,checkInTime:"08:00"}},uhe=()=>{const{permission:e,notifyCheckIn:t,isSupported:r}=Qz(),{isRegistered:n,loading:a}=NE(),i=p.useRef(!1),o=p.useRef(null);p.useEffect(()=>{if(!r||e!=="granted"||a)return;const l=C1();if(!l.dailyCheckIn){i.current=!1;return}if(n){i.current=!1,o.current&&(clearTimeout(o.current),o.current=null);return}const c=new Date().toDateString(),u=localStorage.getItem(g4),f=`${c}_${l.checkInTime}`;return u===f&&i.current?void 0:(()=>{const m=new Date,[x,g]=l.checkInTime.split(":").map(Number),v=new Date(m);if(v.setHours(x,g,0,0),m>v)return;const w=v.getTime()-m.getTime();if(w>0&&w<24*60*60*1e3)return o.current&&clearTimeout(o.current),o.current=setTimeout(async()=>{const b=C1();!n&&b.dailyCheckIn&&await t()},w),i.current=!0,localStorage.setItem(g4,f),()=>{o.current&&(clearTimeout(o.current),o.current=null)}})()},[r,e,n,a,t]),p.useEffect(()=>{if(!r||e!=="granted"||a||n)return;const l=C1();if(!l.dailyCheckIn)return;const c=new Date,[u,f]=l.checkInTime.split(":").map(Number),d=c.getHours(),h=c.getMinutes(),m=u*60+f,g=d*60+h-m;if(g>=0&&g<=120){const v=`jarvis_checkin_immediate_${c.toDateString()}_${l.checkInTime}`;localStorage.getItem(v)||(t(),localStorage.setItem(v,"true"))}},[r,e,n,a,t])};var xw="Switch",[dhe]=en(xw),[fhe,hhe]=dhe(xw),Zz=p.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:f,...d}=e,[h,m]=p.useState(null),x=We(t,y=>m(y)),g=p.useRef(!1),v=h?f||!!h.closest("form"):!0,[w,b]=Wn({prop:a,defaultProp:i??!1,onChange:u,caller:xw});return s.jsxs(fhe,{scope:r,checked:w,disabled:l,children:[s.jsx(Ne.button,{type:"button",role:"switch","aria-checked":w,"aria-required":o,"data-state":n7(w),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:x,onClick:fe(e.onClick,y=>{b(N=>!N),v&&(g.current=y.isPropagationStopped(),g.current||y.stopPropagation())})}),v&&s.jsx(r7,{control:h,bubbles:!g.current,name:n,value:c,checked:w,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});Zz.displayName=xw;var e7="SwitchThumb",t7=p.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=hhe(e7,r);return s.jsx(Ne.span,{"data-state":n7(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});t7.displayName=e7;var mhe="SwitchBubbleInput",r7=p.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=p.useRef(null),l=We(o,i),c=Dg(r),u=Eg(t);return p.useEffect(()=>{const f=o.current;if(!f)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==r&&m){const x=new Event("click",{bubbles:n});m.call(f,r),f.dispatchEvent(x)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});r7.displayName=mhe;function n7(e){return e?"checked":"unchecked"}var s7=Zz,phe=t7;const ya=p.forwardRef(({className:e,...t},r)=>s.jsx(s7,{className:z("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:s.jsx(phe,{className:z("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ya.displayName=s7.displayName;const ghe={"layout-grid":sL,briefcase:Ts,home:JC,user:Cg,star:fo,heart:mt,zap:Mn,target:Dt,rocket:cm,coffee:Jf,sun:_g,moon:lu,sparkles:et,flame:Nn},hf=({name:e,className:t})=>{const r=ghe[e]||sL;return s.jsx(r,{className:t})};var a7="AlertDialog",[xhe]=en(a7,[GF]),Ao=GF(),i7=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ao(t);return s.jsx(c8,{...n,...r,modal:!0})};i7.displayName=a7;var vhe="AlertDialogTrigger",o7=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ao(r);return s.jsx(u8,{...a,...n,ref:t})});o7.displayName=vhe;var yhe="AlertDialogPortal",l7=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ao(t);return s.jsx(d8,{...n,...r})};l7.displayName=yhe;var bhe="AlertDialogOverlay",c7=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ao(r);return s.jsx(Vk,{...a,...n,ref:t})});c7.displayName=bhe;var Td="AlertDialogContent",[whe,jhe]=xhe(Td),Nhe=N$("AlertDialogContent"),u7=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=Ao(r),o=p.useRef(null),l=We(t,o),c=p.useRef(null);return s.jsx(Gie,{contentName:Td,titleName:d7,docsSlug:"alert-dialog",children:s.jsx(whe,{scope:r,cancelRef:c,children:s.jsxs(Hk,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:fe(a.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(Nhe,{children:n}),s.jsx(_he,{contentRef:o})]})})})});u7.displayName=Td;var d7="AlertDialogTitle",f7=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ao(r);return s.jsx(Gk,{...a,...n,ref:t})});f7.displayName=d7;var h7="AlertDialogDescription",m7=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ao(r);return s.jsx(Kk,{...a,...n,ref:t})});m7.displayName=h7;var She="AlertDialogAction",p7=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ao(r);return s.jsx(Yk,{...a,...n,ref:t})});p7.displayName=She;var g7="AlertDialogCancel",x7=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=jhe(g7,r),i=Ao(r),o=We(t,a);return s.jsx(Yk,{...i,...n,ref:o})});x7.displayName=g7;var _he=({contentRef:e})=>{const t=`\`${Td}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Td}\` by passing a \`${h7}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Td}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Che=i7,khe=o7,Ehe=l7,v7=c7,y7=u7,b7=p7,w7=x7,j7=f7,N7=m7;const vw=Che,Phe=khe,Ohe=Ehe,S7=p.forwardRef(({className:e,...t},r)=>s.jsx(v7,{className:z("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));S7.displayName=v7.displayName;const qg=p.forwardRef(({className:e,...t},r)=>s.jsxs(Ohe,{children:[s.jsx(S7,{}),s.jsx(y7,{ref:r,className:z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));qg.displayName=y7.displayName;const Vg=({className:e,...t})=>s.jsx("div",{className:z("flex flex-col space-y-2 text-center sm:text-left",e),...t});Vg.displayName="AlertDialogHeader";const Hg=({className:e,...t})=>s.jsx("div",{className:z("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Hg.displayName="AlertDialogFooter";const Gg=p.forwardRef(({className:e,...t},r)=>s.jsx(j7,{ref:r,className:z("text-lg font-semibold",e),...t}));Gg.displayName=j7.displayName;const Kg=p.forwardRef(({className:e,...t},r)=>s.jsx(N7,{ref:r,className:z("text-sm text-muted-foreground",e),...t}));Kg.displayName=N7.displayName;const Yg=p.forwardRef(({className:e,...t},r)=>s.jsx(b7,{ref:r,className:z(bp(),e),...t}));Yg.displayName=b7.displayName;const Xg=p.forwardRef(({className:e,...t},r)=>s.jsx(w7,{ref:r,className:z(bp({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Xg.displayName=w7.displayName;var yw="Popover",[_7]=en(yw,[Gl]),Jg=Gl(),[Ahe,ec]=_7(yw),C7=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Jg(t),c=p.useRef(null),[u,f]=p.useState(!1),[d,h]=Wn({prop:n,defaultProp:a??!1,onChange:i,caller:yw});return s.jsx(C0,{...l,children:s.jsx(Ahe,{scope:t,contentId:Ys(),triggerRef:c,open:d,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:p.useCallback(()=>f(!0),[]),onCustomAnchorRemove:p.useCallback(()=>f(!1),[]),modal:o,children:r})})};C7.displayName=yw;var k7="PopoverAnchor",The=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ec(k7,r),i=Jg(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return p.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Pg,{...i,...n,ref:t})});The.displayName=k7;var E7="PopoverTrigger",P7=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ec(E7,r),i=Jg(r),o=We(t,a.triggerRef),l=s.jsx(Ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":R7(a.open),...n,ref:o,onClick:fe(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Pg,{asChild:!0,...i,children:l})});P7.displayName=E7;var SE="PopoverPortal",[Mhe,Rhe]=_7(SE,{forceMount:void 0}),O7=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=ec(SE,t);return s.jsx(Mhe,{scope:t,forceMount:r,children:s.jsx(cn,{present:r||i.open,children:s.jsx(Yf,{asChild:!0,container:a,children:n})})})};O7.displayName=SE;var mf="PopoverContent",A7=p.forwardRef((e,t)=>{const r=Rhe(mf,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=ec(mf,e.__scopePopover);return s.jsx(cn,{present:n||i.open,children:i.modal?s.jsx(Dhe,{...a,ref:t}):s.jsx($he,{...a,ref:t})})});A7.displayName=mf;var Ihe=Dl("PopoverContent.RemoveScroll"),Dhe=p.forwardRef((e,t)=>{const r=ec(mf,e.__scopePopover),n=p.useRef(null),a=We(t,n),i=p.useRef(!1);return p.useEffect(()=>{const o=n.current;if(o)return K0(o)},[]),s.jsx(Lg,{as:Ihe,allowPinchZoom:!0,children:s.jsx(T7,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:fe(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:fe(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),$he=p.forwardRef((e,t)=>{const r=ec(mf,e.__scopePopover),n=p.useRef(!1),a=p.useRef(!1);return s.jsx(T7,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),T7=p.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:f,...d}=e,h=ec(mf,r),m=Jg(r);return H0(),s.jsx($g,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(ku,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(k0,{"data-state":R7(h.open),role:"dialog",id:h.contentId,...m,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),M7="PopoverClose",Lhe=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ec(M7,r);return s.jsx(Ne.button,{type:"button",...n,ref:t,onClick:fe(e.onClick,()=>a.onOpenChange(!1))})});Lhe.displayName=M7;var Fhe="PopoverArrow",Bhe=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Jg(r);return s.jsx(E0,{...a,...n,ref:t})});Bhe.displayName=Fhe;function R7(e){return e?"open":"closed"}var zhe=C7,Uhe=P7,Whe=O7,I7=A7;const _E=zhe,CE=Uhe,bw=p.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(Whe,{children:s.jsx(I7,{ref:a,align:t,sideOffset:r,className:z("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));bw.displayName=I7.displayName;var qhe="Separator",x4="horizontal",Vhe=["horizontal","vertical"],D7=p.forwardRef((e,t)=>{const{decorative:r,orientation:n=x4,...a}=e,i=Hhe(n)?n:x4,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Ne.div,{"data-orientation":i,...l,...a,ref:t})});D7.displayName=qhe;function Hhe(e){return Vhe.includes(e)}var $7=D7;const Ga=p.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx($7,{ref:a,decorative:r,orientation:t,className:z("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Ga.displayName=$7.displayName;const Ghe=[{value:"1/3",label:"1/3"},{value:"1/2",label:"1/2"},{value:"2/3",label:"2/3"},{value:"full",label:"Completo"}],v4=["check-in","daily-plan","publications","agenda","challenge","coach","priorities","alerts"],y4=({value:e,onChange:t})=>{const[r,n]=p.useState(!1);return s.jsxs(_E,{open:r,onOpenChange:n,children:[s.jsx(CE,{asChild:!0,children:s.jsx(U,{variant:"outline",size:"icon",className:"h-8 w-8 shrink-0",children:s.jsx(hf,{name:e,className:"w-4 h-4"})})}),s.jsx(bw,{className:"w-auto p-2",align:"start",children:s.jsx("div",{className:"grid grid-cols-7 gap-1",children:she.map(a=>s.jsx(U,{variant:"ghost",size:"icon",className:z("h-8 w-8",e===a.name&&"bg-primary/20 text-primary"),onClick:()=>{t(a.name),n(!1)},children:s.jsx(hf,{name:a.name,className:"w-4 h-4"})},a.name))})})]})},Khe=({cardSettings:e,profiles:t,activeProfileId:r,onVisibilityChange:n,onWidthChange:a,onReset:i,onCreateProfile:o,onDuplicateProfile:l,onRenameProfile:c,onSetProfileIcon:u,onDeleteProfile:f,onSwitchProfile:d})=>{const[h,m]=p.useState(!1),[x,g]=p.useState(""),[v,w]=p.useState("layout-grid"),[b,y]=p.useState(null),[N,j]=p.useState(""),S=v4.filter(C=>{var O;return((O=e[C])==null?void 0:O.visible)===!1}).length,_=()=>{x.trim()&&(o(x.trim(),v),g(""),w("layout-grid"))},k=C=>{y(C.id),j(C.name)},E=()=>{b&&N.trim()&&(c(b,N.trim()),y(null),j(""))},A=t.find(C=>C.id===r);return s.jsxs(Lt,{open:h,onOpenChange:m,children:[s.jsx(Np,{asChild:!0,children:s.jsxs(U,{variant:"ghost",size:"icon",className:"relative",children:[s.jsx(yA,{className:"w-4 h-4"}),S>0&&s.jsx(Q,{variant:"secondary",className:"absolute -top-1 -right-1 h-4 w-4 p-0 text-[10px] flex items-center justify-center",children:S})]})}),s.jsxs(Ft,{className:"sm:max-w-[550px] max-h-[85vh] overflow-hidden flex flex-col",children:[s.jsx(or,{children:s.jsxs(lr,{className:"flex items-center gap-2",children:[s.jsx(yA,{className:"w-5 h-5"}),"Configurar Dashboard"]})}),s.jsxs(aa,{defaultValue:"cards",className:"flex-1 overflow-hidden flex flex-col",children:[s.jsxs(Ms,{className:"grid w-full grid-cols-2",children:[s.jsx(Qe,{value:"cards",children:"Tarjetas"}),s.jsx(Qe,{value:"profiles",children:"Perfiles"})]}),s.jsxs(Ze,{value:"cards",className:"flex-1 overflow-y-auto space-y-4 mt-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Elige qu tarjetas mostrar y su ancho en el dashboard."}),s.jsx("div",{className:"space-y-3",children:v4.map(C=>{const O=e[C],$=(O==null?void 0:O.visible)!==!1;return s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-border bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ya,{checked:$,onCheckedChange:R=>n(C,R)}),s.jsxs("div",{className:"flex items-center gap-2",children:[$?s.jsx(fy,{className:"w-4 h-4 text-success"}):s.jsx(y0,{className:"w-4 h-4 text-muted-foreground"}),s.jsx(ue,{className:$?"":"text-muted-foreground",children:ahe[C]})]})]}),s.jsxs(ar,{value:(O==null?void 0:O.width)||"full",onValueChange:R=>a(C,R),disabled:!$,children:[s.jsx(Kt,{className:"w-24",children:s.jsx(ir,{})}),s.jsx(Yt,{children:Ghe.map(R=>s.jsx(De,{value:R.value,children:R.label},R.value))})]})]},C)})}),s.jsx("div",{className:"flex justify-end pt-2",children:s.jsx(U,{variant:"outline",size:"sm",onClick:i,children:"Restablecer tarjetas"})})]}),s.jsxs(Ze,{value:"profiles",className:"flex-1 overflow-y-auto space-y-4 mt-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Guarda diferentes configuraciones de dashboard para alternar rpidamente."}),s.jsx("div",{className:"p-3 rounded-lg border border-primary/30 bg-primary/5",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[A&&s.jsx(hf,{name:A.icon,className:"w-4 h-4 text-primary"}),s.jsx(Q,{variant:"default",className:"text-xs",children:"Activo"}),s.jsx("span",{className:"font-medium",children:A==null?void 0:A.name})]})})}),s.jsx(Ga,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{className:"text-sm font-medium",children:"Todos los perfiles"}),t.map(C=>s.jsx("div",{className:`flex items-center justify-between p-3 rounded-lg border transition-colors ${C.id===r?"border-primary/50 bg-primary/5":"border-border hover:bg-muted/50"}`,children:b===C.id?s.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[s.jsx(be,{value:N,onChange:O=>j(O.target.value),className:"h-8",autoFocus:!0,onKeyDown:O=>{O.key==="Enter"&&E(),O.key==="Escape"&&y(null)}}),s.jsx(U,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:E,children:s.jsx(gt,{className:"w-4 h-4"})})]}):s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>d(C.id),className:"flex items-center gap-2 text-left flex-1",children:[s.jsx(hf,{name:C.icon,className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:C.id===r?"font-medium":"",children:C.name}),C.id===r&&s.jsx(Q,{variant:"secondary",className:"text-xs",children:"Activo"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(y4,{value:C.icon,onChange:O=>u(C.id,O)}),s.jsx(U,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>k(C),children:s.jsx(kl,{className:"w-3.5 h-3.5"})}),s.jsx(U,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>l(C.id,`${C.name} (copia)`),children:s.jsx(Ns,{className:"w-3.5 h-3.5"})}),t.length>1&&s.jsxs(vw,{children:[s.jsx(Phe,{asChild:!0,children:s.jsx(U,{size:"icon",variant:"ghost",className:"h-8 w-8 text-destructive hover:text-destructive",children:s.jsx(Ri,{className:"w-3.5 h-3.5"})})}),s.jsxs(qg,{children:[s.jsxs(Vg,{children:[s.jsx(Gg,{children:"Eliminar perfil?"}),s.jsxs(Kg,{children:['Esta accin eliminar el perfil "',C.name,'" permanentemente.']})]}),s.jsxs(Hg,{children:[s.jsx(Xg,{children:"Cancelar"}),s.jsx(Yg,{onClick:()=>f(C.id),children:"Eliminar"})]})]})]})]})]})},C.id))]}),s.jsx(Ga,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{className:"text-sm font-medium",children:"Crear nuevo perfil"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(y4,{value:v,onChange:w}),s.jsx(be,{placeholder:"Nombre del perfil (ej: Trabajo)",value:x,onChange:C=>g(C.target.value),onKeyDown:C=>{C.key==="Enter"&&_()},className:"flex-1"}),s.jsxs(U,{onClick:_,disabled:!x.trim(),children:[s.jsx(wt,{className:"w-4 h-4 mr-1"}),"Crear"]})]})]})]})]})]})]})},Yhe=({profiles:e,activeProfileId:t,onSwitch:r})=>{if(e.length<=1)return null;const n=e.find(a=>a.id===t);return s.jsxs(ar,{value:t,onValueChange:r,children:[s.jsx(Kt,{className:"w-[150px] h-8",children:s.jsxs("div",{className:"flex items-center gap-2",children:[n&&s.jsx(hf,{name:n.icon,className:"w-3.5 h-3.5"}),s.jsx(ir,{})]})}),s.jsx(Yt,{children:e.map(a=>s.jsx(De,{value:a.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hf,{name:a.icon,className:"w-4 h-4"}),a.name]})},a.id))})]})},Xhe=()=>{const{isOpen:e,isCollapsed:t,open:r,close:n,toggleCollapse:a}=un(),{checkIn:i,setCheckIn:o,registerCheckIn:l,loading:c,saving:u,isRegistered:f}=NE(),{pendingTasks:d,completedTasks:h,toggleComplete:m,loading:x}=gw(),{events:g}=Wg(),{plan:v,loading:w,generatePlan:b}=Yz(),{notifications:y,loading:N,fetchNotifications:j,dismissNotification:S}=nhe();uhe();const{activeChallenges:_,loading:k,createChallenge:E,updateChallenge:A,toggleGoalCompletion:C}=Jz(),{layout:O,profiles:$,activeProfileId:R,visibleLeftCards:T,visibleRightCards:L,isLoaded:I,reorderInColumn:P,moveCard:M,setCardSize:F,setCardWidth:B,setCardVisibility:q,resetLayout:J,createProfile:W,duplicateProfile:ne,renameProfile:he,setProfileIcon:ie,deleteProfile:ce,switchProfile:re}=lhe(),[se,me]=p.useState(!1),[te,Ee]=p.useState(!1),[je,Be]=p.useState(null),le=c||x,Me={droppable:{strategy:uf.Always}},rt=Vne(qne(Mk,{activationConstraint:{distance:8}}));p.useEffect(()=>{!se&&!w&&i.energy>0&&i.mood>0&&i.focus>0&&!le&&(He(),me(!0))},[i,le,se,w]),p.useEffect(()=>{!te&&!le&&!N&&(xt(),Ee(!0))},[le,te,N]);const He=async()=>{await b({energy:i.energy,mood:i.mood,focus:i.focus,availableTime:i.availableTime,interruptionRisk:i.interruptionRisk,dayMode:i.dayMode},d.map(we=>({id:we.id,title:we.title,type:we.type,priority:we.priority,duration:we.duration})),g.map(we=>({title:we.title,time:we.time,duration:we.duration,type:we.type})))},xt=async()=>{const we=[...d,...h];await j(i.energy>0?{energy:i.energy,mood:i.mood,focus:i.focus,availableTime:i.availableTime,interruptionRisk:i.interruptionRisk,dayMode:i.dayMode}:null,we.map(Se=>({id:Se.id,title:Se.title,priority:Se.priority,duration:Se.duration,completed:Se.completed})),g.map(Se=>({title:Se.title,time:Se.time,duration:Se.duration})))},yt=p.useMemo(()=>d.sort((we,Se)=>{const Vt={P0:0,P1:1,P2:2};return(Vt[we.priority]??2)-(Vt[Se.priority]??2)}).slice(0,3),[d]),qt=we=>{Be(we.active.id)},lt=we=>{const{active:Se,over:Vt}=we;if(Be(null),!Vt)return;const Tt=Se.id,bt=Vt.id,oe=O.leftColumn.includes(Tt),vt=O.rightColumn.includes(Tt),st=oe?"left":vt?"right":null;if(!st)return;if(bt==="left-column"||bt==="right-column"){const In=bt==="left-column"?"left":"right";if(st!==In){const Vn=In==="left"?O.leftColumn:O.rightColumn;M(Tt,st,In,Vn.length)}return}const qr=O.leftColumn.includes(bt),dn=O.rightColumn.includes(bt),fn=qr?"left":dn?"right":null;if(fn)if(st===fn){const In=st==="left"?O.leftColumn:O.rightColumn,Vn=In.indexOf(Tt),bs=In.indexOf(bt);Vn!==bs&&P(st,Vn,bs)}else{const Vn=(fn==="left"?O.leftColumn:O.rightColumn).indexOf(bt);M(Tt,st,fn,Vn)}},vr=()=>{Be(null)},yr=we=>({"check-in":"Check-in","daily-plan":"Plan del da",publications:"Publicaciones",agenda:"Agenda",challenge:"Retos",coach:"Coach",priorities:"Prioridades",alerts:"Alertas","habits-insights":"Insights de Hbitos"})[we]||we,de=we=>{const Se=O.cardSettings[we],Vt=(Se==null?void 0:Se.size)||"normal",Tt=(Se==null?void 0:Se.width)||"full",bt=fn=>F(we,fn),oe=fn=>B(we,fn),vt=()=>q(we,!1),qr={"1/3":"lg:col-span-1","1/2":"lg:col-span-1","2/3":"lg:col-span-2",full:"col-span-full"}[Tt],dn=(()=>{switch(we){case"check-in":return s.jsx(Rae,{data:i,onUpdate:o,onRegister:l,saving:u,isRegistered:f});case"daily-plan":return s.jsx(Kae,{plan:v,loading:w,onRefresh:He});case"publications":return s.jsx(xle,{});case"agenda":return s.jsx(Dae,{});case"challenge":return s.jsx(rle,{challenges:_,loading:k,onCreateChallenge:E,onToggleGoal:C,onUpdateChallenge:A});case"coach":return s.jsx(foe,{checkInData:i});case"priorities":return s.jsx(Wae,{priorities:yt,onToggleComplete:m});case"alerts":return s.jsx(qae,{pendingCount:d.length});case"habits-insights":return s.jsx(jle,{});default:return null}})();return s.jsx(the,{id:we,size:Vt,width:Tt,onSizeChange:bt,onWidthChange:oe,onHide:vt,className:qr,children:dn},we)};return le||!I?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(_e,{className:"w-8 h-8 text-primary animate-spin"}),s.jsx("p",{className:"text-muted-foreground font-mono text-sm",children:"CARGANDO DATOS..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(zr,{isOpen:e,onClose:n,isCollapsed:t,onToggleCollapse:a}),s.jsxs("div",{className:z("transition-all duration-300",t?"lg:pl-20":"lg:pl-72"),children:[s.jsx(Ur,{onMenuClick:r,showModeSelector:!0}),s.jsxs("main",{className:"p-3 sm:p-4 lg:p-6 pb-24 lg:pb-6 space-y-4 sm:space-y-6",children:[s.jsx(Ode,{}),s.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[s.jsx(Vae,{}),s.jsxs("div",{className:"flex items-center justify-center md:justify-end gap-2 flex-shrink-0",children:[s.jsx(Yhe,{profiles:$,activeProfileId:R,onSwitch:re}),s.jsx(Khe,{cardSettings:O.cardSettings,profiles:$,activeProfileId:R,onVisibilityChange:q,onWidthChange:B,onReset:J,onCreateProfile:W,onDuplicateProfile:ne,onRenameProfile:he,onSetProfileIcon:ie,onDeleteProfile:ce,onSwitchProfile:re}),s.jsxs(af,{children:[s.jsx(of,{asChild:!0,children:s.jsx(U,{variant:"ghost",size:"icon",onClick:J,children:s.jsx(ZC,{className:"w-4 h-4"})})}),s.jsx(du,{children:"Restablecer tarjetas"})]})]})]}),s.jsx(Yae,{notifications:y,onDismiss:S,loading:N}),s.jsxs(Vse,{sensors:rt,collisionDetection:Jne,measuring:Me,onDragStart:qt,onDragEnd:lt,onDragCancel:vr,children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-6 gap-6",children:[s.jsx(d4,{id:"left-column",items:T,className:"lg:col-span-4",children:s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:T.map(de)})}),s.jsx(d4,{id:"right-column",items:L,className:"lg:col-span-2",children:s.jsx("div",{className:"grid grid-cols-1 gap-6",children:L.map(de)})})]}),s.jsx(cae,{dropAnimation:{duration:300,easing:"cubic-bezier(0.25, 1, 0.5, 1)"},children:je?s.jsx("div",{className:"opacity-90 scale-[1.02] shadow-2xl shadow-primary/30 rounded-lg ring-2 ring-primary/50",children:s.jsx("div",{className:"bg-card rounded-lg p-4 border border-primary/30",children:s.jsxs("div",{className:"flex items-center gap-2 text-foreground font-medium",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-pulse"}),yr(je)]})})}):null})]})]})]}),s.jsx(z6,{})]})},Jhe=()=>{const{user:e}=ut(),{isOpen:t,isCollapsed:r,open:n,close:a,toggleCollapse:i}=un(),[o,l]=p.useState([]),[c,u]=p.useState(""),[f,d]=p.useState(!1),[h,m]=p.useState(!1),x=p.useRef(null);p.useEffect(()=>{var y;(y=x.current)==null||y.scrollIntoView({behavior:"smooth"})},[o]),p.useEffect(()=>{g()},[e]);const g=async()=>{if(e)try{const{data:y,error:N}=await H.from("potus_chat").select("*").eq("user_id",e.id).order("created_at",{ascending:!0}).limit(50);if(N)throw N;y&&l(y.map(j=>({id:j.id,role:j.role,content:j.message,timestamp:new Date(j.created_at)})))}catch(y){console.error("Error loading chat history:",y)}},v=async()=>{if(!c.trim()||f||!e)return;const y={id:crypto.randomUUID(),role:"user",content:c.trim(),timestamp:new Date};l(N=>[...N,y]),u(""),d(!0);try{await H.from("potus_chat").insert({user_id:e.id,role:"user",message:y.content});const{data:N,error:j}=await H.functions.invoke("potus-chat",{body:{message:y.content,context:{recentMessages:o.slice(-10).map(_=>({role:_.role,content:_.content}))}}});if(j)throw j;const S={id:crypto.randomUUID(),role:"assistant",content:N.response||"No pude procesar tu mensaje. Intntalo de nuevo.",timestamp:new Date};l(_=>[..._,S]),await H.from("potus_chat").insert({user_id:e.id,role:"assistant",message:S.content})}catch(N){console.error("Error sending message:",N),V.error("Error al enviar el mensaje")}finally{d(!1)}},w=y=>{y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),v())},b=()=>{m(!h),V.info(h?"Micrfono desactivado":"Micrfono activado")};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(zr,{isOpen:t,onClose:a,isCollapsed:r,onToggleCollapse:i}),s.jsxs("div",{className:z("transition-all duration-300 flex flex-col h-screen",r?"lg:pl-20":"lg:pl-72"),children:[s.jsx(Ur,{onMenuClick:n}),s.jsxs("main",{className:"flex-1 flex flex-col p-4 lg:p-6 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary to-primary/70 flex items-center justify-center shadow-lg shadow-primary/30",children:s.jsx(et,{className:"w-6 h-6 text-primary-foreground"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"JARVIS Chat"}),s.jsx("p",{className:"text-sm text-muted-foreground font-mono",children:"TU ASISTENTE PERSONAL"})]})]}),s.jsx(X,{className:"flex-1 flex flex-col overflow-hidden border-border bg-card",children:s.jsxs(Y,{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[o.length===0?s.jsx("div",{className:"h-full flex items-center justify-center",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"w-20 h-20 mx-auto rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Gj,{className:"w-10 h-10 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Hola! Soy JARVIS"}),s.jsx("p",{className:"text-muted-foreground text-sm max-w-md",children:"Tu asistente personal. Pregntame lo que necesites: tareas, planificacin, recordatorios..."})]})]})}):o.map(y=>s.jsxs("div",{className:z("flex gap-3",y.role==="user"?"justify-end":"justify-start"),children:[y.role==="assistant"&&s.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Gj,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{className:z("max-w-[80%] rounded-2xl px-4 py-3",y.role==="user"?"bg-primary text-primary-foreground rounded-br-md":"bg-muted text-foreground rounded-bl-md"),children:[s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:y.content}),s.jsx("span",{className:z("text-xs mt-1 block",y.role==="user"?"text-primary-foreground/70":"text-muted-foreground"),children:y.timestamp.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})})]}),y.role==="user"&&s.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary flex items-center justify-center flex-shrink-0",children:s.jsx(Cg,{className:"w-4 h-4 text-primary-foreground"})})]},y.id)),f&&s.jsxs("div",{className:"flex gap-3 justify-start",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Gj,{className:"w-4 h-4 text-primary"})}),s.jsx("div",{className:"bg-muted rounded-2xl rounded-bl-md px-4 py-3",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-muted-foreground/50 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 bg-muted-foreground/50 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 bg-muted-foreground/50 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}),s.jsx("div",{ref:x})]})}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx(U,{variant:"outline",size:"icon",onClick:b,className:z("shrink-0",h&&"bg-destructive/10 text-destructive border-destructive/30"),children:h?s.jsx(PY,{className:"w-5 h-5"}):s.jsx(ou,{className:"w-5 h-5"})}),s.jsx(be,{value:c,onChange:y=>u(y.target.value),onKeyDown:w,placeholder:"Escribe un mensaje...",disabled:f,className:"flex-1"}),s.jsx(U,{onClick:v,disabled:!c.trim()||f,className:"shrink-0 gap-2",children:f?s.jsx(_e,{className:"w-5 h-5 animate-spin"}):s.jsx(j0,{className:"w-5 h-5"})})]})]})]})]})},Qhe=()=>{const{isOpen:e,isCollapsed:t,open:r,close:n,toggleCollapse:a}=un(),{user:i}=ut(),[o,l]=p.useState("email"),[c,u]=p.useState(!1),[f,d]=p.useState([]),[h,m]=p.useState([]),x=async()=>{if(i){u(!0);try{const[N,j]=await Promise.all([H.from("jarvis_emails_cache").select("*").order("synced_at",{ascending:!1}),H.from("jarvis_whatsapp_cache").select("*").order("last_time",{ascending:!1})]);N.data&&d(N.data),j.data&&m(j.data)}catch(N){console.error("Error fetching communications:",N),V.error("Error al cargar comunicaciones")}finally{u(!1)}}};p.useEffect(()=>{x()},[i]);const g=()=>{x(),V.success("Comunicaciones actualizadas")},v=f.reduce((N,j)=>(N[j.account]||(N[j.account]=[]),N[j.account].push(j),N),{}),w=f.filter(N=>!N.is_read).length,b=h.filter(N=>!N.is_read).length,y=N=>{try{return Mce(new Date(N),{addSuffix:!0,locale:ot})}catch{return N}};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(zr,{isOpen:e,onClose:n,isCollapsed:t,onToggleCollapse:a}),s.jsxs("div",{className:z("transition-all duration-300",t?"lg:pl-20":"lg:pl-72"),children:[s.jsx(Ur,{onMenuClick:r}),s.jsxs("main",{className:"p-4 lg:p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary to-primary/70 flex items-center justify-center shadow-lg shadow-primary/30",children:s.jsx(Cm,{className:"w-6 h-6 text-primary-foreground"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Comunicaciones"}),s.jsxs("p",{className:"text-sm text-muted-foreground font-mono",children:[w+b," MENSAJES SIN LEER"]})]})]}),s.jsx(U,{variant:"outline",size:"icon",onClick:g,disabled:c,children:c?s.jsx(_e,{className:"w-4 h-4 animate-spin"}):s.jsx(ht,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(X,{className:"border-border bg-card",children:s.jsxs(Y,{className:"p-4 flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(Cm,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:f.length}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Emails (",w," sin leer)"]})]})]})}),s.jsx(X,{className:"border-border bg-card",children:s.jsxs(Y,{className:"p-4 flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-success/10 flex items-center justify-center",children:s.jsx(lm,{className:"w-5 h-5 text-success"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:h.length}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["WhatsApp (",b," sin leer)"]})]})]})})]}),s.jsxs(aa,{value:o,onValueChange:l,children:[s.jsxs(Ms,{className:"grid w-full grid-cols-2 max-w-md",children:[s.jsxs(Qe,{value:"email",className:"gap-2",children:[s.jsx(Cm,{className:"w-4 h-4"}),"Email",w>0&&s.jsx(Q,{variant:"destructive",className:"ml-1 h-5 px-1.5",children:w})]}),s.jsxs(Qe,{value:"whatsapp",className:"gap-2",children:[s.jsx(lm,{className:"w-4 h-4"}),"WhatsApp",b>0&&s.jsx(Q,{variant:"destructive",className:"ml-1 h-5 px-1.5",children:b})]})]}),s.jsx(Ze,{value:"email",className:"mt-4 space-y-6",children:c&&f.length===0?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(_e,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):Object.keys(v).length>0?Object.entries(v).map(([N,j])=>s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cg,{className:"w-4 h-4 text-primary"}),s.jsx("h3",{className:"text-sm font-semibold text-foreground",children:N}),s.jsxs(Q,{variant:"outline",className:"text-xs",children:[j.length," emails"]})]}),j.map(S=>s.jsx(X,{className:z("border-border bg-card cursor-pointer transition-all hover:border-primary/30",!S.is_read&&"bg-primary/5 border-primary/20"),children:s.jsx(Y,{className:"p-4",children:s.jsx("div",{className:"flex items-start gap-3",children:s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:z("text-sm font-medium truncate",!S.is_read&&"font-semibold"),children:S.from_addr}),s.jsx("span",{className:"text-xs text-muted-foreground flex-shrink-0",children:y(S.synced_at)})]}),s.jsx("p",{className:z("text-sm truncate mt-1",S.is_read?"text-muted-foreground":"text-foreground"),children:S.subject}),S.preview&&s.jsx("p",{className:"text-xs text-muted-foreground truncate mt-0.5",children:S.preview})]})})})},S.id))]},N)):s.jsx(X,{className:"border-dashed border-2 border-muted-foreground/30 bg-transparent",children:s.jsxs(Y,{className:"p-6 text-center",children:[s.jsx(wY,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No hay emails sincronizados"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Los emails se sincronizarn automticamente"})]})})}),s.jsx(Ze,{value:"whatsapp",className:"mt-4 space-y-3",children:c&&h.length===0?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(_e,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):h.length>0?h.map(N=>s.jsx(X,{className:z("border-border bg-card cursor-pointer transition-all hover:border-success/30",!N.is_read&&"bg-success/5 border-success/20"),children:s.jsx(Y,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-success/10 flex items-center justify-center",children:s.jsx(lm,{className:"w-5 h-5 text-success"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:z("text-sm font-medium",!N.is_read&&"font-semibold"),children:N.chat_name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:y(N.last_time)})]}),s.jsx("p",{className:z("text-sm truncate mt-1",N.is_read?"text-muted-foreground":"text-foreground"),children:N.last_message})]})]})})},N.id)):s.jsx(X,{className:"border-dashed border-2 border-muted-foreground/30 bg-transparent",children:s.jsxs(Y,{className:"p-6 text-center",children:[s.jsx(lm,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No hay chats de WhatsApp"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Los chats se sincronizarn automticamente"})]})})})]})]})]})]})},Zhe=()=>{const{user:e}=ut(),[t,r]=p.useState(!0),[n,a]=p.useState(null),i=p.useCallback(async()=>{if(!e){r(!1);return}r(!0);try{const{data:l,error:c}=await H.from("jarvis_whoop_data").select("*").eq("user_id",e.id).order("data_date",{ascending:!1}).limit(1).maybeSingle();if(c)throw c;a(l?{recovery_score:l.recovery_score,hrv:l.hrv,strain:l.strain?Number(l.strain):null,sleep_hours:l.sleep_hours?Number(l.sleep_hours):null,resting_hr:l.resting_hr,sleep_performance:l.sleep_performance,data_date:l.data_date,synced_at:l.synced_at}:null)}catch(l){console.error("Error fetching WHOOP data:",l),a(null)}finally{r(!1)}},[e]);return p.useEffect(()=>{i()},[i]),{isLoading:t,hasData:n!==null,data:n,refetch:i}},eme=()=>{var m,x;const{isOpen:e,isCollapsed:t,open:r,close:n,toggleCollapse:a}=un(),{isLoading:i,hasData:o,data:l,refetch:c}=Zhe(),u=g=>g>=67?"text-success":g>=34?"text-warning":"text-destructive",f=g=>g>=67?"bg-success":g>=34?"bg-warning":"bg-destructive",d=g=>g>=67?"VERDE":g>=34?"AMARILLO":"ROJO",h=g=>g>=14?"text-destructive":g>=10?"text-warning":"text-success";return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(zr,{isOpen:e,onClose:n,isCollapsed:t,onToggleCollapse:a}),s.jsxs("div",{className:z("transition-all duration-300",t?"lg:pl-20":"lg:pl-72"),children:[s.jsx(Ur,{onMenuClick:r}),s.jsxs("main",{className:"p-4 lg:p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-success to-success/70 flex items-center justify-center shadow-lg shadow-success/30",children:s.jsx($l,{className:"w-6 h-6 text-primary-foreground"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Salud"}),s.jsx("p",{className:"text-sm text-muted-foreground font-mono",children:"MTRICAS WHOOP"})]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx(U,{variant:"outline",size:"icon",onClick:c,disabled:i,children:i?s.jsx(_e,{className:"w-4 h-4 animate-spin"}):s.jsx(ht,{className:"w-4 h-4"})})})]}),i?s.jsx(X,{className:"border-border bg-card",children:s.jsxs(Y,{className:"p-8 text-center",children:[s.jsx(_e,{className:"w-8 h-8 animate-spin mx-auto text-primary"}),s.jsx("p",{className:"text-muted-foreground mt-4",children:"Cargando..."})]})}):o?s.jsxs(s.Fragment,{children:[s.jsx(X,{className:"border-success/30 bg-gradient-to-br from-success/10 to-transparent overflow-hidden",children:s.jsxs(Y,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground font-mono mb-1",children:"RECOVERY SCORE"}),s.jsx("div",{className:"flex items-baseline gap-2",children:(l==null?void 0:l.recovery_score)!==null?s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:z("text-6xl font-bold",u(l.recovery_score)),children:[l.recovery_score,"%"]}),s.jsx(Q,{className:z("text-white",f(l.recovery_score)),children:d(l.recovery_score)})]}):s.jsx("span",{className:"text-4xl font-bold text-muted-foreground",children:"--"})})]}),s.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-success/30 flex items-center justify-center",children:s.jsx("div",{className:z("w-20 h-20 rounded-full flex items-center justify-center",(l==null?void 0:l.recovery_score)!==null?f(l.recovery_score):"bg-muted"),children:s.jsx(mt,{className:"w-10 h-10 text-white"})})})]}),(l==null?void 0:l.recovery_score)!==null&&s.jsx(Cr,{value:l.recovery_score,className:"h-2 mt-4"})]})}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(X,{className:"border-border bg-card",children:s.jsxs(Y,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(hA,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:"HRV"})]}),s.jsx("p",{className:"text-3xl font-bold text-foreground",children:(l==null?void 0:l.hrv)??"--"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"ms"})]})}),s.jsx(X,{className:"border-border bg-card",children:s.jsxs(Y,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Mn,{className:z("w-4 h-4",(l==null?void 0:l.strain)!==null?h(l.strain):"text-muted-foreground")}),s.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:"STRAIN"})]}),s.jsx("p",{className:z("text-3xl font-bold",(l==null?void 0:l.strain)!==null?h(l.strain):"text-foreground"),children:((m=l==null?void 0:l.strain)==null?void 0:m.toFixed(1))??"--"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"/ 21.0"})]})}),s.jsx(X,{className:"border-border bg-card",children:s.jsxs(Y,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(lu,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:"SUEO"})]}),s.jsx("p",{className:"text-3xl font-bold text-foreground",children:((x=l==null?void 0:l.sleep_hours)==null?void 0:x.toFixed(1))??"--"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"horas"})]})}),s.jsx(X,{className:"border-border bg-card",children:s.jsxs(Y,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(mt,{className:"w-4 h-4 text-destructive"}),s.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:"FC REPOSO"})]}),s.jsx("p",{className:"text-3xl font-bold text-foreground",children:(l==null?void 0:l.resting_hr)??"--"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"bpm"})]})})]}),s.jsxs(X,{className:"border-border bg-card",children:[s.jsx(pe,{children:s.jsxs(ge,{className:"flex items-center gap-2 text-base",children:[s.jsx(Zr,{className:"w-5 h-5 text-primary"}),"Tendencia Semanal"]})}),s.jsx(Y,{children:s.jsx("div",{className:"h-48 flex items-center justify-center border border-dashed border-border rounded-lg",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Grfico de evolucin semanal"})})})]}),(l==null?void 0:l.synced_at)&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-muted-foreground",children:[s.jsx(Pt,{className:"w-3 h-3"}),"ltima sincronizacin: ",new Date(l.synced_at).toLocaleString("es-ES")]})]}):s.jsx(X,{className:"border-dashed border-2 border-primary/30 bg-primary/5",children:s.jsxs(Y,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-20 h-20 mx-auto rounded-full bg-primary/10 flex items-center justify-center mb-4",children:s.jsx($l,{className:"w-10 h-10 text-primary"})}),s.jsx("h2",{className:"text-xl font-bold text-foreground mb-2",children:"Datos WHOOP"}),s.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:"Los datos de WHOOP se sincronizan automticamente a travs de POTUS. Habla con POTUS para solicitar una sincronizacin."}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:[s.jsxs(Q,{variant:"outline",className:"gap-1",children:[s.jsx(mt,{className:"w-3 h-3"})," Recovery"]}),s.jsxs(Q,{variant:"outline",className:"gap-1",children:[s.jsx(hA,{className:"w-3 h-3"})," HRV"]}),s.jsxs(Q,{variant:"outline",className:"gap-1",children:[s.jsx(Mn,{className:"w-3 h-3"})," Strain"]}),s.jsxs(Q,{variant:"outline",className:"gap-1",children:[s.jsx(lu,{className:"w-3 h-3"})," Sleep"]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[s.jsx(jY,{className:"w-4 h-4"}),s.jsx("span",{children:"POTUS sincroniza los datos peridicamente"})]})]})})]})]})]})},tme=[{id:"1",homeTeam:"Real Madrid",awayTeam:"Barcelona",competition:"LaLiga",date:"2026-02-08",time:"21:00",venue:"Santiago Bernabu"},{id:"2",homeTeam:"Atltico Madrid",awayTeam:"Real Madrid",competition:"LaLiga",date:"2026-02-15",time:"18:30",venue:"Metropolitano"},{id:"3",homeTeam:"Real Madrid",awayTeam:"Manchester City",competition:"Champions League",date:"2026-02-25",time:"21:00",venue:"Santiago Bernabu"}],b4=[{id:"1",type:"injury",title:"Lesin de Vincius Jr.",description:"El brasileo se ha lesionado en el entrenamiento y ser baja 2-3 semanas.",team:"Real Madrid",time:"Hace 2h",priority:"high"},{id:"2",type:"lineup",title:"Alineacin confirmada",description:"Ancelotti ha confirmado el once para el Clsico.",team:"Real Madrid",time:"Hace 5h",priority:"normal"}],rme=()=>{const{isOpen:e,isCollapsed:t,open:r,close:n,toggleCollapse:a}=un(),[i,o]=p.useState(!1),[l,c]=p.useState(!0),u=()=>{o(!0),setTimeout(()=>o(!1),1500)},f=h=>{switch(h){case"LaLiga":return"bg-orange-500/10 text-orange-500 border-orange-500/30";case"Champions League":return"bg-blue-500/10 text-blue-500 border-blue-500/30";default:return"bg-primary/10 text-primary border-primary/30"}},d=h=>{switch(h){case"injury":return s.jsx(uo,{className:"w-4 h-4 text-destructive"});case"transfer":return s.jsx(Zr,{className:"w-4 h-4 text-success"});case"lineup":return s.jsx(Yr,{className:"w-4 h-4 text-primary"});default:return s.jsx(Gs,{className:"w-4 h-4 text-muted-foreground"})}};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(zr,{isOpen:e,onClose:n,isCollapsed:t,onToggleCollapse:a}),s.jsxs("div",{className:z("transition-all duration-300",t?"lg:pl-20":"lg:pl-72"),children:[s.jsx(Ur,{onMenuClick:r}),s.jsxs("main",{className:"p-4 lg:p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-warning to-warning/70 flex items-center justify-center shadow-lg shadow-warning/30",children:s.jsx(Yr,{className:"w-6 h-6 text-primary-foreground"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Deportes"}),s.jsx("p",{className:"text-sm text-muted-foreground font-mono",children:"ALERTAS LALIGA & CHAMPIONS"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[l?s.jsx(Gs,{className:"w-4 h-4 text-primary"}):s.jsx(op,{className:"w-4 h-4 text-muted-foreground"}),s.jsx(ya,{checked:l,onCheckedChange:c})]}),s.jsx(U,{variant:"outline",size:"icon",onClick:u,disabled:i,children:i?s.jsx(_e,{className:"w-4 h-4 animate-spin"}):s.jsx(ht,{className:"w-4 h-4"})}),s.jsx(U,{variant:"outline",size:"icon",children:s.jsx(tf,{className:"w-4 h-4"})})]})]}),b4.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h2",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[s.jsx(uo,{className:"w-5 h-5 text-destructive"}),"Alertas Recientes"]}),b4.map(h=>s.jsx(X,{className:z("border-border bg-card transition-all",h.priority==="high"&&"border-destructive/30 bg-destructive/5"),children:s.jsx(Y,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:z("w-10 h-10 rounded-lg flex items-center justify-center",h.priority==="high"?"bg-destructive/10":"bg-muted"),children:d(h.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-semibold text-foreground",children:h.title}),s.jsx(Q,{variant:"outline",className:"text-xs",children:h.team})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:h.description}),s.jsx("span",{className:"text-xs text-muted-foreground",children:h.time})]})]})})},h.id))]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h2",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[s.jsx(Jt,{className:"w-5 h-5 text-primary"}),"Prximos Partidos"]}),tme.map(h=>s.jsx(X,{className:"border-border bg-card hover:border-primary/30 transition-all",children:s.jsx(Y,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Q,{variant:"outline",className:z("text-xs mb-2",f(h.competition)),children:h.competition}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"font-semibold text-foreground",children:h.homeTeam}),s.jsx("span",{className:"text-muted-foreground text-sm",children:"vs"}),s.jsx("span",{className:"font-semibold text-foreground",children:h.awayTeam})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jt,{className:"w-3 h-3"}),new Date(h.date).toLocaleDateString("es-ES",{weekday:"short",day:"numeric",month:"short"})]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Pt,{className:"w-3 h-3"}),h.time]}),h.venue&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(CY,{className:"w-3 h-3"}),h.venue]})]})]}),s.jsx(U,{variant:"ghost",size:"icon",className:"shrink-0",children:s.jsx(BY,{className:"w-4 h-4 text-muted-foreground"})})]})})},h.id))]}),s.jsx(X,{className:"border-dashed border-2 border-muted-foreground/30 bg-transparent",children:s.jsxs(Y,{className:"p-6 text-center",children:[s.jsx(Yr,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Configura tus equipos favoritos"}),s.jsxs(U,{variant:"outline",size:"sm",className:"gap-2",children:[s.jsx(tf,{className:"w-4 h-4"}),"Aadir equipos"]})]})})]})]})]})},nme=()=>{const{user:e}=ut(),[t,r]=p.useState(!1),[n,a]=p.useState(null),[i,o]=p.useState(!0),[l,c]=p.useState({tasks:0,dailyLogs:0,checkIns:0,pomodoroSessions:0});p.useEffect(()=>{e&&u()},[e]);const u=async()=>{if(e)try{const[g,v,w,b]=await Promise.all([H.from("tasks").select("id",{count:"exact",head:!0}).eq("user_id",e.id),H.from("daily_logs").select("id",{count:"exact",head:!0}).eq("user_id",e.id),H.from("check_ins").select("id",{count:"exact",head:!0}).eq("user_id",e.id),H.from("pomodoro_sessions").select("id",{count:"exact",head:!0}).eq("user_id",e.id)]);c({tasks:g.count||0,dailyLogs:v.count||0,checkIns:w.count||0,pomodoroSessions:b.count||0})}catch(g){console.error("Error fetching counts:",g)}finally{o(!1)}},f=async()=>{if(!e)return null;try{const[g,v,w,b]=await Promise.all([H.from("tasks").select("*").eq("user_id",e.id),H.from("daily_logs").select("*").eq("user_id",e.id),H.from("check_ins").select("*").eq("user_id",e.id),H.from("pomodoro_sessions").select("*").eq("user_id",e.id)]);if(g.error)throw g.error;if(v.error)throw v.error;if(w.error)throw w.error;if(b.error)throw b.error;return{tasks:g.data||[],dailyLogs:v.data||[],checkIns:w.data||[],pomodoroSessions:b.data||[],exportDate:new Date().toISOString(),userEmail:e.email||"unknown"}}catch(g){throw console.error("Error fetching data:",g),g}},d=(g,v,w)=>{const b=new Blob([g],{type:w}),y=URL.createObjectURL(b),N=document.createElement("a");N.href=y,N.download=v,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(y)},h=(g,v)=>{if(g.length===0)return"";const w=Object.keys(g[0]),b=g.map(y=>w.map(N=>{const j=y[N];return j==null?"":typeof j=="string"&&j.includes(",")?`"${j.replace(/"/g,'""')}"`:String(j)}).join(","));return`# ${v}
${w.join(",")}
${b.join(`
`)}`},m=async()=>{r(!0),a("json");try{const g=await f();if(!g)throw new Error("No data to export");const v=JSON.stringify(g,null,2),w=`jarvis-export-${ye(new Date,"yyyy-MM-dd-HHmmss")}.json`;d(v,w,"application/json"),V.success("Datos exportados correctamente")}catch(g){console.error("Export error:",g),V.error("Error al exportar los datos")}finally{r(!1),a(null)}},x=async()=>{r(!0),a("csv");try{const g=await f();if(!g)throw new Error("No data to export");const v=[h(g.tasks,"TAREAS"),h(g.dailyLogs,"LOGS DIARIOS"),h(g.checkIns,"CHECK-INS"),h(g.pomodoroSessions,"SESIONES POMODORO")].filter(Boolean),w=`# Exportacin JARVIS - ${ye(new Date,"dd/MM/yyyy HH:mm")}
# Usuario: ${g.userEmail}

${v.join(`

`)}`,b=`jarvis-export-${ye(new Date,"yyyy-MM-dd-HHmmss")}.csv`;d(w,b,"text/csv"),V.success("Datos exportados correctamente")}catch(g){console.error("Export error:",g),V.error("Error al exportar los datos")}finally{r(!1),a(null)}};return s.jsxs(X,{children:[s.jsxs(pe,{children:[s.jsxs(ge,{className:"flex items-center gap-2",children:[s.jsx(Oi,{className:"h-5 w-5 text-primary"}),"Exportar datos"]}),s.jsx(St,{children:"Descarga una copia de todos tus datos"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 text-center",children:[s.jsxs("div",{className:"p-3 rounded-lg bg-muted/50 space-y-1",children:[s.jsx(Sg,{className:"h-5 w-5 mx-auto text-primary"}),s.jsx("p",{className:"text-2xl font-bold text-foreground",children:i?s.jsx(_e,{className:"h-4 w-4 mx-auto animate-spin"}):l.tasks}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Tareas"})]}),s.jsxs("div",{className:"p-3 rounded-lg bg-muted/50 space-y-1",children:[s.jsx(Or,{className:"h-5 w-5 mx-auto text-success"}),s.jsx("p",{className:"text-2xl font-bold text-foreground",children:i?s.jsx(_e,{className:"h-4 w-4 mx-auto animate-spin"}):l.dailyLogs}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Logs"})]}),s.jsxs("div",{className:"p-3 rounded-lg bg-muted/50 space-y-1",children:[s.jsx(Ks,{className:"h-5 w-5 mx-auto text-warning"}),s.jsx("p",{className:"text-2xl font-bold text-foreground",children:i?s.jsx(_e,{className:"h-4 w-4 mx-auto animate-spin"}):l.pomodoroSessions}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Pomodoros"})]}),s.jsxs("div",{className:"p-3 rounded-lg bg-muted/50 space-y-1",children:[s.jsx($l,{className:"h-5 w-5 mx-auto text-info"}),s.jsx("p",{className:"text-2xl font-bold text-foreground",children:i?s.jsx(_e,{className:"h-4 w-4 mx-auto animate-spin"}):l.checkIns}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Check-ins"})]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Total: ",s.jsx("span",{className:"font-medium text-foreground",children:l.tasks+l.dailyLogs+l.checkIns+l.pomodoroSessions})," registros"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs(U,{variant:"outline",className:"flex-1",onClick:m,disabled:t,children:[n==="json"?s.jsx(_e,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Q$,{className:"h-4 w-4 mr-2"}),"Exportar JSON"]}),s.jsxs(U,{variant:"outline",className:"flex-1",onClick:x,disabled:t,children:[n==="csv"?s.jsx(_e,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(b0,{className:"h-4 w-4 mr-2"}),"Exportar CSV"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"La exportacin incluye todas tus tareas, logs diarios, check-ins y sesiones de Pomodoro."})]})]})};var kE="Radio",[sme,L7]=en(kE),[ame,ime]=sme(kE),F7=p.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...f}=e,[d,h]=p.useState(null),m=We(t,v=>h(v)),x=p.useRef(!1),g=d?u||!!d.closest("form"):!0;return s.jsxs(ame,{scope:r,checked:a,disabled:o,children:[s.jsx(Ne.button,{type:"button",role:"radio","aria-checked":a,"data-state":W7(a),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:m,onClick:fe(e.onClick,v=>{a||c==null||c(),g&&(x.current=v.isPropagationStopped(),x.current||v.stopPropagation())})}),g&&s.jsx(U7,{control:d,bubbles:!x.current,name:n,value:l,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});F7.displayName=kE;var B7="RadioIndicator",z7=p.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,i=ime(B7,r);return s.jsx(cn,{present:n||i.checked,children:s.jsx(Ne.span,{"data-state":W7(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});z7.displayName=B7;var ome="RadioBubbleInput",U7=p.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=p.useRef(null),l=We(o,i),c=Dg(r),u=Eg(t);return p.useEffect(()=>{const f=o.current;if(!f)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==r&&m){const x=new Event("click",{bubbles:n});m.call(f,r),f.dispatchEvent(x)}},[c,r,n]),s.jsx(Ne.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});U7.displayName=ome;function W7(e){return e?"checked":"unchecked"}var lme=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ww="RadioGroup",[cme]=en(ww,[Ql,L7]),q7=Ql(),V7=L7(),[ume,dme]=cme(ww),H7=p.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:f=!0,onValueChange:d,...h}=e,m=q7(r),x=Yl(u),[g,v]=Wn({prop:i,defaultProp:a??null,onChange:d,caller:ww});return s.jsx(ume,{scope:r,name:n,required:o,disabled:l,value:g,onValueChange:v,children:s.jsx(sw,{asChild:!0,...m,orientation:c,dir:x,loop:f,children:s.jsx(Ne.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:x,...h,ref:t})})})});H7.displayName=ww;var G7="RadioGroupItem",K7=p.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,i=dme(G7,r),o=i.disabled||n,l=q7(r),c=V7(r),u=p.useRef(null),f=We(t,u),d=i.value===a.value,h=p.useRef(!1);return p.useEffect(()=>{const m=g=>{lme.includes(g.key)&&(h.current=!0)},x=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",x)}},[]),s.jsx(aw,{asChild:!0,...l,focusable:!o,active:d,children:s.jsx(F7,{disabled:o,required:i.required,checked:d,...c,...a,name:i.name,ref:f,onCheck:()=>i.onValueChange(a.value),onKeyDown:fe(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:fe(a.onFocus,()=>{var m;h.current&&((m=u.current)==null||m.click())})})})});K7.displayName=G7;var fme="RadioGroupIndicator",Y7=p.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=V7(r);return s.jsx(z7,{...a,...n,ref:t})});Y7.displayName=fme;var X7=H7,J7=K7,hme=Y7;const qy=p.forwardRef(({className:e,...t},r)=>s.jsx(X7,{className:z("grid gap-2",e),...t,ref:r}));qy.displayName=X7.displayName;const Vy=p.forwardRef(({className:e,...t},r)=>s.jsx(J7,{ref:r,className:z("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(hme,{className:"flex items-center justify-center",children:s.jsx(J$,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Vy.displayName=J7.displayName;const mme=()=>{const{theme:e,setTheme:t}=jL(),r=[{value:"dark",label:"Oscuro",description:"Tema oscuro estilo JARVIS",icon:lu},{value:"light",label:"Claro",description:"Tema claro para uso diurno",icon:_g},{value:"system",label:"Sistema",description:"Sigue la configuracin del sistema",icon:OY}];return s.jsxs(X,{children:[s.jsxs(pe,{children:[s.jsxs(ge,{className:"flex items-center gap-2",children:[s.jsx(uL,{className:"h-5 w-5 text-primary"}),"Apariencia"]}),s.jsx(St,{children:"Personaliza el tema visual de la aplicacin"})]}),s.jsx(Y,{children:s.jsx(qy,{value:e,onValueChange:t,className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:r.map(n=>{const a=n.icon,i=e===n.value;return s.jsxs(ue,{htmlFor:n.value,className:z("flex flex-col items-center gap-2 p-4 rounded-lg border-2 cursor-pointer transition-all",i?"border-primary bg-primary/10":"border-border hover:border-primary/50 hover:bg-muted/50"),children:[s.jsx(Vy,{value:n.value,id:n.value,className:"sr-only"}),s.jsx("div",{className:z("p-3 rounded-full",i?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:s.jsx(a,{className:"h-5 w-5"})}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:z("font-medium",i?"text-primary":"text-foreground"),children:n.label}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:n.description})]})]},n.value)})})})]})},pme=()=>{const{settings:e,updateSettings:t}=$0(),r=[{value:"small",label:"Pequeo",preview:"Aa"},{value:"medium",label:"Mediano",preview:"Aa"},{value:"large",label:"Grande",preview:"Aa"}],n=[{value:"es",label:"Espaol",flag:""},{value:"en",label:"English",flag:""}],a=async o=>{try{await t({font_size:o}),V.success("Tamao de fuente actualizado")}catch{V.error("Error al cambiar el tamao de fuente")}},i=async o=>{try{await t({language:o}),V.success(o==="es"?"Idioma cambiado a Espaol":"Language changed to English")}catch{V.error("Error al cambiar el idioma")}};return s.jsxs(X,{children:[s.jsxs(pe,{children:[s.jsxs(ge,{className:"flex items-center gap-2",children:[s.jsx(oY,{className:"h-5 w-5 text-primary"}),"Accesibilidad"]}),s.jsx(St,{children:"Personaliza el tamao del texto y el idioma"})]}),s.jsxs(Y,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(zY,{className:"h-4 w-4 text-muted-foreground"}),"Tamao de fuente"]}),s.jsx(qy,{value:e.font_size,onValueChange:o=>a(o),className:"grid grid-cols-3 gap-3",children:r.map(o=>{const l=e.font_size===o.value;return s.jsxs(ue,{htmlFor:`font-${o.value}`,className:z("flex flex-col items-center gap-2 p-3 rounded-lg border-2 cursor-pointer transition-all",l?"border-primary bg-primary/10":"border-border hover:border-primary/50 hover:bg-muted/50"),children:[s.jsx(Vy,{value:o.value,id:`font-${o.value}`,className:"sr-only"}),s.jsx("span",{className:z("font-bold",o.value==="small"&&"text-sm",o.value==="medium"&&"text-base",o.value==="large"&&"text-xl",l?"text-primary":"text-foreground"),children:o.preview}),s.jsx("span",{className:z("text-xs",l?"text-primary":"text-muted-foreground"),children:o.label})]},o.value)})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(w0,{className:"h-4 w-4 text-muted-foreground"}),"Idioma"]}),s.jsx(qy,{value:e.language,onValueChange:o=>i(o),className:"grid grid-cols-2 gap-3",children:n.map(o=>{const l=e.language===o.value;return s.jsxs(ue,{htmlFor:`lang-${o.value}`,className:z("flex items-center gap-3 p-3 rounded-lg border-2 cursor-pointer transition-all",l?"border-primary bg-primary/10":"border-border hover:border-primary/50 hover:bg-muted/50"),children:[s.jsx(Vy,{value:o.value,id:`lang-${o.value}`,className:"sr-only"}),s.jsx("span",{className:"text-2xl",children:o.flag}),s.jsx("span",{className:z("font-medium",l?"text-primary":"text-foreground"),children:o.label})]},o.value)})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"El cambio de idioma se aplicar a la interfaz de usuario."})]})]})]})},gme=()=>{const{connected:e,checkConnection:t,lastSync:r}=OF(),{user:n}=ut(),[a,i]=p.useState(""),[o,l]=p.useState(""),[c,u]=p.useState(!1),[f,d]=p.useState(!1),h=async()=>{if(!n||!a||!o){V.error("Por favor completa todos los campos");return}u(!0);try{const x=a.trim(),g=o.trim().replace(/\s+/g,""),{error:v}=await H.from("user_integrations").upsert({user_id:n.id,icloud_email:x,icloud_password_encrypted:g,icloud_enabled:!0},{onConflict:"user_id"});if(v)throw v;V.success("Credenciales de iCloud guardadas"),d(!1),i(""),l(""),await t()}catch(x){console.error("Error saving iCloud credentials:",x),V.error("Error al guardar las credenciales")}finally{u(!1)}},m=async()=>{if(n)try{const{error:x}=await H.from("user_integrations").update({icloud_email:null,icloud_password_encrypted:null,icloud_enabled:!1}).eq("user_id",n.id);if(x)throw x;V.success("iCloud Calendar desconectado"),await t()}catch(x){console.error("Error disconnecting iCloud:",x),V.error("Error al desconectar")}};return s.jsxs(X,{children:[s.jsxs(pe,{children:[s.jsxs(ge,{className:"flex items-center gap-2",children:[s.jsx(Xc,{className:"h-5 w-5 text-primary"}),"iCloud Calendar"]}),s.jsx(St,{children:"Sincroniza tu calendario de Apple para ver y crear eventos"})]}),s.jsx(Y,{className:"space-y-4",children:e?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Q,{variant:"outline",className:"bg-success/10 text-success border-success/30",children:[s.jsx(gt,{className:"w-3 h-3 mr-1"}),"Conectado"]}),r&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["ltima sincronizacin: ",r.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Tu calendario de iCloud est sincronizado. Los eventos aparecern en tu agenda."}),s.jsx(U,{variant:"outline",onClick:m,children:"Desconectar"})]}):f?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-warning/10 border border-warning/20",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(uo,{className:"w-4 h-4 text-warning mt-0.5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-warning",children:"Contrasea de aplicacin requerida"}),s.jsxs("p",{className:"text-muted-foreground mt-1",children:["Debes crear una contrasea especfica de aplicacin en"," ",s.jsxs("a",{href:"https://appleid.apple.com/account/manage",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline inline-flex items-center gap-1",children:["appleid.apple.com",s.jsx(KC,{className:"w-3 h-3"})]})]})]})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"icloud-email",children:"Apple ID (Email)"}),s.jsx(be,{id:"icloud-email",type:"email",placeholder:"tu@icloud.com",value:a,onChange:x=>i(x.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"icloud-password",children:"Contrasea de Aplicacin"}),s.jsx(be,{id:"icloud-password",type:"password",placeholder:"xxxx-xxxx-xxxx-xxxx",value:o,onChange:x=>l(x.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Genera una contrasea de aplicacin especfica, NO uses tu contrasea de Apple ID"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{onClick:h,disabled:c||!a||!o,children:c?s.jsxs(s.Fragment,{children:[s.jsx(_e,{className:"w-4 h-4 mr-2 animate-spin"}),"Guardando..."]}):"Guardar"}),s.jsx(U,{variant:"ghost",onClick:()=>d(!1),children:"Cancelar"})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Conecta tu cuenta de iCloud para sincronizar eventos del calendario con JARVIS."}),s.jsxs("ol",{className:"text-sm text-muted-foreground space-y-2 list-decimal list-inside",children:[s.jsxs("li",{children:["Ve a ",s.jsx("a",{href:"https://appleid.apple.com/account/manage",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"appleid.apple.com"})]}),s.jsx("li",{children:"Inicia sesin con tu Apple ID"}),s.jsx("li",{children:'Ve a "Seguridad"  "Contraseas de aplicacin"'}),s.jsx("li",{children:'Genera una nueva contrasea para "JARVIS"'}),s.jsx("li",{children:"Copia la contrasea generada"})]}),s.jsxs(U,{onClick:()=>d(!0),className:"gap-2",children:[s.jsx(Xc,{className:"w-4 h-4"}),"Configurar iCloud Calendar"]})]})})]})},hc=e=>Array.isArray(e)?e.filter(t=>typeof t=="string"):[],Hx=e=>{if(e&&typeof e=="object"&&!Array.isArray(e)){const t={};for(const[r,n]of Object.entries(e))typeof n=="string"&&(t[r]=n);return t}return{}},xme=()=>{const{profile:e,loading:t,saving:r,updateProfile:n}=ow(),[a,i]=p.useState(""),[o,l]=p.useState(""),[c,u]=p.useState(""),[f,d]=p.useState(""),[h,m]=p.useState("es"),[x,g]=p.useState("en"),[v,w]=p.useState([]),[b,y]=p.useState([]),[N,j]=p.useState([]),[S,_]=p.useState([]),[k,E]=p.useState([]),[A,C]=p.useState([]),[O,$]=p.useState([]),[R,T]=p.useState({}),[L,I]=p.useState({}),[P,M]=p.useState({}),[F,B]=p.useState({}),[q,J]=p.useState("morning"),[W,ne]=p.useState("afternoon"),[he,ie]=p.useState(!0),[ce,re]=p.useState(""),[se,me]=p.useState(""),[te,Ee]=p.useState(""),[je,Be]=p.useState(""),[le,Me]=p.useState(""),[rt,He]=p.useState(""),[xt,yt]=p.useState("");p.useEffect(()=>{e&&(i(e.name||""),l(e.vital_role||""),u(e.current_context||""),d(e.cognitive_style||""),m(e.primary_language||"es"),g(e.secondary_language||"en"),w(hc(e.personal_principles)),y(hc(e.life_goals)),j(hc(e.professional_goals)),_(hc(e.personal_rules)),E(hc(e.auto_decisions)),C(hc(e.require_confirmation)),$(hc(e.food_dislikes)),T(Hx(e.family_context)),I(Hx(e.health_profile)),M(Hx(e.food_preferences)),B(Hx(e.communication_style)),J(e.best_focus_time||"morning"),ne(e.fatigue_time||"afternoon"),ie(e.needs_buffers??!0))},[e]);const qt=async()=>{await n({name:a||null,vital_role:o||null,current_context:c||null,cognitive_style:f||null,primary_language:h,secondary_language:x,personal_principles:v,life_goals:b,professional_goals:N,personal_rules:S,auto_decisions:k,require_confirmation:A,food_dislikes:O,family_context:R,health_profile:L,food_preferences:P,communication_style:F,best_focus_time:q,fatigue_time:W,needs_buffers:he})},lt=(de,we,Se,Vt)=>{Se.trim()&&(we([...de,Se.trim()]),Vt(""))},vr=(de,we,Se)=>{we(de.filter((Vt,Tt)=>Tt!==Se))},yr=(de,we,Se,Vt)=>{we({...de,[Se]:Vt})};return t?s.jsx(X,{children:s.jsx(Y,{className:"flex items-center justify-center py-12",children:s.jsx(_e,{className:"w-6 h-6 animate-spin text-primary"})})}):s.jsxs(X,{children:[s.jsxs(pe,{children:[s.jsxs(ge,{className:"flex items-center gap-2",children:[s.jsx(Qr,{className:"h-5 w-5 text-primary"}),"Perfil JARVIS"]}),s.jsx(St,{children:"Configura tu perfil para que JARVIS te conozca mejor y personalice sus recomendaciones"})]}),s.jsxs(Y,{children:[s.jsxs(aa,{defaultValue:"identity",className:"w-full",children:[s.jsxs(Ms,{className:"grid w-full grid-cols-2 lg:grid-cols-5 mb-6",children:[s.jsxs(Qe,{value:"identity",className:"text-xs",children:[s.jsx(Cg,{className:"h-3 w-3 mr-1"}),"Identidad"]}),s.jsxs(Qe,{value:"goals",className:"text-xs",children:[s.jsx(Dt,{className:"h-3 w-3 mr-1"}),"Objetivos"]}),s.jsxs(Qe,{value:"lifestyle",className:"text-xs",children:[s.jsx(mt,{className:"h-3 w-3 mr-1"}),"Vida"]}),s.jsxs(Qe,{value:"schedule",className:"text-xs",children:[s.jsx(Pt,{className:"h-3 w-3 mr-1"}),"Horarios"]}),s.jsxs(Qe,{value:"rules",className:"text-xs",children:[s.jsx(Pv,{className:"h-3 w-3 mr-1"}),"Reglas"]})]}),s.jsxs(Ze,{value:"identity",className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"name",children:"Nombre"}),s.jsx(be,{id:"name",value:a,onChange:de=>i(de.target.value),placeholder:"Tu nombre"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"vitalRole",children:"Rol vital"}),s.jsx(be,{id:"vitalRole",value:o,onChange:de=>l(de.target.value),placeholder:"Ej: Emprendedor, padre, estudiante"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"currentContext",children:"Contexto actual"}),s.jsx(Kr,{id:"currentContext",value:c,onChange:de=>u(de.target.value),placeholder:"Describe tu situacin actual...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"cognitiveStyle",children:"Estilo cognitivo"}),s.jsx(be,{id:"cognitiveStyle",value:f,onChange:de=>d(de.target.value),placeholder:"Ej: Analtico-creativo, alta autoexigencia"})]}),s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{children:"Idioma principal"}),s.jsxs(ar,{value:h,onValueChange:m,children:[s.jsx(Kt,{children:s.jsx(ir,{})}),s.jsxs(Yt,{children:[s.jsx(De,{value:"es",children:"Espaol"}),s.jsx(De,{value:"en",children:"English"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{children:"Idioma secundario"}),s.jsxs(ar,{value:x,onValueChange:g,children:[s.jsx(Kt,{children:s.jsx(ir,{})}),s.jsxs(Yt,{children:[s.jsx(De,{value:"es",children:"Espaol"}),s.jsx(De,{value:"en",children:"English"})]})]})]})]}),s.jsx(Ga,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(mt,{className:"h-4 w-4 text-primary"}),"Principios personales"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(be,{value:ce,onChange:de=>re(de.target.value),placeholder:"Aadir principio...",onKeyDown:de=>de.key==="Enter"&&(de.preventDefault(),lt(v,w,ce,re))}),s.jsx(U,{type:"button",size:"icon",variant:"outline",onClick:()=>lt(v,w,ce,re),children:s.jsx(wt,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:v.map((de,we)=>s.jsxs(Q,{variant:"secondary",className:"gap-1",children:[de,s.jsx("button",{onClick:()=>vr(v,w,we),children:s.jsx(kt,{className:"h-3 w-3"})})]},we))})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ue,{children:"Estilo de comunicacin preferido"}),s.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{className:"text-xs text-muted-foreground",children:"Tono"}),s.jsx(be,{value:F.tone||"",onChange:de=>yr(F,B,"tone",de.target.value),placeholder:"Ej: Directo, humano, sin tecnicismos"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{className:"text-xs text-muted-foreground",children:"Formato"}),s.jsx(be,{value:F.format||"",onChange:de=>yr(F,B,"format",de.target.value),placeholder:"Ej: Listas, resmenes concisos"})]})]})]})]}),s.jsxs(Ze,{value:"goals",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(Dt,{className:"h-4 w-4 text-success"}),"Objetivos vitales"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(be,{value:se,onChange:de=>me(de.target.value),placeholder:"Aadir objetivo vital...",onKeyDown:de=>de.key==="Enter"&&(de.preventDefault(),lt(b,y,se,me))}),s.jsx(U,{type:"button",size:"icon",variant:"outline",onClick:()=>lt(b,y,se,me),children:s.jsx(wt,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:b.map((de,we)=>s.jsxs(Q,{variant:"outline",className:"gap-1 border-success/50 text-success",children:[de,s.jsx("button",{onClick:()=>vr(b,y,we),children:s.jsx(kt,{className:"h-3 w-3"})})]},we))})]}),s.jsx(Ga,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(Ts,{className:"h-4 w-4 text-primary"}),"Objetivos profesionales"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(be,{value:te,onChange:de=>Ee(de.target.value),placeholder:"Aadir objetivo profesional...",onKeyDown:de=>de.key==="Enter"&&(de.preventDefault(),lt(N,j,te,Ee))}),s.jsx(U,{type:"button",size:"icon",variant:"outline",onClick:()=>lt(N,j,te,Ee),children:s.jsx(wt,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:N.map((de,we)=>s.jsxs(Q,{variant:"outline",className:"gap-1 border-primary/50 text-primary",children:[de,s.jsx("button",{onClick:()=>vr(N,j,we),children:s.jsx(kt,{className:"h-3 w-3"})})]},we))})]})]}),s.jsxs(Ze,{value:"lifestyle",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(JC,{className:"h-4 w-4 text-warning"}),"Contexto familiar"]}),s.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{className:"text-xs text-muted-foreground",children:"Situacin familiar"}),s.jsx(be,{value:R.situation||"",onChange:de=>yr(R,T,"situation",de.target.value),placeholder:"Ej: Casado, hijo pequeo"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{className:"text-xs text-muted-foreground",children:"Prioridades familiares"}),s.jsx(be,{value:R.priorities||"",onChange:de=>yr(R,T,"priorities",de.target.value),placeholder:"Ej: Tiempo de calidad, presencia"})]})]})]}),s.jsx(Ga,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(mt,{className:"h-4 w-4 text-destructive"}),"Perfil de salud"]}),s.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{className:"text-xs text-muted-foreground",children:"Actividad fsica"}),s.jsx(be,{value:L.activity||"",onChange:de=>yr(L,I,"activity",de.target.value),placeholder:"Ej: Entrenamiento regular, 4x semana"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{className:"text-xs text-muted-foreground",children:"Condiciones relevantes"}),s.jsx(be,{value:L.conditions||"",onChange:de=>yr(L,I,"conditions",de.target.value),placeholder:"Ej: Ninguna / Estrs"})]})]})]}),s.jsx(Ga,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(Xc,{className:"h-4 w-4 text-success"}),"Preferencias alimentarias"]}),s.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{className:"text-xs text-muted-foreground",children:"Dieta preferida"}),s.jsx(be,{value:P.diet||"",onChange:de=>yr(P,M,"diet",de.target.value),placeholder:"Ej: Keto, mediterrnea, equilibrada"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{className:"text-xs text-muted-foreground",children:"Estilo de cocina"}),s.jsx(be,{value:P.style||"",onChange:de=>yr(P,M,"style",de.target.value),placeholder:"Ej: Simple, rpida, batch cooking"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ue,{className:"text-muted-foreground",children:"Alimentos que NO te gustan"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(be,{value:xt,onChange:de=>yt(de.target.value),placeholder:"Aadir alimento...",onKeyDown:de=>de.key==="Enter"&&(de.preventDefault(),lt(O,$,xt,yt))}),s.jsx(U,{type:"button",size:"icon",variant:"outline",onClick:()=>lt(O,$,xt,yt),children:s.jsx(wt,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:O.map((de,we)=>s.jsxs(Q,{variant:"destructive",className:"gap-1",children:[de,s.jsx("button",{onClick:()=>vr(O,$,we),children:s.jsx(kt,{className:"h-3 w-3"})})]},we))})]})]}),s.jsxs(Ze,{value:"schedule",className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{children:"Mejor momento para concentracin"}),s.jsxs(ar,{value:q,onValueChange:J,children:[s.jsx(Kt,{children:s.jsx(ir,{})}),s.jsxs(Yt,{children:[s.jsx(De,{value:"early_morning",children:"Muy temprano (5-7h)"}),s.jsx(De,{value:"morning",children:"Maana (8-12h)"}),s.jsx(De,{value:"midday",children:"Medioda (12-14h)"}),s.jsx(De,{value:"afternoon",children:"Tarde (15-18h)"}),s.jsx(De,{value:"evening",children:"Noche (19-22h)"}),s.jsx(De,{value:"night",children:"Noche tarda (22h+)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{children:"Momento de mayor fatiga"}),s.jsxs(ar,{value:W,onValueChange:ne,children:[s.jsx(Kt,{children:s.jsx(ir,{})}),s.jsxs(Yt,{children:[s.jsx(De,{value:"early_morning",children:"Muy temprano (5-7h)"}),s.jsx(De,{value:"morning",children:"Maana (8-12h)"}),s.jsx(De,{value:"midday",children:"Medioda (12-14h)"}),s.jsx(De,{value:"afternoon",children:"Tarde (15-18h)"}),s.jsx(De,{value:"evening",children:"Noche (19-22h)"}),s.jsx(De,{value:"night",children:"Noche tarda (22h+)"})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(ue,{children:"Necesito buffers entre tareas"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"JARVIS aadir tiempo de margen entre bloques de trabajo"})]}),s.jsx(ya,{checked:he,onCheckedChange:ie})]})]}),s.jsxs(Ze,{value:"rules",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(Pv,{className:"h-4 w-4 text-primary"}),"Reglas personales"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Lmites que JARVIS debe respetar siempre"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(be,{value:je,onChange:de=>Be(de.target.value),placeholder:"Ej: No ms de 3 prioridades al da",onKeyDown:de=>de.key==="Enter"&&(de.preventDefault(),lt(S,_,je,Be))}),s.jsx(U,{type:"button",size:"icon",variant:"outline",onClick:()=>lt(S,_,je,Be),children:s.jsx(wt,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:S.map((de,we)=>s.jsxs(Q,{variant:"outline",className:"gap-1",children:[de,s.jsx("button",{onClick:()=>vr(S,_,we),children:s.jsx(kt,{className:"h-3 w-3"})})]},we))})]}),s.jsx(Ga,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ue,{className:"flex items-center gap-2 text-success",children:[s.jsx(Pv,{className:"h-4 w-4"}),"JARVIS puede decidir automticamente"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Acciones que JARVIS puede tomar sin preguntarte"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(be,{value:le,onChange:de=>Me(de.target.value),placeholder:"Ej: Reordenar tareas, ajustar bloques",onKeyDown:de=>de.key==="Enter"&&(de.preventDefault(),lt(k,E,le,Me))}),s.jsx(U,{type:"button",size:"icon",variant:"outline",onClick:()=>lt(k,E,le,Me),children:s.jsx(wt,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:k.map((de,we)=>s.jsxs(Q,{className:"gap-1 bg-success/20 text-success border-success/30",children:[de,s.jsx("button",{onClick:()=>vr(k,E,we),children:s.jsx(kt,{className:"h-3 w-3"})})]},we))})]}),s.jsx(Ga,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ue,{className:"flex items-center gap-2 text-destructive",children:[s.jsx(kr,{className:"h-4 w-4"}),"Requiere confirmacin obligatoria"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Decisiones que JARVIS NUNCA debe tomar sin preguntarte"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(be,{value:rt,onChange:de=>He(de.target.value),placeholder:"Ej: Quitar tiempo familiar, decisiones financieras",onKeyDown:de=>de.key==="Enter"&&(de.preventDefault(),lt(A,C,rt,He))}),s.jsx(U,{type:"button",size:"icon",variant:"outline",onClick:()=>lt(A,C,rt,He),children:s.jsx(wt,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:A.map((de,we)=>s.jsxs(Q,{variant:"destructive",className:"gap-1",children:[de,s.jsx("button",{onClick:()=>vr(A,C,we),children:s.jsx(kt,{className:"h-3 w-3"})})]},we))})]})]})]}),s.jsx("div",{className:"mt-6 pt-6 border-t",children:s.jsx(U,{onClick:qt,disabled:r,className:"w-full sm:w-auto",children:r?s.jsxs(s.Fragment,{children:[s.jsx(_e,{className:"h-4 w-4 mr-2 animate-spin"}),"Guardando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(_d,{className:"h-4 w-4 mr-2"}),"Guardar perfil"]})})})]})]})},w4="jarvis_notification_prefs",vme=()=>{const{isSupported:e,permission:t,requestPermission:r,notifyCheckIn:n}=Qz(),a=Ag(),[i,o]=p.useState(!1),[l,c]=p.useState({taskReminders:!0,dailyCheckIn:!0,pomodoroAlerts:!0,calendarReminders:!0,checkInTime:"08:00"});p.useEffect(()=>{try{const g=localStorage.getItem(w4);g&&c(JSON.parse(g))}catch{}},[]);const u=g=>{c(g);try{localStorage.setItem(w4,JSON.stringify(g))}catch{}},f=async()=>{o(!0),a.lightTap(),await r(),o(!1)},d=async()=>{a.success(),await n()},h=g=>{a.selection(),typeof l[g]=="boolean"&&u({...l,[g]:!l[g]})},m=g=>{a.lightTap(),u({...l,checkInTime:g})},x=g=>{const[v,w]=g.split(":"),b=parseInt(v),y=b>=12?"PM":"AM";return`${b%12||12}:${w} ${y}`};return e?s.jsxs(X,{className:"border-border bg-card",children:[s.jsx(pe,{children:s.jsxs(ge,{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[s.jsx(Gs,{className:"w-5 h-5 text-primary"}),"Notificaciones Push"]})}),s.jsxs(Y,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${t==="granted"?"bg-success/20":t==="denied"?"bg-destructive/20":"bg-warning/20"}`,children:t==="granted"?s.jsx(gr,{className:"w-5 h-5 text-success"}):t==="denied"?s.jsx(op,{className:"w-5 h-5 text-destructive"}):s.jsx(Jc,{className:"w-5 h-5 text-warning"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:t==="granted"?"Notificaciones activadas":t==="denied"?"Notificaciones bloqueadas":"Notificaciones desactivadas"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t==="granted"?"Recibirs alertas importantes":t==="denied"?"Desbloquea en configuracin del navegador":"Activa para recibir recordatorios"})]})]}),t==="default"&&s.jsx(U,{onClick:f,disabled:i,children:i?s.jsx(_e,{className:"w-4 h-4 animate-spin"}):"Activar"})]}),t==="granted"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-medium text-foreground",children:"Tipos de notificaciones"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(gr,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Recordatorios de tareas"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Alertas para tareas P0 pendientes"})]})]}),s.jsx(ya,{checked:l.taskReminders,onCheckedChange:()=>h("taskReminders")})]}),s.jsxs("div",{className:"space-y-3 py-2 border-y border-border",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(_g,{className:"w-4 h-4 text-warning"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Check-in diario"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Recordatorio para tu check-in matutino"})]})]}),s.jsx(ya,{checked:l.dailyCheckIn,onCheckedChange:()=>h("dailyCheckIn")})]}),l.dailyCheckIn&&s.jsxs("div",{className:"ml-7 p-3 rounded-lg bg-muted/30 space-y-2 animate-fade-in",children:[s.jsx(ue,{htmlFor:"checkin-time",className:"text-xs text-muted-foreground",children:"Hora del recordatorio"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(be,{id:"checkin-time",type:"time",value:l.checkInTime,onChange:g=>m(g.target.value),className:"w-32 h-9 text-sm bg-background"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",x(l.checkInTime),")"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Recibirs una notificacin a esta hora si no has hecho el check-in"})]})]}),s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Pt,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Alertas Pomodoro"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Fin de trabajo/descanso"})]})]}),s.jsx(ya,{checked:l.pomodoroAlerts,onCheckedChange:()=>h("pomodoroAlerts")})]}),s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Jt,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Eventos del calendario"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"15 min antes de cada evento"})]})]}),s.jsx(ya,{checked:l.calendarReminders,onCheckedChange:()=>h("calendarReminders")})]})]}),s.jsxs(U,{variant:"outline",className:"w-full mt-4",onClick:d,children:[s.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Probar notificacin"]})]})]})]}):s.jsxs(X,{className:"border-border bg-card",children:[s.jsx(pe,{children:s.jsxs(ge,{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[s.jsx(op,{className:"w-5 h-5 text-muted-foreground"}),"Notificaciones no soportadas"]})}),s.jsx(Y,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Tu navegador no soporta notificaciones push. Prueba con Chrome o Safari."})})]})},yme=()=>{var y,N;const{isOpen:e,isCollapsed:t,open:r,close:n,toggleCollapse:a}=un(),{user:i}=ut(),{settings:o,loading:l,updateSettings:c}=$0(),[u,f]=p.useState(o.pomodoro_work_duration),[d,h]=p.useState(o.pomodoro_short_break),[m,x]=p.useState(o.pomodoro_long_break),[g,v]=p.useState(!1);p.useEffect(()=>{f(o.pomodoro_work_duration),h(o.pomodoro_short_break),x(o.pomodoro_long_break)},[o]);const w=async()=>{v(!0);try{await c({pomodoro_work_duration:u,pomodoro_short_break:d,pomodoro_long_break:m}),V.success("Ajustes de Pomodoro guardados")}catch{V.error("Error al guardar los ajustes")}finally{v(!1)}},b=u!==o.pomodoro_work_duration||d!==o.pomodoro_short_break||m!==o.pomodoro_long_break;return l?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(_e,{className:"w-8 h-8 animate-spin text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Cargando ajustes..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(zr,{isOpen:e,onClose:n,isCollapsed:t,onToggleCollapse:a}),s.jsxs("div",{className:z("transition-all duration-300",t?"lg:pl-20":"lg:pl-72"),children:[s.jsx(Ur,{onMenuClick:r}),s.jsxs("main",{className:"p-4 lg:p-6 space-y-6 max-w-4xl",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Ajustes"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Personaliza tu experiencia en JARVIS"})]}),s.jsxs(X,{children:[s.jsxs(pe,{children:[s.jsxs(ge,{className:"flex items-center gap-2",children:[s.jsx(Cg,{className:"h-5 w-5 text-primary"}),"Perfil"]}),s.jsx(St,{children:"Informacin de tu cuenta"})]}),s.jsx(Y,{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx("span",{className:"text-2xl font-bold text-primary",children:((y=i==null?void 0:i.email)==null?void 0:y.charAt(0).toUpperCase())||"U"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:((N=i==null?void 0:i.email)==null?void 0:N.split("@")[0])||"Usuario"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i==null?void 0:i.email})]})]})})]}),s.jsx(xme,{}),s.jsx(gme,{}),s.jsx(mme,{}),s.jsx(pme,{}),s.jsx(vme,{}),s.jsxs(X,{children:[s.jsxs(pe,{children:[s.jsxs(ge,{className:"flex items-center gap-2",children:[s.jsx(Ks,{className:"h-5 w-5 text-primary"}),"Temporizador Pomodoro"]}),s.jsx(St,{children:"Personaliza la duracin de tus sesiones de trabajo y descanso"})]}),s.jsxs(Y,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(Ks,{className:"h-4 w-4 text-primary"}),"Sesin de trabajo"]}),s.jsxs("span",{className:"text-sm font-medium tabular-nums",children:[u," min"]})]}),s.jsx(Er,{value:[u],onValueChange:j=>f(j[0]),min:5,max:60,step:5,className:"w-full"}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"5 min"}),s.jsx("span",{children:"60 min"})]})]}),s.jsx(Ga,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(Jf,{className:"h-4 w-4 text-success"}),"Descanso corto"]}),s.jsxs("span",{className:"text-sm font-medium tabular-nums",children:[d," min"]})]}),s.jsx(Er,{value:[d],onValueChange:j=>h(j[0]),min:1,max:15,step:1,className:"w-full"}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"1 min"}),s.jsx("span",{children:"15 min"})]})]}),s.jsx(Ga,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(Y$,{className:"h-4 w-4 text-warning"}),"Descanso largo"]}),s.jsxs("span",{className:"text-sm font-medium tabular-nums",children:[m," min"]})]}),s.jsx(Er,{value:[m],onValueChange:j=>x(j[0]),min:5,max:30,step:5,className:"w-full"}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"5 min"}),s.jsx("span",{children:"30 min"})]})]}),s.jsx("div",{className:"pt-2",children:s.jsx(U,{onClick:w,disabled:g||!b,className:"w-full sm:w-auto",children:g?s.jsxs(s.Fragment,{children:[s.jsx(_e,{className:"h-4 w-4 mr-2 animate-spin"}),"Guardando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(_d,{className:"h-4 w-4 mr-2"}),"Guardar cambios"]})})})]})]}),s.jsx(nme,{})]})]})]})},Q7=p.forwardRef(({...e},t)=>s.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));Q7.displayName="Breadcrumb";const Z7=p.forwardRef(({className:e,...t},r)=>s.jsx("ol",{ref:r,className:z("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));Z7.displayName="BreadcrumbList";const h_=p.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,className:z("inline-flex items-center gap-1.5",e),...t}));h_.displayName="BreadcrumbItem";const m_=p.forwardRef(({asChild:e,className:t,...r},n)=>{const a=e?w$:"a";return s.jsx(a,{ref:n,className:z("transition-colors hover:text-foreground",t),...r})});m_.displayName="BreadcrumbLink";const e9=p.forwardRef(({className:e,...t},r)=>s.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:z("font-normal text-foreground",e),...t}));e9.displayName="BreadcrumbPage";const t9=({children:e,className:t,...r})=>s.jsx("li",{role:"presentation","aria-hidden":"true",className:z("[&>svg]:size-3.5",t),...r,children:e??s.jsx(Zs,{})});t9.displayName="BreadcrumbSeparator";const j4={"/start-day":{title:"Inicio del Da",parent:"/dashboard"},"/tasks":{title:"Tareas",parent:"/dashboard"},"/logs":{title:"Logs",parent:"/dashboard"},"/calendar":{title:"Calendario",parent:"/dashboard"},"/analytics":{title:"Analytics",parent:"/dashboard"},"/challenges":{title:"Retos",parent:"/dashboard"},"/ai-news":{title:"Noticias IA",parent:"/dashboard"},"/nutrition":{title:"Nutricin",parent:"/dashboard"},"/finances":{title:"Finanzas",parent:"/dashboard"},"/bosco":{title:"Bosco",parent:"/dashboard"},"/content":{title:"Contenido",parent:"/dashboard"},"/ai-course":{title:"Curso IA",parent:"/dashboard"},"/coach":{title:"Coach",parent:"/dashboard"},"/english":{title:"Ingls",parent:"/dashboard"},"/dashboard":{title:"Dashboard"},"/settings":{title:"Ajustes",parent:"/dashboard"}},tc=()=>{const t=oi().pathname,r=j4[t];if(!r||t==="/dashboard")return null;const n=[];if(r.parent){const a=j4[r.parent];a&&n.push({path:r.parent,title:a.title})}return n.push({path:t,title:r.title}),s.jsx(Q7,{className:"mb-4",children:s.jsxs(Z7,{children:[s.jsx(h_,{children:s.jsx(m_,{asChild:!0,children:s.jsx(cf,{to:"/dashboard",className:"flex items-center gap-1 hover:text-foreground transition-colors",children:s.jsx(JC,{className:"h-3.5 w-3.5"})})})}),n.map((a,i)=>{const o=i===n.length-1;return s.jsxs("div",{className:"flex items-center",children:[s.jsx(t9,{}),s.jsx(h_,{children:o?s.jsx(e9,{children:a.title}):s.jsx(m_,{asChild:!0,children:s.jsx(cf,{to:a.path,className:"hover:text-foreground transition-colors",children:a.title})})})]},a.path)})]})})},r9=(e=30)=>{const{user:t}=ut(),[r,n]=p.useState(!0),[a,i]=p.useState([]),[o,l]=p.useState({totalSessions:0,totalMinutes:0,byDay:[],byWeek:[]});p.useEffect(()=>{t&&c()},[t,e]);const c=async()=>{if(t){n(!0);try{const d=new Date;d.setDate(d.getDate()-e);const{data:h,error:m}=await H.from("pomodoro_sessions").select("*").eq("user_id",t.id).eq("type","work").gte("completed_at",d.toISOString()).order("completed_at",{ascending:!0});if(m)throw m;i(h||[]),u(h||[])}catch(d){console.error("Error fetching pomodoro sessions:",d)}finally{n(!1)}}},u=d=>{const h=d.length,m=d.reduce((b,y)=>b+y.duration,0),x={};d.forEach(b=>{const y=b.completed_at.split("T")[0];x[y]||(x[y]={sessions:0,minutes:0}),x[y].sessions++,x[y].minutes+=b.duration});const g=Object.entries(x).map(([b,y])=>({date:b,...y})).sort((b,y)=>b.date.localeCompare(y.date)),v={};d.forEach(b=>{const y=bme(b.completed_at.split("T")[0]);v[y]||(v[y]={sessions:0,minutes:0}),v[y].sessions++,v[y].minutes+=b.duration});const w=Object.entries(v).map(([b,y])=>({week:b,...y})).sort((b,y)=>b.week.localeCompare(y.week));l({totalSessions:h,totalMinutes:m,byDay:g,byWeek:w})};return{loading:r,sessions:a,stats:o,saveSession:async(d,h,m,x)=>{if(t)try{const{error:g}=await H.from("pomodoro_sessions").insert({user_id:t.id,task_id:d,task_title:h,duration:m,type:x});if(g)throw g;c()}catch(g){console.error("Error saving pomodoro session:",g)}},refetch:c}};function bme(e){const t=new Date(e),r=t.getDay(),n=t.getDate()-r+(r===0?-6:1);return t.setDate(n),t.toISOString().split("T")[0]}const wme=()=>{const{settings:e,updateSettings:t}=$0(),[r,n]=p.useState(!1),[a,i]=p.useState(e.pomodoro_work_duration),[o,l]=p.useState(e.pomodoro_short_break),[c,u]=p.useState(e.pomodoro_long_break),[f,d]=p.useState(!1),h=x=>{x&&(i(e.pomodoro_work_duration),l(e.pomodoro_short_break),u(e.pomodoro_long_break)),n(x)},m=async()=>{d(!0);try{await t({pomodoro_work_duration:a,pomodoro_short_break:o,pomodoro_long_break:c}),V.success("Ajustes guardados"),n(!1)}catch{V.error("Error al guardar los ajustes")}finally{d(!1)}};return s.jsxs(Lt,{open:r,onOpenChange:h,children:[s.jsx(Np,{asChild:!0,children:s.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8",children:s.jsx(tf,{className:"h-4 w-4"})})}),s.jsxs(Ft,{className:"sm:max-w-md",children:[s.jsx(or,{children:s.jsxs(lr,{className:"flex items-center gap-2",children:[s.jsx(Ks,{className:"h-5 w-5 text-primary"}),"Ajustes de Pomodoro"]})}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(Ks,{className:"h-4 w-4 text-primary"}),"Sesin de trabajo"]}),s.jsxs("span",{className:"text-sm font-medium",children:[a," min"]})]}),s.jsx(Er,{value:[a],onValueChange:x=>i(x[0]),min:5,max:60,step:5,className:"w-full"}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"5 min"}),s.jsx("span",{children:"60 min"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(Jf,{className:"h-4 w-4 text-success"}),"Descanso corto"]}),s.jsxs("span",{className:"text-sm font-medium",children:[o," min"]})]}),s.jsx(Er,{value:[o],onValueChange:x=>l(x[0]),min:1,max:15,step:1,className:"w-full"}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"1 min"}),s.jsx("span",{children:"15 min"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(Y$,{className:"h-4 w-4 text-warning"}),"Descanso largo"]}),s.jsxs("span",{className:"text-sm font-medium",children:[c," min"]})]}),s.jsx(Er,{value:[c],onValueChange:x=>u(x[0]),min:5,max:30,step:5,className:"w-full"}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"5 min"}),s.jsx("span",{children:"30 min"})]})]}),s.jsx("div",{className:"pt-2",children:s.jsx(U,{onClick:m,disabled:f,className:"w-full",children:f?"Guardando...":"Guardar ajustes"})})]})]})]})},jme={work:"Trabajo",shortBreak:"Descanso corto",longBreak:"Descanso largo"},Nme=({task:e,onClose:t,onComplete:r})=>{const{settings:n}=$0(),{saveSession:a}=r9(),i=Ag(),o=Fk(),l=p.useMemo(()=>({work:n.pomodoro_work_duration*60,shortBreak:n.pomodoro_short_break*60,longBreak:n.pomodoro_long_break*60}),[n]),[c,u]=p.useState("work"),[f,d]=p.useState(l.work),[h,m]=p.useState(!1),[x,g]=p.useState(0),[v,w]=p.useState(0),[b,y]=p.useState("default"),N=p.useRef(null),j=p.useRef(null);p.useEffect(()=>{"Notification"in window&&(y(Notification.permission),Notification.permission==="default"&&Notification.requestPermission().then(T=>{y(T)}))},[]),p.useEffect(()=>{h||d(l[c])},[l,c,h]),p.useEffect(()=>{j.current=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2teleQAKl9PQqpI8AAw2irHY0qlaHgxNsdHQpnYsCE2v0dKnfD8ATLDQ06mDTQBGr9DTqYRVAD2v0NOphlsANK/P06mGYAAsr87TqYZlACWvzdOphmoAHq/N06mGbgAYrs3TqYZyABKuzdOph3YADa3M06mHegAIrczTqYh9AAOty9OpiIEA/6zL06mIhAD7rMvTqYiHAPesy9OpiYoA86vL06mJjQDvq8vTqYmPAOury9Opi5IA6KrK06mLlQDkqsrTqYuXAOGqytOpi5oA3arK06mLnADaqsrTqYufANeqytOpi6EA1KrK06mMowDRqsrTqYylAM6pydOqjKgAy6nJ06qMqgDJqcnTqoysAMepydOqjK4AxKnJ06qMsADCqcnTqoyyAMCpydOqjLQAvqnJ06qNtgC8qcnTqo24ALqpydOqjboAuKjJ06qNvAC2qMnTqo2+ALWoydOqjcAAc6jJ06qOwgBxqMnTqo7EAHCnydOqjsYAbqfJ06qOyABsp8nTqo7KAGunyNOqjs0AaafI06qOzwBnp8jTqo/RAGWnyNOqj9MAZKfI06qP1QBip8jTqo/XAGGnx9Oqj9kAX6fH06qP2wBep8fTqo/dAFynx9OqkN8AW6fH06qQ4QBZp8fTqpDjAFimx9OqkOUAV6bH06qQ5wBWpsfTqpDpAFSmx9OqkesAU6bG06qR7QBSpsb")},[]);const S=p.useCallback((T,L)=>{if("Notification"in window&&Notification.permission==="granted")try{new Notification(T,{body:L,icon:"/favicon.ico",badge:"/favicon.ico",tag:"pomodoro",requireInteraction:!0})}catch(I){console.error("Error sending notification:",I)}},[]);p.useEffect(()=>(h&&f>0?N.current=setInterval(()=>{d(T=>T<=1?(_(),0):T-1),c==="work"&&w(T=>T+1)},1e3):N.current&&clearInterval(N.current),()=>{N.current&&clearInterval(N.current)}),[h,c]);const _=p.useCallback(()=>{if(m(!1),j.current&&j.current.play().catch(()=>{}),i.success(),o.success(),c==="work"){const T=x+1;g(T),a((e==null?void 0:e.id)||null,(e==null?void 0:e.title)||null,n.pomodoro_work_duration,"work"),S(`Pomodoro #${T} completado!`,e?`Tarea: ${e.title}`:"Hora de tomar un descanso!"),V.success(`Pomodoro #${T} completado!`,{description:e?`Tarea: ${e.title}`:void 0}),T%4===0?(u("longBreak"),d(l.longBreak),V.info("Hora de un descanso largo!")):(u("shortBreak"),d(l.shortBreak),V.info("Hora de un descanso corto!"))}else S("Descanso terminado!","Es hora de volver al trabajo"),u("work"),d(l.work),V.info("De vuelta al trabajo!")},[c,x,e,a,n,l,S,i,o]),k=()=>{i.lightTap(),o.tap(),m(T=>!T)},E=()=>{i.warning(),o.warning(),m(!1),d(l[c])},A=()=>{i.lightTap(),o.tap(),m(!1),c==="work"?(u("shortBreak"),d(l.shortBreak)):(u("work"),d(l.work))},C=T=>{i.lightTap(),o.tap(),m(!1),u(T),d(l[T])},O=T=>{const L=Math.floor(T/60),I=T%60;return`${L.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}`},$=(l[c]-f)/l[c]*100,R=()=>{e&&r&&(i.success(),o.complete(),r(e.id),V.success(`Tarea completada: ${e.title}`))};return s.jsx(X,{className:z("fixed bottom-24 right-6 z-40 w-80 shadow-xl border-2 transition-colors",c==="work"?"border-primary/50 bg-card":"border-success/50 bg-success/5"),children:s.jsxs(Y,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[c==="work"?s.jsx(Ts,{className:"w-4 h-4 text-primary"}):s.jsx(Jf,{className:"w-4 h-4 text-success"}),s.jsx("span",{className:"font-medium text-sm",children:jme[c]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(wme,{}),s.jsx(U,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:t,children:s.jsx(kt,{className:"h-4 w-4"})})]})]}),e&&s.jsxs("div",{className:"mb-4 p-2 rounded-lg bg-muted/50",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Trabajando en:"}),s.jsx("p",{className:"text-sm font-medium truncate",children:e.title})]}),s.jsx("div",{className:"flex gap-1 mb-4",children:["work","shortBreak","longBreak"].map(T=>s.jsx("button",{onClick:()=>C(T),className:z("flex-1 py-1.5 px-2 text-xs rounded-md transition-colors",c===T?T==="work"?"bg-primary text-primary-foreground":"bg-success text-success-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"),children:T==="work"?"Trabajo":T==="shortBreak"?"Corto":"Largo"},T))}),s.jsx("div",{className:"text-center mb-4",children:s.jsx("div",{className:z("text-5xl font-bold font-mono",c==="work"?"text-primary":"text-success"),children:O(f)})}),s.jsx(Cr,{value:$,className:z("h-2 mb-4",c!=="work"&&"[&>div]:bg-success")}),s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[s.jsx(U,{variant:"outline",size:"icon",onClick:E,className:"h-10 w-10",children:s.jsx(ZC,{className:"h-4 w-4"})}),s.jsx(U,{size:"lg",onClick:k,className:z("h-12 w-12 rounded-full",c!=="work"&&"bg-success hover:bg-success/90"),children:h?s.jsx(QC,{className:"h-5 w-5"}):s.jsx(Qa,{className:"h-5 w-5 ml-0.5"})}),s.jsx(U,{variant:"outline",size:"icon",onClick:A,className:"h-10 w-10",children:s.jsx(DY,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground border-t border-border pt-3",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ks,{className:"h-3 w-3"}),s.jsxs("span",{children:["Pomodoros: ",x]})]}),s.jsxs("div",{children:["Tiempo total: ",Math.floor(v/60),"m"]})]}),e&&r&&s.jsx(U,{variant:"outline",size:"sm",className:"w-full mt-3",onClick:R,children:"Marcar tarea como completada"})]})})},Sme=({task:e,onComplete:t,variant:r="icon",className:n})=>{const[a,i]=p.useState(!1);return s.jsxs(s.Fragment,{children:[r==="icon"?s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>i(!0),className:z("h-8 w-8",n),title:"Iniciar Pomodoro",children:s.jsx(Ks,{className:"h-4 w-4"})}):s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>i(!0),className:z("gap-1.5",n),children:[s.jsx(Ks,{className:"h-3.5 w-3.5"}),"Enfoque"]}),a&&s.jsx(Nme,{task:e,onClose:()=>i(!1),onComplete:t})]})},_me=(e={})=>{const{threshold:t=50,onSwipeLeft:r,onSwipeRight:n,onSwipeUp:a,onSwipeDown:i}=e,o=p.useRef(null),[l,c]=p.useState({swiping:!1,direction:null,deltaX:0,deltaY:0}),u=p.useCallback(m=>{const x=m.touches[0];o.current={x:x.clientX,y:x.clientY},c({swiping:!1,direction:null,deltaX:0,deltaY:0})},[]),f=p.useCallback(m=>{if(!o.current)return;const x=m.touches[0],g=x.clientX-o.current.x,v=x.clientY-o.current.y;let w=null;Math.abs(g)>Math.abs(v)?w=g>0?"right":"left":w=v>0?"down":"up",c({swiping:!0,direction:w,deltaX:g,deltaY:v})},[]),d=p.useCallback(()=>{if(!o.current)return;const{deltaX:m,deltaY:x,direction:g}=l;if(Math.abs(m)>=t||Math.abs(x)>=t)switch(g){case"left":r==null||r();break;case"right":n==null||n();break;case"up":a==null||a();break;case"down":i==null||i();break}o.current=null,c({swiping:!1,direction:null,deltaX:0,deltaY:0})},[l,t,r,n,a,i]);return{handlers:{onTouchStart:u,onTouchMove:f,onTouchEnd:d},swipeState:l,isSwiping:l.swiping,swipeDirection:l.direction,deltaX:l.deltaX,deltaY:l.deltaY}},k1={work:{icon:Ts,label:"Trabajo",color:"bg-primary/10 text-primary border-primary/20"},life:{icon:mt,label:"Vida",color:"bg-success/10 text-success border-success/20"},finance:{icon:Li,label:"Finanzas",color:"bg-warning/10 text-warning border-warning/20"}},Cme={P0:"bg-destructive/20 text-destructive border-destructive/30",P1:"bg-warning/20 text-warning border-warning/30",P2:"bg-muted text-muted-foreground border-border"},kme=({task:e,onToggleComplete:t,onDelete:r,onConvertToBlock:n})=>{const[a,i]=p.useState(null),[o,l]=p.useState(null),c=Ag(),u=Fk(),f=p.useRef(null),{handlers:d,deltaX:h,isSwiping:m}=_me({threshold:80,onSwipeLeft:()=>{c.warning(),u.warning(),i("left")},onSwipeRight:()=>{x()}}),x=()=>{c.success(),u.complete(),l("complete"),setTimeout(()=>{t(e.id),i(null),l(null)},300)},g=()=>{c.error(),u.delete(),l("delete"),setTimeout(()=>{r(e.id),i(null),l(null)},300)},v=()=>{c.lightTap(),u.tap(),i(null)},w=k1[e.type].icon,b=()=>o==="complete"?"translateX(100%)":o==="delete"?"translateX(-100%)":a==="left"?"translateX(-100px)":a==="right"?"translateX(100px)":m?`translateX(${h}px)`:"translateX(0)",y=()=>o==="complete"?"bg-success":o==="delete"?"bg-destructive":h>30?"bg-success":h<-30?"bg-destructive":"bg-muted",N=()=>o==="complete"||o==="delete"?"opacity-0 scale-95 h-0 mb-0 overflow-hidden":"";return s.jsxs("div",{ref:f,className:z("relative overflow-hidden rounded-lg transition-all duration-300 ease-out",N()),style:{maxHeight:o?0:200,marginBottom:o?0:void 0},children:[s.jsxs("div",{className:z("absolute inset-0 flex items-center justify-between px-4 transition-colors duration-200",y()),children:[s.jsxs("div",{className:z("flex items-center gap-2 text-white transition-all duration-200",h>30?"scale-110":"scale-100"),children:[s.jsx(gt,{className:z("w-5 h-5 transition-transform duration-200",h>60&&"scale-125")}),s.jsx("span",{className:"text-sm font-medium",children:"Completar"})]}),s.jsxs("div",{className:z("flex items-center gap-2 text-white transition-all duration-200",h<-30?"scale-110":"scale-100"),children:[s.jsx("span",{className:"text-sm font-medium",children:"Eliminar"}),s.jsx(Ri,{className:z("w-5 h-5 transition-transform duration-200",h<-60&&"scale-125")})]})]}),s.jsxs("div",{...d,className:z("relative bg-card border border-border p-3 rounded-lg","transition-all duration-300 ease-out",m&&"transition-none",o&&"transition-transform duration-300 ease-out"),style:{transform:b()},children:[a==="left"&&!o&&s.jsxs("div",{className:"absolute right-0 top-0 bottom-0 w-[100px] flex items-center justify-center gap-2 bg-destructive/10 px-2 animate-fade-in",children:[s.jsx(U,{variant:"ghost",size:"icon",onClick:g,className:"h-10 w-10 text-destructive hover:bg-destructive hover:text-destructive-foreground transition-all duration-200 hover:scale-110",children:s.jsx(Ri,{className:"w-5 h-5"})}),s.jsx(U,{variant:"ghost",size:"icon",onClick:v,className:"h-10 w-10 text-muted-foreground hover:bg-muted transition-all duration-200",children:s.jsx(kt,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ls,{checked:e.completed,onCheckedChange:()=>x(),className:z("mt-1 border-primary data-[state=checked]:bg-primary","transition-transform duration-200 hover:scale-110")}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:z("font-medium text-foreground transition-all duration-200",e.completed&&"line-through text-muted-foreground"),children:e.title}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[s.jsxs(Q,{variant:"outline",className:z("text-xs transition-all duration-200",k1[e.type].color),children:[s.jsx(w,{className:"w-3 h-3 mr-1"}),k1[e.type].label]}),s.jsx(Q,{variant:"outline",className:z("text-xs transition-all duration-200",Cme[e.priority]),children:e.priority}),s.jsxs(Q,{variant:"outline",className:"text-xs border-border text-muted-foreground transition-all duration-200",children:[s.jsx(Pt,{className:"w-3 h-3 mr-1"}),e.duration," min"]})]})]}),!e.completed&&s.jsxs("div",{className:"flex gap-1 items-center",children:[s.jsx(Sme,{task:{id:e.id,title:e.title,duration:e.duration},onComplete:t,variant:"button",className:"text-xs"}),n&&s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{c.lightTap(),u.tap(),n(e.title,e.duration)},className:"h-8 w-8 text-primary hover:text-primary hover:bg-primary/10 transition-all duration-200 hover:scale-110",children:s.jsx(Jt,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:z("absolute bottom-1 left-1/2 -translate-x-1/2 text-[10px] text-muted-foreground/50 md:hidden","transition-opacity duration-200",m&&"opacity-0"),children:" Desliza para acciones "})]})]})},E1={work:{icon:Ts,label:"Trabajo",color:"bg-primary/10 text-primary border-primary/20"},life:{icon:mt,label:"Vida",color:"bg-success/10 text-success border-success/20"},finance:{icon:Li,label:"Finanzas",color:"bg-warning/10 text-warning border-warning/20"}},Eme=()=>{const{isOpen:e,isCollapsed:t,open:r,close:n,toggleCollapse:a}=un(),[i,o]=p.useState(""),[l,c]=p.useState("work"),[u,f]=p.useState("today"),{pendingTasks:d,completedTasks:h,loading:m,addTask:x,toggleComplete:g,deleteTask:v}=gw(),{createEvent:w,connected:b}=Wg(),y=async()=>{i.trim()&&(await x({title:i,type:l,priority:"P1",duration:30}),o(""))},N=async(j,S)=>{if(!b)return;const _=new Date,k=_.getMinutes(),E=k<30?30:0,C=`${(k<30?_.getHours():_.getHours()+1).toString().padStart(2,"0")}:${E.toString().padStart(2,"0")}`;await w({title:j,time:C,duration:S,description:"Creado desde JARVIS"})};return m?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(_e,{className:"w-8 h-8 text-primary animate-spin"}),s.jsx("p",{className:"text-muted-foreground font-mono text-sm",children:"CARGANDO TAREAS..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(zr,{isOpen:e,onClose:n,isCollapsed:t,onToggleCollapse:a}),s.jsxs("div",{className:z("transition-all duration-300",t?"lg:pl-20":"lg:pl-72"),children:[s.jsx(Ur,{onMenuClick:r}),s.jsxs("main",{className:"p-4 lg:p-6 space-y-6",children:[s.jsx(tc,{}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center",children:s.jsx(Sg,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Tareas"}),s.jsxs("p",{className:"text-sm text-muted-foreground font-mono",children:[d.length," PENDIENTES"]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{variant:u==="today"?"default":"outline",size:"sm",onClick:()=>f("today"),className:u==="today"?"bg-primary text-primary-foreground":"border-border",children:"Hoy"}),s.jsx(U,{variant:u==="week"?"default":"outline",size:"sm",onClick:()=>f("week"),className:u==="week"?"bg-primary text-primary-foreground":"border-border",children:"Semana"})]})]}),s.jsx(X,{className:"border-border bg-card",children:s.jsx(Y,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsx(be,{placeholder:"Nueva tarea...",value:i,onChange:j=>o(j.target.value),onKeyDown:j=>j.key==="Enter"&&y(),className:"flex-1 h-11 bg-background border-border font-mono"}),s.jsx("div",{className:"flex gap-2",children:["work","life","finance"].map(j=>{const S=E1[j];return s.jsx(U,{variant:"outline",size:"sm",onClick:()=>c(j),className:`h-11 px-3 ${l===j?S.color:"border-border text-muted-foreground"}`,children:s.jsx(S.icon,{className:"w-4 h-4"})},j)})}),s.jsxs(U,{onClick:y,className:"h-11 bg-primary hover:bg-primary/90 text-primary-foreground gap-2",children:[s.jsx(wt,{className:"w-4 h-4"}),"Aadir"]})]})})}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[s.jsxs(X,{className:"border-border bg-card",children:[s.jsx(pe,{className:"pb-4",children:s.jsxs(ge,{className:"text-lg font-semibold text-foreground font-mono",children:["PENDIENTES (",d.length,")"]})}),s.jsx(Y,{className:"space-y-3",children:d.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No hay tareas pendientes"}):d.map(j=>s.jsx(kme,{task:j,onToggleComplete:g,onDelete:v,onConvertToBlock:N},j.id))})]}),s.jsxs(X,{className:"border-border bg-card",children:[s.jsx(pe,{className:"pb-4",children:s.jsxs(ge,{className:"text-lg font-semibold text-foreground font-mono",children:["COMPLETADAS (",h.length,")"]})}),s.jsx(Y,{className:"space-y-3",children:h.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No hay tareas completadas"}):h.slice(0,10).map(j=>{const S=E1[j.type].icon;return s.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border border-border opacity-60",children:[s.jsx(ls,{checked:j.completed,onCheckedChange:()=>g(j.id),className:"mt-1 border-primary data-[state=checked]:bg-primary"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-muted-foreground line-through",children:j.title}),s.jsx("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:s.jsxs(Q,{variant:"outline",className:"text-xs border-border text-muted-foreground",children:[s.jsx(S,{className:"w-3 h-3 mr-1"}),E1[j.type].label]})})]})]},j.id)})})]})]})]})]})]})},Pme=()=>{const{user:e}=ut(),[t,r]=p.useState([]),[n,a]=p.useState(!0),i=Tm();p.useEffect(()=>{e&&o()},[e]);const o=async()=>{if(e){a(!0);try{const{data:f,error:d}=await H.from("daily_logs").select("*").eq("user_id",e.id).order("date",{ascending:!1}).limit(30);if(d)throw d;r(f.map(h=>({id:h.id,date:h.date,workWin:h.work_win,lifeWin:h.life_win,tomorrowAdjust:h.tomorrow_adjust,plannedCount:h.planned_count||0,completedCount:h.completed_count||0,movedCount:h.moved_count||0,energyAvg:h.energy_avg,moodAvg:h.mood_avg,focusAvg:h.focus_avg})))}catch(f){console.error("Error fetching logs:",f),V.error("Error al cargar logs")}finally{a(!1)}}},l=async f=>{if(e)try{const{error:d}=await H.from("daily_logs").upsert({user_id:e.id,date:i,work_win:f.workWin,life_win:f.lifeWin,tomorrow_adjust:f.tomorrowAdjust},{onConflict:"user_id,date"});if(d)throw d;await o(),V.success("Cierre del da guardado")}catch(d){console.error("Error saving log:",d),V.error("Error al guardar el cierre")}},c=t.find(f=>f.date===i),u=t.filter(f=>f.date!==i);return{logs:t,todayLog:c,historicalLogs:u,loading:n,saveTodayLog:l,refetch:o}},Ome=()=>{const{isOpen:e,isCollapsed:t,open:r,close:n,toggleCollapse:a}=un(),[i,o]=p.useState(""),[l,c]=p.useState(""),[u,f]=p.useState(""),[d,h]=p.useState(!1),{todayLog:m,historicalLogs:x,loading:g,saveTodayLog:v}=Pme(),w=async()=>{if(!i||!l||!u){V.error("Completa todos los campos del cierre");return}h(!0),await v({workWin:i,lifeWin:l,tomorrowAdjust:u}),h(!1),o(""),c(""),f("")};return g?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(_e,{className:"w-8 h-8 text-primary animate-spin"}),s.jsx("p",{className:"text-muted-foreground font-mono text-sm",children:"CARGANDO LOGS..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(zr,{isOpen:e,onClose:n,isCollapsed:t,onToggleCollapse:a}),s.jsxs("div",{className:z("transition-all duration-300",t?"lg:pl-20":"lg:pl-72"),children:[s.jsx(Ur,{onMenuClick:r}),s.jsxs("main",{className:"p-4 lg:p-6 space-y-6",children:[s.jsx(tc,{}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center",children:s.jsx(Or,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Logs Diarios"}),s.jsx("p",{className:"text-sm text-muted-foreground font-mono",children:"REGISTRO DE EVOLUCIN"})]})]}),s.jsxs(X,{className:"border-primary/30 bg-card",children:[s.jsx(pe,{className:"pb-4",children:s.jsxs(ge,{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[s.jsx(et,{className:"w-5 h-5 text-primary"}),"Cierre del da",s.jsx(Q,{className:"ml-2 bg-primary/20 text-primary border-primary/30 font-mono",children:"1 MIN"}),m&&s.jsx(Q,{className:"ml-2 bg-success/20 text-success border-success/30 font-mono",children:"GUARDADO"})]})}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[s.jsx(Pi,{className:"w-4 h-4 text-primary"}),"1 logro trabajo"]}),s.jsx(Kr,{placeholder:"Qu conseguiste hoy en el trabajo?",value:i,onChange:b=>o(b.target.value),className:"bg-background border-border resize-none h-24 font-mono text-sm"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[s.jsx(Pi,{className:"w-4 h-4 text-success"}),"1 logro vida"]}),s.jsx(Kr,{placeholder:"Qu hiciste por ti o tu familia?",value:l,onChange:b=>c(b.target.value),className:"bg-background border-border resize-none h-24 font-mono text-sm"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[s.jsx(iu,{className:"w-4 h-4 text-warning"}),"1 ajuste para maana"]}),s.jsx(Kr,{placeholder:"Qu haras diferente maana?",value:u,onChange:b=>f(b.target.value),className:"bg-background border-border resize-none h-24 font-mono text-sm"})]})]}),s.jsxs(U,{onClick:w,disabled:d,className:"w-full h-11 bg-primary hover:bg-primary/90 text-primary-foreground gap-2",children:[d?s.jsx(_e,{className:"w-4 h-4 animate-spin"}):s.jsx(_d,{className:"w-4 h-4"}),"Guardar cierre del da"]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-foreground font-mono",children:"HISTORIAL"}),x.length===0?s.jsx(X,{className:"border-border bg-card",children:s.jsx(Y,{className:"py-8 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"No hay logs anteriores"})})}):x.map(b=>s.jsxs(X,{className:"border-border bg-card",children:[s.jsx(pe,{className:"pb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ge,{className:"text-base font-medium text-foreground flex items-center gap-2",children:[s.jsx(Jt,{className:"w-4 h-4 text-primary"}),new Date(b.date).toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Q,{variant:"outline",className:"text-xs border-success/30 text-success font-mono",children:[s.jsx(Pi,{className:"w-3 h-3 mr-1"}),b.completedCount,"/",b.plannedCount]}),b.movedCount>0&&s.jsxs(Q,{variant:"outline",className:"text-xs border-warning/30 text-warning font-mono",children:[b.movedCount," movidas"]})]})]})}),s.jsx(Y,{children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide font-mono",children:"Logro trabajo"}),s.jsx("p",{className:"text-sm text-foreground",children:b.workWin||""})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide font-mono",children:"Logro vida"}),s.jsx("p",{className:"text-sm text-foreground",children:b.lifeWin||""})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide font-mono",children:"Ajuste"}),s.jsx("p",{className:"text-sm text-foreground",children:b.tomorrowAdjust||""})]})]})})]},b.id))]})]})]})]})};var Je=function(){return Je=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Je.apply(this,arguments)};function Ame(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function n9(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Qg(e){return e.mode==="multiple"}function Zg(e){return e.mode==="range"}function jw(e){return e.mode==="single"}var Tme={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Mme(e,t){return ye(e,"LLLL y",t)}function Rme(e,t){return ye(e,"d",t)}function Ime(e,t){return ye(e,"LLLL",t)}function Dme(e){return"".concat(e)}function $me(e,t){return ye(e,"cccccc",t)}function Lme(e,t){return ye(e,"yyyy",t)}var Fme=Object.freeze({__proto__:null,formatCaption:Mme,formatDay:Rme,formatMonthCaption:Ime,formatWeekNumber:Dme,formatWeekdayName:$me,formatYearCaption:Lme}),Bme=function(e,t,r){return ye(e,"do MMMM (EEEE)",r)},zme=function(){return"Month: "},Ume=function(){return"Go to next month"},Wme=function(){return"Go to previous month"},qme=function(e,t){return ye(e,"cccc",t)},Vme=function(e){return"Week n. ".concat(e)},Hme=function(){return"Year: "},Gme=Object.freeze({__proto__:null,labelDay:Bme,labelMonthDropdown:zme,labelNext:Ume,labelPrevious:Wme,labelWeekNumber:Vme,labelWeekday:qme,labelYearDropdown:Hme});function Kme(){var e="buttons",t=Tme,r=cw,n={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:Fme,labels:Gme,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function Yme(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=on(n):t&&(i=new Date(t,0,1)),a?o=zi(a):r&&(o=new Date(r,11,31)),{fromDate:i?vu(i):void 0,toDate:o?vu(o):void 0}}var s9=p.createContext(void 0);function Xme(e){var t,r=e.initialProps,n=Kme(),a=Yme(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(jw(r)||Qg(r)||Zg(r))&&(c=r.onSelect);var u=Je(Je(Je({},n),r),{captionLayout:l,classNames:Je(Je({},n.classNames),r.classNames),components:Je({},r.components),formatters:Je(Je({},n.formatters),r.formatters),fromDate:i,labels:Je(Je({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Je(Je({},n.modifiers),r.modifiers),modifiersClassNames:Je(Je({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Je(Je({},n.styles),r.styles),toDate:o});return s.jsx(s9.Provider,{value:u,children:e.children})}function cr(){var e=p.useContext(s9);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function a9(e){var t=cr(),r=t.locale,n=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function Jme(e){return s.jsx("svg",Je({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function i9(e){var t,r,n=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,u=cr(),f=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Jme;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:i}),s.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(f,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function Qme(e){var t,r=cr(),n=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,f=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var d=[];if(Iue(n,a))for(var h=on(n),m=n.getMonth();m<=a.getMonth();m++)d.push(S1(h,m));else for(var h=on(new Date),m=0;m<=11;m++)d.push(S1(h,m));var x=function(v){var w=Number(v.target.value),b=S1(on(e.displayMonth),w);e.onChange(b)},g=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:i9;return s.jsx(g,{name:"months","aria-label":f(),className:c.dropdown_month,style:i.dropdown_month,onChange:x,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:d.map(function(v){return s.jsx("option",{value:v.getMonth(),children:l(v,{locale:o})},v.getMonth())})})}function Zme(e){var t,r=e.displayMonth,n=cr(),a=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,c=n.classNames,u=n.components,f=n.formatters.formatYearCaption,d=n.labels.labelYearDropdown,h=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var m=a.getFullYear(),x=i.getFullYear(),g=m;g<=x;g++)h.push(l4(lw(new Date),g));var v=function(b){var y=l4(on(r),Number(b.target.value));e.onChange(y)},w=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:i9;return s.jsx(w,{name:"years","aria-label":d(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:f(r,{locale:o}),children:h.map(function(b){return s.jsx("option",{value:b.getFullYear(),children:f(b,{locale:o})},b.getFullYear())})})}function epe(e,t){var r=p.useState(e),n=r[0],a=r[1],i=t===void 0?n:t;return[i,a]}function tpe(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&ff(i,a)<0){var u=-1*(c-1);a=es(i,u)}return o&&ff(a,o)<0&&(a=o),on(a)}function rpe(){var e=cr(),t=tpe(e),r=epe(t,e.month),n=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var c=on(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,i]}function npe(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=on(e),i=on(es(a,n)),o=ff(i,a),l=[],c=0;c<o;c++){var u=es(a,c);l.push(u)}return r&&(l=l.reverse()),l}function spe(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=on(e);if(!r)return es(l,o);var c=ff(r,e);if(!(c<i))return es(l,o)}}function ape(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=on(e);if(!r)return es(l,-o);var c=ff(l,r);if(!(c<=0))return es(l,-o)}}var o9=p.createContext(void 0);function ipe(e){var t=cr(),r=rpe(),n=r[0],a=r[1],i=npe(n,t),o=spe(n,t),l=ape(n,t),c=function(d){return i.some(function(h){return yu(d,h)})},u=function(d,h){c(d)||(h&&HB(d,h)?a(es(d,1+t.numberOfMonths*-1)):a(d))},f={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(o9.Provider,{value:f,children:e.children})}function ex(){var e=p.useContext(o9);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function N4(e){var t,r=cr(),n=r.classNames,a=r.styles,i=r.components,o=ex().goToMonth,l=function(f){o(es(f,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:a9,u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:u}),s.jsx(Qme,{onChange:l,displayMonth:e.displayMonth}),s.jsx(Zme,{onChange:l,displayMonth:e.displayMonth})]})}function ope(e){return s.jsx("svg",Je({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function lpe(e){return s.jsx("svg",Je({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Hy=p.forwardRef(function(e,t){var r=cr(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),l=Je(Je({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",Je({},e,{ref:t,type:"button",className:o,style:l}))});function cpe(e){var t,r,n=cr(),a=n.dir,i=n.locale,o=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,f=c.labelNext,d=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var h=u(e.previousMonth,{locale:i}),m=[o.nav_button,o.nav_button_previous].join(" "),x=f(e.nextMonth,{locale:i}),g=[o.nav_button,o.nav_button_next].join(" "),v=(t=d==null?void 0:d.IconRight)!==null&&t!==void 0?t:lpe,w=(r=d==null?void 0:d.IconLeft)!==null&&r!==void 0?r:ope;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(Hy,{name:"previous-month","aria-label":h,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(v,{className:o.nav_icon,style:l.nav_icon}):s.jsx(w,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(Hy,{name:"next-month","aria-label":x,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(w,{className:o.nav_icon,style:l.nav_icon}):s.jsx(v,{className:o.nav_icon,style:l.nav_icon})})]})}function S4(e){var t=cr().numberOfMonths,r=ex(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(x){return yu(e.displayMonth,x)}),c=l===0,u=l===o.length-1,f=t>1&&(c||!u),d=t>1&&(u||!c),h=function(){n&&i(n)},m=function(){a&&i(a)};return s.jsx(cpe,{displayMonth:e.displayMonth,hideNext:f,hidePrevious:d,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:m})}function upe(e){var t,r=cr(),n=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:a9,u;return a?u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=s.jsx(N4,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=s.jsxs(s.Fragment,{children:[s.jsx(N4,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(S4,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(S4,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:i.caption,children:u})}function dpe(e){var t=cr(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?s.jsx("tfoot",{className:a,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function fpe(e,t,r){for(var n=r?jo(new Date):Sn(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=br(n,i);a.push(o)}return a}function hpe(){var e=cr(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=fpe(a,i,o);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(f,d){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(f,{locale:a}),children:l(f,{locale:a})},d)})]})}function mpe(){var e,t=cr(),r=t.classNames,n=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:hpe;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(i,{})})}function ppe(e){var t=cr(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var EE=p.createContext(void 0);function gpe(e){if(!Qg(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(EE.Provider,{value:t,children:e.children})}return s.jsx(xpe,{initialProps:e.initialProps,children:e.children})}function xpe(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,i=t.max,o=function(u,f,d){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,f,d);var x=!!(f.selected&&a&&(n==null?void 0:n.length)===a);if(!x){var g=!!(!f.selected&&i&&(n==null?void 0:n.length)===i);if(!g){var v=n?n9([],n):[];if(f.selected){var w=v.findIndex(function(b){return Ar(u,b)});v.splice(w,1)}else v.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,v,u,f,d)}}},l={disabled:[]};n&&l.disabled.push(function(u){var f=i&&n.length>i-1,d=n.some(function(h){return Ar(h,u)});return!!(f&&!d)});var c={selected:n,onDayClick:o,modifiers:l};return s.jsx(EE.Provider,{value:c,children:r})}function PE(){var e=p.useContext(EE);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function vpe(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?Ar(a,e)&&Ar(n,e)?void 0:Ar(a,e)?{from:a,to:void 0}:Ar(n,e)?void 0:u_(n,e)?{from:e,to:a}:{from:n,to:e}:a?u_(e,a)?{from:a,to:e}:{from:e,to:a}:n?HB(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var OE=p.createContext(void 0);function ype(e){if(!Zg(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(OE.Provider,{value:t,children:e.children})}return s.jsx(bpe,{initialProps:e.initialProps,children:e.children})}function bpe(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},i=a.from,o=a.to,l=t.min,c=t.max,u=function(m,x,g){var v,w;(v=t.onDayClick)===null||v===void 0||v.call(t,m,x,g);var b=vpe(m,n);(w=t.onSelect)===null||w===void 0||w.call(t,b,m,x,g)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(f.range_start=[i],o?(f.range_end=[o],Ar(i,o)||(f.range_middle=[{after:i,before:o}])):f.range_end=[i]):o&&(f.range_start=[o],f.range_end=[o]),l&&(i&&!o&&f.disabled.push({after:Dv(i,l-1),before:br(i,l-1)}),i&&o&&f.disabled.push({after:i,before:br(i,l-1)}),!i&&o&&f.disabled.push({after:Dv(o,l-1),before:br(o,l-1)})),c){if(i&&!o&&(f.disabled.push({before:br(i,-c+1)}),f.disabled.push({after:br(i,c-1)})),i&&o){var d=Ya(o,i)+1,h=c-d;f.disabled.push({before:Dv(i,h)}),f.disabled.push({after:br(o,h)})}!i&&o&&(f.disabled.push({before:br(o,-c+1)}),f.disabled.push({after:br(o,c-1)}))}return s.jsx(OE.Provider,{value:{selected:n,onDayClick:u,modifiers:f},children:r})}function AE(){var e=p.useContext(OE);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Fv(e){return Array.isArray(e)?n9([],e):e!==void 0?[e]:[]}function wpe(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=Fv(a)}),t}var ii;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(ii||(ii={}));var jpe=ii.Selected,Ki=ii.Disabled,Npe=ii.Hidden,Spe=ii.Today,P1=ii.RangeEnd,O1=ii.RangeMiddle,A1=ii.RangeStart,_pe=ii.Outside;function Cpe(e,t,r){var n,a=(n={},n[jpe]=Fv(e.selected),n[Ki]=Fv(e.disabled),n[Npe]=Fv(e.hidden),n[Spe]=[e.today],n[P1]=[],n[O1]=[],n[A1]=[],n[_pe]=[],n);return e.fromDate&&a[Ki].push({before:e.fromDate}),e.toDate&&a[Ki].push({after:e.toDate}),Qg(e)?a[Ki]=a[Ki].concat(t.modifiers[Ki]):Zg(e)&&(a[Ki]=a[Ki].concat(r.modifiers[Ki]),a[A1]=r.modifiers[A1],a[O1]=r.modifiers[O1],a[P1]=r.modifiers[P1]),a}var l9=p.createContext(void 0);function kpe(e){var t=cr(),r=PE(),n=AE(),a=Cpe(t,r,n),i=wpe(t.modifiers),o=Je(Je({},a),i);return s.jsx(l9.Provider,{value:o,children:e.children})}function c9(){var e=p.useContext(l9);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Epe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Ppe(e){return!!(e&&typeof e=="object"&&"from"in e)}function Ope(e){return!!(e&&typeof e=="object"&&"after"in e)}function Ape(e){return!!(e&&typeof e=="object"&&"before"in e)}function Tpe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Mpe(e,t){var r,n=t.from,a=t.to;if(n&&a){var i=Ya(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var o=Ya(e,n)>=0&&Ya(a,e)>=0;return o}return a?Ar(a,e):n?Ar(n,e):!1}function Rpe(e){return cE(e)}function Ipe(e){return Array.isArray(e)&&e.every(cE)}function Dpe(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(Rpe(r))return Ar(e,r);if(Ipe(r))return r.includes(e);if(Ppe(r))return Mpe(e,r);if(Tpe(r))return r.dayOfWeek.includes(e.getDay());if(Epe(r)){var n=Ya(r.before,e),a=Ya(r.after,e),i=n>0,o=a<0,l=u_(r.before,r.after);return l?o&&i:i||o}return Ope(r)?Ya(e,r.after)>0:Ape(r)?Ya(r.before,e)>0:typeof r=="function"?r(e):!1})}function TE(e,t,r){var n=Object.keys(t).reduce(function(i,o){var l=t[o];return Dpe(e,l)&&i.push(o),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!yu(e,r)&&(a.outside=!0),a}function $pe(e,t){for(var r=on(e[0]),n=zi(e[e.length-1]),a,i,o=r;o<=n;){var l=TE(o,t),c=!l.disabled&&!l.hidden;if(!c){o=br(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=br(o,1)}return i||a}var Lpe=365;function u9(e,t){var r=t.moveBy,n=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,u=a.fromDate,f=a.toDate,d=a.locale,h={day:br,week:Sp,month:es,year:oE,startOfWeek:function(v){return a.ISOWeek?jo(v):Sn(v,{locale:d,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?zB(v):uh(v,{locale:d,weekStartsOn:c})}},m=h[r](e,n==="after"?1:-1);n==="before"&&u?m=Ale([u,m]):n==="after"&&f&&(m=Tle([f,m]));var x=!0;if(i){var g=TE(m,i);x=!g.disabled&&!g.hidden}return x?m:l.count>Lpe?l.lastFocused:u9(m,{moveBy:r,direction:n,context:a,modifiers:i,retry:Je(Je({},l),{count:l.count+1})})}var d9=p.createContext(void 0);function Fpe(e){var t=ex(),r=c9(),n=p.useState(),a=n[0],i=n[1],o=p.useState(),l=o[0],c=o[1],u=$pe(t.displayMonths,r),f=a??(l&&t.isDateDisplayed(l))?l:u,d=function(){c(a),i(void 0)},h=function(v){i(v)},m=cr(),x=function(v,w){if(a){var b=u9(a,{moveBy:v,direction:w,context:m,modifiers:r});Ar(a,b)||(t.goToDate(b,a),h(b))}},g={focusedDay:a,focusTarget:f,blur:d,focus:h,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return s.jsx(d9.Provider,{value:g,children:e.children})}function ME(){var e=p.useContext(d9);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Bpe(e,t){var r=c9(),n=TE(e,r,t);return n}var RE=p.createContext(void 0);function zpe(e){if(!jw(e.initialProps)){var t={selected:void 0};return s.jsx(RE.Provider,{value:t,children:e.children})}return s.jsx(Upe,{initialProps:e.initialProps,children:e.children})}function Upe(e){var t=e.initialProps,r=e.children,n=function(i,o,l){var c,u,f;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,l);return}(f=t.onSelect)===null||f===void 0||f.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:n};return s.jsx(RE.Provider,{value:a,children:r})}function f9(){var e=p.useContext(RE);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Wpe(e,t){var r=cr(),n=f9(),a=PE(),i=AE(),o=ME(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,f=o.focusWeekBefore,d=o.blur,h=o.focus,m=o.focusMonthBefore,x=o.focusMonthAfter,g=o.focusYearBefore,v=o.focusYearAfter,w=o.focusStartOfWeek,b=o.focusEndOfWeek,y=function(I){var P,M,F,B;jw(r)?(P=n.onDayClick)===null||P===void 0||P.call(n,e,t,I):Qg(r)?(M=a.onDayClick)===null||M===void 0||M.call(a,e,t,I):Zg(r)?(F=i.onDayClick)===null||F===void 0||F.call(i,e,t,I):(B=r.onDayClick)===null||B===void 0||B.call(r,e,t,I)},N=function(I){var P;h(e),(P=r.onDayFocus)===null||P===void 0||P.call(r,e,t,I)},j=function(I){var P;d(),(P=r.onDayBlur)===null||P===void 0||P.call(r,e,t,I)},S=function(I){var P;(P=r.onDayMouseEnter)===null||P===void 0||P.call(r,e,t,I)},_=function(I){var P;(P=r.onDayMouseLeave)===null||P===void 0||P.call(r,e,t,I)},k=function(I){var P;(P=r.onDayPointerEnter)===null||P===void 0||P.call(r,e,t,I)},E=function(I){var P;(P=r.onDayPointerLeave)===null||P===void 0||P.call(r,e,t,I)},A=function(I){var P;(P=r.onDayTouchCancel)===null||P===void 0||P.call(r,e,t,I)},C=function(I){var P;(P=r.onDayTouchEnd)===null||P===void 0||P.call(r,e,t,I)},O=function(I){var P;(P=r.onDayTouchMove)===null||P===void 0||P.call(r,e,t,I)},$=function(I){var P;(P=r.onDayTouchStart)===null||P===void 0||P.call(r,e,t,I)},R=function(I){var P;(P=r.onDayKeyUp)===null||P===void 0||P.call(r,e,t,I)},T=function(I){var P;switch(I.key){case"ArrowLeft":I.preventDefault(),I.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":I.preventDefault(),I.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":I.preventDefault(),I.stopPropagation(),u();break;case"ArrowUp":I.preventDefault(),I.stopPropagation(),f();break;case"PageUp":I.preventDefault(),I.stopPropagation(),I.shiftKey?g():m();break;case"PageDown":I.preventDefault(),I.stopPropagation(),I.shiftKey?v():x();break;case"Home":I.preventDefault(),I.stopPropagation(),w();break;case"End":I.preventDefault(),I.stopPropagation(),b();break}(P=r.onDayKeyDown)===null||P===void 0||P.call(r,e,t,I)},L={onClick:y,onFocus:N,onBlur:j,onKeyDown:T,onKeyUp:R,onMouseEnter:S,onMouseLeave:_,onPointerEnter:k,onPointerLeave:E,onTouchCancel:A,onTouchEnd:C,onTouchMove:O,onTouchStart:$};return L}function qpe(){var e=cr(),t=f9(),r=PE(),n=AE(),a=jw(e)?t.selected:Qg(e)?r.selected:Zg(e)?n.selected:void 0;return a}function Vpe(e){return Object.values(ii).includes(e)}function Hpe(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(Vpe(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function Gpe(e,t){var r=Je({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=Je(Je({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function Kpe(e,t,r){var n,a,i,o=cr(),l=ME(),c=Bpe(e,t),u=Wpe(e,c),f=qpe(),d=!!(o.onDayClick||o.mode!=="default");p.useEffect(function(){var S;c.outside||l.focusedDay&&d&&Ar(l.focusedDay,e)&&((S=r.current)===null||S===void 0||S.focus())},[l.focusedDay,e,r,d,c.outside]);var h=Hpe(o,c).join(" "),m=Gpe(o,c),x=!!(c.outside&&!o.showOutsideDays||c.hidden),g=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:ppe,v=s.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),w={style:m,className:h,children:v,role:"gridcell"},b=l.focusTarget&&Ar(l.focusTarget,e)&&!c.outside,y=l.focusedDay&&Ar(l.focusedDay,e),N=Je(Je(Je({},w),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=y||b?0:-1,n)),u),j={isButton:d,isHidden:x,activeModifiers:c,selectedDays:f,buttonProps:N,divProps:w};return j}function Ype(e){var t=p.useRef(null),r=Kpe(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(Hy,Je({name:"day",ref:t},r.buttonProps)):s.jsx("div",Je({},r.divProps))}function Xpe(e){var t=e.number,r=e.dates,n=cr(),a=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,f=u(Number(t),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:f});var d=c(Number(t),{locale:l}),h=function(m){a(t,r,m)};return s.jsx(Hy,{name:"week-number","aria-label":d,className:o.weeknumber,style:i.weeknumber,onClick:h,children:f})}function Jpe(e){var t,r,n=cr(),a=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:Ype,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:Xpe,f;return o&&(f=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(u,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[f,e.dates.map(function(d){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:d})},$ce(d))})]})}function _4(e,t,r){for(var n=r!=null&&r.ISOWeek?zB(t):uh(t,r),a=r!=null&&r.ISOWeek?jo(e):Sn(e,r),i=Ya(n,a),o=[],l=0;l<=i;l++)o.push(br(a,l));var c=o.reduce(function(u,f){var d=r!=null&&r.ISOWeek?uE(f):fE(f,r),h=u.find(function(m){return m.weekNumber===d});return h?(h.dates.push(f),u):(u.push({weekNumber:d,dates:[f]}),u)},[]);return c}function Qpe(e,t){var r=_4(on(e),zi(e),t);if(t!=null&&t.useFixedWeeks){var n=Fce(e,t);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=Sp(i,6-n),l=_4(Sp(i,1),o,t);r.push.apply(r,l)}}return r}function Zpe(e){var t,r,n,a=cr(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,f=a.components,d=a.weekStartsOn,h=a.firstWeekContainsDate,m=a.ISOWeek,x=Qpe(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:i,weekStartsOn:d,firstWeekContainsDate:h}),g=(t=f==null?void 0:f.Head)!==null&&t!==void 0?t:mpe,v=(r=f==null?void 0:f.Row)!==null&&r!==void 0?r:Jpe,w=(n=f==null?void 0:f.Footer)!==null&&n!==void 0?n:dpe;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(g,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:x.map(function(b){return s.jsx(v,{displayMonth:e.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),s.jsx(w,{displayMonth:e.displayMonth})]})}function ege(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var tge=ege()?p.useLayoutEffect:p.useEffect,T1=!1,rge=0;function C4(){return"react-day-picker-".concat(++rge)}function nge(e){var t,r=e??(T1?C4():null),n=p.useState(r),a=n[0],i=n[1];return tge(function(){a===null&&i(C4())},[]),p.useEffect(function(){T1===!1&&(T1=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function sge(e){var t,r,n=cr(),a=n.dir,i=n.classNames,o=n.styles,l=n.components,c=ex().displayMonths,u=nge(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),f=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,d=[i.month],h=o.month,m=e.displayIndex===0,x=e.displayIndex===c.length-1,g=!m&&!x;a==="rtl"&&(t=[m,x],x=t[0],m=t[1]),m&&(d.push(i.caption_start),h=Je(Je({},h),o.caption_start)),x&&(d.push(i.caption_end),h=Je(Je({},h),o.caption_end)),g&&(d.push(i.caption_between),h=Je(Je({},h),o.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:upe;return s.jsxs("div",{className:d.join(" "),style:h,children:[s.jsx(v,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(Zpe,{id:f,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function age(e){var t=cr(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function ige(e){var t,r,n=e.initialProps,a=cr(),i=ME(),o=ex(),l=p.useState(!1),c=l[0],u=l[1];p.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var f=[a.classNames.root,a.className];a.numberOfMonths>1&&f.push(a.classNames.multiple_months),a.showWeekNumber&&f.push(a.classNames.with_weeknumber);var d=Je(Je({},a.styles.root),a.style),h=Object.keys(n).filter(function(x){return x.startsWith("data-")}).reduce(function(x,g){var v;return Je(Je({},x),(v={},v[g]=n[g],v))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:age;return s.jsx("div",Je({className:f.join(" "),style:d,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:s.jsx(m,{children:o.displayMonths.map(function(x,g){return s.jsx(sge,{displayIndex:g,displayMonth:x},g)})})}))}function oge(e){var t=e.children,r=Ame(e,["children"]);return s.jsx(Xme,{initialProps:r,children:s.jsx(ipe,{children:s.jsx(zpe,{initialProps:r,children:s.jsx(gpe,{initialProps:r,children:s.jsx(ype,{initialProps:r,children:s.jsx(kpe,{children:s.jsx(Fpe,{children:t})})})})})})})}function lge(e){return s.jsx(oge,Je({},e,{children:s.jsx(ige,{initialProps:e})}))}function IE({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(lge,{showOutsideDays:r,className:z("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:z(bp({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:z(bp({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>s.jsx(Eu,{className:"h-4 w-4"}),IconRight:({...a})=>s.jsx(Zs,{className:"h-4 w-4"})},...n})}IE.displayName="Calendar";const cge=[{value:"work",label:"Trabajo",icon:Ts},{value:"life",label:"Vida",icon:mt},{value:"finance",label:"Finanzas",icon:Li},{value:"health",label:"Salud",icon:$l},{value:"family",label:"Familia",icon:Hl}],uge=({event:e,open:t,onOpenChange:r,onUpdate:n,onDelete:a})=>{const[i,o]=p.useState(""),[l,c]=p.useState(void 0),[u,f]=p.useState(""),[d,h]=p.useState(30),[m,x]=p.useState(""),[g,v]=p.useState("work"),[w,b]=p.useState(!1),[y,N]=p.useState(!1);p.useEffect(()=>{if(e){if(o(e.title),f(e.time),v(e.type||"work"),e.date)try{const k=Mue(e.date,"yyyy-MM-dd",new Date);c(k)}catch{c(new Date)}else c(new Date);const _=e.duration.match(/(\d+)\s*h?\s*(\d+)?/);if(_){const k=e.duration.includes("h")?parseInt(_[1]):0,E=e.duration.includes("h")?parseInt(_[2]||"0"):parseInt(_[1]);h(k*60+E)}else h(30);x(e.description||"")}},[e]);const j=async()=>{if(e){b(!0);try{await n(e.id,{title:i,time:u,duration:d,description:m,type:g,date:l?ye(l,"yyyy-MM-dd"):void 0}),r(!1)}finally{b(!1)}}},S=async()=>{if(e){b(!0);try{await a(e.id)&&(N(!1),r(!1))}finally{b(!1)}}};return e?s.jsxs(s.Fragment,{children:[s.jsx(Lt,{open:t,onOpenChange:r,children:s.jsxs(Ft,{className:"sm:max-w-[425px]",children:[s.jsx(or,{children:s.jsx(lr,{className:"text-foreground",children:"Editar evento"})}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ue,{htmlFor:"title",className:"text-foreground",children:"Ttulo"}),s.jsx(be,{id:"title",value:i,onChange:_=>o(_.target.value),className:"bg-background border-border"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ue,{className:"text-foreground",children:"Fecha"}),s.jsxs(_E,{children:[s.jsx(CE,{asChild:!0,children:s.jsxs(U,{variant:"outline",className:z("w-full justify-start text-left font-normal",!l&&"text-muted-foreground"),children:[s.jsx(Jt,{className:"mr-2 h-4 w-4"}),l?ye(l,"EEEE d 'de' MMMM yyyy",{locale:ot}):s.jsx("span",{children:"Seleccionar fecha"})]})}),s.jsx(bw,{className:"w-auto p-0",align:"start",children:s.jsx(IE,{mode:"single",selected:l,onSelect:c,initialFocus:!0,locale:ot,className:z("p-3 pointer-events-auto")})})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ue,{className:"text-foreground",children:"Tipo"}),s.jsxs(ar,{value:g,onValueChange:v,children:[s.jsx(Kt,{className:"bg-background border-border",children:s.jsx(ir,{})}),s.jsx(Yt,{children:cge.map(_=>s.jsx(De,{value:_.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_.icon,{className:"w-4 h-4"}),_.label]})},_.value))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ue,{htmlFor:"time",className:"text-foreground",children:"Hora"}),s.jsx(be,{id:"time",type:"time",value:u,onChange:_=>f(_.target.value),className:"bg-background border-border"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ue,{htmlFor:"duration",className:"text-foreground",children:"Duracin (min)"}),s.jsx(be,{id:"duration",type:"number",min:15,max:480,step:15,value:d,onChange:_=>h(parseInt(_.target.value)||30),className:"bg-background border-border"})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ue,{htmlFor:"description",className:"text-foreground",children:"Descripcin"}),s.jsx(Kr,{id:"description",value:m,onChange:_=>x(_.target.value),className:"bg-background border-border resize-none",rows:3})]})]}),s.jsxs(Pu,{className:"flex justify-between sm:justify-between",children:[s.jsxs(U,{variant:"destructive",onClick:()=>N(!0),disabled:w,className:"gap-2",children:[s.jsx(Ri,{className:"w-4 h-4"}),"Eliminar"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{variant:"outline",onClick:()=>r(!1),disabled:w,children:"Cancelar"}),s.jsxs(U,{onClick:j,disabled:w,children:[w?s.jsx(_e,{className:"w-4 h-4 animate-spin mr-2"}):null,"Guardar"]})]})]})]})}),s.jsx(vw,{open:y,onOpenChange:N,children:s.jsxs(qg,{children:[s.jsxs(Vg,{children:[s.jsx(Gg,{children:"Eliminar evento?"}),s.jsxs(Kg,{children:['Esta accin eliminar "',e.title,'" de tu Google Calendar. Esta accin no se puede deshacer.']})]}),s.jsxs(Hg,{children:[s.jsx(Xg,{disabled:w,children:"Cancelar"}),s.jsxs(Yg,{onClick:S,disabled:w,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:[w?s.jsx(_e,{className:"w-4 h-4 animate-spin mr-2"}):null,"Eliminar"]})]})]})})]}):null},dge=[{value:"work",label:"Trabajo",icon:Ts},{value:"life",label:"Vida",icon:mt},{value:"finance",label:"Finanzas",icon:Li},{value:"health",label:"Salud",icon:$l},{value:"family",label:"Familia",icon:Hl}],fge=({open:e,onOpenChange:t,onCreate:r,selectedDate:n,selectedHour:a})=>{const[i,o]=p.useState(""),[l,c]=p.useState(n||new Date),[u,f]=p.useState(""),[d,h]=p.useState(30),[m,x]=p.useState(""),[g,v]=p.useState("work"),[w,b]=p.useState(!1);p.useEffect(()=>{e&&(n&&c(n),a!==null&&f(`${a.toString().padStart(2,"0")}:00`))},[e,n,a]);const y=j=>{j&&(c(n||new Date),f(a!==null?`${a.toString().padStart(2,"0")}:00`:""),o(""),x(""),h(30),v("work")),t(j)},N=async()=>{if(!(!i.trim()||!l)){b(!0);try{await r({title:i,time:u,duration:d,description:m||void 0,type:g,date:ye(l,"yyyy-MM-dd")}),o(""),x(""),h(30),t(!1)}finally{b(!1)}}};return s.jsx(Lt,{open:e,onOpenChange:y,children:s.jsxs(Ft,{className:"sm:max-w-[425px]",children:[s.jsx(or,{children:s.jsx(lr,{className:"text-foreground",children:"Crear evento"})}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ue,{htmlFor:"new-title",className:"text-foreground",children:"Ttulo"}),s.jsx(be,{id:"new-title",value:i,onChange:j=>o(j.target.value),placeholder:"Nombre del evento...",className:"bg-background border-border",autoFocus:!0})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ue,{className:"text-foreground",children:"Fecha"}),s.jsxs(_E,{children:[s.jsx(CE,{asChild:!0,children:s.jsxs(U,{variant:"outline",className:z("w-full justify-start text-left font-normal",!l&&"text-muted-foreground"),children:[s.jsx(Jt,{className:"mr-2 h-4 w-4"}),l?ye(l,"EEEE d 'de' MMMM yyyy",{locale:ot}):s.jsx("span",{children:"Seleccionar fecha"})]})}),s.jsx(bw,{className:"w-auto p-0",align:"start",children:s.jsx(IE,{mode:"single",selected:l,onSelect:c,initialFocus:!0,locale:ot,className:z("p-3 pointer-events-auto")})})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ue,{className:"text-foreground",children:"Tipo"}),s.jsxs(ar,{value:g,onValueChange:v,children:[s.jsx(Kt,{className:"bg-background border-border",children:s.jsx(ir,{})}),s.jsx(Yt,{children:dge.map(j=>s.jsx(De,{value:j.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(j.icon,{className:"w-4 h-4"}),j.label]})},j.value))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ue,{htmlFor:"new-time",className:"text-foreground",children:"Hora"}),s.jsx(be,{id:"new-time",type:"time",value:u,onChange:j=>f(j.target.value),className:"bg-background border-border"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ue,{htmlFor:"new-duration",className:"text-foreground",children:"Duracin"}),s.jsxs(ar,{value:d.toString(),onValueChange:j=>h(parseInt(j)),children:[s.jsx(Kt,{className:"bg-background border-border",children:s.jsx(ir,{})}),s.jsxs(Yt,{children:[s.jsx(De,{value:"15",children:"15 min"}),s.jsx(De,{value:"30",children:"30 min"}),s.jsx(De,{value:"45",children:"45 min"}),s.jsx(De,{value:"60",children:"1 hora"}),s.jsx(De,{value:"90",children:"1.5 horas"}),s.jsx(De,{value:"120",children:"2 horas"})]})]})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ue,{htmlFor:"new-description",className:"text-foreground",children:"Descripcin (opcional)"}),s.jsx(Kr,{id:"new-description",value:m,onChange:j=>x(j.target.value),placeholder:"Aade detalles...",className:"bg-background border-border resize-none",rows:2})]})]}),s.jsxs(Pu,{children:[s.jsx(U,{variant:"outline",onClick:()=>t(!1),disabled:w,children:"Cancelar"}),s.jsxs(U,{onClick:N,disabled:w||!i.trim(),children:[w?s.jsx(_e,{className:"w-4 h-4 animate-spin mr-2"}):null,"Crear evento"]})]})]})})};var h9="Toggle",DE=p.forwardRef((e,t)=>{const{pressed:r,defaultPressed:n,onPressedChange:a,...i}=e,[o,l]=Wn({prop:r,onChange:a,defaultProp:n??!1,caller:h9});return s.jsx(Ne.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":e.disabled?"":void 0,...i,ref:t,onClick:fe(e.onClick,()=>{e.disabled||l(!o)})})});DE.displayName=h9;var m9=DE,rc="ToggleGroup",[p9]=en(rc,[Ql]),g9=Ql(),$E=D.forwardRef((e,t)=>{const{type:r,...n}=e;if(r==="single"){const a=n;return s.jsx(hge,{...a,ref:t})}if(r==="multiple"){const a=n;return s.jsx(mge,{...a,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${rc}\``)});$E.displayName=rc;var[x9,v9]=p9(rc),hge=D.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,l]=Wn({prop:r,defaultProp:n??"",onChange:a,caller:rc});return s.jsx(x9,{scope:e.__scopeToggleGroup,type:"single",value:D.useMemo(()=>o?[o]:[],[o]),onItemActivate:l,onItemDeactivate:D.useCallback(()=>l(""),[l]),children:s.jsx(y9,{...i,ref:t})})}),mge=D.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,l]=Wn({prop:r,defaultProp:n??[],onChange:a,caller:rc}),c=D.useCallback(f=>l((d=[])=>[...d,f]),[l]),u=D.useCallback(f=>l((d=[])=>d.filter(h=>h!==f)),[l]);return s.jsx(x9,{scope:e.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:c,onItemDeactivate:u,children:s.jsx(y9,{...i,ref:t})})});$E.displayName=rc;var[pge,gge]=p9(rc),y9=D.forwardRef((e,t)=>{const{__scopeToggleGroup:r,disabled:n=!1,rovingFocus:a=!0,orientation:i,dir:o,loop:l=!0,...c}=e,u=g9(r),f=Yl(o),d={role:"group",dir:f,...c};return s.jsx(pge,{scope:r,rovingFocus:a,disabled:n,children:a?s.jsx(sw,{asChild:!0,...u,orientation:i,dir:f,loop:l,children:s.jsx(Ne.div,{...d,ref:t})}):s.jsx(Ne.div,{...d,ref:t})})}),Gy="ToggleGroupItem",b9=D.forwardRef((e,t)=>{const r=v9(Gy,e.__scopeToggleGroup),n=gge(Gy,e.__scopeToggleGroup),a=g9(e.__scopeToggleGroup),i=r.value.includes(e.value),o=n.disabled||e.disabled,l={...e,pressed:i,disabled:o},c=D.useRef(null);return n.rovingFocus?s.jsx(aw,{asChild:!0,...a,focusable:!o,active:i,ref:c,children:s.jsx(k4,{...l,ref:t})}):s.jsx(k4,{...l,ref:t})});b9.displayName=Gy;var k4=D.forwardRef((e,t)=>{const{__scopeToggleGroup:r,value:n,...a}=e,i=v9(Gy,r),o={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},l=i.type==="single"?o:void 0;return s.jsx(DE,{...l,...a,ref:t,onPressedChange:c=>{c?i.onItemActivate(n):i.onItemDeactivate(n)}})}),w9=$E,j9=b9;const N9=Xf("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),xge=p.forwardRef(({className:e,variant:t,size:r,...n},a)=>s.jsx(m9,{ref:a,className:z(N9({variant:t,size:r,className:e})),...n}));xge.displayName=m9.displayName;const S9=p.createContext({size:"default",variant:"default"}),_9=p.forwardRef(({className:e,variant:t,size:r,children:n,...a},i)=>s.jsx(w9,{ref:i,className:z("flex items-center justify-center gap-1",e),...a,children:s.jsx(S9.Provider,{value:{variant:t,size:r},children:n})}));_9.displayName=w9.displayName;const mm=p.forwardRef(({className:e,children:t,variant:r,size:n,...a},i)=>{const o=p.useContext(S9);return s.jsx(j9,{ref:i,className:z(N9({variant:o.variant||r,size:o.size||n}),e),...a,children:t})});mm.displayName=j9.displayName;const vge=({value:e,onChange:t})=>s.jsxs(_9,{type:"single",value:e,onValueChange:r=>r&&t(r),className:"bg-muted/50 p-1 rounded-lg",children:[s.jsx(mm,{value:"day",className:"text-xs px-3 data-[state=on]:bg-background data-[state=on]:text-foreground",children:"Da"}),s.jsx(mm,{value:"week",className:"text-xs px-3 data-[state=on]:bg-background data-[state=on]:text-foreground",children:"Semana"}),s.jsx(mm,{value:"month",className:"text-xs px-3 data-[state=on]:bg-background data-[state=on]:text-foreground",children:"Mes"}),s.jsx(mm,{value:"year",className:"text-xs px-3 data-[state=on]:bg-background data-[state=on]:text-foreground",children:"Ao"})]}),E4=[{value:"work",label:"Trabajo",icon:Ts,color:"text-blue-400"},{value:"life",label:"Vida",icon:mt,color:"text-emerald-400"},{value:"finance",label:"Finanzas",icon:Li,color:"text-amber-400"},{value:"health",label:"Salud",icon:mt,color:"text-rose-400"},{value:"family",label:"Familia",icon:mt,color:"text-violet-400"}],yge=({selectedTypes:e,onChange:t})=>{const r=e.length===0||e.length===E4.length,n=i=>{e.includes(i)?t(e.filter(o=>o!==i)):t([...e,i])},a=()=>{t([])};return s.jsxs(mw,{children:[s.jsx(pw,{asChild:!0,children:s.jsxs(U,{variant:"outline",size:"sm",className:"border-border gap-2",children:[s.jsx(Z$,{className:"w-4 h-4"}),"Filtrar",!r&&s.jsx(Q,{variant:"secondary",className:"ml-1 px-1.5 py-0 text-xs",children:e.length})]})}),s.jsxs(Ug,{align:"end",className:"w-48",children:[s.jsx(Wy,{children:"Filtrar por tipo"}),s.jsx(kp,{}),s.jsx(f_,{checked:r,onCheckedChange:a,children:"Todos"}),s.jsx(kp,{}),E4.map(i=>{const o=i.icon;return s.jsxs(f_,{checked:r||e.includes(i.value),onCheckedChange:()=>n(i.value),children:[s.jsx(o,{className:`w-4 h-4 mr-2 ${i.color}`}),i.label]},i.value)})]})]})},bge={work:{label:"Trabajo",icon:Ts,bgClass:"bg-blue-500"},life:{label:"Vida",icon:mt,bgClass:"bg-emerald-500"},finance:{label:"Finanzas",icon:Li,bgClass:"bg-amber-500"},health:{label:"Salud",icon:$l,bgClass:"bg-rose-500"},family:{label:"Familia",icon:Hl,bgClass:"bg-violet-500"}};function wge(){return s.jsx("div",{className:"flex flex-wrap items-center gap-3 px-3 py-2 bg-muted/50 rounded-lg border",children:Object.entries(bge).map(([e,t])=>{const r=t.icon;return s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${t.bgClass}`}),s.jsx(r,{className:"h-3.5 w-3.5 text-muted-foreground"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:t.label})]},e)})})}const jge=Array.from({length:14},(e,t)=>t+7),Gx={work:{color:"bg-blue-500/20 text-blue-400 border-blue-500/30"},life:{color:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30"},finance:{color:"bg-amber-500/20 text-amber-400 border-amber-500/30"},health:{color:"bg-rose-500/20 text-rose-400 border-rose-500/30"},family:{color:"bg-violet-500/20 text-violet-400 border-violet-500/30"}},Nge=({currentDate:e,events:t,onSlotClick:r,onEventClick:n,onDrop:a,onDragOver:i,onDragLeave:o})=>{const[l,c]=p.useState("list"),u=new Date,f=Ar(e,u),d=ye(e,"yyyy-MM-dd"),h=t.filter(x=>x.date===d).sort((x,g)=>x.time.localeCompare(g.time)),m=x=>t.filter(g=>{const[v]=g.time.split(":").map(Number);return v===x&&g.date===d});return s.jsxs("div",{className:"overflow-y-auto max-h-[600px]",children:[s.jsxs("div",{className:"sticky top-0 bg-card z-10 p-4 border-b border-border flex items-center justify-between",children:[s.jsx("p",{className:`text-lg font-bold ${f?"text-primary":"text-foreground"}`,children:ye(e,"EEEE d 'de' MMMM",{locale:ot})}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(U,{variant:l==="list"?"default":"ghost",size:"sm",onClick:()=>c("list"),children:s.jsx(aL,{className:"w-4 h-4"})}),s.jsx(U,{variant:l==="grid"?"default":"ghost",size:"sm",onClick:()=>c("grid"),children:s.jsx(tL,{className:"w-4 h-4"})})]})]}),l==="list"?s.jsxs("div",{className:"p-4 space-y-2",children:[h.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx("p",{children:"No hay eventos programados"}),s.jsxs(U,{variant:"outline",className:"mt-4",onClick:()=>r(e,9),children:[s.jsx(wt,{className:"w-4 h-4 mr-2"}),"Aadir evento"]})]}):h.map(x=>{const g=Gx[x.type]||Gx.work,[v]=x.time.split(":").map(Number),w=f&&v<u.getHours();return s.jsxs("div",{onClick:()=>n(x),className:z("flex items-center gap-3 p-3 rounded-lg border transition-all cursor-pointer hover:ring-2 hover:ring-primary/50 group",g.color,w&&"opacity-60"),children:[s.jsxs("div",{className:"w-16 shrink-0 text-center",children:[s.jsx("p",{className:"font-mono font-medium text-sm",children:x.time}),s.jsxs("p",{className:"text-xs opacity-70",children:[x.duration,"min"]})]}),s.jsx("div",{className:"w-1 h-10 rounded-full bg-current opacity-30"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium truncate",children:x.title}),x.description&&s.jsx("p",{className:"text-xs opacity-70 truncate",children:x.description})]}),s.jsx(AY,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity shrink-0"})]},x.id)}),h.length>0&&!Ar(e,u)||f&&u.getHours()<20?s.jsxs(U,{variant:"ghost",className:"w-full mt-2 text-muted-foreground",onClick:()=>r(e,Math.max(9,u.getHours()+1)),children:[s.jsx(wt,{className:"w-4 h-4 mr-2"}),"Aadir evento"]}):null]}):s.jsx("div",{className:"p-4 space-y-0.5",children:jge.map(x=>{const g=m(x),v=e<u||f&&x<u.getHours();return s.jsxs("div",{onDragOver:i,onDragLeave:o,onDrop:w=>a(w,e,x),onClick:()=>g.length===0&&!v&&r(e,x),className:z("flex gap-3 py-1.5 px-2 rounded transition-colors group/slot",v?"opacity-40":"hover:bg-muted/50 cursor-pointer"),children:[s.jsxs("span",{className:"text-xs font-mono text-muted-foreground w-10 shrink-0 pt-0.5",children:[x.toString().padStart(2,"0"),":00"]}),s.jsxs("div",{className:"flex-1 min-h-[28px] border-l border-border/50 pl-3",children:[g.length===0&&!v&&s.jsxs("div",{className:"h-full flex items-center opacity-0 group-hover/slot:opacity-100 transition-opacity",children:[s.jsx(wt,{className:"w-3 h-3 text-muted-foreground mr-1"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Aadir"})]}),g.map(w=>{const b=Gx[w.type]||Gx.work;return s.jsxs("div",{onClick:y=>{y.stopPropagation(),n(w)},className:z("text-xs py-1 px-2 rounded border truncate cursor-pointer hover:ring-1 hover:ring-primary/50 transition-all",b.color),children:[w.title,"  ",w.duration,"min"]},w.id)})]})]},x)})})]})},Sge=Array.from({length:14},(e,t)=>t+7),Kx={work:{color:"bg-blue-500/20 text-blue-400 border-blue-500/30"},life:{color:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30"},finance:{color:"bg-amber-500/20 text-amber-400 border-amber-500/30"},health:{color:"bg-rose-500/20 text-rose-400 border-rose-500/30"},family:{color:"bg-violet-500/20 text-violet-400 border-violet-500/30"}},_ge=({weekStart:e,events:t,onSlotClick:r,onEventClick:n,onDrop:a,onDragOver:i,onDragLeave:o})=>{const[l,c]=p.useState("list"),u=Array.from({length:7},(m,x)=>br(e,x)),f=new Date,d=m=>{const x=ye(m,"yyyy-MM-dd");return t.filter(g=>g.date===x).sort((g,v)=>g.time.localeCompare(v.time))},h=(m,x)=>{const g=ye(m,"yyyy-MM-dd");return t.filter(v=>{const[w]=v.time.split(":").map(Number);return w===x&&v.date===g})};return s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("div",{className:"min-w-[700px]",children:[s.jsx("div",{className:"flex items-center justify-between px-4 py-2 border-b border-border bg-card sticky top-0 z-20",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsxs(U,{variant:l==="list"?"default":"ghost",size:"sm",onClick:()=>c("list"),children:[s.jsx(aL,{className:"w-4 h-4 mr-1"}),"Lista"]}),s.jsxs(U,{variant:l==="grid"?"default":"ghost",size:"sm",onClick:()=>c("grid"),children:[s.jsx(tL,{className:"w-4 h-4 mr-1"}),"Horario"]})]})}),l==="list"?s.jsx("div",{className:"grid grid-cols-7 divide-x divide-border",children:u.map((m,x)=>{const g=Ar(m,f),v=d(m);return s.jsxs("div",{className:z("min-h-[500px]",g&&"bg-primary/5"),children:[s.jsxs("div",{className:z("p-2 text-center border-b border-border sticky top-12 z-10 bg-card",g&&"bg-primary/10"),children:[s.jsx("p",{className:z("text-xs font-medium",g?"text-primary":"text-muted-foreground"),children:ye(m,"EEE",{locale:ot}).toUpperCase()}),s.jsx("p",{className:z("text-lg font-bold",g?"text-primary":"text-foreground"),children:ye(m,"d")})]}),s.jsx(Tn,{className:"h-[440px]",children:s.jsx("div",{className:"p-1.5 space-y-1",children:v.length===0?s.jsxs("button",{onClick:()=>r(m,9),className:"w-full py-6 text-center text-xs text-muted-foreground hover:text-primary transition-colors",children:[s.jsx(wt,{className:"w-4 h-4 mx-auto mb-1"}),"Aadir"]}):s.jsxs(s.Fragment,{children:[v.map(w=>{const b=Kx[w.type]||Kx.work;return s.jsxs("div",{onClick:()=>n(w),className:z("p-1.5 rounded text-xs cursor-pointer hover:ring-1 hover:ring-primary/50 transition-all border",b.color),children:[s.jsx("p",{className:"font-mono text-[10px] opacity-70",children:w.time}),s.jsx("p",{className:"font-medium truncate",children:w.title})]},w.id)}),s.jsx("button",{onClick:()=>r(m,Math.max(9,f.getHours()+1)),className:"w-full py-2 text-center text-xs text-muted-foreground hover:text-primary transition-colors",children:s.jsx(wt,{className:"w-3 h-3 mx-auto"})})]})})})]},x)})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-8 border-b border-border sticky top-12 z-10 bg-card",children:[s.jsx("div",{className:"p-2 text-center text-xs text-muted-foreground font-mono border-r border-border"}),u.map((m,x)=>{const g=Ar(m,f);return s.jsxs("div",{className:z("p-2 text-center border-r border-border last:border-r-0",g&&"bg-primary/5"),children:[s.jsx("p",{className:z("text-xs font-medium",g?"text-primary":"text-muted-foreground"),children:ye(m,"EEE",{locale:ot}).toUpperCase()}),s.jsx("p",{className:z("text-sm font-bold",g?"text-primary":"text-foreground"),children:ye(m,"d")})]},x)})]}),s.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:Sge.map(m=>s.jsxs("div",{className:"grid grid-cols-8 border-b border-border/50 last:border-b-0",children:[s.jsx("div",{className:"py-1 px-1 text-center text-[10px] text-muted-foreground font-mono border-r border-border flex items-center justify-center",children:m.toString().padStart(2,"0")}),u.map((x,g)=>{const v=Ar(x,f),w=h(x,m),b=x<f||v&&m<f.getHours();return s.jsxs("div",{onDragOver:i,onDragLeave:o,onDrop:y=>a(y,x,m),onClick:()=>w.length===0&&!b&&r(x,m),className:z("min-h-[32px] p-0.5 border-r border-border/50 last:border-r-0 transition-colors group/slot",v&&"bg-primary/5",b?"opacity-40":"hover:bg-muted/50 cursor-pointer"),children:[w.length===0&&!b&&s.jsx("div",{className:"w-full h-full flex items-center justify-center opacity-0 group-hover/slot:opacity-100 transition-opacity",children:s.jsx(wt,{className:"w-3 h-3 text-muted-foreground"})}),w.map(y=>{const N=Kx[y.type]||Kx.work;return s.jsx("div",{onClick:j=>{j.stopPropagation(),n(y)},className:z("text-[10px] p-1 rounded border truncate cursor-pointer hover:ring-1 hover:ring-primary/50 transition-all",N.color),title:`${y.title} - ${y.time}`,children:y.title},y.id)})]},g)})]},m))})]})]})})},P4={work:{color:"bg-blue-500/20 text-blue-400 border-blue-500/30"},life:{color:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30"},finance:{color:"bg-amber-500/20 text-amber-400 border-amber-500/30"},health:{color:"bg-rose-500/20 text-rose-400 border-rose-500/30"},family:{color:"bg-violet-500/20 text-violet-400 border-violet-500/30"}},Cge=({currentDate:e,events:t,onDayClick:r,onEventClick:n})=>{const a=new Date,i=on(e),o=zi(e),l=Sn(i,{weekStartsOn:1}),c=uh(o,{weekStartsOn:1}),u=[];let f=l;for(;f<=c;)u.push(f),f=br(f,1);const d=m=>{const x=ye(m,"yyyy-MM-dd");return t.filter(g=>g.date===x)},h=["Lun","Mar","Mi","Jue","Vie","Sb","Dom"];return s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"grid grid-cols-7 mb-2",children:h.map(m=>s.jsx("div",{className:"p-2 text-center text-xs font-medium text-muted-foreground",children:m.toUpperCase()},m))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:u.map((m,x)=>{const g=yu(m,e),v=Ar(m,a),w=d(m),b=m<a&&!v;return s.jsxs("div",{onClick:()=>r(m),className:`min-h-[100px] p-2 rounded-lg border transition-colors cursor-pointer ${g?"border-border hover:border-primary/30":"border-transparent opacity-50"} ${v?"bg-primary/5 border-primary/30":""} ${b?"opacity-60":""}`,children:[s.jsx("p",{className:`text-sm font-medium mb-1 ${v?"text-primary":g?"text-foreground":"text-muted-foreground"}`,children:ye(m,"d")}),s.jsxs("div",{className:"space-y-1",children:[w.slice(0,3).map(y=>{const N=P4[y.type]||P4.work;return s.jsxs("div",{onClick:j=>{j.stopPropagation(),n(y)},className:`text-xs p-1 rounded border ${N.color} truncate cursor-pointer hover:ring-1 hover:ring-primary/50`,title:y.title,children:[y.time.slice(0,5)," ",y.title]},y.id)}),w.length>3&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",w.length-3," ms"]})]})]},x)})})]})},kge=({currentDate:e,events:t,onMonthClick:r})=>{const n=new Date,a=lw(e),i=Array.from({length:12},(c,u)=>es(a,u)),o=c=>{const u=ye(c,"yyyy-MM-dd");return t.filter(f=>f.date===u).length},l=["L","M","X","J","V","S","D"];return s.jsx("div",{className:"p-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:i.map(c=>{const u=on(c),f=zi(c),d=Sn(u,{weekStartsOn:1}),h=uh(f,{weekStartsOn:1}),m=[];let x=d;for(;x<=h;)m.push(x),x=br(x,1);const g=yu(c,n);return s.jsxs("div",{onClick:()=>r(c),className:`p-3 rounded-lg border border-border cursor-pointer transition-all hover:border-primary/30 hover:bg-muted/30 ${g?"ring-1 ring-primary/30":""}`,children:[s.jsx("p",{className:`text-sm font-semibold mb-2 text-center ${g?"text-primary":"text-foreground"}`,children:ye(c,"MMMM",{locale:ot})}),s.jsx("div",{className:"grid grid-cols-7 gap-0.5 mb-1",children:l.map(v=>s.jsx("div",{className:"text-[10px] text-center text-muted-foreground",children:v},v))}),s.jsx("div",{className:"grid grid-cols-7 gap-0.5",children:m.map((v,w)=>{const b=yu(v,c),y=Ar(v,n),N=o(v);return s.jsx("div",{className:`aspect-square flex items-center justify-center text-[10px] rounded ${b?"":"opacity-30"} ${y?"bg-primary text-primary-foreground font-bold":""} ${N>0&&!y?"bg-primary/20 text-primary font-medium":""}`,children:ye(v,"d")},w)})})]},c.toISOString())})})},O4={work:{icon:Ts,label:"Trabajo",color:"bg-blue-500/20 text-blue-400 border-blue-500/30"},life:{icon:mt,label:"Vida",color:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30"},finance:{icon:Li,label:"Finanzas",color:"bg-amber-500/20 text-amber-400 border-amber-500/30"},health:{icon:mt,label:"Salud",color:"bg-rose-500/20 text-rose-400 border-rose-500/30"},family:{icon:mt,label:"Familia",color:"bg-violet-500/20 text-violet-400 border-violet-500/30"}},Ege=()=>{const{isOpen:e,isCollapsed:t,open:r,close:n,toggleCollapse:a}=un(),[i,o]=p.useState("week"),[l,c]=p.useState(new Date),[u,f]=p.useState([]),[d,h]=p.useState(null),[m,x]=p.useState(null),[g,v]=p.useState(!1),[w,b]=p.useState(!1),[y,N]=p.useState(null),{pendingTasks:j,loading:S}=gw(),{events:_,loading:k,syncing:E,createEvent:A,updateEvent:C,deleteEvent:O,fetchEvents:$,connected:R,needsReauth:T,lastSyncTime:L,reconnectGoogle:I}=Wg(),P=p.useMemo(()=>u.length===0?_:_.filter(le=>u.includes(le.type)),[_,u]),M=()=>{switch(i){case"day":c(le=>br(le,-1));break;case"week":c(le=>Que(le));break;case"month":c(le=>uw(le,1));break;case"year":c(le=>Zue(le));break}},F=()=>{switch(i){case"day":c(le=>br(le,1));break;case"week":c(le=>Sp(le,1));break;case"month":c(le=>es(le,1));break;case"year":c(le=>oE(le,1));break}},B=()=>c(new Date),q=()=>{switch(i){case"day":return ye(l,"d 'de' MMMM yyyy",{locale:ot});case"week":const le=Sn(l,{weekStartsOn:1});return ye(le,"MMMM yyyy",{locale:ot}).toUpperCase();case"month":return ye(l,"MMMM yyyy",{locale:ot}).toUpperCase();case"year":return ye(l,"yyyy")}},J=le=>{h(le)},W=le=>{le.preventDefault(),le.currentTarget.classList.add("bg-primary/10")},ne=le=>{le.currentTarget.classList.remove("bg-primary/10")},he=async(le,Me,rt)=>{if(le.preventDefault(),le.currentTarget.classList.remove("bg-primary/10"),!d)return;if(!R){V.error("Conecta Google Calendar para crear eventos"),h(null);return}const He=new Date(Me);if(He.setHours(rt,0,0,0),He<new Date){V.error("No puedes crear eventos en el pasado"),h(null);return}const xt=`${rt.toString().padStart(2,"0")}:00`;await A({title:d.title,time:xt,duration:d.duration,description:`Creado desde JARVIS - Tarea: ${d.title}`}),h(null)},ie=le=>{x(le),v(!0)},ce=(le,Me)=>{if(!R){V.error("Conecta Google Calendar para crear eventos");return}const rt=new Date(le);if(rt.setHours(Me,0,0,0),rt<new Date){V.error("No puedes crear eventos en el pasado");return}N({date:le,hour:Me}),b(!0)},re=le=>{c(le),o("day")},se=le=>{c(le),o("month")},me=async le=>A(le),te=async(le,Me)=>C({eventId:le,...Me}),Ee=async le=>O(le),je=p.useCallback(()=>{if(!R)return;let le,Me;switch(i){case"day":le=l,Me=br(l,1);break;case"week":le=Sn(l,{weekStartsOn:1}),Me=br(le,7);break;case"month":le=on(l),Me=zi(l);break;case"year":le=lw(l),Me=zle(l);break}$(le.toISOString(),Me.toISOString())},[R,l,i,$]);return p.useEffect(()=>{je()},[je]),(S||k)&&_.length===0?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(_e,{className:"w-8 h-8 text-primary animate-spin"}),s.jsx("p",{className:"text-muted-foreground font-mono text-sm",children:"CARGANDO CALENDARIO..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(zr,{isOpen:e,onClose:n,isCollapsed:t,onToggleCollapse:a}),s.jsxs("div",{className:z("transition-all duration-300",t?"lg:pl-20":"lg:pl-72"),children:[s.jsx(Ur,{onMenuClick:r}),s.jsxs("main",{className:"p-4 lg:p-6 space-y-6",children:[s.jsx(tc,{}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center",children:s.jsx(Jt,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Calendario"}),s.jsx("p",{className:"text-sm text-muted-foreground font-mono",children:q()})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx(vge,{value:i,onChange:o}),s.jsx(yge,{selectedTypes:u,onChange:f}),s.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[s.jsx(U,{variant:"outline",size:"sm",onClick:M,className:"border-border",children:s.jsx(Eu,{className:"w-4 h-4"})}),s.jsx(U,{variant:"outline",size:"sm",onClick:B,className:"border-border",children:"Hoy"}),s.jsx(U,{variant:"outline",size:"sm",onClick:F,className:"border-border",children:s.jsx(Zs,{className:"w-4 h-4"})}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>je(),disabled:E,className:"h-8 w-8",title:L?`ltima sync: ${L.toLocaleTimeString()}`:"Sincronizar",children:s.jsx(ht,{className:z("w-4 h-4",E&&"animate-spin")})}),E&&s.jsx("span",{className:"text-xs text-muted-foreground animate-pulse ml-1",children:"Sincronizando..."}),!E&&L&&s.jsxs("span",{className:"text-xs text-muted-foreground ml-1 hidden sm:inline",children:[s.jsx(gt,{className:"w-3 h-3 inline mr-1 text-success"}),L.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})]})]})]})]}),s.jsx(wge,{}),s.jsxs("div",{className:z("grid gap-6",i==="year"?"grid-cols-1":"grid-cols-1 xl:grid-cols-4"),children:[i!=="year"&&s.jsxs(X,{className:"border-border bg-card xl:col-span-1",children:[s.jsxs(pe,{className:"pb-4",children:[s.jsxs(ge,{className:"text-base font-semibold text-foreground flex items-center gap-2",children:[s.jsx(aS,{className:"w-4 h-4 text-muted-foreground"}),"Tareas pendientes"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Arrastra para crear bloques"})]}),s.jsx(Y,{className:"space-y-2 max-h-[500px] overflow-y-auto",children:j.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No hay tareas pendientes"}):j.map(le=>{const Me=O4[le.type]||O4.work,rt=Me.icon;return s.jsxs("div",{draggable:!0,onDragStart:()=>J({id:le.id,title:le.title,duration:le.duration,type:le.type}),className:"flex items-center gap-2 p-3 rounded-lg border border-border bg-card hover:border-primary/30 cursor-grab active:cursor-grabbing transition-all group",children:[s.jsx(aS,{className:"w-4 h-4 text-muted-foreground opacity-50 group-hover:opacity-100"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:le.title}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsxs(Q,{variant:"outline",className:`text-xs ${Me.color}`,children:[s.jsx(rt,{className:"w-3 h-3 mr-1"}),Me.label]}),s.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(Pt,{className:"w-3 h-3"}),le.duration,"m"]})]})]})]},le.id)})})]}),s.jsx(X,{className:z("border-border bg-card overflow-hidden",i==="year"?"":"xl:col-span-3"),children:s.jsxs(Y,{className:"p-0",children:[i==="day"&&s.jsx(Nge,{currentDate:l,events:P,onSlotClick:ce,onEventClick:ie,onDrop:he,onDragOver:W,onDragLeave:ne}),i==="week"&&s.jsx(_ge,{weekStart:Sn(l,{weekStartsOn:1}),events:P,onSlotClick:ce,onEventClick:ie,onDrop:he,onDragOver:W,onDragLeave:ne}),i==="month"&&s.jsx(Cge,{currentDate:l,events:P,onDayClick:re,onEventClick:ie}),i==="year"&&s.jsx(kge,{currentDate:l,events:P,onMonthClick:se})]})})]}),T&&s.jsx(X,{className:"border-destructive/50 bg-destructive/5",children:s.jsx(Y,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-destructive/10 flex items-center justify-center",children:s.jsx(kr,{className:"w-5 h-5 text-destructive"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Sesin de Google expirada"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Tu token de acceso ha expirado. Reconecta para continuar sincronizando."})]})]}),s.jsx(U,{onClick:I,variant:"destructive",size:"sm",children:"Reconectar Google"})]})})}),!R&&!T&&s.jsx(X,{className:"border-warning/30 bg-warning/5",children:s.jsx(Y,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-warning/10 flex items-center justify-center",children:s.jsx(fY,{className:"w-5 h-5 text-warning"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Google Calendar no conectado"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Conecta tu cuenta para ver eventos y crear bloques automticamente"})]})]}),s.jsx(U,{onClick:I,variant:"outline",size:"sm",children:"Conectar Google"})]})})})]})]}),s.jsx(uge,{event:m,open:g,onOpenChange:v,onUpdate:te,onDelete:Ee}),s.jsx(fge,{open:w,onOpenChange:b,onCreate:me,selectedDate:(y==null?void 0:y.date)||null,selectedHour:(y==null?void 0:y.hour)||null})]})},Pge=(e=30)=>{const{user:t}=ut(),[r,n]=p.useState(!0),[a,i]=p.useState([]),[o,l]=p.useState([]),[c,u]=p.useState([]),[f,d]=p.useState([]);p.useEffect(()=>{t&&h()},[t,e]);const h=async()=>{if(t){n(!0);try{const m=new Date;m.setDate(m.getDate()-e);const x=m.toISOString().split("T")[0],{data:g,error:v}=await H.from("check_ins").select("date, energy, mood, focus").eq("user_id",t.id).gte("date",x).order("date",{ascending:!0});if(v)throw v;const{data:w,error:b}=await H.from("daily_logs").select("date, planned_count, completed_count, moved_count").eq("user_id",t.id).gte("date",x).order("date",{ascending:!0});if(b)throw b;const{data:y,error:N}=await H.from("tasks").select("type, completed, created_at, completed_at").eq("user_id",t.id).gte("created_at",m.toISOString());if(N)throw N;const j=(g||[]).map(C=>({date:C.date,energy:C.energy,mood:C.mood,focus:C.focus}));i(j);const S=(w||[]).map(C=>({date:C.date,planned:C.planned_count||0,completed:C.completed_count||0,completionRate:C.planned_count?Math.round((C.completed_count||0)/C.planned_count*100):0}));l(S);const _={};(y||[]).forEach(C=>{if(C.completed&&C.completed_at){const O=C.completed_at.split("T")[0];_[O]||(_[O]={work:0,life:0}),C.type==="work"?_[O].work++:_[O].life++}});const k=Object.entries(_).map(([C,O])=>({date:C,workTasks:O.work,lifeTasks:O.life})).sort((C,O)=>C.date.localeCompare(O.date));u(k);const E={};j.forEach(C=>{const O=A4(C.date);E[O]||(E[O]={energy:[],mood:[],focus:[],completionRates:[]}),C.energy!==null&&E[O].energy.push(C.energy),C.mood!==null&&E[O].mood.push(C.mood),C.focus!==null&&E[O].focus.push(C.focus)}),S.forEach(C=>{const O=A4(C.date);E[O]||(E[O]={energy:[],mood:[],focus:[],completionRates:[]}),E[O].completionRates.push(C.completionRate)});const A=Object.entries(E).map(([C,O])=>({week:C,avgEnergy:Yx(O.energy),avgMood:Yx(O.mood),avgFocus:Yx(O.focus),avgCompletionRate:Yx(O.completionRates)})).sort((C,O)=>C.week.localeCompare(O.week));d(A)}catch(m){console.error("Error fetching analytics:",m)}finally{n(!1)}}};return{loading:r,dailyMetrics:a,productivityMetrics:o,balanceMetrics:c,weeklyAverages:f,refetch:h}};function A4(e){const t=new Date(e),r=t.getDay(),n=t.getDate()-r+(r===0?-6:1);return t.setDate(n),t.toISOString().split("T")[0]}function Yx(e){return e.length===0?0:Math.round(e.reduce((t,r)=>t+r,0)/e.length)}function Oge(){const{user:e}=ut(),[t,r]=p.useState([]),[n,a]=p.useState([]),[i,o]=p.useState(!0);return p.useEffect(()=>{if(!e)return;(async()=>{o(!0);try{const{data:c,error:u}=await H.from("bosco_vocabulary_sessions").select("id, date, correct_count, total_count, created_at").eq("user_id",e.id).order("date",{ascending:!0});if(u)throw u;r(c||[]);const{data:f,error:d}=await H.from("bosco_vocabulary").select("id, is_mastered, created_at").eq("user_id",e.id).order("created_at",{ascending:!0});if(d)throw d;a(f||[])}catch(c){console.error("Error fetching Bosco analytics:",c)}finally{o(!1)}})()},[e]),{sessions:t,vocabulary:n,loading:i}}var Age=Array.isArray,Rs=Age,Tge=typeof dx=="object"&&dx&&dx.Object===Object&&dx,C9=Tge,Mge=C9,Rge=typeof self=="object"&&self&&self.Object===Object&&self,Ige=Mge||Rge||Function("return this")(),Ui=Ige,Dge=Ui,$ge=Dge.Symbol,tx=$ge,T4=tx,k9=Object.prototype,Lge=k9.hasOwnProperty,Fge=k9.toString,Wh=T4?T4.toStringTag:void 0;function Bge(e){var t=Lge.call(e,Wh),r=e[Wh];try{e[Wh]=void 0;var n=!0}catch{}var a=Fge.call(e);return n&&(t?e[Wh]=r:delete e[Wh]),a}var zge=Bge,Uge=Object.prototype,Wge=Uge.toString;function qge(e){return Wge.call(e)}var Vge=qge,M4=tx,Hge=zge,Gge=Vge,Kge="[object Null]",Yge="[object Undefined]",R4=M4?M4.toStringTag:void 0;function Xge(e){return e==null?e===void 0?Yge:Kge:R4&&R4 in Object(e)?Hge(e):Gge(e)}var To=Xge;function Jge(e){return e!=null&&typeof e=="object"}var Mo=Jge,Qge=To,Zge=Mo,exe="[object Symbol]";function txe(e){return typeof e=="symbol"||Zge(e)&&Qge(e)==exe}var dh=txe,rxe=Rs,nxe=dh,sxe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,axe=/^\w*$/;function ixe(e,t){if(rxe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||nxe(e)?!0:axe.test(e)||!sxe.test(e)||t!=null&&e in Object(t)}var LE=ixe;function oxe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var nc=oxe;const fh=Ot(nc);var lxe=To,cxe=nc,uxe="[object AsyncFunction]",dxe="[object Function]",fxe="[object GeneratorFunction]",hxe="[object Proxy]";function mxe(e){if(!cxe(e))return!1;var t=lxe(e);return t==dxe||t==fxe||t==uxe||t==hxe}var FE=mxe;const Ue=Ot(FE);var pxe=Ui,gxe=pxe["__core-js_shared__"],xxe=gxe,M1=xxe,I4=function(){var e=/[^.]+$/.exec(M1&&M1.keys&&M1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function vxe(e){return!!I4&&I4 in e}var yxe=vxe,bxe=Function.prototype,wxe=bxe.toString;function jxe(e){if(e!=null){try{return wxe.call(e)}catch{}try{return e+""}catch{}}return""}var E9=jxe,Nxe=FE,Sxe=yxe,_xe=nc,Cxe=E9,kxe=/[\\^$.*+?()[\]{}|]/g,Exe=/^\[object .+?Constructor\]$/,Pxe=Function.prototype,Oxe=Object.prototype,Axe=Pxe.toString,Txe=Oxe.hasOwnProperty,Mxe=RegExp("^"+Axe.call(Txe).replace(kxe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Rxe(e){if(!_xe(e)||Sxe(e))return!1;var t=Nxe(e)?Mxe:Exe;return t.test(Cxe(e))}var Ixe=Rxe;function Dxe(e,t){return e==null?void 0:e[t]}var $xe=Dxe,Lxe=Ixe,Fxe=$xe;function Bxe(e,t){var r=Fxe(e,t);return Lxe(r)?r:void 0}var Tu=Bxe,zxe=Tu,Uxe=zxe(Object,"create"),Nw=Uxe,D4=Nw;function Wxe(){this.__data__=D4?D4(null):{},this.size=0}var qxe=Wxe;function Vxe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Hxe=Vxe,Gxe=Nw,Kxe="__lodash_hash_undefined__",Yxe=Object.prototype,Xxe=Yxe.hasOwnProperty;function Jxe(e){var t=this.__data__;if(Gxe){var r=t[e];return r===Kxe?void 0:r}return Xxe.call(t,e)?t[e]:void 0}var Qxe=Jxe,Zxe=Nw,eve=Object.prototype,tve=eve.hasOwnProperty;function rve(e){var t=this.__data__;return Zxe?t[e]!==void 0:tve.call(t,e)}var nve=rve,sve=Nw,ave="__lodash_hash_undefined__";function ive(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=sve&&t===void 0?ave:t,this}var ove=ive,lve=qxe,cve=Hxe,uve=Qxe,dve=nve,fve=ove;function hh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}hh.prototype.clear=lve;hh.prototype.delete=cve;hh.prototype.get=uve;hh.prototype.has=dve;hh.prototype.set=fve;var hve=hh;function mve(){this.__data__=[],this.size=0}var pve=mve;function gve(e,t){return e===t||e!==e&&t!==t}var BE=gve,xve=BE;function vve(e,t){for(var r=e.length;r--;)if(xve(e[r][0],t))return r;return-1}var Sw=vve,yve=Sw,bve=Array.prototype,wve=bve.splice;function jve(e){var t=this.__data__,r=yve(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():wve.call(t,r,1),--this.size,!0}var Nve=jve,Sve=Sw;function _ve(e){var t=this.__data__,r=Sve(t,e);return r<0?void 0:t[r][1]}var Cve=_ve,kve=Sw;function Eve(e){return kve(this.__data__,e)>-1}var Pve=Eve,Ove=Sw;function Ave(e,t){var r=this.__data__,n=Ove(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Tve=Ave,Mve=pve,Rve=Nve,Ive=Cve,Dve=Pve,$ve=Tve;function mh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}mh.prototype.clear=Mve;mh.prototype.delete=Rve;mh.prototype.get=Ive;mh.prototype.has=Dve;mh.prototype.set=$ve;var _w=mh,Lve=Tu,Fve=Ui,Bve=Lve(Fve,"Map"),zE=Bve,$4=hve,zve=_w,Uve=zE;function Wve(){this.size=0,this.__data__={hash:new $4,map:new(Uve||zve),string:new $4}}var qve=Wve;function Vve(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Hve=Vve,Gve=Hve;function Kve(e,t){var r=e.__data__;return Gve(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Cw=Kve,Yve=Cw;function Xve(e){var t=Yve(this,e).delete(e);return this.size-=t?1:0,t}var Jve=Xve,Qve=Cw;function Zve(e){return Qve(this,e).get(e)}var eye=Zve,tye=Cw;function rye(e){return tye(this,e).has(e)}var nye=rye,sye=Cw;function aye(e,t){var r=sye(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var iye=aye,oye=qve,lye=Jve,cye=eye,uye=nye,dye=iye;function ph(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ph.prototype.clear=oye;ph.prototype.delete=lye;ph.prototype.get=cye;ph.prototype.has=uye;ph.prototype.set=dye;var UE=ph,P9=UE,fye="Expected a function";function WE(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(fye);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(WE.Cache||P9),r}WE.Cache=P9;var O9=WE;const hye=Ot(O9);var mye=O9,pye=500;function gye(e){var t=mye(e,function(n){return r.size===pye&&r.clear(),n}),r=t.cache;return t}var xye=gye,vye=xye,yye=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bye=/\\(\\)?/g,wye=vye(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(yye,function(r,n,a,i){t.push(a?i.replace(bye,"$1"):n||r)}),t}),jye=wye;function Nye(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var qE=Nye,L4=tx,Sye=qE,_ye=Rs,Cye=dh,F4=L4?L4.prototype:void 0,B4=F4?F4.toString:void 0;function A9(e){if(typeof e=="string")return e;if(_ye(e))return Sye(e,A9)+"";if(Cye(e))return B4?B4.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var kye=A9,Eye=kye;function Pye(e){return e==null?"":Eye(e)}var T9=Pye,Oye=Rs,Aye=LE,Tye=jye,Mye=T9;function Rye(e,t){return Oye(e)?e:Aye(e,t)?[e]:Tye(Mye(e))}var M9=Rye,Iye=dh;function Dye(e){if(typeof e=="string"||Iye(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var kw=Dye,$ye=M9,Lye=kw;function Fye(e,t){t=$ye(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Lye(t[r++])];return r&&r==n?e:void 0}var VE=Fye,Bye=VE;function zye(e,t,r){var n=e==null?void 0:Bye(e,t);return n===void 0?r:n}var R9=zye;const Js=Ot(R9);function Uye(e){return e==null}var Wye=Uye;const qe=Ot(Wye);var qye=To,Vye=Rs,Hye=Mo,Gye="[object String]";function Kye(e){return typeof e=="string"||!Vye(e)&&Hye(e)&&qye(e)==Gye}var Yye=Kye;const bu=Ot(Yye);var I9={exports:{}},zt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE=Symbol.for("react.element"),GE=Symbol.for("react.portal"),Ew=Symbol.for("react.fragment"),Pw=Symbol.for("react.strict_mode"),Ow=Symbol.for("react.profiler"),Aw=Symbol.for("react.provider"),Tw=Symbol.for("react.context"),Xye=Symbol.for("react.server_context"),Mw=Symbol.for("react.forward_ref"),Rw=Symbol.for("react.suspense"),Iw=Symbol.for("react.suspense_list"),Dw=Symbol.for("react.memo"),$w=Symbol.for("react.lazy"),Jye=Symbol.for("react.offscreen"),D9;D9=Symbol.for("react.module.reference");function Aa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case HE:switch(e=e.type,e){case Ew:case Ow:case Pw:case Rw:case Iw:return e;default:switch(e=e&&e.$$typeof,e){case Xye:case Tw:case Mw:case $w:case Dw:case Aw:return e;default:return t}}case GE:return t}}}zt.ContextConsumer=Tw;zt.ContextProvider=Aw;zt.Element=HE;zt.ForwardRef=Mw;zt.Fragment=Ew;zt.Lazy=$w;zt.Memo=Dw;zt.Portal=GE;zt.Profiler=Ow;zt.StrictMode=Pw;zt.Suspense=Rw;zt.SuspenseList=Iw;zt.isAsyncMode=function(){return!1};zt.isConcurrentMode=function(){return!1};zt.isContextConsumer=function(e){return Aa(e)===Tw};zt.isContextProvider=function(e){return Aa(e)===Aw};zt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===HE};zt.isForwardRef=function(e){return Aa(e)===Mw};zt.isFragment=function(e){return Aa(e)===Ew};zt.isLazy=function(e){return Aa(e)===$w};zt.isMemo=function(e){return Aa(e)===Dw};zt.isPortal=function(e){return Aa(e)===GE};zt.isProfiler=function(e){return Aa(e)===Ow};zt.isStrictMode=function(e){return Aa(e)===Pw};zt.isSuspense=function(e){return Aa(e)===Rw};zt.isSuspenseList=function(e){return Aa(e)===Iw};zt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ew||e===Ow||e===Pw||e===Rw||e===Iw||e===Jye||typeof e=="object"&&e!==null&&(e.$$typeof===$w||e.$$typeof===Dw||e.$$typeof===Aw||e.$$typeof===Tw||e.$$typeof===Mw||e.$$typeof===D9||e.getModuleId!==void 0)};zt.typeOf=Aa;I9.exports=zt;var Qye=I9.exports,Zye=To,ebe=Mo,tbe="[object Number]";function rbe(e){return typeof e=="number"||ebe(e)&&Zye(e)==tbe}var $9=rbe;const nbe=Ot($9);var sbe=$9;function abe(e){return sbe(e)&&e!=+e}var ibe=abe;const gh=Ot(ibe);var cs=function(t){return t===0?0:t>0?1:-1},Rc=function(t){return bu(t)&&t.indexOf("%")===t.length-1},xe=function(t){return nbe(t)&&!gh(t)},obe=function(t){return qe(t)},jn=function(t){return xe(t)||bu(t)},lbe=0,sc=function(t){var r=++lbe;return"".concat(t||"").concat(r)},us=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xe(t)&&!bu(t))return n;var i;if(Rc(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return gh(i)&&(i=n),a&&i>r&&(i=r),i},Zo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},cbe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Gt=function(t,r){return xe(t)&&xe(r)?function(n){return t+n*(r-t)}:function(){return r}};function Ky(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Js(n,t))===r})}var ube=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,a=0,i=0,o=0,l=1/0,c=-1/0,u=0,f=0,d=0;d<r;d++)u=t[d].cx||0,f=t[d].cy||0,n+=u,a+=f,i+=u*f,o+=u*u,l=Math.min(l,u),c=Math.max(c,u);var h=r*o!==n*n?(r*i-n*a)/(r*o-n*n):0;return{xmin:l,xmax:c,a:h,b:(a-h*n)/r}},dbe=function(t,r){return xe(t)&&xe(r)?t-r:bu(t)&&bu(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Md(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function p_(e){"@babel/helpers - typeof";return p_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p_(e)}var fbe=["viewBox","children"],hbe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],z4=["points","pathLength"],R1={svg:fbe,polygon:z4,polyline:z4},KE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Yy=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(p.isValidElement(t)&&(n=t.props),!fh(n))return null;var a={};return Object.keys(n).forEach(function(i){KE.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},mbe=function(t,r,n){return function(a){return t(r,n,a),null}},Ul=function(t,r,n){if(!fh(t)||p_(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];KE.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=mbe(o,r,n))}),a},pbe=["children"],gbe=["children"];function U4(e,t){if(e==null)return{};var r=xbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function g_(e){"@babel/helpers - typeof";return g_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g_(e)}var W4={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ho=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},q4=null,I1=null,YE=function e(t){if(t===q4&&Array.isArray(I1))return I1;var r=[];return p.Children.forEach(t,function(n){qe(n)||(Qye.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),I1=r,q4=t,r};function hs(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return ho(a)}):n=[ho(t)],YE(e).forEach(function(a){var i=Js(a,"type.displayName")||Js(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Fs(e,t){var r=hs(e,t);return r&&r[0]}var V4=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!xe(n)||n<=0||!xe(a)||a<=0)},vbe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ybe=function(t){return t&&t.type&&bu(t.type)&&vbe.indexOf(t.type)>=0},L9=function(t){return t&&g_(t)==="object"&&"clipDot"in t},bbe=function(t,r,n,a){var i,o=(i=R1==null?void 0:R1[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Ue(t)&&(a&&o.includes(r)||hbe.includes(r))||n&&KE.includes(r)},Oe=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(p.isValidElement(t)&&(a=t.props),!fh(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;bbe((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},x_=function e(t,r){if(t===r)return!0;var n=p.Children.count(t);if(n!==p.Children.count(r))return!1;if(n===0)return!0;if(n===1)return H4(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!H4(i,o))return!1}return!0},H4=function(t,r){if(qe(t)&&qe(r))return!0;if(!qe(t)&&!qe(r)){var n=t.props||{},a=n.children,i=U4(n,pbe),o=r.props||{},l=o.children,c=U4(o,gbe);return a&&l?Md(i,c)&&x_(a,l):!a&&!l?Md(i,c):!1}return!1},G4=function(t,r){var n=[],a={};return YE(t).forEach(function(i,o){if(ybe(i))n.push(i);else if(i){var l=ho(i.type),c=r[l]||{},u=c.handler,f=c.once;if(u&&(!f||!a[l])){var d=u(i,l,o);n.push(d),a[l]=!0}}}),n},wbe=function(t){var r=t&&t.type;return r&&W4[r]?W4[r]:null},jbe=function(t,r){return YE(r).indexOf(t)},Nbe=["children","width","height","viewBox","className","style","title","desc"];function v_(){return v_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v_.apply(this,arguments)}function Sbe(e,t){if(e==null)return{};var r=_be(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _be(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function y_(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=Sbe(e,Nbe),f=a||{width:r,height:n,x:0,y:0},d=Xe("recharts-surface",i);return D.createElement("svg",v_({},Oe(u,!0,"svg"),{className:d,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),D.createElement("title",null,l),D.createElement("desc",null,c),t)}var Cbe=["children","className"];function b_(){return b_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b_.apply(this,arguments)}function kbe(e,t){if(e==null)return{};var r=Ebe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ebe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var tt=D.forwardRef(function(e,t){var r=e.children,n=e.className,a=kbe(e,Cbe),i=Xe("recharts-layer",n);return D.createElement("g",b_({className:i},Oe(a,!0),{ref:t}),r)}),Za=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Pbe(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var Obe=Pbe,Abe=Obe;function Tbe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Abe(e,t,r)}var Mbe=Tbe,Rbe="\\ud800-\\udfff",Ibe="\\u0300-\\u036f",Dbe="\\ufe20-\\ufe2f",$be="\\u20d0-\\u20ff",Lbe=Ibe+Dbe+$be,Fbe="\\ufe0e\\ufe0f",Bbe="\\u200d",zbe=RegExp("["+Bbe+Rbe+Lbe+Fbe+"]");function Ube(e){return zbe.test(e)}var F9=Ube;function Wbe(e){return e.split("")}var qbe=Wbe,B9="\\ud800-\\udfff",Vbe="\\u0300-\\u036f",Hbe="\\ufe20-\\ufe2f",Gbe="\\u20d0-\\u20ff",Kbe=Vbe+Hbe+Gbe,Ybe="\\ufe0e\\ufe0f",Xbe="["+B9+"]",w_="["+Kbe+"]",j_="\\ud83c[\\udffb-\\udfff]",Jbe="(?:"+w_+"|"+j_+")",z9="[^"+B9+"]",U9="(?:\\ud83c[\\udde6-\\uddff]){2}",W9="[\\ud800-\\udbff][\\udc00-\\udfff]",Qbe="\\u200d",q9=Jbe+"?",V9="["+Ybe+"]?",Zbe="(?:"+Qbe+"(?:"+[z9,U9,W9].join("|")+")"+V9+q9+")*",e0e=V9+q9+Zbe,t0e="(?:"+[z9+w_+"?",w_,U9,W9,Xbe].join("|")+")",r0e=RegExp(j_+"(?="+j_+")|"+t0e+e0e,"g");function n0e(e){return e.match(r0e)||[]}var s0e=n0e,a0e=qbe,i0e=F9,o0e=s0e;function l0e(e){return i0e(e)?o0e(e):a0e(e)}var c0e=l0e,u0e=Mbe,d0e=F9,f0e=c0e,h0e=T9;function m0e(e){return function(t){t=h0e(t);var r=d0e(t)?f0e(t):void 0,n=r?r[0]:t.charAt(0),a=r?u0e(r,1).join(""):t.slice(1);return n[e]()+a}}var p0e=m0e,g0e=p0e,x0e=g0e("toUpperCase"),v0e=x0e;const Lw=Ot(v0e);function nr(e){return function(){return e}}const H9=Math.cos,Xy=Math.sin,ui=Math.sqrt,Jy=Math.PI,Fw=2*Jy,N_=Math.PI,S_=2*N_,Sc=1e-6,y0e=S_-Sc;function G9(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function b0e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return G9;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class w0e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?G9:b0e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,f=o-t,d=l-r,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Sc)if(!(Math.abs(d*c-u*f)>Sc)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,x=a-l,g=c*c+u*u,v=m*m+x*x,w=Math.sqrt(g),b=Math.sqrt(h),y=i*Math.tan((N_-Math.acos((g+h-v)/(2*w*b)))/2),N=y/b,j=y/w;Math.abs(N-1)>Sc&&this._append`L${t+N*f},${r+N*d}`,this._append`A${i},${i},0,0,${+(d*m>f*x)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,f=r+c,d=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Sc||Math.abs(this._y1-f)>Sc)&&this._append`L${u},${f}`,n&&(h<0&&(h=h%S_+S_),h>y0e?this._append`A${n},${n},0,1,${d},${t-l},${r-c}A${n},${n},0,1,${d},${this._x1=u},${this._y1=f}`:h>Sc&&this._append`A${n},${n},0,${+(h>=N_)},${d},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function XE(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new w0e(t)}function JE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function K9(e){this._context=e}K9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Bw(e){return new K9(e)}function Y9(e){return e[0]}function X9(e){return e[1]}function J9(e,t){var r=nr(!0),n=null,a=Bw,i=null,o=XE(l);e=typeof e=="function"?e:e===void 0?Y9:nr(e),t=typeof t=="function"?t:t===void 0?X9:nr(t);function l(c){var u,f=(c=JE(c)).length,d,h=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=f;++u)!(u<f&&r(d=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(d,u,c),+t(d,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:nr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:nr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:nr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Xx(e,t,r){var n=null,a=nr(!0),i=null,o=Bw,l=null,c=XE(u);e=typeof e=="function"?e:e===void 0?Y9:nr(+e),t=typeof t=="function"?t:nr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?X9:nr(+r);function u(d){var h,m,x,g=(d=JE(d)).length,v,w=!1,b,y=new Array(g),N=new Array(g);for(i==null&&(l=o(b=c())),h=0;h<=g;++h){if(!(h<g&&a(v=d[h],h,d))===w)if(w=!w)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=h-1;x>=m;--x)l.point(y[x],N[x]);l.lineEnd(),l.areaEnd()}w&&(y[h]=+e(v,h,d),N[h]=+t(v,h,d),l.point(n?+n(v,h,d):y[h],r?+r(v,h,d):N[h]))}if(b)return l=null,b+""||null}function f(){return J9().defined(a).curve(o).context(i)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:nr(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:nr(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:nr(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:nr(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:nr(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:nr(+d),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(n).y(t)},u.defined=function(d){return arguments.length?(a=typeof d=="function"?d:nr(!!d),u):a},u.curve=function(d){return arguments.length?(o=d,i!=null&&(l=o(i)),u):o},u.context=function(d){return arguments.length?(d==null?i=l=null:l=o(i=d),u):i},u}class Q9{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function j0e(e){return new Q9(e,!0)}function N0e(e){return new Q9(e,!1)}const QE={draw(e,t){const r=ui(t/Jy);e.moveTo(r,0),e.arc(0,0,r,0,Fw)}},S0e={draw(e,t){const r=ui(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Z9=ui(1/3),_0e=Z9*2,C0e={draw(e,t){const r=ui(t/_0e),n=r*Z9;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},k0e={draw(e,t){const r=ui(t),n=-r/2;e.rect(n,n,r,r)}},E0e=.8908130915292852,eU=Xy(Jy/10)/Xy(7*Jy/10),P0e=Xy(Fw/10)*eU,O0e=-H9(Fw/10)*eU,A0e={draw(e,t){const r=ui(t*E0e),n=P0e*r,a=O0e*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Fw*i/5,l=H9(o),c=Xy(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},D1=ui(3),T0e={draw(e,t){const r=-ui(t/(D1*3));e.moveTo(0,r*2),e.lineTo(-D1*r,-r),e.lineTo(D1*r,-r),e.closePath()}},oa=-.5,la=ui(3)/2,__=1/ui(12),M0e=(__/2+1)*3,R0e={draw(e,t){const r=ui(t/M0e),n=r/2,a=r*__,i=n,o=r*__+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(oa*n-la*a,la*n+oa*a),e.lineTo(oa*i-la*o,la*i+oa*o),e.lineTo(oa*l-la*c,la*l+oa*c),e.lineTo(oa*n+la*a,oa*a-la*n),e.lineTo(oa*i+la*o,oa*o-la*i),e.lineTo(oa*l+la*c,oa*c-la*l),e.closePath()}};function I0e(e,t){let r=null,n=XE(a);e=typeof e=="function"?e:nr(e||QE),t=typeof t=="function"?t:nr(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:nr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:nr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Qy(){}function Zy(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function tU(e){this._context=e}tU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Zy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Zy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function D0e(e){return new tU(e)}function rU(e){this._context=e}rU.prototype={areaStart:Qy,areaEnd:Qy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Zy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $0e(e){return new rU(e)}function nU(e){this._context=e}nU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Zy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function L0e(e){return new nU(e)}function sU(e){this._context=e}sU.prototype={areaStart:Qy,areaEnd:Qy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function F0e(e){return new sU(e)}function K4(e){return e<0?-1:1}function Y4(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(K4(i)+K4(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function X4(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function $1(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function eb(e){this._context=e}eb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$1(this,this._t0,X4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,$1(this,X4(this,r=Y4(this,e,t)),r);break;default:$1(this,this._t0,r=Y4(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function aU(e){this._context=new iU(e)}(aU.prototype=Object.create(eb.prototype)).point=function(e,t){eb.prototype.point.call(this,t,e)};function iU(e){this._context=e}iU.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function B0e(e){return new eb(e)}function z0e(e){return new aU(e)}function oU(e){this._context=e}oU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=J4(e),a=J4(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function J4(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function U0e(e){return new oU(e)}function zw(e,t){this._context=e,this._t=t}zw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function W0e(e){return new zw(e,.5)}function q0e(e){return new zw(e,0)}function V0e(e){return new zw(e,1)}function pf(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function C_(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function H0e(e,t){return e[t]}function G0e(e){const t=[];return t.key=e,t}function K0e(){var e=nr([]),t=C_,r=pf,n=H0e;function a(i){var o=Array.from(e.apply(this,arguments),G0e),l,c=o.length,u=-1,f;for(const d of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(d,o[l].key,u,i)]).data=d;for(l=0,f=JE(t(o));l<c;++l)o[f[l]].index=l;return r(o,f),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:nr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:nr(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?C_:typeof i=="function"?i:nr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??pf,a):r},a}function Y0e(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}pf(e,t)}}function X0e(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}pf(e,t)}}function J0e(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var f=e[t[l]],d=f[n][1]||0,h=f[n-1][1]||0,m=(d-h)/2,x=0;x<l;++x){var g=e[t[x]],v=g[n][1]||0,w=g[n-1][1]||0;m+=v-w}c+=d,u+=m*d}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,pf(e,t)}}function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}var Q0e=["type","size","sizeType"];function k_(){return k_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k_.apply(this,arguments)}function Q4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Z4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q4(Object(r),!0).forEach(function(n){Z0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z0e(e,t,r){return t=ewe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ewe(e){var t=twe(e,"string");return Ep(t)=="symbol"?t:t+""}function twe(e,t){if(Ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rwe(e,t){if(e==null)return{};var r=nwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var lU={symbolCircle:QE,symbolCross:S0e,symbolDiamond:C0e,symbolSquare:k0e,symbolStar:A0e,symbolTriangle:T0e,symbolWye:R0e},swe=Math.PI/180,awe=function(t){var r="symbol".concat(Lw(t));return lU[r]||QE},iwe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*swe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},owe=function(t,r){lU["symbol".concat(Lw(t))]=r},Uw=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=rwe(t,Q0e),u=Z4(Z4({},c),{},{type:n,size:i,sizeType:l}),f=function(){var v=awe(n),w=I0e().type(v).size(iwe(i,l,n));return w()},d=u.className,h=u.cx,m=u.cy,x=Oe(u,!0);return h===+h&&m===+m&&i===+i?D.createElement("path",k_({},x,{className:Xe("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(m,")"),d:f()})):null};Uw.registerSymbol=owe;function gf(e){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gf(e)}function E_(){return E_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E_.apply(this,arguments)}function eM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lwe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eM(Object(r),!0).forEach(function(n){Pp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uU(n.key),n)}}function dwe(e,t,r){return t&&uwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fwe(e,t,r){return t=tb(t),hwe(e,cU()?Reflect.construct(t,r||[],tb(e).constructor):t.apply(e,r))}function hwe(e,t){if(t&&(gf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mwe(e)}function mwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cU=function(){return!!e})()}function tb(e){return tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tb(e)}function pwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P_(e,t)}function P_(e,t){return P_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},P_(e,t)}function Pp(e,t,r){return t=uU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uU(e){var t=gwe(e,"string");return gf(t)=="symbol"?t:t+""}function gwe(e,t){if(gf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ca=32,ZE=function(e){function t(){return cwe(this,t),fwe(this,t,arguments)}return pwe(t,e),dwe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=ca/2,o=ca/6,l=ca/3,c=n.inactive?a:n.color;if(n.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:ca,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ca,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return D.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ca/8,"h").concat(ca,"v").concat(ca*3/4,"h").concat(-ca,"z"),className:"recharts-legend-icon"});if(D.isValidElement(n.legendIcon)){var u=lwe({},n);return delete u.legendIcon,D.cloneElement(n.legendIcon,u)}return D.createElement(Uw,{fill:c,cx:i,cy:i,size:ca,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,f={x:0,y:0,width:ca,height:ca},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,x){var g=m.formatter||c,v=Xe(Pp(Pp({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",m.inactive));if(m.type==="none")return null;var w=Ue(m.value)?null:m.value;Za(!Ue(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?u:m.color;return D.createElement("li",E_({className:v,style:d,key:"legend-item-".concat(x)},Ul(n.props,m,x)),D.createElement(y_,{width:o,height:o,viewBox:f,style:h},n.renderIcon(m)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(w,m,x):w))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(p.PureComponent);Pp(ZE,"displayName","Legend");Pp(ZE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var xwe=_w;function vwe(){this.__data__=new xwe,this.size=0}var ywe=vwe;function bwe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var wwe=bwe;function jwe(e){return this.__data__.get(e)}var Nwe=jwe;function Swe(e){return this.__data__.has(e)}var _we=Swe,Cwe=_w,kwe=zE,Ewe=UE,Pwe=200;function Owe(e,t){var r=this.__data__;if(r instanceof Cwe){var n=r.__data__;if(!kwe||n.length<Pwe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ewe(n)}return r.set(e,t),this.size=r.size,this}var Awe=Owe,Twe=_w,Mwe=ywe,Rwe=wwe,Iwe=Nwe,Dwe=_we,$we=Awe;function xh(e){var t=this.__data__=new Twe(e);this.size=t.size}xh.prototype.clear=Mwe;xh.prototype.delete=Rwe;xh.prototype.get=Iwe;xh.prototype.has=Dwe;xh.prototype.set=$we;var dU=xh,Lwe="__lodash_hash_undefined__";function Fwe(e){return this.__data__.set(e,Lwe),this}var Bwe=Fwe;function zwe(e){return this.__data__.has(e)}var Uwe=zwe,Wwe=UE,qwe=Bwe,Vwe=Uwe;function rb(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Wwe;++t<r;)this.add(e[t])}rb.prototype.add=rb.prototype.push=qwe;rb.prototype.has=Vwe;var fU=rb;function Hwe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var hU=Hwe;function Gwe(e,t){return e.has(t)}var mU=Gwe,Kwe=fU,Ywe=hU,Xwe=mU,Jwe=1,Qwe=2;function Zwe(e,t,r,n,a,i){var o=r&Jwe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),f=i.get(t);if(u&&f)return u==t&&f==e;var d=-1,h=!0,m=r&Qwe?new Kwe:void 0;for(i.set(e,t),i.set(t,e);++d<l;){var x=e[d],g=t[d];if(n)var v=o?n(g,x,d,t,e,i):n(x,g,d,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!Ywe(t,function(w,b){if(!Xwe(m,b)&&(x===w||a(x,w,r,n,i)))return m.push(b)})){h=!1;break}}else if(!(x===g||a(x,g,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var pU=Zwe,eje=Ui,tje=eje.Uint8Array,rje=tje;function nje(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var sje=nje;function aje(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var eP=aje,tM=tx,rM=rje,ije=BE,oje=pU,lje=sje,cje=eP,uje=1,dje=2,fje="[object Boolean]",hje="[object Date]",mje="[object Error]",pje="[object Map]",gje="[object Number]",xje="[object RegExp]",vje="[object Set]",yje="[object String]",bje="[object Symbol]",wje="[object ArrayBuffer]",jje="[object DataView]",nM=tM?tM.prototype:void 0,L1=nM?nM.valueOf:void 0;function Nje(e,t,r,n,a,i,o){switch(r){case jje:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case wje:return!(e.byteLength!=t.byteLength||!i(new rM(e),new rM(t)));case fje:case hje:case gje:return ije(+e,+t);case mje:return e.name==t.name&&e.message==t.message;case xje:case yje:return e==t+"";case pje:var l=lje;case vje:var c=n&uje;if(l||(l=cje),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=dje,o.set(e,t);var f=oje(l(e),l(t),n,a,i,o);return o.delete(e),f;case bje:if(L1)return L1.call(e)==L1.call(t)}return!1}var Sje=Nje;function _je(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var gU=_je,Cje=gU,kje=Rs;function Eje(e,t,r){var n=t(e);return kje(e)?n:Cje(n,r(e))}var Pje=Eje;function Oje(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var Aje=Oje;function Tje(){return[]}var Mje=Tje,Rje=Aje,Ije=Mje,Dje=Object.prototype,$je=Dje.propertyIsEnumerable,sM=Object.getOwnPropertySymbols,Lje=sM?function(e){return e==null?[]:(e=Object(e),Rje(sM(e),function(t){return $je.call(e,t)}))}:Ije,Fje=Lje;function Bje(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var zje=Bje,Uje=To,Wje=Mo,qje="[object Arguments]";function Vje(e){return Wje(e)&&Uje(e)==qje}var Hje=Vje,aM=Hje,Gje=Mo,xU=Object.prototype,Kje=xU.hasOwnProperty,Yje=xU.propertyIsEnumerable,Xje=aM(function(){return arguments}())?aM:function(e){return Gje(e)&&Kje.call(e,"callee")&&!Yje.call(e,"callee")},tP=Xje,nb={exports:{}};function Jje(){return!1}var Qje=Jje;nb.exports;(function(e,t){var r=Ui,n=Qje,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(nb,nb.exports);var vU=nb.exports,Zje=9007199254740991,e1e=/^(?:0|[1-9]\d*)$/;function t1e(e,t){var r=typeof e;return t=t??Zje,!!t&&(r=="number"||r!="symbol"&&e1e.test(e))&&e>-1&&e%1==0&&e<t}var rP=t1e,r1e=9007199254740991;function n1e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=r1e}var nP=n1e,s1e=To,a1e=nP,i1e=Mo,o1e="[object Arguments]",l1e="[object Array]",c1e="[object Boolean]",u1e="[object Date]",d1e="[object Error]",f1e="[object Function]",h1e="[object Map]",m1e="[object Number]",p1e="[object Object]",g1e="[object RegExp]",x1e="[object Set]",v1e="[object String]",y1e="[object WeakMap]",b1e="[object ArrayBuffer]",w1e="[object DataView]",j1e="[object Float32Array]",N1e="[object Float64Array]",S1e="[object Int8Array]",_1e="[object Int16Array]",C1e="[object Int32Array]",k1e="[object Uint8Array]",E1e="[object Uint8ClampedArray]",P1e="[object Uint16Array]",O1e="[object Uint32Array]",mr={};mr[j1e]=mr[N1e]=mr[S1e]=mr[_1e]=mr[C1e]=mr[k1e]=mr[E1e]=mr[P1e]=mr[O1e]=!0;mr[o1e]=mr[l1e]=mr[b1e]=mr[c1e]=mr[w1e]=mr[u1e]=mr[d1e]=mr[f1e]=mr[h1e]=mr[m1e]=mr[p1e]=mr[g1e]=mr[x1e]=mr[v1e]=mr[y1e]=!1;function A1e(e){return i1e(e)&&a1e(e.length)&&!!mr[s1e(e)]}var T1e=A1e;function M1e(e){return function(t){return e(t)}}var yU=M1e,sb={exports:{}};sb.exports;(function(e,t){var r=C9,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(sb,sb.exports);var R1e=sb.exports,I1e=T1e,D1e=yU,iM=R1e,oM=iM&&iM.isTypedArray,$1e=oM?D1e(oM):I1e,bU=$1e,L1e=zje,F1e=tP,B1e=Rs,z1e=vU,U1e=rP,W1e=bU,q1e=Object.prototype,V1e=q1e.hasOwnProperty;function H1e(e,t){var r=B1e(e),n=!r&&F1e(e),a=!r&&!n&&z1e(e),i=!r&&!n&&!a&&W1e(e),o=r||n||a||i,l=o?L1e(e.length,String):[],c=l.length;for(var u in e)(t||V1e.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||U1e(u,c)))&&l.push(u);return l}var G1e=H1e,K1e=Object.prototype;function Y1e(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||K1e;return e===r}var X1e=Y1e;function J1e(e,t){return function(r){return e(t(r))}}var wU=J1e,Q1e=wU,Z1e=Q1e(Object.keys,Object),eNe=Z1e,tNe=X1e,rNe=eNe,nNe=Object.prototype,sNe=nNe.hasOwnProperty;function aNe(e){if(!tNe(e))return rNe(e);var t=[];for(var r in Object(e))sNe.call(e,r)&&r!="constructor"&&t.push(r);return t}var iNe=aNe,oNe=FE,lNe=nP;function cNe(e){return e!=null&&lNe(e.length)&&!oNe(e)}var rx=cNe,uNe=G1e,dNe=iNe,fNe=rx;function hNe(e){return fNe(e)?uNe(e):dNe(e)}var Ww=hNe,mNe=Pje,pNe=Fje,gNe=Ww;function xNe(e){return mNe(e,gNe,pNe)}var vNe=xNe,lM=vNe,yNe=1,bNe=Object.prototype,wNe=bNe.hasOwnProperty;function jNe(e,t,r,n,a,i){var o=r&yNe,l=lM(e),c=l.length,u=lM(t),f=u.length;if(c!=f&&!o)return!1;for(var d=c;d--;){var h=l[d];if(!(o?h in t:wNe.call(t,h)))return!1}var m=i.get(e),x=i.get(t);if(m&&x)return m==t&&x==e;var g=!0;i.set(e,t),i.set(t,e);for(var v=o;++d<c;){h=l[d];var w=e[h],b=t[h];if(n)var y=o?n(b,w,h,t,e,i):n(w,b,h,e,t,i);if(!(y===void 0?w===b||a(w,b,r,n,i):y)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var N=e.constructor,j=t.constructor;N!=j&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof j=="function"&&j instanceof j)&&(g=!1)}return i.delete(e),i.delete(t),g}var NNe=jNe,SNe=Tu,_Ne=Ui,CNe=SNe(_Ne,"DataView"),kNe=CNe,ENe=Tu,PNe=Ui,ONe=ENe(PNe,"Promise"),ANe=ONe,TNe=Tu,MNe=Ui,RNe=TNe(MNe,"Set"),jU=RNe,INe=Tu,DNe=Ui,$Ne=INe(DNe,"WeakMap"),LNe=$Ne,O_=kNe,A_=zE,T_=ANe,M_=jU,R_=LNe,NU=To,vh=E9,cM="[object Map]",FNe="[object Object]",uM="[object Promise]",dM="[object Set]",fM="[object WeakMap]",hM="[object DataView]",BNe=vh(O_),zNe=vh(A_),UNe=vh(T_),WNe=vh(M_),qNe=vh(R_),_c=NU;(O_&&_c(new O_(new ArrayBuffer(1)))!=hM||A_&&_c(new A_)!=cM||T_&&_c(T_.resolve())!=uM||M_&&_c(new M_)!=dM||R_&&_c(new R_)!=fM)&&(_c=function(e){var t=NU(e),r=t==FNe?e.constructor:void 0,n=r?vh(r):"";if(n)switch(n){case BNe:return hM;case zNe:return cM;case UNe:return uM;case WNe:return dM;case qNe:return fM}return t});var VNe=_c,F1=dU,HNe=pU,GNe=Sje,KNe=NNe,mM=VNe,pM=Rs,gM=vU,YNe=bU,XNe=1,xM="[object Arguments]",vM="[object Array]",Jx="[object Object]",JNe=Object.prototype,yM=JNe.hasOwnProperty;function QNe(e,t,r,n,a,i){var o=pM(e),l=pM(t),c=o?vM:mM(e),u=l?vM:mM(t);c=c==xM?Jx:c,u=u==xM?Jx:u;var f=c==Jx,d=u==Jx,h=c==u;if(h&&gM(e)){if(!gM(t))return!1;o=!0,f=!1}if(h&&!f)return i||(i=new F1),o||YNe(e)?HNe(e,t,r,n,a,i):GNe(e,t,c,r,n,a,i);if(!(r&XNe)){var m=f&&yM.call(e,"__wrapped__"),x=d&&yM.call(t,"__wrapped__");if(m||x){var g=m?e.value():e,v=x?t.value():t;return i||(i=new F1),a(g,v,r,n,i)}}return h?(i||(i=new F1),KNe(e,t,r,n,a,i)):!1}var ZNe=QNe,eSe=ZNe,bM=Mo;function SU(e,t,r,n,a){return e===t?!0:e==null||t==null||!bM(e)&&!bM(t)?e!==e&&t!==t:eSe(e,t,r,n,SU,a)}var sP=SU,tSe=dU,rSe=sP,nSe=1,sSe=2;function aSe(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],f=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var d=new tSe;if(n)var h=n(u,f,c,e,t,d);if(!(h===void 0?rSe(f,u,nSe|sSe,n,d):h))return!1}}return!0}var iSe=aSe,oSe=nc;function lSe(e){return e===e&&!oSe(e)}var _U=lSe,cSe=_U,uSe=Ww;function dSe(e){for(var t=uSe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,cSe(a)]}return t}var fSe=dSe;function hSe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var CU=hSe,mSe=iSe,pSe=fSe,gSe=CU;function xSe(e){var t=pSe(e);return t.length==1&&t[0][2]?gSe(t[0][0],t[0][1]):function(r){return r===e||mSe(r,e,t)}}var vSe=xSe;function ySe(e,t){return e!=null&&t in Object(e)}var bSe=ySe,wSe=M9,jSe=tP,NSe=Rs,SSe=rP,_Se=nP,CSe=kw;function kSe(e,t,r){t=wSe(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=CSe(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&_Se(a)&&SSe(o,a)&&(NSe(e)||jSe(e)))}var ESe=kSe,PSe=bSe,OSe=ESe;function ASe(e,t){return e!=null&&OSe(e,t,PSe)}var TSe=ASe,MSe=sP,RSe=R9,ISe=TSe,DSe=LE,$Se=_U,LSe=CU,FSe=kw,BSe=1,zSe=2;function USe(e,t){return DSe(e)&&$Se(t)?LSe(FSe(e),t):function(r){var n=RSe(r,e);return n===void 0&&n===t?ISe(r,e):MSe(t,n,BSe|zSe)}}var WSe=USe;function qSe(e){return e}var yh=qSe;function VSe(e){return function(t){return t==null?void 0:t[e]}}var HSe=VSe,GSe=VE;function KSe(e){return function(t){return GSe(t,e)}}var YSe=KSe,XSe=HSe,JSe=YSe,QSe=LE,ZSe=kw;function e_e(e){return QSe(e)?XSe(ZSe(e)):JSe(e)}var t_e=e_e,r_e=vSe,n_e=WSe,s_e=yh,a_e=Rs,i_e=t_e;function o_e(e){return typeof e=="function"?e:e==null?s_e:typeof e=="object"?a_e(e)?n_e(e[0],e[1]):r_e(e):i_e(e)}var Wi=o_e;function l_e(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var kU=l_e;function c_e(e){return e!==e}var u_e=c_e;function d_e(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var f_e=d_e,h_e=kU,m_e=u_e,p_e=f_e;function g_e(e,t,r){return t===t?p_e(e,t,r):h_e(e,m_e,r)}var x_e=g_e,v_e=x_e;function y_e(e,t){var r=e==null?0:e.length;return!!r&&v_e(e,t,0)>-1}var b_e=y_e;function w_e(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var j_e=w_e;function N_e(){}var S_e=N_e,B1=jU,__e=S_e,C_e=eP,k_e=1/0,E_e=B1&&1/C_e(new B1([,-0]))[1]==k_e?function(e){return new B1(e)}:__e,P_e=E_e,O_e=fU,A_e=b_e,T_e=j_e,M_e=mU,R_e=P_e,I_e=eP,D_e=200;function $_e(e,t,r){var n=-1,a=A_e,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=T_e;else if(i>=D_e){var u=t?null:R_e(e);if(u)return I_e(u);o=!1,a=M_e,c=new O_e}else c=t?[]:l;e:for(;++n<i;){var f=e[n],d=t?t(f):f;if(f=r||f!==0?f:0,o&&d===d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),l.push(f)}else a(c,d,r)||(c!==l&&c.push(d),l.push(f))}return l}var L_e=$_e,F_e=Wi,B_e=L_e;function z_e(e,t){return e&&e.length?B_e(e,F_e(t)):[]}var U_e=z_e;const wM=Ot(U_e);function EU(e,t,r){return t===!0?wM(e,r):Ue(t)?wM(e,t):e}function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}var W_e=["ref"];function jM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jM(Object(r),!0).forEach(function(n){qw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OU(n.key),n)}}function V_e(e,t,r){return t&&NM(e.prototype,t),r&&NM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function H_e(e,t,r){return t=ab(t),G_e(e,PU()?Reflect.construct(t,r||[],ab(e).constructor):t.apply(e,r))}function G_e(e,t){if(t&&(xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K_e(e)}function K_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PU=function(){return!!e})()}function ab(e){return ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ab(e)}function Y_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I_(e,t)}function I_(e,t){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},I_(e,t)}function qw(e,t,r){return t=OU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OU(e){var t=X_e(e,"string");return xf(t)=="symbol"?t:t+""}function X_e(e,t){if(xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function J_e(e,t){if(e==null)return{};var r=Q_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Q_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Z_e(e){return e.value}function e2e(e,t){if(D.isValidElement(e))return D.cloneElement(e,t);if(typeof e=="function")return D.createElement(e,t);t.ref;var r=J_e(t,W_e);return D.createElement(ZE,r)}var SM=1,As=function(e){function t(){var r;q_e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=H_e(this,t,[].concat(a)),qw(r,"lastBoundingBox",{width:-1,height:-1}),r}return Y_e(t,e),V_e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>SM||Math.abs(a.height-this.lastBoundingBox.height)>SM)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Yi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,f=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();d={left:((u||0)-m.width)/2}}else d=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();h={top:((f||0)-x.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Yi(Yi({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,f=a.payload,d=Yi(Yi({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return D.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(m){n.wrapperNode=m}},e2e(i,Yi(Yi({},this.props),{},{payload:EU(f,u,Z_e)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Yi(Yi({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&xe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(p.PureComponent);qw(As,"displayName","Legend");qw(As,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var _M=tx,t2e=tP,r2e=Rs,CM=_M?_M.isConcatSpreadable:void 0;function n2e(e){return r2e(e)||t2e(e)||!!(CM&&e&&e[CM])}var s2e=n2e,a2e=gU,i2e=s2e;function AU(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=i2e),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?AU(l,t-1,r,n,a):a2e(a,l):n||(a[a.length]=l)}return a}var TU=AU;function o2e(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var l2e=o2e,c2e=l2e,u2e=c2e(),d2e=u2e,f2e=d2e,h2e=Ww;function m2e(e,t){return e&&f2e(e,t,h2e)}var MU=m2e,p2e=rx;function g2e(e,t){return function(r,n){if(r==null)return r;if(!p2e(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var x2e=g2e,v2e=MU,y2e=x2e,b2e=y2e(v2e),aP=b2e,w2e=aP,j2e=rx;function N2e(e,t){var r=-1,n=j2e(e)?Array(e.length):[];return w2e(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var RU=N2e;function S2e(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var _2e=S2e,kM=dh;function C2e(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=kM(e),o=t!==void 0,l=t===null,c=t===t,u=kM(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var k2e=C2e,E2e=k2e;function P2e(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=E2e(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var O2e=P2e,z1=qE,A2e=VE,T2e=Wi,M2e=RU,R2e=_2e,I2e=yU,D2e=O2e,$2e=yh,L2e=Rs;function F2e(e,t,r){t.length?t=z1(t,function(i){return L2e(i)?function(o){return A2e(o,i.length===1?i[0]:i)}:i}):t=[$2e];var n=-1;t=z1(t,I2e(T2e));var a=M2e(e,function(i,o,l){var c=z1(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return R2e(a,function(i,o){return D2e(i,o,r)})}var B2e=F2e;function z2e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var U2e=z2e,W2e=U2e,EM=Math.max;function q2e(e,t,r){return t=EM(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=EM(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),W2e(e,this,l)}}var V2e=q2e;function H2e(e){return function(){return e}}var G2e=H2e,K2e=Tu,Y2e=function(){try{var e=K2e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),IU=Y2e,X2e=G2e,PM=IU,J2e=yh,Q2e=PM?function(e,t){return PM(e,"toString",{configurable:!0,enumerable:!1,value:X2e(t),writable:!0})}:J2e,Z2e=Q2e,eCe=800,tCe=16,rCe=Date.now;function nCe(e){var t=0,r=0;return function(){var n=rCe(),a=tCe-(n-r);if(r=n,a>0){if(++t>=eCe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var sCe=nCe,aCe=Z2e,iCe=sCe,oCe=iCe(aCe),lCe=oCe,cCe=yh,uCe=V2e,dCe=lCe;function fCe(e,t){return dCe(uCe(e,t,cCe),e+"")}var hCe=fCe,mCe=BE,pCe=rx,gCe=rP,xCe=nc;function vCe(e,t,r){if(!xCe(r))return!1;var n=typeof t;return(n=="number"?pCe(r)&&gCe(t,r.length):n=="string"&&t in r)?mCe(r[t],e):!1}var Vw=vCe,yCe=TU,bCe=B2e,wCe=hCe,OM=Vw,jCe=wCe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&OM(e,t[0],t[1])?t=[]:r>2&&OM(t[0],t[1],t[2])&&(t=[t[0]]),bCe(e,yCe(t,1),[])}),NCe=jCe;const iP=Ot(NCe);function Op(e){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(e)}function D_(){return D_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D_.apply(this,arguments)}function SCe(e,t){return ECe(e)||kCe(e,t)||CCe(e,t)||_Ce()}function _Ce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CCe(e,t){if(e){if(typeof e=="string")return AM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AM(e,t)}}function AM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ECe(e){if(Array.isArray(e))return e}function TM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function U1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TM(Object(r),!0).forEach(function(n){PCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PCe(e,t,r){return t=OCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OCe(e){var t=ACe(e,"string");return Op(t)=="symbol"?t:t+""}function ACe(e,t){if(Op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TCe(e){return Array.isArray(e)&&jn(e[0])&&jn(e[1])?e.join(" ~ "):e}var MCe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,f=t.payload,d=t.formatter,h=t.itemSorter,m=t.wrapperClassName,x=t.labelClassName,g=t.label,v=t.labelFormatter,w=t.accessibilityLayer,b=w===void 0?!1:w,y=function(){if(f&&f.length){var O={padding:0,margin:0},$=(h?iP(f,h):f).map(function(R,T){if(R.type==="none")return null;var L=U1({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},l),I=R.formatter||d||TCe,P=R.value,M=R.name,F=P,B=M;if(I&&F!=null&&B!=null){var q=I(P,M,R,T,f);if(Array.isArray(q)){var J=SCe(q,2);F=J[0],B=J[1]}else F=q}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:L},jn(B)?D.createElement("span",{className:"recharts-tooltip-item-name"},B):null,jn(B)?D.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,D.createElement("span",{className:"recharts-tooltip-item-value"},F),D.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:O},$)}return null},N=U1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=U1({margin:0},u),S=!qe(g),_=S?g:"",k=Xe("recharts-default-tooltip",m),E=Xe("recharts-tooltip-label",x);S&&v&&f!==void 0&&f!==null&&(_=v(g,f));var A=b?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",D_({className:k,style:N},A),D.createElement("p",{className:E,style:j},D.isValidElement(_)?_:"".concat(_)),y())};function Ap(e){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(e)}function Qx(e,t,r){return t=RCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RCe(e){var t=ICe(e,"string");return Ap(t)=="symbol"?t:t+""}function ICe(e,t){if(Ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qh="recharts-tooltip-wrapper",DCe={visibility:"hidden"};function $Ce(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Xe(qh,Qx(Qx(Qx(Qx({},"".concat(qh,"-right"),xe(r)&&t&&xe(t.x)&&r>=t.x),"".concat(qh,"-left"),xe(r)&&t&&xe(t.x)&&r<t.x),"".concat(qh,"-bottom"),xe(n)&&t&&xe(t.y)&&n>=t.y),"".concat(qh,"-top"),xe(n)&&t&&xe(t.y)&&n<t.y))}function MM(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&xe(i[n]))return i[n];var f=r[n]-l-a,d=r[n]+a;if(t[n])return o[n]?f:d;if(o[n]){var h=f,m=c[n];return h<m?Math.max(d,c[n]):Math.max(f,c[n])}var x=d+l,g=c[n]+u;return x>g?Math.max(f,c[n]):Math.max(d,c[n])}function LCe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function FCe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,f,d;return o.height>0&&o.width>0&&r?(f=MM({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),d=MM({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=LCe({translateX:f,translateY:d,useTranslate3d:l})):u=DCe,{cssProperties:u,cssClasses:$Ce({translateX:f,translateY:d,coordinate:r})}}function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}function RM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RM(Object(r),!0).forEach(function(n){L_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$U(n.key),n)}}function UCe(e,t,r){return t&&zCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WCe(e,t,r){return t=ib(t),qCe(e,DU()?Reflect.construct(t,r||[],ib(e).constructor):t.apply(e,r))}function qCe(e,t){if(t&&(vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VCe(e)}function VCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DU=function(){return!!e})()}function ib(e){return ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ib(e)}function HCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$_(e,t)}function $_(e,t){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$_(e,t)}function L_(e,t,r){return t=$U(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $U(e){var t=GCe(e,"string");return vf(t)=="symbol"?t:t+""}function GCe(e,t){if(vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var DM=1,KCe=function(e){function t(){var r;BCe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=WCe(this,t,[].concat(a)),L_(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),L_(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return HCe(t,e),UCe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>DM||Math.abs(n.height-this.state.lastBoundingBox.height)>DM)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,f=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,m=a.offset,x=a.position,g=a.reverseDirection,v=a.useTranslate3d,w=a.viewBox,b=a.wrapperStyle,y=FCe({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:m,position:x,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:w}),N=y.cssClasses,j=y.cssProperties,S=IM(IM({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return D.createElement("div",{tabIndex:-1,className:N,style:S,ref:function(k){n.wrapperNode=k}},u)}}])}(p.PureComponent),YCe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},qi={isSsr:YCe()};function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}function $M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$M(Object(r),!0).forEach(function(n){oP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$M(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FU(n.key),n)}}function QCe(e,t,r){return t&&JCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZCe(e,t,r){return t=ob(t),eke(e,LU()?Reflect.construct(t,r||[],ob(e).constructor):t.apply(e,r))}function eke(e,t){if(t&&(yf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tke(e)}function tke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LU=function(){return!!e})()}function ob(e){return ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ob(e)}function rke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F_(e,t)}function F_(e,t){return F_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},F_(e,t)}function oP(e,t,r){return t=FU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FU(e){var t=nke(e,"string");return yf(t)=="symbol"?t:t+""}function nke(e,t){if(yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ske(e){return e.dataKey}function ake(e,t){return D.isValidElement(e)?D.cloneElement(e,t):typeof e=="function"?D.createElement(e,t):D.createElement(MCe,t)}var yn=function(e){function t(){return XCe(this,t),ZCe(this,t,arguments)}return rke(t,e),QCe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,f=a.coordinate,d=a.filterNull,h=a.isAnimationActive,m=a.offset,x=a.payload,g=a.payloadUniqBy,v=a.position,w=a.reverseDirection,b=a.useTranslate3d,y=a.viewBox,N=a.wrapperStyle,j=x??[];d&&j.length&&(j=EU(x.filter(function(_){return _.value!=null&&(_.hide!==!0||n.props.includeHidden)}),g,ske));var S=j.length>0;return D.createElement(KCe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:f,hasPayload:S,offset:m,position:v,reverseDirection:w,useTranslate3d:b,viewBox:y,wrapperStyle:N},ake(u,LM(LM({},this.props),{},{payload:j})))}}])}(p.PureComponent);oP(yn,"displayName","Tooltip");oP(yn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!qi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var ike=Ui,oke=function(){return ike.Date.now()},lke=oke,cke=/\s/;function uke(e){for(var t=e.length;t--&&cke.test(e.charAt(t)););return t}var dke=uke,fke=dke,hke=/^\s+/;function mke(e){return e&&e.slice(0,fke(e)+1).replace(hke,"")}var pke=mke,gke=pke,FM=nc,xke=dh,BM=NaN,vke=/^[-+]0x[0-9a-f]+$/i,yke=/^0b[01]+$/i,bke=/^0o[0-7]+$/i,wke=parseInt;function jke(e){if(typeof e=="number")return e;if(xke(e))return BM;if(FM(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=FM(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=gke(e);var r=yke.test(e);return r||bke.test(e)?wke(e.slice(2),r?2:8):vke.test(e)?BM:+e}var BU=jke,Nke=nc,W1=lke,zM=BU,Ske="Expected a function",_ke=Math.max,Cke=Math.min;function kke(e,t,r){var n,a,i,o,l,c,u=0,f=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(Ske);t=zM(t)||0,Nke(r)&&(f=!!r.leading,d="maxWait"in r,i=d?_ke(zM(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function m(S){var _=n,k=a;return n=a=void 0,u=S,o=e.apply(k,_),o}function x(S){return u=S,l=setTimeout(w,t),f?m(S):o}function g(S){var _=S-c,k=S-u,E=t-_;return d?Cke(E,i-k):E}function v(S){var _=S-c,k=S-u;return c===void 0||_>=t||_<0||d&&k>=i}function w(){var S=W1();if(v(S))return b(S);l=setTimeout(w,g(S))}function b(S){return l=void 0,h&&n?m(S):(n=a=void 0,o)}function y(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function N(){return l===void 0?o:b(W1())}function j(){var S=W1(),_=v(S);if(n=arguments,a=this,c=S,_){if(l===void 0)return x(c);if(d)return clearTimeout(l),l=setTimeout(w,t),m(c)}return l===void 0&&(l=setTimeout(w,t)),o}return j.cancel=y,j.flush=N,j}var Eke=kke,Pke=Eke,Oke=nc,Ake="Expected a function";function Tke(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(Ake);return Oke(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Pke(e,t,{leading:n,maxWait:t,trailing:a})}var Mke=Tke;const zU=Ot(Mke);function Tp(e){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(e)}function UM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UM(Object(r),!0).forEach(function(n){Rke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rke(e,t,r){return t=Ike(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ike(e){var t=Dke(e,"string");return Tp(t)=="symbol"?t:t+""}function Dke(e,t){if(Tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $ke(e,t){return zke(e)||Bke(e,t)||Fke(e,t)||Lke()}function Lke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fke(e,t){if(e){if(typeof e=="string")return WM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WM(e,t)}}function WM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function zke(e){if(Array.isArray(e))return e}var ei=p.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,f=u===void 0?0:u,d=e.minHeight,h=e.maxHeight,m=e.children,x=e.debounce,g=x===void 0?0:x,v=e.id,w=e.className,b=e.onResize,y=e.style,N=y===void 0?{}:y,j=p.useRef(null),S=p.useRef();S.current=b,p.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var _=p.useState({containerWidth:a.width,containerHeight:a.height}),k=$ke(_,2),E=k[0],A=k[1],C=p.useCallback(function($,R){A(function(T){var L=Math.round($),I=Math.round(R);return T.containerWidth===L&&T.containerHeight===I?T:{containerWidth:L,containerHeight:I}})},[]);p.useEffect(function(){var $=function(M){var F,B=M[0].contentRect,q=B.width,J=B.height;C(q,J),(F=S.current)===null||F===void 0||F.call(S,q,J)};g>0&&($=zU($,g,{trailing:!0,leading:!1}));var R=new ResizeObserver($),T=j.current.getBoundingClientRect(),L=T.width,I=T.height;return C(L,I),R.observe(j.current),function(){R.disconnect()}},[C,g]);var O=p.useMemo(function(){var $=E.containerWidth,R=E.containerHeight;if($<0||R<0)return null;Za(Rc(o)||Rc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Za(!r||r>0,"The aspect(%s) must be greater than zero.",r);var T=Rc(o)?$:o,L=Rc(c)?R:c;r&&r>0&&(T?L=T/r:L&&(T=L*r),h&&L>h&&(L=h)),Za(T>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,L,o,c,f,d,r);var I=!Array.isArray(m)&&ho(m.type).endsWith("Chart");return D.Children.map(m,function(P){return D.isValidElement(P)?p.cloneElement(P,Zx({width:T,height:L},I?{style:Zx({height:"100%",width:"100%",maxHeight:L,maxWidth:T},P.props.style)}:{})):P})},[r,m,c,h,d,f,E,o]);return D.createElement("div",{id:v?"".concat(v):void 0,className:Xe("recharts-responsive-container",w),style:Zx(Zx({},N),{},{width:o,height:c,minWidth:f,minHeight:d,maxHeight:h}),ref:j},O)}),nx=function(t){return null};nx.displayName="Cell";function Mp(e){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mp(e)}function qM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function B_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qM(Object(r),!0).forEach(function(n){Uke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uke(e,t,r){return t=Wke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wke(e){var t=qke(e,"string");return Mp(t)=="symbol"?t:t+""}function qke(e,t){if(Mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gu={widthCache:{},cacheCount:0},Vke=2e3,Hke={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},VM="recharts_measurement_span";function Gke(e){var t=B_({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Rm=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||qi.isSsr)return{width:0,height:0};var n=Gke(r),a=JSON.stringify({text:t,copyStyle:n});if(Gu.widthCache[a])return Gu.widthCache[a];try{var i=document.getElementById(VM);i||(i=document.createElement("span"),i.setAttribute("id",VM),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=B_(B_({},Hke),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Gu.widthCache[a]=c,++Gu.cacheCount>Vke&&(Gu.cacheCount=0,Gu.widthCache={}),c}catch{return{width:0,height:0}}},Kke=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Rp(e){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rp(e)}function lb(e,t){return Qke(e)||Jke(e,t)||Xke(e,t)||Yke()}function Yke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xke(e,t){if(e){if(typeof e=="string")return HM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HM(e,t)}}function HM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Qke(e){if(Array.isArray(e))return e}function Zke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tEe(n.key),n)}}function eEe(e,t,r){return t&&GM(e.prototype,t),r&&GM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tEe(e){var t=rEe(e,"string");return Rp(t)=="symbol"?t:t+""}function rEe(e,t){if(Rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var KM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nEe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,sEe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,UU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},aEe=Object.keys(UU),md="NaN";function iEe(e,t){return e*UU[t]}var ev=function(){function e(t,r){Zke(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!nEe.test(r)&&(this.num=NaN,this.unit=""),aEe.includes(r)&&(this.num=iEe(t,r),this.unit="px")}return eEe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=sEe.exec(r))!==null&&n!==void 0?n:[],i=lb(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function WU(e){if(e.includes(md))return md;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=KM.exec(t))!==null&&r!==void 0?r:[],a=lb(n,4),i=a[1],o=a[2],l=a[3],c=ev.parse(i??""),u=ev.parse(l??""),f=o==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return md;t=t.replace(KM,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=YM.exec(t))!==null&&d!==void 0?d:[],m=lb(h,4),x=m[1],g=m[2],v=m[3],w=ev.parse(x??""),b=ev.parse(v??""),y=g==="+"?w.add(b):w.subtract(b);if(y.isNaN())return md;t=t.replace(YM,y.toString())}return t}var XM=/\(([^()]*)\)/;function oEe(e){for(var t=e;t.includes("(");){var r=XM.exec(t),n=lb(r,2),a=n[1];t=t.replace(XM,WU(a))}return t}function lEe(e){var t=e.replace(/\s+/g,"");return t=oEe(t),t=WU(t),t}function cEe(e){try{return lEe(e)}catch{return md}}function q1(e){var t=cEe(e.slice(5,-1));return t===md?"":t}var uEe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],dEe=["dx","dy","angle","className","breakAll"];function z_(){return z_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z_.apply(this,arguments)}function JM(e,t){if(e==null)return{};var r=fEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function QM(e,t){return gEe(e)||pEe(e,t)||mEe(e,t)||hEe()}function hEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mEe(e,t){if(e){if(typeof e=="string")return ZM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZM(e,t)}}function ZM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function gEe(e){if(Array.isArray(e))return e}var qU=/[ \f\n\r\t\v\u2028\u2029]+/,VU=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];qe(r)||(n?i=r.toString().split(""):i=r.toString().split(qU));var o=i.map(function(c){return{word:c,width:Rm(c,a).width}}),l=n?0:Rm("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},xEe=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,f=xe(o),d=l,h=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return T.reduce(function(L,I){var P=I.word,M=I.width,F=L[L.length-1];if(F&&(a==null||i||F.width+M+n<Number(a)))F.words.push(P),F.width+=M+n;else{var B={words:[P],width:M};L.push(B)}return L},[])},m=h(r),x=function(T){return T.reduce(function(L,I){return L.width>I.width?L:I})};if(!f)return m;for(var g="",v=function(T){var L=d.slice(0,T),I=VU({breakAll:u,style:c,children:L+g}).wordsWithComputedWidth,P=h(I),M=P.length>o||x(P).width>Number(a);return[M,P]},w=0,b=d.length-1,y=0,N;w<=b&&y<=d.length-1;){var j=Math.floor((w+b)/2),S=j-1,_=v(S),k=QM(_,2),E=k[0],A=k[1],C=v(j),O=QM(C,1),$=O[0];if(!E&&!$&&(w=j+1),E&&$&&(b=j-1),!E&&$){N=A;break}y++}return N||m},eR=function(t){var r=qe(t)?[]:t.toString().split(qU);return[{words:r}]},vEe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!qi.isSsr){var c,u,f=VU({breakAll:o,children:a,style:i});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;c=d,u=h}else return eR(a);return xEe({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return eR(a)},tR="#808080",wu=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,f=t.scaleToFit,d=f===void 0?!1:f,h=t.textAnchor,m=h===void 0?"start":h,x=t.verticalAnchor,g=x===void 0?"end":x,v=t.fill,w=v===void 0?tR:v,b=JM(t,uEe),y=p.useMemo(function(){return vEe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),N=b.dx,j=b.dy,S=b.angle,_=b.className,k=b.breakAll,E=JM(b,dEe);if(!jn(n)||!jn(i))return null;var A=n+(xe(N)?N:0),C=i+(xe(j)?j:0),O;switch(g){case"start":O=q1("calc(".concat(u,")"));break;case"middle":O=q1("calc(".concat((y.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=q1("calc(".concat(y.length-1," * -").concat(l,")"));break}var $=[];if(d){var R=y[0].width,T=b.width;$.push("scale(".concat((xe(T)?T/R:1)/R,")"))}return S&&$.push("rotate(".concat(S,", ").concat(A,", ").concat(C,")")),$.length&&(E.transform=$.join(" ")),D.createElement("text",z_({},Oe(E,!0),{x:A,y:C,className:Xe("recharts-text",_),textAnchor:m,fill:w.includes("url")?tR:w}),y.map(function(L,I){var P=L.words.join(k?"":" ");return D.createElement("tspan",{x:A,dy:I===0?O:l,key:"".concat(P,"-").concat(I)},P)}))};function Al(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yEe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lP(e){let t,r,n;e.length!==2?(t=Al,r=(l,c)=>Al(e(l),c),n=(l,c)=>e(l)-c):(t=e===Al||e===yEe?e:bEe,r=e,n=e);function a(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<0?u=d+1:f=d}while(u<f)}return u}function i(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<=0?u=d+1:f=d}while(u<f)}return u}function o(l,c,u=0,f=l.length){const d=a(l,c,u,f-1);return d>u&&n(l[d-1],c)>-n(l[d],c)?d-1:d}return{left:a,center:o,right:i}}function bEe(){return 0}function HU(e){return e===null?NaN:+e}function*wEe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const jEe=lP(Al),sx=jEe.right;lP(HU).center;class rR extends Map{constructor(t,r=_Ee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(nR(this,t))}has(t){return super.has(nR(this,t))}set(t,r){return super.set(NEe(this,t),r)}delete(t){return super.delete(SEe(this,t))}}function nR({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function NEe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function SEe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function _Ee(e){return e!==null&&typeof e=="object"?e.valueOf():e}function CEe(e=Al){if(e===Al)return GU;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function GU(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const kEe=Math.sqrt(50),EEe=Math.sqrt(10),PEe=Math.sqrt(2);function cb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=kEe?10:i>=EEe?5:i>=PEe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?cb(e,t,r*2):[l,c,u]}function U_(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?cb(t,e,r):cb(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function W_(e,t,r){return t=+t,e=+e,r=+r,cb(e,t,r)[2]}function q_(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?W_(t,e,r):W_(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function sR(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function aR(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function KU(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?GU:CEe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,f=Math.log(c),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(c-d)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*d/c+h)),x=Math.min(n,Math.floor(t+(c-u)*d/c+h));KU(e,t,m,x,a)}const i=e[t];let o=r,l=n;for(Vh(e,r,t),a(e[n],i)>0&&Vh(e,r,n);o<l;){for(Vh(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Vh(e,r,l):(++l,Vh(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Vh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function OEe(e,t,r){if(e=Float64Array.from(wEe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return aR(e);if(t>=1)return sR(e);var n,a=(n-1)*t,i=Math.floor(a),o=sR(KU(e,i).subarray(0,i+1)),l=aR(e.subarray(i+1));return o+(l-o)*(a-i)}}function AEe(e,t,r=HU){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function TEe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Ta(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ro(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const V_=Symbol("implicit");function cP(){var e=new rR,t=[],r=[],n=V_;function a(i){let o=e.get(i);if(o===void 0){if(n!==V_)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new rR;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return cP(t,r).unknown(n)},Ta.apply(a,arguments),a}function Ip(){var e=cP().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,f=.5;delete e.unknown;function d(){var h=t().length,m=a<n,x=m?a:n,g=m?n:a;i=(g-x)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),x+=(g-x-i*(h-c))*f,o=i*(1-c),l&&(x=Math.round(x),o=Math.round(o));var v=TEe(h).map(function(w){return x+i*w});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,d()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,d()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),d()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return Ip(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(f)},Ta.apply(d(),arguments)}function YU(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return YU(t())},e}function Im(){return YU(Ip.apply(null,arguments).paddingInner(1))}function uP(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function XU(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ax(){}var Dp=.7,ub=1/Dp,Rd="\\s*([+-]?\\d+)\\s*",$p="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ti="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",MEe=/^#([0-9a-f]{3,8})$/,REe=new RegExp(`^rgb\\(${Rd},${Rd},${Rd}\\)$`),IEe=new RegExp(`^rgb\\(${Ti},${Ti},${Ti}\\)$`),DEe=new RegExp(`^rgba\\(${Rd},${Rd},${Rd},${$p}\\)$`),$Ee=new RegExp(`^rgba\\(${Ti},${Ti},${Ti},${$p}\\)$`),LEe=new RegExp(`^hsl\\(${$p},${Ti},${Ti}\\)$`),FEe=new RegExp(`^hsla\\(${$p},${Ti},${Ti},${$p}\\)$`),iR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uP(ax,Lp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:oR,formatHex:oR,formatHex8:BEe,formatHsl:zEe,formatRgb:lR,toString:lR});function oR(){return this.rgb().formatHex()}function BEe(){return this.rgb().formatHex8()}function zEe(){return JU(this).formatHsl()}function lR(){return this.rgb().formatRgb()}function Lp(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=MEe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?cR(t):r===3?new ks(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?tv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?tv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=REe.exec(e))?new ks(t[1],t[2],t[3],1):(t=IEe.exec(e))?new ks(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=DEe.exec(e))?tv(t[1],t[2],t[3],t[4]):(t=$Ee.exec(e))?tv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=LEe.exec(e))?fR(t[1],t[2]/100,t[3]/100,1):(t=FEe.exec(e))?fR(t[1],t[2]/100,t[3]/100,t[4]):iR.hasOwnProperty(e)?cR(iR[e]):e==="transparent"?new ks(NaN,NaN,NaN,0):null}function cR(e){return new ks(e>>16&255,e>>8&255,e&255,1)}function tv(e,t,r,n){return n<=0&&(e=t=r=NaN),new ks(e,t,r,n)}function UEe(e){return e instanceof ax||(e=Lp(e)),e?(e=e.rgb(),new ks(e.r,e.g,e.b,e.opacity)):new ks}function H_(e,t,r,n){return arguments.length===1?UEe(e):new ks(e,t,r,n??1)}function ks(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}uP(ks,H_,XU(ax,{brighter(e){return e=e==null?ub:Math.pow(ub,e),new ks(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Dp:Math.pow(Dp,e),new ks(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ks(Zc(this.r),Zc(this.g),Zc(this.b),db(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uR,formatHex:uR,formatHex8:WEe,formatRgb:dR,toString:dR}));function uR(){return`#${Ic(this.r)}${Ic(this.g)}${Ic(this.b)}`}function WEe(){return`#${Ic(this.r)}${Ic(this.g)}${Ic(this.b)}${Ic((isNaN(this.opacity)?1:this.opacity)*255)}`}function dR(){const e=db(this.opacity);return`${e===1?"rgb(":"rgba("}${Zc(this.r)}, ${Zc(this.g)}, ${Zc(this.b)}${e===1?")":`, ${e})`}`}function db(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Zc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ic(e){return e=Zc(e),(e<16?"0":"")+e.toString(16)}function fR(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ka(e,t,r,n)}function JU(e){if(e instanceof Ka)return new Ka(e.h,e.s,e.l,e.opacity);if(e instanceof ax||(e=Lp(e)),!e)return new Ka;if(e instanceof Ka)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Ka(o,l,c,e.opacity)}function qEe(e,t,r,n){return arguments.length===1?JU(e):new Ka(e,t,r,n??1)}function Ka(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}uP(Ka,qEe,XU(ax,{brighter(e){return e=e==null?ub:Math.pow(ub,e),new Ka(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Dp:Math.pow(Dp,e),new Ka(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ks(V1(e>=240?e-240:e+120,a,n),V1(e,a,n),V1(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ka(hR(this.h),rv(this.s),rv(this.l),db(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=db(this.opacity);return`${e===1?"hsl(":"hsla("}${hR(this.h)}, ${rv(this.s)*100}%, ${rv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function hR(e){return e=(e||0)%360,e<0?e+360:e}function rv(e){return Math.max(0,Math.min(1,e||0))}function V1(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const dP=e=>()=>e;function VEe(e,t){return function(r){return e+r*t}}function HEe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function GEe(e){return(e=+e)==1?QU:function(t,r){return r-t?HEe(t,r,e):dP(isNaN(t)?r:t)}}function QU(e,t){var r=t-e;return r?VEe(e,r):dP(isNaN(e)?t:e)}const mR=function e(t){var r=GEe(t);function n(a,i){var o=r((a=H_(a)).r,(i=H_(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=QU(a.opacity,i.opacity);return function(f){return a.r=o(f),a.g=l(f),a.b=c(f),a.opacity=u(f),a+""}}return n.gamma=e,n}(1);function KEe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function YEe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function XEe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=bh(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function JEe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function fb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function QEe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=bh(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var G_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,H1=new RegExp(G_.source,"g");function ZEe(e){return function(){return e}}function ePe(e){return function(t){return e(t)+""}}function tPe(e,t){var r=G_.lastIndex=H1.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=G_.exec(e))&&(a=H1.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:fb(n,a)})),r=H1.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?ePe(c[0].x):ZEe(t):(t=c.length,function(u){for(var f=0,d;f<t;++f)l[(d=c[f]).i]=d.x(u);return l.join("")})}function bh(e,t){var r=typeof t,n;return t==null||r==="boolean"?dP(t):(r==="number"?fb:r==="string"?(n=Lp(t))?(t=n,mR):tPe:t instanceof Lp?mR:t instanceof Date?JEe:YEe(t)?KEe:Array.isArray(t)?XEe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?QEe:fb)(e,t)}function fP(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function rPe(e,t){t===void 0&&(t=e,e=bh);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function nPe(e){return function(){return e}}function hb(e){return+e}var pR=[0,1];function ds(e){return e}function K_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:nPe(isNaN(t)?NaN:.5)}function sPe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function aPe(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=K_(a,n),i=r(o,i)):(n=K_(n,a),i=r(i,o)),function(l){return i(n(l))}}function iPe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=K_(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=sx(e,l,1,n)-1;return i[c](a[c](l))}}function ix(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Hw(){var e=pR,t=pR,r=bh,n,a,i,o=ds,l,c,u;function f(){var h=Math.min(e.length,t.length);return o!==ds&&(o=sPe(e[0],e[h-1])),l=h>2?iPe:aPe,c=u=null,d}function d(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return d.invert=function(h){return o(a((u||(u=l(t,e.map(n),fb)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,hb),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=fP,f()},d.clamp=function(h){return arguments.length?(o=h?!0:ds,f()):o!==ds},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(i=h,d):i},function(h,m){return n=h,a=m,f()}}function hP(){return Hw()(ds,ds)}function oPe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function mb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function bf(e){return e=mb(Math.abs(e)),e?e[1]:NaN}function lPe(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function cPe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var uPe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fp(e){if(!(t=uPe.exec(e)))throw new Error("invalid format: "+e);var t;return new mP({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Fp.prototype=mP.prototype;function mP(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}mP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dPe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var ZU;function fPe(e,t){var r=mb(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(ZU=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+mb(e,Math.max(0,t+i-1))[0]}function gR(e,t){var r=mb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const xR={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:oPe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>gR(e*100,t),r:gR,s:fPe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function vR(e){return e}var yR=Array.prototype.map,bR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function hPe(e){var t=e.grouping===void 0||e.thousands===void 0?vR:lPe(yR.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?vR:cPe(yR.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Fp(d);var h=d.fill,m=d.align,x=d.sign,g=d.symbol,v=d.zero,w=d.width,b=d.comma,y=d.precision,N=d.trim,j=d.type;j==="n"?(b=!0,j="g"):xR[j]||(y===void 0&&(y=12),N=!0,j="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var S=g==="$"?r:g==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",_=g==="$"?n:/[%p]/.test(j)?o:"",k=xR[j],E=/[defgprs%]/.test(j);y=y===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function A(C){var O=S,$=_,R,T,L;if(j==="c")$=k(C)+$,C="";else{C=+C;var I=C<0||1/C<0;if(C=isNaN(C)?c:k(Math.abs(C),y),N&&(C=dPe(C)),I&&+C==0&&x!=="+"&&(I=!1),O=(I?x==="("?x:l:x==="-"||x==="("?"":x)+O,$=(j==="s"?bR[8+ZU/3]:"")+$+(I&&x==="("?")":""),E){for(R=-1,T=C.length;++R<T;)if(L=C.charCodeAt(R),48>L||L>57){$=(L===46?a+C.slice(R+1):C.slice(R))+$,C=C.slice(0,R);break}}}b&&!v&&(C=t(C,1/0));var P=O.length+C.length+$.length,M=P<w?new Array(w-P+1).join(h):"";switch(b&&v&&(C=t(M+C,M.length?w-$.length:1/0),M=""),m){case"<":C=O+C+$+M;break;case"=":C=O+M+C+$;break;case"^":C=M.slice(0,P=M.length>>1)+O+C+$+M.slice(P);break;default:C=M+O+C+$;break}return i(C)}return A.toString=function(){return d+""},A}function f(d,h){var m=u((d=Fp(d),d.type="f",d)),x=Math.max(-8,Math.min(8,Math.floor(bf(h)/3)))*3,g=Math.pow(10,-x),v=bR[8+x/3];return function(w){return m(g*w)+v}}return{format:u,formatPrefix:f}}var nv,pP,eW;mPe({thousands:",",grouping:[3],currency:["$",""]});function mPe(e){return nv=hPe(e),pP=nv.format,eW=nv.formatPrefix,nv}function pPe(e){return Math.max(0,-bf(Math.abs(e)))}function gPe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bf(t)/3)))*3-bf(Math.abs(e)))}function xPe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,bf(t)-bf(e))+1}function tW(e,t,r,n){var a=q_(e,t,r),i;switch(n=Fp(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=gPe(a,o))&&(n.precision=i),eW(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=xPe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=pPe(a))&&(n.precision=i-(n.type==="%")*2);break}}return pP(n)}function ac(e){var t=e.domain;return e.ticks=function(r){var n=t();return U_(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return tW(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,f=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);f-- >0;){if(u=W_(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function pb(){var e=hP();return e.copy=function(){return ix(e,pb())},Ta.apply(e,arguments),ac(e)}function rW(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,hb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return rW(e).unknown(t)},e=arguments.length?Array.from(e,hb):[0,1],ac(r)}function nW(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function wR(e){return Math.log(e)}function jR(e){return Math.exp(e)}function vPe(e){return-Math.log(-e)}function yPe(e){return-Math.exp(-e)}function bPe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function wPe(e){return e===10?bPe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function jPe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function NR(e){return(t,r)=>-e(-t,r)}function gP(e){const t=e(wR,jR),r=t.domain;let n=10,a,i;function o(){return a=jPe(n),i=wPe(n),r()[0]<0?(a=NR(a),i=NR(i),e(vPe,yPe)):e(wR,jR),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],f=c[c.length-1];const d=f<u;d&&([u,f]=[f,u]);let h=a(u),m=a(f),x,g;const v=l==null?10:+l;let w=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(x=1;x<n;++x)if(g=h<0?x/i(-h):x*i(h),!(g<u)){if(g>f)break;w.push(g)}}else for(;h<=m;++h)for(x=n-1;x>=1;--x)if(g=h>0?x/i(-h):x*i(h),!(g<u)){if(g>f)break;w.push(g)}w.length*2<v&&(w=U_(u,f,v))}else w=U_(h,m,Math.min(m-h,v)).map(i);return d?w.reverse():w},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Fp(c)).precision==null&&(c.trim=!0),c=pP(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return f=>{let d=f/i(Math.round(a(f)));return d*n<n-.5&&(d*=n),d<=u?c(f):""}},t.nice=()=>r(nW(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function sW(){const e=gP(Hw()).domain([1,10]);return e.copy=()=>ix(e,sW()).base(e.base()),Ta.apply(e,arguments),e}function SR(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function _R(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function xP(e){var t=1,r=e(SR(t),_R(t));return r.constant=function(n){return arguments.length?e(SR(t=+n),_R(t)):t},ac(r)}function aW(){var e=xP(Hw());return e.copy=function(){return ix(e,aW()).constant(e.constant())},Ta.apply(e,arguments)}function CR(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function NPe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function SPe(e){return e<0?-e*e:e*e}function vP(e){var t=e(ds,ds),r=1;function n(){return r===1?e(ds,ds):r===.5?e(NPe,SPe):e(CR(r),CR(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},ac(t)}function yP(){var e=vP(Hw());return e.copy=function(){return ix(e,yP()).exponent(e.exponent())},Ta.apply(e,arguments),e}function _Pe(){return yP.apply(null,arguments).exponent(.5)}function kR(e){return Math.sign(e)*e*e}function CPe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function iW(){var e=hP(),t=[0,1],r=!1,n;function a(i){var o=CPe(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(kR(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,hb)).map(kR)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return iW(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ta.apply(a,arguments),ac(a)}function oW(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=AEe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[sx(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Al),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return oW().domain(e).range(t).unknown(n)},Ta.apply(i,arguments)}function lW(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[sx(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return lW().domain([e,t]).range(a).unknown(i)},Ta.apply(ac(o),arguments)}function cW(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[sx(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return cW().domain(e).range(t).unknown(r)},Ta.apply(a,arguments)}const G1=new Date,K1=new Date;function Cn(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>Cn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(G1.setTime(+i),K1.setTime(+o),e(G1),e(K1),Math.floor(r(G1,K1))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const gb=Cn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);gb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Cn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):gb);gb.range;const io=1e3,ba=io*60,oo=ba*60,No=oo*24,bP=No*7,ER=No*30,Y1=No*365,Dc=Cn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*io)},(e,t)=>(t-e)/io,e=>e.getUTCSeconds());Dc.range;const wP=Cn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*io)},(e,t)=>{e.setTime(+e+t*ba)},(e,t)=>(t-e)/ba,e=>e.getMinutes());wP.range;const jP=Cn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ba)},(e,t)=>(t-e)/ba,e=>e.getUTCMinutes());jP.range;const NP=Cn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*io-e.getMinutes()*ba)},(e,t)=>{e.setTime(+e+t*oo)},(e,t)=>(t-e)/oo,e=>e.getHours());NP.range;const SP=Cn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*oo)},(e,t)=>(t-e)/oo,e=>e.getUTCHours());SP.range;const ox=Cn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ba)/No,e=>e.getDate()-1);ox.range;const Gw=Cn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/No,e=>e.getUTCDate()-1);Gw.range;const uW=Cn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/No,e=>Math.floor(e/No));uW.range;function Mu(e){return Cn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ba)/bP)}const Kw=Mu(0),xb=Mu(1),kPe=Mu(2),EPe=Mu(3),wf=Mu(4),PPe=Mu(5),OPe=Mu(6);Kw.range;xb.range;kPe.range;EPe.range;wf.range;PPe.range;OPe.range;function Ru(e){return Cn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/bP)}const Yw=Ru(0),vb=Ru(1),APe=Ru(2),TPe=Ru(3),jf=Ru(4),MPe=Ru(5),RPe=Ru(6);Yw.range;vb.range;APe.range;TPe.range;jf.range;MPe.range;RPe.range;const _P=Cn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());_P.range;const CP=Cn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());CP.range;const So=Cn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());So.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Cn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});So.range;const _o=Cn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());_o.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Cn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});_o.range;function dW(e,t,r,n,a,i){const o=[[Dc,1,io],[Dc,5,5*io],[Dc,15,15*io],[Dc,30,30*io],[i,1,ba],[i,5,5*ba],[i,15,15*ba],[i,30,30*ba],[a,1,oo],[a,3,3*oo],[a,6,6*oo],[a,12,12*oo],[n,1,No],[n,2,2*No],[r,1,bP],[t,1,ER],[t,3,3*ER],[e,1,Y1]];function l(u,f,d){const h=f<u;h&&([u,f]=[f,u]);const m=d&&typeof d.range=="function"?d:c(u,f,d),x=m?m.range(u,+f+1):[];return h?x.reverse():x}function c(u,f,d){const h=Math.abs(f-u)/d,m=lP(([,,v])=>v).right(o,h);if(m===o.length)return e.every(q_(u/Y1,f/Y1,d));if(m===0)return gb.every(Math.max(q_(u,f,d),1));const[x,g]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return x.every(g)}return[l,c]}const[IPe,DPe]=dW(_o,CP,Yw,uW,SP,jP),[$Pe,LPe]=dW(So,_P,Kw,ox,NP,wP);function X1(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function J1(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Hh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function FPe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Gh(a),f=Kh(a),d=Gh(i),h=Kh(i),m=Gh(o),x=Kh(o),g=Gh(l),v=Kh(l),w=Gh(c),b=Kh(c),y={a:I,A:P,b:M,B:F,c:null,d:RR,e:RR,f:lOe,g:vOe,G:bOe,H:aOe,I:iOe,j:oOe,L:fW,m:cOe,M:uOe,p:B,q,Q:$R,s:LR,S:dOe,u:fOe,U:hOe,V:mOe,w:pOe,W:gOe,x:null,X:null,y:xOe,Y:yOe,Z:wOe,"%":DR},N={a:J,A:W,b:ne,B:he,c:null,d:IR,e:IR,f:_Oe,g:IOe,G:$Oe,H:jOe,I:NOe,j:SOe,L:mW,m:COe,M:kOe,p:ie,q:ce,Q:$R,s:LR,S:EOe,u:POe,U:OOe,V:AOe,w:TOe,W:MOe,x:null,X:null,y:ROe,Y:DOe,Z:LOe,"%":DR},j={a:A,A:C,b:O,B:$,c:R,d:TR,e:TR,f:tOe,g:AR,G:OR,H:MR,I:MR,j:JPe,L:eOe,m:XPe,M:QPe,p:E,q:YPe,Q:nOe,s:sOe,S:ZPe,u:qPe,U:VPe,V:HPe,w:WPe,W:GPe,x:T,X:L,y:AR,Y:OR,Z:KPe,"%":rOe};y.x=S(r,y),y.X=S(n,y),y.c=S(t,y),N.x=S(r,N),N.X=S(n,N),N.c=S(t,N);function S(re,se){return function(me){var te=[],Ee=-1,je=0,Be=re.length,le,Me,rt;for(me instanceof Date||(me=new Date(+me));++Ee<Be;)re.charCodeAt(Ee)===37&&(te.push(re.slice(je,Ee)),(Me=PR[le=re.charAt(++Ee)])!=null?le=re.charAt(++Ee):Me=le==="e"?" ":"0",(rt=se[le])&&(le=rt(me,Me)),te.push(le),je=Ee+1);return te.push(re.slice(je,Ee)),te.join("")}}function _(re,se){return function(me){var te=Hh(1900,void 0,1),Ee=k(te,re,me+="",0),je,Be;if(Ee!=me.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(se&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(je=J1(Hh(te.y,0,1)),Be=je.getUTCDay(),je=Be>4||Be===0?vb.ceil(je):vb(je),je=Gw.offset(je,(te.V-1)*7),te.y=je.getUTCFullYear(),te.m=je.getUTCMonth(),te.d=je.getUTCDate()+(te.w+6)%7):(je=X1(Hh(te.y,0,1)),Be=je.getDay(),je=Be>4||Be===0?xb.ceil(je):xb(je),je=ox.offset(je,(te.V-1)*7),te.y=je.getFullYear(),te.m=je.getMonth(),te.d=je.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),Be="Z"in te?J1(Hh(te.y,0,1)).getUTCDay():X1(Hh(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(Be+5)%7:te.w+te.U*7-(Be+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,J1(te)):X1(te)}}function k(re,se,me,te){for(var Ee=0,je=se.length,Be=me.length,le,Me;Ee<je;){if(te>=Be)return-1;if(le=se.charCodeAt(Ee++),le===37){if(le=se.charAt(Ee++),Me=j[le in PR?se.charAt(Ee++):le],!Me||(te=Me(re,me,te))<0)return-1}else if(le!=me.charCodeAt(te++))return-1}return te}function E(re,se,me){var te=u.exec(se.slice(me));return te?(re.p=f.get(te[0].toLowerCase()),me+te[0].length):-1}function A(re,se,me){var te=m.exec(se.slice(me));return te?(re.w=x.get(te[0].toLowerCase()),me+te[0].length):-1}function C(re,se,me){var te=d.exec(se.slice(me));return te?(re.w=h.get(te[0].toLowerCase()),me+te[0].length):-1}function O(re,se,me){var te=w.exec(se.slice(me));return te?(re.m=b.get(te[0].toLowerCase()),me+te[0].length):-1}function $(re,se,me){var te=g.exec(se.slice(me));return te?(re.m=v.get(te[0].toLowerCase()),me+te[0].length):-1}function R(re,se,me){return k(re,t,se,me)}function T(re,se,me){return k(re,r,se,me)}function L(re,se,me){return k(re,n,se,me)}function I(re){return o[re.getDay()]}function P(re){return i[re.getDay()]}function M(re){return c[re.getMonth()]}function F(re){return l[re.getMonth()]}function B(re){return a[+(re.getHours()>=12)]}function q(re){return 1+~~(re.getMonth()/3)}function J(re){return o[re.getUTCDay()]}function W(re){return i[re.getUTCDay()]}function ne(re){return c[re.getUTCMonth()]}function he(re){return l[re.getUTCMonth()]}function ie(re){return a[+(re.getUTCHours()>=12)]}function ce(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var se=S(re+="",y);return se.toString=function(){return re},se},parse:function(re){var se=_(re+="",!1);return se.toString=function(){return re},se},utcFormat:function(re){var se=S(re+="",N);return se.toString=function(){return re},se},utcParse:function(re){var se=_(re+="",!0);return se.toString=function(){return re},se}}}var PR={"-":"",_:" ",0:"0"},Rn=/^\s*\d+/,BPe=/^%/,zPe=/[\\^$*+?|[\]().{}]/g;function _t(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function UPe(e){return e.replace(zPe,"\\$&")}function Gh(e){return new RegExp("^(?:"+e.map(UPe).join("|")+")","i")}function Kh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function WPe(e,t,r){var n=Rn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function qPe(e,t,r){var n=Rn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function VPe(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function HPe(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function GPe(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function OR(e,t,r){var n=Rn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function AR(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function KPe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function YPe(e,t,r){var n=Rn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function XPe(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function TR(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function JPe(e,t,r){var n=Rn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function MR(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function QPe(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function ZPe(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function eOe(e,t,r){var n=Rn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function tOe(e,t,r){var n=Rn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function rOe(e,t,r){var n=BPe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function nOe(e,t,r){var n=Rn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function sOe(e,t,r){var n=Rn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function RR(e,t){return _t(e.getDate(),t,2)}function aOe(e,t){return _t(e.getHours(),t,2)}function iOe(e,t){return _t(e.getHours()%12||12,t,2)}function oOe(e,t){return _t(1+ox.count(So(e),e),t,3)}function fW(e,t){return _t(e.getMilliseconds(),t,3)}function lOe(e,t){return fW(e,t)+"000"}function cOe(e,t){return _t(e.getMonth()+1,t,2)}function uOe(e,t){return _t(e.getMinutes(),t,2)}function dOe(e,t){return _t(e.getSeconds(),t,2)}function fOe(e){var t=e.getDay();return t===0?7:t}function hOe(e,t){return _t(Kw.count(So(e)-1,e),t,2)}function hW(e){var t=e.getDay();return t>=4||t===0?wf(e):wf.ceil(e)}function mOe(e,t){return e=hW(e),_t(wf.count(So(e),e)+(So(e).getDay()===4),t,2)}function pOe(e){return e.getDay()}function gOe(e,t){return _t(xb.count(So(e)-1,e),t,2)}function xOe(e,t){return _t(e.getFullYear()%100,t,2)}function vOe(e,t){return e=hW(e),_t(e.getFullYear()%100,t,2)}function yOe(e,t){return _t(e.getFullYear()%1e4,t,4)}function bOe(e,t){var r=e.getDay();return e=r>=4||r===0?wf(e):wf.ceil(e),_t(e.getFullYear()%1e4,t,4)}function wOe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_t(t/60|0,"0",2)+_t(t%60,"0",2)}function IR(e,t){return _t(e.getUTCDate(),t,2)}function jOe(e,t){return _t(e.getUTCHours(),t,2)}function NOe(e,t){return _t(e.getUTCHours()%12||12,t,2)}function SOe(e,t){return _t(1+Gw.count(_o(e),e),t,3)}function mW(e,t){return _t(e.getUTCMilliseconds(),t,3)}function _Oe(e,t){return mW(e,t)+"000"}function COe(e,t){return _t(e.getUTCMonth()+1,t,2)}function kOe(e,t){return _t(e.getUTCMinutes(),t,2)}function EOe(e,t){return _t(e.getUTCSeconds(),t,2)}function POe(e){var t=e.getUTCDay();return t===0?7:t}function OOe(e,t){return _t(Yw.count(_o(e)-1,e),t,2)}function pW(e){var t=e.getUTCDay();return t>=4||t===0?jf(e):jf.ceil(e)}function AOe(e,t){return e=pW(e),_t(jf.count(_o(e),e)+(_o(e).getUTCDay()===4),t,2)}function TOe(e){return e.getUTCDay()}function MOe(e,t){return _t(vb.count(_o(e)-1,e),t,2)}function ROe(e,t){return _t(e.getUTCFullYear()%100,t,2)}function IOe(e,t){return e=pW(e),_t(e.getUTCFullYear()%100,t,2)}function DOe(e,t){return _t(e.getUTCFullYear()%1e4,t,4)}function $Oe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?jf(e):jf.ceil(e),_t(e.getUTCFullYear()%1e4,t,4)}function LOe(){return"+0000"}function DR(){return"%"}function $R(e){return+e}function LR(e){return Math.floor(+e/1e3)}var Ku,gW,xW;FOe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function FOe(e){return Ku=FPe(e),gW=Ku.format,Ku.parse,xW=Ku.utcFormat,Ku.utcParse,Ku}function BOe(e){return new Date(e)}function zOe(e){return e instanceof Date?+e:+new Date(+e)}function kP(e,t,r,n,a,i,o,l,c,u){var f=hP(),d=f.invert,h=f.domain,m=u(".%L"),x=u(":%S"),g=u("%I:%M"),v=u("%I %p"),w=u("%a %d"),b=u("%b %d"),y=u("%B"),N=u("%Y");function j(S){return(c(S)<S?m:l(S)<S?x:o(S)<S?g:i(S)<S?v:n(S)<S?a(S)<S?w:b:r(S)<S?y:N)(S)}return f.invert=function(S){return new Date(d(S))},f.domain=function(S){return arguments.length?h(Array.from(S,zOe)):h().map(BOe)},f.ticks=function(S){var _=h();return e(_[0],_[_.length-1],S??10)},f.tickFormat=function(S,_){return _==null?j:u(_)},f.nice=function(S){var _=h();return(!S||typeof S.range!="function")&&(S=t(_[0],_[_.length-1],S??10)),S?h(nW(_,S)):f},f.copy=function(){return ix(f,kP(e,t,r,n,a,i,o,l,c,u))},f}function UOe(){return Ta.apply(kP($Pe,LPe,So,_P,Kw,ox,NP,wP,Dc,gW).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function WOe(){return Ta.apply(kP(IPe,DPe,_o,CP,Yw,Gw,SP,jP,Dc,xW).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Xw(){var e=0,t=1,r,n,a,i,o=ds,l=!1,c;function u(d){return d==null||isNaN(d=+d)?c:o(a===0?.5:(d=(i(d)-r)*a,l?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(l=!!d,u):l},u.interpolator=function(d){return arguments.length?(o=d,u):o};function f(d){return function(h){var m,x;return arguments.length?([m,x]=h,o=d(m,x),u):[o(0),o(1)]}}return u.range=f(bh),u.rangeRound=f(fP),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return i=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),u}}function ic(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function vW(){var e=ac(Xw()(ds));return e.copy=function(){return ic(e,vW())},Ro.apply(e,arguments)}function yW(){var e=gP(Xw()).domain([1,10]);return e.copy=function(){return ic(e,yW()).base(e.base())},Ro.apply(e,arguments)}function bW(){var e=xP(Xw());return e.copy=function(){return ic(e,bW()).constant(e.constant())},Ro.apply(e,arguments)}function EP(){var e=vP(Xw());return e.copy=function(){return ic(e,EP()).exponent(e.exponent())},Ro.apply(e,arguments)}function qOe(){return EP.apply(null,arguments).exponent(.5)}function wW(){var e=[],t=ds;function r(n){if(n!=null&&!isNaN(n=+n))return t((sx(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Al),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>OEe(e,i/n))},r.copy=function(){return wW(t).domain(e)},Ro.apply(r,arguments)}function Jw(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=ds,f,d=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+f(g))-i)*(n*g<n*i?l:c),u(d?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,a=f(e=+e),i=f(t=+t),o=f(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(d=!!g,m):d},m.interpolator=function(g){return arguments.length?(u=g,m):u};function x(g){return function(v){var w,b,y;return arguments.length?([w,b,y]=v,u=rPe(g,[w,b,y]),m):[u(0),u(.5),u(1)]}}return m.range=x(bh),m.rangeRound=x(fP),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return f=g,a=g(e),i=g(t),o=g(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function jW(){var e=ac(Jw()(ds));return e.copy=function(){return ic(e,jW())},Ro.apply(e,arguments)}function NW(){var e=gP(Jw()).domain([.1,1,10]);return e.copy=function(){return ic(e,NW()).base(e.base())},Ro.apply(e,arguments)}function SW(){var e=xP(Jw());return e.copy=function(){return ic(e,SW()).constant(e.constant())},Ro.apply(e,arguments)}function PP(){var e=vP(Jw());return e.copy=function(){return ic(e,PP()).exponent(e.exponent())},Ro.apply(e,arguments)}function VOe(){return PP.apply(null,arguments).exponent(.5)}const FR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ip,scaleDiverging:jW,scaleDivergingLog:NW,scaleDivergingPow:PP,scaleDivergingSqrt:VOe,scaleDivergingSymlog:SW,scaleIdentity:rW,scaleImplicit:V_,scaleLinear:pb,scaleLog:sW,scaleOrdinal:cP,scalePoint:Im,scalePow:yP,scaleQuantile:oW,scaleQuantize:lW,scaleRadial:iW,scaleSequential:vW,scaleSequentialLog:yW,scaleSequentialPow:EP,scaleSequentialQuantile:wW,scaleSequentialSqrt:qOe,scaleSequentialSymlog:bW,scaleSqrt:_Pe,scaleSymlog:aW,scaleThreshold:cW,scaleTime:UOe,scaleUtc:WOe,tickFormat:tW},Symbol.toStringTag,{value:"Module"}));var HOe=dh;function GOe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!HOe(o):r(o,l)))var l=o,c=i}return c}var Qw=GOe;function KOe(e,t){return e>t}var _W=KOe,YOe=Qw,XOe=_W,JOe=yh;function QOe(e){return e&&e.length?YOe(e,JOe,XOe):void 0}var ZOe=QOe;const hl=Ot(ZOe);function eAe(e,t){return e<t}var CW=eAe,tAe=Qw,rAe=CW,nAe=yh;function sAe(e){return e&&e.length?tAe(e,nAe,rAe):void 0}var aAe=sAe;const Zw=Ot(aAe);var iAe=qE,oAe=Wi,lAe=RU,cAe=Rs;function uAe(e,t){var r=cAe(e)?iAe:lAe;return r(e,oAe(t))}var dAe=uAe,fAe=TU,hAe=dAe;function mAe(e,t){return fAe(hAe(e,t),1)}var pAe=mAe;const gAe=Ot(pAe);var xAe=sP;function vAe(e,t){return xAe(e,t)}var yAe=vAe;const Co=Ot(yAe);var wh=1e9,bAe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},AP,jr=!0,Pa="[DecimalError] ",eu=Pa+"Invalid argument: ",OP=Pa+"Exponent out of range: ",jh=Math.floor,Cc=Math.pow,wAe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ws,kn=1e7,pr=7,kW=9007199254740991,yb=jh(kW/pr),Te={};Te.absoluteValue=Te.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Te.comparedTo=Te.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*pr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Te.dividedBy=Te.div=function(e){return mo(this,new this.constructor(e))};Te.dividedToIntegerBy=Te.idiv=function(e){var t=this,r=t.constructor;return Qt(mo(t,new r(e),0,1),r.precision)};Te.equals=Te.eq=function(e){return!this.cmp(e)};Te.exponent=function(){return ln(this)};Te.greaterThan=Te.gt=function(e){return this.cmp(e)>0};Te.greaterThanOrEqualTo=Te.gte=function(e){return this.cmp(e)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(e){return this.cmp(e)<0};Te.lessThanOrEqualTo=Te.lte=function(e){return this.cmp(e)<1};Te.logarithm=Te.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ws))throw Error(Pa+"NaN");if(r.s<1)throw Error(Pa+(r.s?"NaN":"-Infinity"));return r.eq(Ws)?new n(0):(jr=!1,t=mo(Bp(r,i),Bp(e,i),i),jr=!0,Qt(t,a))};Te.minus=Te.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?OW(t,e):EW(t,(e.s=-e.s,e))};Te.modulo=Te.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Pa+"NaN");return r.s?(jr=!1,t=mo(r,e,0,1).times(e),jr=!0,r.minus(t)):Qt(new n(r),a)};Te.naturalExponential=Te.exp=function(){return PW(this)};Te.naturalLogarithm=Te.ln=function(){return Bp(this)};Te.negated=Te.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Te.plus=Te.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?EW(t,e):OW(t,(e.s=-e.s,e))};Te.precision=Te.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(eu+e);if(t=ln(a)+1,n=a.d.length-1,r=n*pr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Te.squareRoot=Te.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Pa+"NaN")}for(e=ln(l),jr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=_i(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=jh((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(mo(l,i,o+2)).times(.5),_i(i.d).slice(0,o)===(t=_i(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Qt(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return jr=!0,Qt(n,r)};Te.times=Te.mul=function(e){var t,r,n,a,i,o,l,c,u,f=this,d=f.constructor,h=f.d,m=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%kn|0,t=l/kn|0;i[a]=(i[a]+t)%kn|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,jr?Qt(e,d.precision):e};Te.toDecimalPlaces=Te.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Di(e,0,wh),t===void 0?t=n.rounding:Di(t,0,8),Qt(r,e+ln(r)+1,t))};Te.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ju(n,!0):(Di(e,0,wh),t===void 0?t=a.rounding:Di(t,0,8),n=Qt(new a(n),e+1,t),r=ju(n,!0,e+1)),r};Te.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?ju(a):(Di(e,0,wh),t===void 0?t=i.rounding:Di(t,0,8),n=Qt(new i(a),e+ln(a)+1,t),r=ju(n.abs(),!1,e+ln(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Te.toInteger=Te.toint=function(){var e=this,t=e.constructor;return Qt(new t(e),ln(e)+1,t.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,f=+(e=new c(e));if(!e.s)return new c(Ws);if(l=new c(l),!l.s){if(e.s<1)throw Error(Pa+"Infinity");return l}if(l.eq(Ws))return l;if(n=c.precision,e.eq(Ws))return Qt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=f<0?-f:f)<=kW){for(a=new c(Ws),t=Math.ceil(n/pr+4),jr=!1;r%2&&(a=a.times(l),zR(a.d,t)),r=jh(r/2),r!==0;)l=l.times(l),zR(l.d,t);return jr=!0,e.s<0?new c(Ws).div(a):Qt(a,n)}}else if(i<0)throw Error(Pa+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,jr=!1,a=e.times(Bp(l,n+u)),jr=!0,a=PW(a),a.s=i,a};Te.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ln(a),n=ju(a,r<=i.toExpNeg||r>=i.toExpPos)):(Di(e,1,wh),t===void 0?t=i.rounding:Di(t,0,8),a=Qt(new i(a),e,t),r=ln(a),n=ju(a,e<=r||r<=i.toExpNeg,e)),n};Te.toSignificantDigits=Te.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Di(e,1,wh),t===void 0?t=n.rounding:Di(t,0,8)),Qt(new n(r),e,t)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ln(e),r=e.constructor;return ju(e,t<=r.toExpNeg||t>=r.toExpPos)};function EW(e,t){var r,n,a,i,o,l,c,u,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),jr?Qt(t,d):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(d/pr),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/kn|0,c[i]%=kn;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,jr?Qt(t,d):t}function Di(e,t,r){if(e!==~~e||e<t||e>r)throw Error(eu+e)}function _i(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=pr-n.length,r&&(i+=Yo(r)),i+=n;o=e[t],n=o+"",r=pr-n.length,r&&(i+=Yo(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var mo=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%kn|0,o=i/kn|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*kn+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,f,d,h,m,x,g,v,w,b,y,N,j,S,_,k,E=n.constructor,A=n.s==a.s?1:-1,C=n.d,O=a.d;if(!n.s)return new E(n);if(!a.s)throw Error(Pa+"Division by zero");for(c=n.e-a.e,_=O.length,j=C.length,m=new E(A),x=m.d=[],u=0;O[u]==(C[u]||0);)++u;if(O[u]>(C[u]||0)&&--c,i==null?b=i=E.precision:o?b=i+(ln(n)-ln(a))+1:b=i,b<0)return new E(0);if(b=b/pr+2|0,u=0,_==1)for(f=0,O=O[0],b++;(u<j||f)&&b--;u++)y=f*kn+(C[u]||0),x[u]=y/O|0,f=y%O|0;else{for(f=kn/(O[0]+1)|0,f>1&&(O=e(O,f),C=e(C,f),_=O.length,j=C.length),N=_,g=C.slice(0,_),v=g.length;v<_;)g[v++]=0;k=O.slice(),k.unshift(0),S=O[0],O[1]>=kn/2&&++S;do f=0,l=t(O,g,_,v),l<0?(w=g[0],_!=v&&(w=w*kn+(g[1]||0)),f=w/S|0,f>1?(f>=kn&&(f=kn-1),d=e(O,f),h=d.length,v=g.length,l=t(d,g,h,v),l==1&&(f--,r(d,_<h?k:O,h))):(f==0&&(l=f=1),d=O.slice()),h=d.length,h<v&&d.unshift(0),r(g,d,v),l==-1&&(v=g.length,l=t(O,g,_,v),l<1&&(f++,r(g,_<v?k:O,v))),v=g.length):l===0&&(f++,g=[0]),x[u++]=f,l&&g[0]?g[v++]=C[N]||0:(g=[C[N]],v=1);while((N++<j||g[0]!==void 0)&&b--)}return x[0]||x.shift(),m.e=c,Qt(m,o?i+ln(m)+1:i)}}();function PW(e,t){var r,n,a,i,o,l,c=0,u=0,f=e.constructor,d=f.precision;if(ln(e)>16)throw Error(OP+ln(e));if(!e.s)return new f(Ws);for(jr=!1,l=d,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Cc(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new f(Ws),f.precision=l;;){if(a=Qt(a.times(e),l),r=r.times(++c),o=i.plus(mo(a,r,l)),_i(o.d).slice(0,l)===_i(i.d).slice(0,l)){for(;u--;)i=Qt(i.times(i),l);return f.precision=d,t==null?(jr=!0,Qt(i,d)):i}i=o}}function ln(e){for(var t=e.e*pr,r=e.d[0];r>=10;r/=10)t++;return t}function Q1(e,t,r){if(t>e.LN10.sd())throw jr=!0,r&&(e.precision=r),Error(Pa+"LN10 precision limit exceeded");return Qt(new e(e.LN10),t)}function Yo(e){for(var t="";e--;)t+="0";return t}function Bp(e,t){var r,n,a,i,o,l,c,u,f,d=1,h=10,m=e,x=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(Pa+(m.s?"NaN":"-Infinity"));if(m.eq(Ws))return new g(0);if(t==null?(jr=!1,u=v):u=t,m.eq(10))return t==null&&(jr=!0),Q1(g,u);if(u+=h,g.precision=u,r=_i(x),n=r.charAt(0),i=ln(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=_i(m.d),n=r.charAt(0),d++;i=ln(m),n>1?(m=new g("0."+r),i++):m=new g(n+"."+r.slice(1))}else return c=Q1(g,u+2,v).times(i+""),m=Bp(new g(n+"."+r.slice(1)),u-h).plus(c),g.precision=v,t==null?(jr=!0,Qt(m,v)):m;for(l=o=m=mo(m.minus(Ws),m.plus(Ws),u),f=Qt(m.times(m),u),a=3;;){if(o=Qt(o.times(f),u),c=l.plus(mo(o,new g(a),u)),_i(c.d).slice(0,u)===_i(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Q1(g,u+2,v).times(i+""))),l=mo(l,new g(d),u),g.precision=v,t==null?(jr=!0,Qt(l,v)):l;l=c,a+=2}}function BR(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=jh(r/pr),e.d=[],n=(r+1)%pr,r<0&&(n+=pr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=pr;n<a;)e.d.push(+t.slice(n,n+=pr));t=t.slice(n),n=pr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),jr&&(e.e>yb||e.e<-yb))throw Error(OP+r)}else e.s=0,e.e=0,e.d=[0];return e}function Qt(e,t,r){var n,a,i,o,l,c,u,f,d=e.d;for(o=1,i=d[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=pr,a=t,u=d[f=0];else{if(f=Math.ceil((n+1)/pr),i=d.length,f>=i)return e;for(u=i=d[f],o=1;i>=10;i/=10)o++;n%=pr,a=n-pr+o}if(r!==void 0&&(i=Cc(10,o-a-1),l=u/i%10|0,c=t<0||d[f+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Cc(10,o-a):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(i=ln(e),d.length=1,t=t-i-1,d[0]=Cc(10,(pr-t%pr)%pr),e.e=jh(-t/pr)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,i=1,f--):(d.length=f+1,i=Cc(10,pr-n),d[f]=a>0?(u/Cc(10,o-a)%Cc(10,a)|0)*i:0),c)for(;;)if(f==0){(d[0]+=i)==kn&&(d[0]=1,++e.e);break}else{if(d[f]+=i,d[f]!=kn)break;d[f--]=0,i=1}for(n=d.length;d[--n]===0;)d.pop();if(jr&&(e.e>yb||e.e<-yb))throw Error(OP+ln(e));return e}function OW(e,t){var r,n,a,i,o,l,c,u,f,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),jr?Qt(t,m):t;if(c=e.d,d=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(f=o<0,f?(r=c,o=-o,l=d.length):(r=d,n=u,l=c.length),a=Math.max(Math.ceil(m/pr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=d.length,f=a<l,f&&(l=a),a=0;a<l;a++)if(c[a]!=d[a]){f=c[a]<d[a];break}o=0}for(f&&(r=c,c=d,d=r,t.s=-t.s),l=c.length,a=d.length-l;a>0;--a)c[l++]=0;for(a=d.length;a>o;){if(c[--a]<d[a]){for(i=a;i&&c[--i]===0;)c[i]=kn-1;--c[i],c[a]+=kn}c[a]-=d[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,jr?Qt(t,m):t):new h(0)}function ju(e,t,r){var n,a=ln(e),i=_i(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Yo(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Yo(-a-1)+i,r&&(n=r-o)>0&&(i+=Yo(n))):a>=o?(i+=Yo(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Yo(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Yo(n))),e.s<0?"-"+i:i}function zR(e,t){if(e.length>t)return e.length=t,!0}function AW(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(eu+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return BR(o,i.toString())}else if(typeof i!="string")throw Error(eu+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,wAe.test(i))BR(o,i);else throw Error(eu+i)}if(a.prototype=Te,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=AW,a.config=a.set=jAe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function jAe(e){if(!e||typeof e!="object")throw Error(Pa+"Object expected");var t,r,n,a=["precision",1,wh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(jh(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(eu+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(eu+r+": "+n);return this}var AP=AW(bAe);Ws=new AP(1);const Wt=AP;function NAe(e){return kAe(e)||CAe(e)||_Ae(e)||SAe()}function SAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ae(e,t){if(e){if(typeof e=="string")return Y_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y_(e,t)}}function CAe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function kAe(e){if(Array.isArray(e))return Y_(e)}function Y_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var EAe=function(t){return t},TW={},MW=function(t){return t===TW},UR=function(t){return function r(){return arguments.length===0||arguments.length===1&&MW(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},PAe=function e(t,r){return t===1?r:UR(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==TW}).length;return o>=t?r.apply(void 0,a):e(t-o,UR(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=a.map(function(d){return MW(d)?c.shift():d});return r.apply(void 0,NAe(f).concat(c))}))})},ej=function(t){return PAe(t.length,t)},X_=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},OAe=ej(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),AAe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return EAe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},J_=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},RW=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function TAe(e){var t;return e===0?t=1:t=Math.floor(new Wt(e).abs().log(10).toNumber())+1,t}function MAe(e,t,r){for(var n=new Wt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var RAe=ej(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),IAe=ej(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),DAe=ej(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const tj={rangeStep:MAe,getDigitCount:TAe,interpolateNumber:RAe,uninterpolateNumber:IAe,uninterpolateTruncation:DAe};function Q_(e){return FAe(e)||LAe(e)||IW(e)||$Ae()}function $Ae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LAe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function FAe(e){if(Array.isArray(e))return Z_(e)}function zp(e,t){return UAe(e)||zAe(e,t)||IW(e,t)||BAe()}function BAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IW(e,t){if(e){if(typeof e=="string")return Z_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z_(e,t)}}function Z_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zAe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function UAe(e){if(Array.isArray(e))return e}function DW(e){var t=zp(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function $W(e,t,r){if(e.lte(0))return new Wt(0);var n=tj.getDigitCount(e.toNumber()),a=new Wt(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new Wt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Wt(Math.ceil(c))}function WAe(e,t,r){var n=1,a=new Wt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Wt(10).pow(tj.getDigitCount(e)-1),a=new Wt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Wt(Math.floor(e)))}else e===0?a=new Wt(Math.floor((t-1)/2)):r||(a=new Wt(Math.floor(e)));var o=Math.floor((t-1)/2),l=AAe(OAe(function(c){return a.add(new Wt(c-o).mul(n)).toNumber()}),X_);return l(0,t)}function LW(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Wt(0),tickMin:new Wt(0),tickMax:new Wt(0)};var i=$W(new Wt(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Wt(0):(o=new Wt(e).add(t).div(2),o=o.sub(new Wt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Wt(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?LW(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Wt(l).mul(i)),tickMax:o.add(new Wt(c).mul(i))})}function qAe(e){var t=zp(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=DW([r,n]),c=zp(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var d=f===1/0?[u].concat(Q_(X_(0,a-1).map(function(){return 1/0}))):[].concat(Q_(X_(0,a-1).map(function(){return-1/0})),[f]);return r>n?J_(d):d}if(u===f)return WAe(u,a,i);var h=LW(u,f,o,i),m=h.step,x=h.tickMin,g=h.tickMax,v=tj.rangeStep(x,g.add(new Wt(.1).mul(m)),m);return r>n?J_(v):v}function VAe(e,t){var r=zp(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=DW([n,a]),l=zp(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var f=Math.max(t,2),d=$W(new Wt(u).sub(c).div(f-1),i,0),h=[].concat(Q_(tj.rangeStep(new Wt(c),new Wt(u).sub(new Wt(.99).mul(d)),d)),[u]);return n>a?J_(h):h}var HAe=RW(qAe),GAe=RW(VAe),KAe="Invariant failed";function Nu(e,t){throw new Error(KAe)}var YAe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function bb(){return bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bb.apply(this,arguments)}function XAe(e,t){return eTe(e)||ZAe(e,t)||QAe(e,t)||JAe()}function JAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QAe(e,t){if(e){if(typeof e=="string")return WR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WR(e,t)}}function WR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function eTe(e){if(Array.isArray(e))return e}function tTe(e,t){if(e==null)return{};var r=rTe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zW(n.key),n)}}function aTe(e,t,r){return t&&sTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iTe(e,t,r){return t=wb(t),oTe(e,FW()?Reflect.construct(t,r||[],wb(e).constructor):t.apply(e,r))}function oTe(e,t){if(t&&(Nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lTe(e)}function lTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FW=function(){return!!e})()}function wb(e){return wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wb(e)}function cTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e2(e,t)}function e2(e,t){return e2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},e2(e,t)}function BW(e,t,r){return t=zW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zW(e){var t=uTe(e,"string");return Nf(t)=="symbol"?t:t+""}function uTe(e,t){if(Nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Nh=function(e){function t(){return nTe(this,t),iTe(this,t,arguments)}return cTe(t,e),aTe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,h=tTe(n,YAe),m=Oe(h,!1);this.props.direction==="x"&&f.type!=="number"&&Nu();var x=c.map(function(g){var v=u(g,l),w=v.x,b=v.y,y=v.value,N=v.errorVal;if(!N)return null;var j=[],S,_;if(Array.isArray(N)){var k=XAe(N,2);S=k[0],_=k[1]}else S=_=N;if(i==="vertical"){var E=f.scale,A=b+a,C=A+o,O=A-o,$=E(y-S),R=E(y+_);j.push({x1:R,y1:C,x2:R,y2:O}),j.push({x1:$,y1:A,x2:R,y2:A}),j.push({x1:$,y1:C,x2:$,y2:O})}else if(i==="horizontal"){var T=d.scale,L=w+a,I=L-o,P=L+o,M=T(y-S),F=T(y+_);j.push({x1:I,y1:F,x2:P,y2:F}),j.push({x1:L,y1:M,x2:L,y2:F}),j.push({x1:I,y1:M,x2:P,y2:M})}return D.createElement(tt,bb({className:"recharts-errorBar",key:"bar-".concat(j.map(function(B){return"".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))},m),j.map(function(B){return D.createElement("line",bb({},B,{key:"line-".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))}))});return D.createElement(tt,{className:"recharts-errorBars"},x)}}])}(D.Component);BW(Nh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});BW(Nh,"displayName","ErrorBar");function Up(e){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Up(e)}function qR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qR(Object(r),!0).forEach(function(n){dTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dTe(e,t,r){return t=fTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fTe(e){var t=hTe(e,"string");return Up(t)=="symbol"?t:t+""}function hTe(e,t){if(Up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UW=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Fs(r,As);if(!o)return null;var l=As.defaultProps,c=l!==void 0?mc(mc({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(f,d){var h=d.item,m=d.props,x=m.sectors||m.data||[];return f.concat(x.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(f){var d=f.item,h=d.type.defaultProps,m=h!==void 0?mc(mc({},h),d.props):{},x=m.dataKey,g=m.name,v=m.legendType,w=m.hide;return{inactive:w,dataKey:x,type:c.iconType||v||"square",color:TP(d),value:g||x,payload:m}}),mc(mc(mc({},c),As.getWithHeight(o,a)),{},{payload:u,item:o})};function Wp(e){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wp(e)}function VR(e){return xTe(e)||gTe(e)||pTe(e)||mTe()}function mTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pTe(e,t){if(e){if(typeof e=="string")return t2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t2(e,t)}}function gTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xTe(e){if(Array.isArray(e))return t2(e)}function t2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(r),!0).forEach(function(n){Id(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Id(e,t,r){return t=vTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vTe(e){var t=yTe(e,"string");return Wp(t)=="symbol"?t:t+""}function yTe(e,t){if(Wp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xt(e,t,r){return qe(e)||qe(t)?r:jn(t)?Js(e,t,r):Ue(t)?t(e):r}function Dm(e,t,r,n){var a=gAe(e,function(l){return Xt(l,t)});if(r==="number"){var i=a.filter(function(l){return xe(l)||parseFloat(l)});return i.length?[Zw(i),hl(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!qe(l)}):a;return o.map(function(l){return jn(l)||l instanceof Date?l:""})}var bTe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var f=u>0?a[u-1].coordinate:a[l-1].coordinate,d=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(cs(d-f)!==cs(h-d)){var x=[];if(cs(h-d)===cs(c[1]-c[0])){m=h;var g=d+c[1]-c[0];x[0]=Math.min(g,(g+f)/2),x[1]=Math.max(g,(g+f)/2)}else{m=f;var v=h+c[1]-c[0];x[0]=Math.min(d,(v+d)/2),x[1]=Math.max(d,(v+d)/2)}var w=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(t>w[0]&&t<=w[1]||t>=x[0]&&t<=x[1]){o=a[u].index;break}}else{var b=Math.min(f,h),y=Math.max(f,h);if(t>(b+d)/2&&t<=(y+d)/2){o=a[u].index;break}}}else for(var N=0;N<l;N++)if(N===0&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<l-1&&t>(n[N].coordinate+n[N-1].coordinate)/2&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N===l-1&&t>(n[N].coordinate+n[N-1].coordinate)/2){o=n[N].index;break}return o},TP=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Fr(Fr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},wTe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var f=i[l[c]].stackGroups,d=Object.keys(f),h=0,m=d.length;h<m;h++){var x=f[d[h]],g=x.items,v=x.cateAxisId,w=g.filter(function(_){return ho(_.type).indexOf("Bar")>=0});if(w&&w.length){var b=w[0].type.defaultProps,y=b!==void 0?Fr(Fr({},b),w[0].props):w[0].props,N=y.barSize,j=y[v];o[j]||(o[j]=[]);var S=qe(N)?r:N;o[j].push({item:w[0],stackList:w.slice(1),barSize:qe(S)?void 0:us(S,n,0)})}}return o},jTe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=us(r,a,0,!0),f,d=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/c,x=o.reduce(function(N,j){return N+j.barSize||0},0);x+=(c-1)*u,x>=a&&(x-=(c-1)*u,u=0),x>=a&&m>0&&(h=!0,m*=.9,x=c*m);var g=(a-x)/2>>0,v={offset:g-u,size:0};f=o.reduce(function(N,j){var S={item:j.item,position:{offset:v.offset+v.size+u,size:h?m:j.barSize}},_=[].concat(VR(N),[S]);return v=_[_.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){_.push({item:k,position:v})}),_},d)}else{var w=us(n,a,0,!0);a-2*w-(c-1)*u<=0&&(u=0);var b=(a-2*w-(c-1)*u)/c;b>1&&(b>>=0);var y=l===+l?Math.min(b,l):b;f=o.reduce(function(N,j,S){var _=[].concat(VR(N),[{item:j.item,position:{offset:w+(b+u)*S+(b-y)/2,size:y}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){_.push({item:k,position:_[_.length-1].position})}),_},d)}return f},NTe=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=UW({children:i,legendWidth:c});if(u){var f=a||{},d=f.width,h=f.height,m=u.align,x=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&x==="middle")&&m!=="center"&&xe(t[m]))return Fr(Fr({},t),{},Id({},m,t[m]+(d||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&x!=="middle"&&xe(t[x]))return Fr(Fr({},t),{},Id({},x,t[x]+(h||0)))}return t},STe=function(t,r,n){return qe(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},WW=function(t,r,n,a,i){var o=r.props.children,l=hs(o,Nh).filter(function(u){return STe(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var d=Xt(f,n);if(qe(d))return u;var h=Array.isArray(d)?[Zw(d),hl(d)]:[d,d],m=c.reduce(function(x,g){var v=Xt(f,g,0),w=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(w,x[0]),Math.max(b,x[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},_Te=function(t,r,n,a,i){var o=r.map(function(l){return WW(t,l,n,i,a)}).filter(function(l){return!qe(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},qW=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&WW(t,c,u,a)||Dm(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var f=0,d=u.length;f<d;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},VW=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},HW=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},lo=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?cs(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var h=i?i.indexOf(d):d;return{coordinate:a(h)+u,value:d,offset:u}});return f.filter(function(d){return!gh(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:a(d)+u,value:d,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+u,value:d,offset:u}}):a.domain().map(function(d,h){return{coordinate:a(d)+u,value:i?i[d]:d,index:h,offset:u}})},Z1=new WeakMap,sv=function(t,r){if(typeof r!="function")return t;Z1.has(t)||Z1.set(t,new WeakMap);var n=Z1.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},GW=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Ip(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:pb(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Im(),realScaleType:"point"}:i==="category"?{scale:Ip(),realScaleType:"band"}:{scale:pb(),realScaleType:"linear"};if(bu(a)){var c="scale".concat(Lw(a));return{scale:(FR[c]||Im)(),realScaleType:FR[c]?c:"point"}}return Ue(a)?{scale:a}:{scale:Im(),realScaleType:"point"}},GR=1e-4,KW=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-GR,o=Math.max(a[0],a[1])+GR,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},CTe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},kTe=function(t,r){if(!r||r.length!==2||!xe(r[0])||!xe(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!xe(t[0])||t[0]<n)&&(i[0]=n),(!xe(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},ETe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=gh(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},PTe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=gh(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},OTe={sign:ETe,expand:Y0e,none:pf,silhouette:X0e,wiggle:J0e,positive:PTe},ATe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=OTe[n],o=K0e().keys(a).value(function(l,c){return+Xt(l,c,0)}).order(C_).offset(i);return o(t)},TTe=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(d,h){var m,x=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Fr(Fr({},h.type.defaultProps),h.props):h.props,g=x.stackId,v=x.hide;if(v)return d;var w=x[n],b=d[w]||{hasStack:!1,stackGroups:{}};if(jn(g)){var y=b.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};y.items.push(h),b.hasStack=!0,b.stackGroups[g]=y}else b.stackGroups[sc("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Fr(Fr({},d),{},Id({},w,b))},c),f={};return Object.keys(u).reduce(function(d,h){var m=u[h];if(m.hasStack){var x={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,v){var w=m.stackGroups[v];return Fr(Fr({},g),{},Id({},v,{numericAxisId:n,cateAxisId:a,items:w.items,stackedData:ATe(t,w.items,i)}))},x)}return Fr(Fr({},d),{},Id({},h,m))},f)},YW=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=HAe(u,i,l);return t.domain([Zw(f),hl(f)]),{niceTicks:f}}if(i&&a==="number"){var d=t.domain(),h=GAe(d,i,l);return{niceTicks:h}}return null};function Sf(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!qe(a[t.dataKey])){var l=Ky(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Xt(a,qe(o)?t.dataKey:o);return qe(c)?null:t.scale(c)}var KR=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Xt(o,r.dataKey,r.domain[l]);return qe(c)?null:r.scale(c)-i/2+a},MTe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},RTe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Fr(Fr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(jn(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},ITe=function(t){return t.reduce(function(r,n){return[Zw(n.concat([r[0]]).filter(xe)),hl(n.concat([r[1]]).filter(xe))]},[1/0,-1/0])},XW=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,f){var d=ITe(f.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},YR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,XR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,r2=function(t,r,n){if(Ue(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(xe(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(YR.test(t[0])){var i=+YR.exec(t[0])[1];a[0]=r[0]-i}else Ue(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(xe(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(XR.test(t[1])){var o=+XR.exec(t[1])[1];a[1]=r[1]+o}else Ue(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},jb=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=iP(r,function(d){return d.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],f=i[l-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},JR=function(t,r,n){return!t||!t.length||Co(t,Js(n,"type.defaultProps.domain"))?r:t},JW=function(t,r){var n=t.type.defaultProps?Fr(Fr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,f=n.hide;return Fr(Fr({},Oe(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:TP(t),value:Xt(r,a),type:c,payload:r,chartType:u,hide:f})};function qp(e){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qp(e)}function QR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QR(Object(r),!0).forEach(function(n){QW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QW(e,t,r){return t=DTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DTe(e){var t=$Te(e,"string");return qp(t)=="symbol"?t:t+""}function $Te(e,t){if(qp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LTe(e,t){return UTe(e)||zTe(e,t)||BTe(e,t)||FTe()}function FTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BTe(e,t){if(e){if(typeof e=="string")return ZR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZR(e,t)}}function ZR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function UTe(e){if(Array.isArray(e))return e}var Nb=Math.PI/180,WTe=function(t){return t*180/Math.PI},Et=function(t,r,n,a){return{x:t+Math.cos(-Nb*a)*n,y:r+Math.sin(-Nb*a)*n}},ZW=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},eq=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,f=us(t.cx,o,o/2),d=us(t.cy,l,l/2),h=ZW(o,l,n),m=us(t.innerRadius,h,0),x=us(t.outerRadius,h,h*.8),g=Object.keys(r);return g.reduce(function(v,w){var b=r[w],y=b.domain,N=b.reversed,j;if(qe(b.range))a==="angleAxis"?j=[c,u]:a==="radiusAxis"&&(j=[m,x]),N&&(j=[j[1],j[0]]);else{j=b.range;var S=j,_=LTe(S,2);c=_[0],u=_[1]}var k=GW(b,i),E=k.realScaleType,A=k.scale;A.domain(y).range(j),KW(A);var C=YW(A,Zi(Zi({},b),{},{realScaleType:E})),O=Zi(Zi(Zi({},b),C),{},{range:j,radius:x,realScaleType:E,scale:A,cx:f,cy:d,innerRadius:m,outerRadius:x,startAngle:c,endAngle:u});return Zi(Zi({},v),{},QW({},w,O))},{})},qTe=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},VTe=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=qTe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:WTe(u),angleInRadian:u}},HTe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},GTe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},eI=function(t,r){var n=t.x,a=t.y,i=VTe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var f=HTe(r),d=f.startAngle,h=f.endAngle,m=l,x;if(d<=h){for(;m>h;)m-=360;for(;m<d;)m+=360;x=m>=d&&m<=h}else{for(;m>d;)m-=360;for(;m<h;)m+=360;x=m>=h&&m<=d}return x?Zi(Zi({},r),{},{radius:o,angle:GTe(m,r)}):null},tq=function(t){return!p.isValidElement(t)&&!Ue(t)&&typeof t!="boolean"?t.className:""};function Vp(e){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vp(e)}var KTe=["offset"];function YTe(e){return ZTe(e)||QTe(e)||JTe(e)||XTe()}function XTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JTe(e,t){if(e){if(typeof e=="string")return n2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n2(e,t)}}function QTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZTe(e){if(Array.isArray(e))return n2(e)}function n2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function e4e(e,t){if(e==null)return{};var r=t4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function t4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tI(Object(r),!0).forEach(function(n){r4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r4e(e,t,r){return t=n4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n4e(e){var t=s4e(e,"string");return Vp(t)=="symbol"?t:t+""}function s4e(e,t){if(Vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hp(){return Hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hp.apply(this,arguments)}var a4e=function(t){var r=t.value,n=t.formatter,a=qe(t.children)?r:t.children;return Ue(n)?n(a):a},i4e=function(t,r){var n=cs(r-t),a=Math.min(Math.abs(r-t),360);return n*a},o4e=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,f=c.cy,d=c.innerRadius,h=c.outerRadius,m=c.startAngle,x=c.endAngle,g=c.clockWise,v=(d+h)/2,w=i4e(m,x),b=w>=0?1:-1,y,N;a==="insideStart"?(y=m+b*o,N=g):a==="insideEnd"?(y=x-b*o,N=!g):a==="end"&&(y=x+b*o,N=g),N=w<=0?N:!N;var j=Et(u,f,v,y),S=Et(u,f,v,y+(N?1:-1)*359),_="M".concat(j.x,",").concat(j.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(N?0:1,`,
    `).concat(S.x,",").concat(S.y),k=qe(t.id)?sc("recharts-radial-line-"):t.id;return D.createElement("text",Hp({},n,{dominantBaseline:"central",className:Xe("recharts-radial-bar-label",l)}),D.createElement("defs",null,D.createElement("path",{id:k,d:_})),D.createElement("textPath",{xlinkHref:"#".concat(k)},r))},l4e=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,f=i.startAngle,d=i.endAngle,h=(f+d)/2;if(a==="outside"){var m=Et(o,l,u+n,h),x=m.x,g=m.y;return{x,y:g,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,w=Et(o,l,v,h),b=w.x,y=w.y;return{x:b,y,textAnchor:"middle",verticalAnchor:"middle"}},c4e=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,f=o.height,d=f>=0?1:-1,h=d*a,m=d>0?"end":"start",x=d>0?"start":"end",g=u>=0?1:-1,v=g*a,w=g>0?"end":"start",b=g>0?"start":"end";if(i==="top"){var y={x:l+u/2,y:c-d*a,textAnchor:"middle",verticalAnchor:m};return pn(pn({},y),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var N={x:l+u/2,y:c+f+h,textAnchor:"middle",verticalAnchor:x};return pn(pn({},N),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(i==="left"){var j={x:l-v,y:c+f/2,textAnchor:w,verticalAnchor:"middle"};return pn(pn({},j),n?{width:Math.max(j.x-n.x,0),height:f}:{})}if(i==="right"){var S={x:l+u+v,y:c+f/2,textAnchor:b,verticalAnchor:"middle"};return pn(pn({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:f}:{})}var _=n?{width:u,height:f}:{};return i==="insideLeft"?pn({x:l+v,y:c+f/2,textAnchor:b,verticalAnchor:"middle"},_):i==="insideRight"?pn({x:l+u-v,y:c+f/2,textAnchor:w,verticalAnchor:"middle"},_):i==="insideTop"?pn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:x},_):i==="insideBottom"?pn({x:l+u/2,y:c+f-h,textAnchor:"middle",verticalAnchor:m},_):i==="insideTopLeft"?pn({x:l+v,y:c+h,textAnchor:b,verticalAnchor:x},_):i==="insideTopRight"?pn({x:l+u-v,y:c+h,textAnchor:w,verticalAnchor:x},_):i==="insideBottomLeft"?pn({x:l+v,y:c+f-h,textAnchor:b,verticalAnchor:m},_):i==="insideBottomRight"?pn({x:l+u-v,y:c+f-h,textAnchor:w,verticalAnchor:m},_):fh(i)&&(xe(i.x)||Rc(i.x))&&(xe(i.y)||Rc(i.y))?pn({x:l+us(i.x,u),y:c+us(i.y,f),textAnchor:"end",verticalAnchor:"end"},_):pn({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},_)},u4e=function(t){return"cx"in t&&xe(t.cx)};function On(e){var t=e.offset,r=t===void 0?5:t,n=e4e(e,KTe),a=pn({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,f=a.className,d=f===void 0?"":f,h=a.textBreakAll;if(!i||qe(l)&&qe(c)&&!p.isValidElement(u)&&!Ue(u))return null;if(p.isValidElement(u))return p.cloneElement(u,a);var m;if(Ue(u)){if(m=p.createElement(u,a),p.isValidElement(m))return m}else m=a4e(a);var x=u4e(i),g=Oe(a,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return o4e(a,m,g);var v=x?l4e(a):c4e(a);return D.createElement(wu,Hp({className:Xe("recharts-label",d)},g,v,{breakAll:h}),m)}On.displayName="Label";var rq=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,f=t.outerRadius,d=t.x,h=t.y,m=t.top,x=t.left,g=t.width,v=t.height,w=t.clockWise,b=t.labelViewBox;if(b)return b;if(xe(g)&&xe(v)){if(xe(d)&&xe(h))return{x:d,y:h,width:g,height:v};if(xe(m)&&xe(x))return{x:m,y:x,width:g,height:v}}return xe(d)&&xe(h)?{x:d,y:h,width:0,height:0}:xe(r)&&xe(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:w}:t.viewBox?t.viewBox:{}},d4e=function(t,r){return t?t===!0?D.createElement(On,{key:"label-implicit",viewBox:r}):jn(t)?D.createElement(On,{key:"label-implicit",viewBox:r,value:t}):p.isValidElement(t)?t.type===On?p.cloneElement(t,{key:"label-implicit",viewBox:r}):D.createElement(On,{key:"label-implicit",content:t,viewBox:r}):Ue(t)?D.createElement(On,{key:"label-implicit",content:t,viewBox:r}):fh(t)?D.createElement(On,Hp({viewBox:r},t,{key:"label-implicit"})):null:null},f4e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=rq(t),o=hs(a,On).map(function(c,u){return p.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=d4e(t.label,r||i);return[l].concat(YTe(o))};On.parseViewBox=rq;On.renderCallByParent=f4e;function h4e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var m4e=h4e;const nq=Ot(m4e);function Gp(e){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gp(e)}var p4e=["valueAccessor"],g4e=["data","dataKey","clockWise","id","textBreakAll"];function x4e(e){return w4e(e)||b4e(e)||y4e(e)||v4e()}function v4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y4e(e,t){if(e){if(typeof e=="string")return s2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s2(e,t)}}function b4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function w4e(e){if(Array.isArray(e))return s2(e)}function s2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sb(){return Sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sb.apply(this,arguments)}function rI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rI(Object(r),!0).forEach(function(n){j4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j4e(e,t,r){return t=N4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N4e(e){var t=S4e(e,"string");return Gp(t)=="symbol"?t:t+""}function S4e(e,t){if(Gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sI(e,t){if(e==null)return{};var r=_4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var C4e=function(t){return Array.isArray(t.value)?nq(t.value):t.value};function Sa(e){var t=e.valueAccessor,r=t===void 0?C4e:t,n=sI(e,p4e),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=sI(n,g4e);return!a||!a.length?null:D.createElement(tt,{className:"recharts-label-list"},a.map(function(f,d){var h=qe(i)?r(f,d):Xt(f&&f.payload,i),m=qe(l)?{}:{id:"".concat(l,"-").concat(d)};return D.createElement(On,Sb({},Oe(f,!0),u,m,{parentViewBox:f.parentViewBox,value:h,textBreakAll:c,viewBox:On.parseViewBox(qe(o)?f:nI(nI({},f),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}Sa.displayName="LabelList";function k4e(e,t){return e?e===!0?D.createElement(Sa,{key:"labelList-implicit",data:t}):D.isValidElement(e)||Ue(e)?D.createElement(Sa,{key:"labelList-implicit",data:t,content:e}):fh(e)?D.createElement(Sa,Sb({data:t},e,{key:"labelList-implicit"})):null:null}function E4e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=hs(n,Sa).map(function(o,l){return p.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=k4e(e.label,t);return[i].concat(x4e(a))}Sa.renderCallByParent=E4e;function Kp(e){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kp(e)}function a2(){return a2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a2.apply(this,arguments)}function aI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aI(Object(r),!0).forEach(function(n){P4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P4e(e,t,r){return t=O4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O4e(e){var t=A4e(e,"string");return Kp(t)=="symbol"?t:t+""}function A4e(e,t){if(Kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T4e=function(t,r){var n=cs(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},av=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,f=c*(l?1:-1)+a,d=Math.asin(c/f)/Nb,h=u?i:i+o*d,m=Et(r,n,f,h),x=Et(r,n,a,h),g=u?i-o*d:i,v=Et(r,n,f*Math.cos(d*Nb),g);return{center:m,circleTangency:x,lineTangency:v,theta:d}},sq=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=T4e(o,l),u=o+c,f=Et(r,n,i,o),d=Et(r,n,i,u),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var m=Et(r,n,a,o),x=Et(r,n,a,u);h+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},M4e=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,d=cs(f-u),h=av({cx:r,cy:n,radius:i,angle:u,sign:d,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,x=h.lineTangency,g=h.theta,v=av({cx:r,cy:n,radius:i,angle:f,sign:-d,cornerRadius:o,cornerIsExternal:c}),w=v.circleTangency,b=v.lineTangency,y=v.theta,N=c?Math.abs(u-f):Math.abs(u-f)-g-y;if(N<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):sq({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:f});var j="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var S=av({cx:r,cy:n,radius:a,angle:u,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),_=S.circleTangency,k=S.lineTangency,E=S.theta,A=av({cx:r,cy:n,radius:a,angle:f,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=A.circleTangency,O=A.lineTangency,$=A.theta,R=c?Math.abs(u-f):Math.abs(u-f)-E-$;if(R<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(R>180),",").concat(+(d>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},R4e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},aq=function(t){var r=iI(iI({},R4e),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,h=r.className;if(o<i||f===d)return null;var m=Xe("recharts-sector",h),x=o-i,g=us(l,x,0,!0),v;return g>0&&Math.abs(f-d)<360?v=M4e({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:d}):v=sq({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:f,endAngle:d}),D.createElement("path",a2({},Oe(r,!0),{className:m,d:v,role:"img"}))};function Yp(e){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yp(e)}function i2(){return i2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i2.apply(this,arguments)}function oI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oI(Object(r),!0).forEach(function(n){I4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I4e(e,t,r){return t=D4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D4e(e){var t=$4e(e,"string");return Yp(t)=="symbol"?t:t+""}function $4e(e,t){if(Yp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cI={curveBasisClosed:$0e,curveBasisOpen:L0e,curveBasis:D0e,curveBumpX:j0e,curveBumpY:N0e,curveLinearClosed:F0e,curveLinear:Bw,curveMonotoneX:B0e,curveMonotoneY:z0e,curveNatural:U0e,curveStep:W0e,curveStepAfter:V0e,curveStepBefore:q0e},iv=function(t){return t.x===+t.x&&t.y===+t.y},Yh=function(t){return t.x},Xh=function(t){return t.y},L4e=function(t,r){if(Ue(t))return t;var n="curve".concat(Lw(t));return(n==="curveMonotone"||n==="curveBump")&&r?cI["".concat(n).concat(r==="vertical"?"Y":"X")]:cI[n]||Bw},F4e=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,f=L4e(n,l),d=u?i.filter(function(g){return iv(g)}):i,h;if(Array.isArray(o)){var m=u?o.filter(function(g){return iv(g)}):o,x=d.map(function(g,v){return lI(lI({},g),{},{base:m[v]})});return l==="vertical"?h=Xx().y(Xh).x1(Yh).x0(function(g){return g.base.x}):h=Xx().x(Yh).y1(Xh).y0(function(g){return g.base.y}),h.defined(iv).curve(f),h(x)}return l==="vertical"&&xe(o)?h=Xx().y(Xh).x1(Yh).x0(o):xe(o)?h=Xx().x(Yh).y1(Xh).y0(o):h=J9().x(Yh).y(Xh),h.defined(iv).curve(f),h(d)},Tl=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?F4e(t):a;return p.createElement("path",i2({},Oe(t,!1),Yy(t),{className:Xe("recharts-curve",r),d:o,ref:i}))},iq={exports:{}},B4e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",z4e=B4e,U4e=z4e;function oq(){}function lq(){}lq.resetWarningCache=oq;var W4e=function(){function e(n,a,i,o,l,c){if(c!==U4e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:lq,resetWarningCache:oq};return r.PropTypes=r,r};iq.exports=W4e();var q4e=iq.exports;const Rt=Ot(q4e);var V4e=Object.getOwnPropertyNames,H4e=Object.getOwnPropertySymbols,G4e=Object.prototype.hasOwnProperty;function uI(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function ov(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function dI(e){return V4e(e).concat(H4e(e))}var K4e=Object.hasOwn||function(e,t){return G4e.call(e,t)};function Iu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Y4e="__v",X4e="__o",J4e="_owner",fI=Object.getOwnPropertyDescriptor,hI=Object.keys;function Q4e(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Z4e(e,t){return Iu(e.getTime(),t.getTime())}function eMe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function tMe(e,t){return e===t}function mI(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),f=!1,d=0;(l=u.next())&&!l.done;){if(a[d]){d++;continue}var h=o.value,m=l.value;if(r.equals(h[0],m[0],c,d,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){f=a[d]=!0;break}d++}if(!f)return!1;c++}return!0}var rMe=Iu;function nMe(e,t,r){var n=hI(e),a=n.length;if(hI(t).length!==a)return!1;for(;a-- >0;)if(!cq(e,t,r,n[a]))return!1;return!0}function Jh(e,t,r){var n=dI(e),a=n.length;if(dI(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!cq(e,t,r,i)||(o=fI(e,i),l=fI(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function sMe(e,t){return Iu(e.valueOf(),t.valueOf())}function aMe(e,t){return e.source===t.source&&e.flags===t.flags}function pI(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,f=0;(l=c.next())&&!l.done;){if(!a[f]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[f]=!0;break}f++}if(!u)return!1}return!0}function iMe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function oMe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function cq(e,t,r,n){return(n===J4e||n===X4e||n===Y4e)&&(e.$$typeof||t.$$typeof)?!0:K4e(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var lMe="[object Arguments]",cMe="[object Boolean]",uMe="[object Date]",dMe="[object Error]",fMe="[object Map]",hMe="[object Number]",mMe="[object Object]",pMe="[object RegExp]",gMe="[object Set]",xMe="[object String]",vMe="[object URL]",yMe=Array.isArray,gI=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,xI=Object.assign,bMe=Object.prototype.toString.call.bind(Object.prototype.toString);function wMe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,f=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(x,g,v){if(x===g)return!0;if(x==null||g==null)return!1;var w=typeof x;if(w!==typeof g)return!1;if(w!=="object")return w==="number"?o(x,g,v):w==="function"?a(x,g,v):!1;var b=x.constructor;if(b!==g.constructor)return!1;if(b===Object)return l(x,g,v);if(yMe(x))return t(x,g,v);if(gI!=null&&gI(x))return d(x,g,v);if(b===Date)return r(x,g,v);if(b===RegExp)return u(x,g,v);if(b===Map)return i(x,g,v);if(b===Set)return f(x,g,v);var y=bMe(x);return y===uMe?r(x,g,v):y===pMe?u(x,g,v):y===fMe?i(x,g,v):y===gMe?f(x,g,v):y===mMe?typeof x.then!="function"&&typeof g.then!="function"&&l(x,g,v):y===vMe?h(x,g,v):y===dMe?n(x,g,v):y===lMe?l(x,g,v):y===cMe||y===hMe||y===xMe?c(x,g,v):!1}}function jMe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Jh:Q4e,areDatesEqual:Z4e,areErrorsEqual:eMe,areFunctionsEqual:tMe,areMapsEqual:n?uI(mI,Jh):mI,areNumbersEqual:rMe,areObjectsEqual:n?Jh:nMe,arePrimitiveWrappersEqual:sMe,areRegExpsEqual:aMe,areSetsEqual:n?uI(pI,Jh):pI,areTypedArraysEqual:n?Jh:iMe,areUrlsEqual:oMe};if(r&&(a=xI({},a,r(a))),t){var i=ov(a.areArraysEqual),o=ov(a.areMapsEqual),l=ov(a.areObjectsEqual),c=ov(a.areSetsEqual);a=xI({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function NMe(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function SMe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var f=n(),d=f.cache,h=d===void 0?t?new WeakMap:void 0:d,m=f.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var _Me=oc();oc({strict:!0});oc({circular:!0});oc({circular:!0,strict:!0});oc({createInternalComparator:function(){return Iu}});oc({strict:!0,createInternalComparator:function(){return Iu}});oc({circular:!0,createInternalComparator:function(){return Iu}});oc({circular:!0,createInternalComparator:function(){return Iu},strict:!0});function oc(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=jMe(e),c=wMe(l),u=n?n(c):NMe(c);return SMe({circular:r,comparator:c,createState:a,equals:u,strict:o})}function CMe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function vI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):CMe(a)};requestAnimationFrame(n)}function o2(e){"@babel/helpers - typeof";return o2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o2(e)}function kMe(e){return AMe(e)||OMe(e)||PMe(e)||EMe()}function EMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PMe(e,t){if(e){if(typeof e=="string")return yI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yI(e,t)}}function yI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function AMe(e){if(Array.isArray(e))return e}function TMe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=kMe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){vI(a.bind(null,u),c);return}a(c),vI(a.bind(null,u));return}o2(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Xp(e){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xp(e)}function bI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bI(Object(r),!0).forEach(function(n){uq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uq(e,t,r){return t=MMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MMe(e){var t=RMe(e,"string");return Xp(t)==="symbol"?t:String(t)}function RMe(e,t){if(Xp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IMe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},DMe=function(t){return t},$Me=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},$m=function(t,r){return Object.keys(r).reduce(function(n,a){return wI(wI({},n),{},uq({},a,t(a,r[a])))},{})},jI=function(t,r,n){return t.map(function(a){return"".concat($Me(a)," ").concat(r,"ms ").concat(n)}).join(",")};function LMe(e,t){return zMe(e)||BMe(e,t)||dq(e,t)||FMe()}function FMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function zMe(e){if(Array.isArray(e))return e}function UMe(e){return VMe(e)||qMe(e)||dq(e)||WMe()}function WMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dq(e,t){if(e){if(typeof e=="string")return l2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l2(e,t)}}function qMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VMe(e){if(Array.isArray(e))return l2(e)}function l2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _b=1e-4,fq=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},hq=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},NI=function(t,r){return function(n){var a=fq(t,r);return hq(a,n)}},HMe=function(t,r){return function(n){var a=fq(t,r),i=[].concat(UMe(a.map(function(o,l){return o*l}).slice(1)),[0]);return hq(i,n)}},SI=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),f=LMe(u,4);a=f[0],i=f[1],o=f[2],l=f[3]}}}var d=NI(a,o),h=NI(i,l),m=HMe(a,o),x=function(w){return w>1?1:w<0?0:w},g=function(w){for(var b=w>1?1:w,y=b,N=0;N<8;++N){var j=d(y)-b,S=m(y);if(Math.abs(j-b)<_b||S<_b)return h(y);y=x(y-j/S)}return h(y)};return g.isStepper=!1,g},GMe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(f,d,h){var m=-(f-d)*n,x=h*i,g=h+(m-x)*l/1e3,v=h*l/1e3+f;return Math.abs(v-d)<_b&&Math.abs(g)<_b?[d,0]:[v,g]};return c.isStepper=!0,c.dt=l,c},KMe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return SI(a);case"spring":return GMe();default:if(a.split("(")[0]==="cubic-bezier")return SI(a)}return typeof a=="function"?a:null};function Jp(e){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jp(e)}function _I(e){return JMe(e)||XMe(e)||mq(e)||YMe()}function YMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JMe(e){if(Array.isArray(e))return u2(e)}function CI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ln(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CI(Object(r),!0).forEach(function(n){c2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c2(e,t,r){return t=QMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QMe(e){var t=ZMe(e,"string");return Jp(t)==="symbol"?t:String(t)}function ZMe(e,t){if(Jp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eRe(e,t){return nRe(e)||rRe(e,t)||mq(e,t)||tRe()}function tRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mq(e,t){if(e){if(typeof e=="string")return u2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u2(e,t)}}function u2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function nRe(e){if(Array.isArray(e))return e}var Cb=function(t,r,n){return t+(r-t)*n},d2=function(t){var r=t.from,n=t.to;return r!==n},sRe=function e(t,r,n){var a=$m(function(i,o){if(d2(o)){var l=t(o.from,o.to,o.velocity),c=eRe(l,2),u=c[0],f=c[1];return Ln(Ln({},o),{},{from:u,velocity:f})}return o},r);return n<1?$m(function(i,o){return d2(o)?Ln(Ln({},o),{},{velocity:Cb(o.velocity,a[i].velocity,n),from:Cb(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const aRe=function(e,t,r,n,a){var i=IMe(e,t),o=i.reduce(function(v,w){return Ln(Ln({},v),{},c2({},w,[e[w],t[w]]))},{}),l=i.reduce(function(v,w){return Ln(Ln({},v),{},c2({},w,{from:e[w],velocity:0,to:t[w]}))},{}),c=-1,u,f,d=function(){return null},h=function(){return $m(function(w,b){return b.from},l)},m=function(){return!Object.values(l).filter(d2).length},x=function(w){u||(u=w);var b=w-u,y=b/r.dt;l=sRe(r,l,y),a(Ln(Ln(Ln({},e),t),h())),u=w,m()||(c=requestAnimationFrame(d))},g=function(w){f||(f=w);var b=(w-f)/n,y=$m(function(j,S){return Cb.apply(void 0,_I(S).concat([r(b)]))},o);if(a(Ln(Ln(Ln({},e),t),y)),b<1)c=requestAnimationFrame(d);else{var N=$m(function(j,S){return Cb.apply(void 0,_I(S).concat([r(1)]))},o);a(Ln(Ln(Ln({},e),t),N))}};return d=r.isStepper?x:g,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}var iRe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function oRe(e,t){if(e==null)return{};var r=lRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lRe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function eN(e){return fRe(e)||dRe(e)||uRe(e)||cRe()}function cRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uRe(e,t){if(e){if(typeof e=="string")return f2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f2(e,t)}}function dRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fRe(e){if(Array.isArray(e))return f2(e)}function f2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ia(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kI(Object(r),!0).forEach(function(n){pm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pm(e,t,r){return t=pq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pq(n.key),n)}}function pRe(e,t,r){return t&&mRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pq(e){var t=gRe(e,"string");return _f(t)==="symbol"?t:String(t)}function gRe(e,t){if(_f(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_f(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h2(e,t)}function h2(e,t){return h2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},h2(e,t)}function vRe(e){var t=yRe();return function(){var n=kb(e),a;if(t){var i=kb(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return m2(this,a)}}function m2(e,t){if(t&&(_f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p2(e)}function p2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yRe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kb(e){return kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kb(e)}var ta=function(e){xRe(r,e);var t=vRe(r);function r(n,a){var i;hRe(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,f=o.to,d=o.steps,h=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(p2(i)),i.changeStyle=i.changeStyle.bind(p2(i)),!l||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:f}),m2(i);if(d&&d.length)i.state={style:d[0].style};else if(u){if(typeof h=="function")return i.state={style:u},m2(i);i.state={style:c?pm({},c,u):u}}else i.state={style:{}};return i}return pRe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,f=i.to,d=i.from,h=this.state.style;if(l){if(!o){var m={style:c?pm({},c,f):f};this.state&&h&&(c&&h[c]!==f||!c&&h!==f)&&this.setState(m);return}if(!(_Me(a.to,f)&&a.canBegin&&a.isActive)){var x=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=x||u?d:a.to;if(this.state&&h){var v={style:c?pm({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(v)}this.runAnimation(Ia(Ia({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,f=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,m=aRe(o,l,KMe(u),c,this.changeStyle),x=function(){i.stopJSAnimation=m()};this.manager.start([h,f,x,c,d])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],f=u.style,d=u.duration,h=d===void 0?0:d,m=function(g,v,w){if(w===0)return g;var b=v.duration,y=v.easing,N=y===void 0?"ease":y,j=v.style,S=v.properties,_=v.onAnimationEnd,k=w>0?o[w-1]:v,E=S||Object.keys(j);if(typeof N=="function"||N==="spring")return[].concat(eN(g),[i.runJSAnimation.bind(i,{from:k.style,to:j,duration:b,easing:N}),b]);var A=jI(E,b,N),C=Ia(Ia(Ia({},k.style),j),{},{transition:A});return[].concat(eN(g),[C,b,_]).filter(DMe)};return this.manager.start([c].concat(eN(o.reduce(m,[f,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=TMe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,f=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,m=a.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var g=l?pm({},l,c):c,v=jI(Object.keys(g),o,u);x.start([f,i,Ia(Ia({},g),{},{transition:v}),o,d])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=oRe(a,iRe),u=p.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!l||u===0||o<=0)return i;var d=function(m){var x=m.props,g=x.style,v=g===void 0?{}:g,w=x.className,b=p.cloneElement(m,Ia(Ia({},c),{},{style:Ia(Ia({},v),f),className:w}));return b};return u===1?d(p.Children.only(i)):D.createElement("div",null,p.Children.map(i,function(h){return d(h)}))}}]),r}(p.PureComponent);ta.displayName="Animate";ta.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ta.propTypes={from:Rt.oneOfType([Rt.object,Rt.string]),to:Rt.oneOfType([Rt.object,Rt.string]),attributeName:Rt.string,duration:Rt.number,begin:Rt.number,easing:Rt.oneOfType([Rt.string,Rt.func]),steps:Rt.arrayOf(Rt.shape({duration:Rt.number.isRequired,style:Rt.object.isRequired,easing:Rt.oneOfType([Rt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Rt.func]),properties:Rt.arrayOf("string"),onAnimationEnd:Rt.func})),children:Rt.oneOfType([Rt.node,Rt.func]),isActive:Rt.bool,canBegin:Rt.bool,onAnimationEnd:Rt.func,shouldReAnimate:Rt.bool,onAnimationStart:Rt.func,onAnimationReStart:Rt.func};function Qp(e){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qp(e)}function Eb(){return Eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eb.apply(this,arguments)}function bRe(e,t){return SRe(e)||NRe(e,t)||jRe(e,t)||wRe()}function wRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jRe(e,t){if(e){if(typeof e=="string")return EI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EI(e,t)}}function EI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function SRe(e){if(Array.isArray(e))return e}function PI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PI(Object(r),!0).forEach(function(n){_Re(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Re(e,t,r){return t=CRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CRe(e){var t=kRe(e,"string");return Qp(t)=="symbol"?t:t+""}function kRe(e,t){if(Qp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AI=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,f;if(o>0&&i instanceof Array){for(var d=[0,0,0,0],h=0,m=4;h<m;h++)d[h]=i[h]>o?o:i[h];f="M".concat(t,",").concat(r+l*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+c*d[0],",").concat(r)),f+="L ".concat(t+n-c*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*d[1])),f+="L ".concat(t+n,",").concat(r+a-l*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+n-c*d[2],",").concat(r+a)),f+="L ".concat(t+c*d[3],",").concat(r+a),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*d[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);f="M ".concat(t,",").concat(r+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+c*x,",").concat(r,`
            L `).concat(t+n-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*x,`
            L `).concat(t+n,",").concat(r+a-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+n-c*x,",").concat(r+a,`
            L `).concat(t+c*x,",").concat(r+a,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*x," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},ERe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),f=Math.max(i,i+l),d=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=f&&a>=d&&a<=h}return!1},PRe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},MP=function(t){var r=OI(OI({},PRe),t),n=p.useRef(),a=p.useState(-1),i=bRe(a,2),o=i[0],l=i[1];p.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,u=r.y,f=r.width,d=r.height,h=r.radius,m=r.className,x=r.animationEasing,g=r.animationDuration,v=r.animationBegin,w=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||f===0||d===0)return null;var y=Xe("recharts-rectangle",m);return b?D.createElement(ta,{canBegin:o>0,from:{width:f,height:d,x:c,y:u},to:{width:f,height:d,x:c,y:u},duration:g,animationEasing:x,isActive:b},function(N){var j=N.width,S=N.height,_=N.x,k=N.y;return D.createElement(ta,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:w,easing:x},D.createElement("path",Eb({},Oe(r,!0),{className:y,d:AI(_,k,j,S,h),ref:n})))}):D.createElement("path",Eb({},Oe(r,!0),{className:y,d:AI(c,u,f,d,h)}))},ORe=["points","className","baseLinePoints","connectNulls"];function pd(){return pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pd.apply(this,arguments)}function ARe(e,t){if(e==null)return{};var r=TRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function TI(e){return DRe(e)||IRe(e)||RRe(e)||MRe()}function MRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RRe(e,t){if(e){if(typeof e=="string")return g2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g2(e,t)}}function IRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DRe(e){if(Array.isArray(e))return g2(e)}function g2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var MI=function(t){return t&&t.x===+t.x&&t.y===+t.y},$Re=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){MI(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),MI(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Lm=function(t,r){var n=$Re(t);r&&(n=[n.reduce(function(i,o){return[].concat(TI(i),TI(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},LRe=function(t,r,n){var a=Lm(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Lm(r.reverse(),n).slice(1))},gq=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=ARe(t,ORe);if(!r||!r.length)return null;var l=Xe("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=LRe(r,a,i);return D.createElement("g",{className:l},D.createElement("path",pd({},Oe(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?D.createElement("path",pd({},Oe(o,!0),{fill:"none",d:Lm(r,i)})):null,c?D.createElement("path",pd({},Oe(o,!0),{fill:"none",d:Lm(a,i)})):null)}var f=Lm(r,i);return D.createElement("path",pd({},Oe(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function x2(){return x2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x2.apply(this,arguments)}var Sh=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=Xe("recharts-dot",i);return r===+r&&n===+n&&a===+a?p.createElement("circle",x2({},Oe(t,!1),Yy(t),{className:o,cx:r,cy:n,r:a})):null};function Zp(e){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zp(e)}var FRe=["x","y","top","left","width","height","className"];function v2(){return v2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v2.apply(this,arguments)}function RI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BRe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RI(Object(r),!0).forEach(function(n){zRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zRe(e,t,r){return t=URe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function URe(e){var t=WRe(e,"string");return Zp(t)=="symbol"?t:t+""}function WRe(e,t){if(Zp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qRe(e,t){if(e==null)return{};var r=VRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var HRe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},GRe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,f=t.width,d=f===void 0?0:f,h=t.height,m=h===void 0?0:h,x=t.className,g=qRe(t,FRe),v=BRe({x:n,y:i,top:l,left:u,width:d,height:m},g);return!xe(n)||!xe(i)||!xe(d)||!xe(m)||!xe(l)||!xe(u)?null:D.createElement("path",v2({},Oe(v,!0),{className:Xe("recharts-cross",x),d:HRe(n,i,d,m,l,u)}))},KRe=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function eg(e){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eg(e)}function YRe(e,t){if(e==null)return{};var r=XRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ko(){return ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ko.apply(this,arguments)}function II(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?II(Object(r),!0).forEach(function(n){JRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):II(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JRe(e,t,r){return t=QRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QRe(e){var t=ZRe(e,"string");return eg(t)=="symbol"?t:t+""}function ZRe(e,t){if(eg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eIe=function(t,r,n,a){var i="";return a.forEach(function(o,l){var c=Et(r,n,t,o);l?i+="L ".concat(c.x,",").concat(c.y):i+="M ".concat(c.x,",").concat(c.y)}),i+="Z",i},tIe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.polarAngles,l=t.radialLines;if(!o||!o.length||!l)return null;var c=tg({stroke:"#ccc"},Oe(t,!1));return D.createElement("g",{className:"recharts-polar-grid-angle"},o.map(function(u){var f=Et(r,n,a,u),d=Et(r,n,i,u);return D.createElement("line",ko({},c,{key:"line-".concat(u),x1:f.x,y1:f.y,x2:d.x,y2:d.y}))}))},rIe=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.index,o=tg(tg({stroke:"#ccc"},Oe(t,!1)),{},{fill:"none"});return D.createElement("circle",ko({},o,{className:Xe("recharts-polar-grid-concentric-circle",t.className),key:"circle-".concat(i),cx:r,cy:n,r:a}))},nIe=function(t){var r=t.radius,n=t.index,a=tg(tg({stroke:"#ccc"},Oe(t,!1)),{},{fill:"none"});return D.createElement("path",ko({},a,{className:Xe("recharts-polar-grid-concentric-polygon",t.className),key:"path-".concat(n),d:eIe(r,t.cx,t.cy,t.polarAngles)}))},sIe=function(t){var r=t.polarRadius,n=t.gridType;return!r||!r.length?null:D.createElement("g",{className:"recharts-polar-grid-concentric"},r.map(function(a,i){var o=i;return n==="circle"?D.createElement(rIe,ko({key:o},t,{radius:a,index:i})):D.createElement(nIe,ko({key:o},t,{radius:a,index:i}))}))},xq=function(t){var r=t.cx,n=r===void 0?0:r,a=t.cy,i=a===void 0?0:a,o=t.innerRadius,l=o===void 0?0:o,c=t.outerRadius,u=c===void 0?0:c,f=t.gridType,d=f===void 0?"polygon":f,h=t.radialLines,m=h===void 0?!0:h,x=YRe(t,KRe);return u<=0?null:D.createElement("g",{className:"recharts-polar-grid"},D.createElement(tIe,ko({cx:n,cy:i,innerRadius:l,outerRadius:u,gridType:d,radialLines:m},x)),D.createElement(sIe,ko({cx:n,cy:i,innerRadius:l,outerRadius:u,gridType:d,radialLines:m},x)))};xq.displayName="PolarGrid";var aIe=Qw,iIe=_W,oIe=Wi;function lIe(e,t){return e&&e.length?aIe(e,oIe(t),iIe):void 0}var cIe=lIe;const uIe=Ot(cIe);var dIe=Qw,fIe=Wi,hIe=CW;function mIe(e,t){return e&&e.length?dIe(e,fIe(t),hIe):void 0}var pIe=mIe;const gIe=Ot(pIe);var xIe=["cx","cy","angle","ticks","axisLine"],vIe=["ticks","tick","angle","tickFormatter","stroke"];function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function Fm(){return Fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fm.apply(this,arguments)}function DI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DI(Object(r),!0).forEach(function(n){rj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $I(e,t){if(e==null)return{};var r=yIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yq(n.key),n)}}function wIe(e,t,r){return t&&LI(e.prototype,t),r&&LI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jIe(e,t,r){return t=Pb(t),NIe(e,vq()?Reflect.construct(t,r||[],Pb(e).constructor):t.apply(e,r))}function NIe(e,t){if(t&&(Cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SIe(e)}function SIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vq=function(){return!!e})()}function Pb(e){return Pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pb(e)}function _Ie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y2(e,t)}function y2(e,t){return y2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},y2(e,t)}function rj(e,t,r){return t=yq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yq(e){var t=CIe(e,"string");return Cf(t)=="symbol"?t:t+""}function CIe(e,t){if(Cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _h=function(e){function t(){return bIe(this,t),jIe(this,t,arguments)}return _Ie(t,e),wIe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Et(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=uIe(l,function(f){return f.coordinate||0}),u=gIe(l,function(f){return f.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=$I(n,xIe),f=l.reduce(function(x,g){return[Math.min(x[0],g.coordinate),Math.max(x[1],g.coordinate)]},[1/0,-1/0]),d=Et(a,i,f[0],o),h=Et(a,i,f[1],o),m=pc(pc(pc({},Oe(u,!1)),{},{fill:"none"},Oe(c,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return D.createElement("line",Fm({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,f=$I(a,vIe),d=this.getTickTextAnchor(),h=Oe(f,!1),m=Oe(o,!1),x=i.map(function(g,v){var w=n.getTickValueCoord(g),b=pc(pc(pc(pc({textAnchor:d,transform:"rotate(".concat(90-l,", ").concat(w.x,", ").concat(w.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:v},w),{},{payload:g});return D.createElement(tt,Fm({className:Xe("recharts-polar-radius-axis-tick",tq(o)),key:"tick-".concat(g.coordinate)},Ul(n.props,g,v)),t.renderTickItem(o,b,c?c(g.value,v):g.value))});return D.createElement(tt,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:D.createElement(tt,{className:Xe("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),On.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return D.isValidElement(n)?o=D.cloneElement(n,a):Ue(n)?o=n(a):o=D.createElement(wu,Fm({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(p.PureComponent);rj(_h,"displayName","PolarRadiusAxis");rj(_h,"axisType","radiusAxis");rj(_h,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function Pc(){return Pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pc.apply(this,arguments)}function FI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FI(Object(r),!0).forEach(function(n){nj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wq(n.key),n)}}function EIe(e,t,r){return t&&BI(e.prototype,t),r&&BI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function PIe(e,t,r){return t=Ob(t),OIe(e,bq()?Reflect.construct(t,r||[],Ob(e).constructor):t.apply(e,r))}function OIe(e,t){if(t&&(kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AIe(e)}function AIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bq=function(){return!!e})()}function Ob(e){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ob(e)}function TIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b2(e,t)}function b2(e,t){return b2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},b2(e,t)}function nj(e,t,r){return t=wq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wq(e){var t=MIe(e,"string");return kf(t)=="symbol"?t:t+""}function MIe(e,t){if(kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var RIe=Math.PI/180,zI=1e-5,Ch=function(e){function t(){return kIe(this,t),PIe(this,t,arguments)}return TIe(t,e),EIe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,f=u||8,d=Et(i,o,l,n.coordinate),h=Et(i,o,l+(c==="inner"?-1:1)*f,n.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*RIe),o;return i>zI?o=a==="outer"?"start":"end":i<-zI?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=gc(gc({},Oe(this.props,!1)),{},{fill:"none"},Oe(l,!1));if(c==="circle")return D.createElement(Sh,Pc({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var f=this.props.ticks,d=f.map(function(h){return Et(a,i,o,h.coordinate)});return D.createElement(gq,Pc({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,f=Oe(this.props,!1),d=Oe(o,!1),h=gc(gc({},f),{},{fill:"none"},Oe(l,!1)),m=i.map(function(x,g){var v=n.getTickLineCoord(x),w=n.getTickTextAnchor(x),b=gc(gc(gc({textAnchor:w},f),{},{stroke:"none",fill:u},d),{},{index:g,payload:x,x:v.x2,y:v.y2});return D.createElement(tt,Pc({className:Xe("recharts-polar-angle-axis-tick",tq(o)),key:"tick-".concat(x.coordinate)},Ul(n.props,x,g)),l&&D.createElement("line",Pc({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&t.renderTickItem(o,b,c?c(x.value,g):x.value))});return D.createElement(tt,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:D.createElement(tt,{className:Xe("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return D.isValidElement(n)?o=D.cloneElement(n,a):Ue(n)?o=n(a):o=D.createElement(wu,Pc({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(p.PureComponent);nj(Ch,"displayName","PolarAngleAxis");nj(Ch,"axisType","angleAxis");nj(Ch,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var IIe=wU,DIe=IIe(Object.getPrototypeOf,Object),$Ie=DIe,LIe=To,FIe=$Ie,BIe=Mo,zIe="[object Object]",UIe=Function.prototype,WIe=Object.prototype,jq=UIe.toString,qIe=WIe.hasOwnProperty,VIe=jq.call(Object);function HIe(e){if(!BIe(e)||LIe(e)!=zIe)return!1;var t=FIe(e);if(t===null)return!0;var r=qIe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&jq.call(r)==VIe}var GIe=HIe;const KIe=Ot(GIe);var YIe=To,XIe=Mo,JIe="[object Boolean]";function QIe(e){return e===!0||e===!1||XIe(e)&&YIe(e)==JIe}var ZIe=QIe;const eDe=Ot(ZIe);function rg(e){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rg(e)}function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ab.apply(this,arguments)}function tDe(e,t){return aDe(e)||sDe(e,t)||nDe(e,t)||rDe()}function rDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nDe(e,t){if(e){if(typeof e=="string")return UI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UI(e,t)}}function UI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function aDe(e){if(Array.isArray(e))return e}function WI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WI(Object(r),!0).forEach(function(n){iDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iDe(e,t,r){return t=oDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oDe(e){var t=lDe(e,"string");return rg(t)=="symbol"?t:t+""}function lDe(e,t){if(rg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VI=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},cDe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uDe=function(t){var r=qI(qI({},cDe),t),n=p.useRef(),a=p.useState(-1),i=tDe(a,2),o=i[0],l=i[1];p.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var y=n.current.getTotalLength();y&&l(y)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,d=r.lowerWidth,h=r.height,m=r.className,x=r.animationEasing,g=r.animationDuration,v=r.animationBegin,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var b=Xe("recharts-trapezoid",m);return w?D.createElement(ta,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:f,lowerWidth:d,height:h,x:c,y:u},duration:g,animationEasing:x,isActive:w},function(y){var N=y.upperWidth,j=y.lowerWidth,S=y.height,_=y.x,k=y.y;return D.createElement(ta,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:x},D.createElement("path",Ab({},Oe(r,!0),{className:b,d:VI(_,k,N,j,S),ref:n})))}):D.createElement("g",null,D.createElement("path",Ab({},Oe(r,!0),{className:b,d:VI(c,u,f,d,h)})))},dDe=["option","shapeType","propTransformer","activeClassName","isActive"];function ng(e){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ng(e)}function fDe(e,t){if(e==null)return{};var r=hDe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function HI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HI(Object(r),!0).forEach(function(n){mDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mDe(e,t,r){return t=pDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pDe(e){var t=gDe(e,"string");return ng(t)=="symbol"?t:t+""}function gDe(e,t){if(ng(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ng(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xDe(e,t){return Tb(Tb({},t),e)}function vDe(e,t){return e==="symbols"}function GI(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return D.createElement(MP,r);case"trapezoid":return D.createElement(uDe,r);case"sector":return D.createElement(aq,r);case"symbols":if(vDe(t))return D.createElement(Uw,r);break;default:return null}}function yDe(e){return p.isValidElement(e)?e.props:e}function Mb(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?xDe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=fDe(e,dDe),u;if(p.isValidElement(t))u=p.cloneElement(t,Tb(Tb({},c),yDe(t)));else if(Ue(t))u=t(c);else if(KIe(t)&&!eDe(t)){var f=a(t,c);u=D.createElement(GI,{shapeType:r,elementProps:f})}else{var d=c;u=D.createElement(GI,{shapeType:r,elementProps:d})}return l?D.createElement(tt,{className:o},u):u}function sj(e,t){return t!=null&&"trapezoids"in e.props}function aj(e,t){return t!=null&&"sectors"in e.props}function sg(e,t){return t!=null&&"points"in e.props}function bDe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function wDe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function jDe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function NDe(e,t){var r;return sj(e,t)?r=bDe:aj(e,t)?r=wDe:sg(e,t)&&(r=jDe),r}function SDe(e,t){var r;return sj(e,t)?r="trapezoids":aj(e,t)?r="sectors":sg(e,t)&&(r="points"),r}function _De(e,t){if(sj(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(aj(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return sg(e,t)?t.payload:{}}function CDe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=SDe(r,t),i=_De(r,t),o=n.filter(function(c,u){var f=Co(i,c),d=r.props[a].filter(function(x){var g=NDe(r,t);return g(x,t)}),h=r.props[a].indexOf(d[d.length-1]),m=u===h;return f&&m}),l=n.indexOf(o[o.length-1]);return l}var Bv;function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function gd(){return gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gd.apply(this,arguments)}function KI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KI(Object(r),!0).forEach(function(n){ga(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Sq(n.key),n)}}function EDe(e,t,r){return t&&YI(e.prototype,t),r&&YI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function PDe(e,t,r){return t=Rb(t),ODe(e,Nq()?Reflect.construct(t,r||[],Rb(e).constructor):t.apply(e,r))}function ODe(e,t){if(t&&(Ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ADe(e)}function ADe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nq=function(){return!!e})()}function Rb(e){return Rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rb(e)}function TDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w2(e,t)}function w2(e,t){return w2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},w2(e,t)}function ga(e,t,r){return t=Sq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sq(e){var t=MDe(e,"string");return Ef(t)=="symbol"?t:t+""}function MDe(e,t){if(Ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Io=function(e){function t(r){var n;return kDe(this,t),n=PDe(this,t,[r]),ga(n,"pieRef",null),ga(n,"sectorRefs",[]),ga(n,"id",sc("recharts-pie-")),ga(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ue(a)&&a()}),ga(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ue(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return TDe(t,e),EDe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,f=Oe(this.props,!1),d=Oe(o,!1),h=Oe(l,!1),m=o&&o.offsetRadius||20,x=n.map(function(g,v){var w=(g.startAngle+g.endAngle)/2,b=Et(g.cx,g.cy,g.outerRadius+m,w),y=rr(rr(rr(rr({},f),g),{},{stroke:"none"},d),{},{index:v,textAnchor:t.getTextAnchor(b.x,g.cx)},b),N=rr(rr(rr(rr({},f),g),{},{fill:"none",stroke:g.fill},h),{},{index:v,points:[Et(g.cx,g.cy,g.outerRadius,w),b]}),j=c;return qe(c)&&qe(u)?j="value":qe(c)&&(j=u),D.createElement(tt,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,N,"line"),t.renderLabelItem(o,y,Xt(g,j)))});return D.createElement(tt,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,f){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var d=a.isActiveIndex(f),h=c&&a.hasActiveIndex()?c:null,m=d?o:h,x=rr(rr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return D.createElement(tt,gd({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Ul(a.props,u,f),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(f)}),D.createElement(Mb,gd({option:m,isActive:d,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,d=this.state,h=d.prevSectors,m=d.prevIsAnimationActive;return D.createElement(ta,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var g=x.t,v=[],w=i&&i[0],b=w.startAngle;return i.forEach(function(y,N){var j=h&&h[N],S=N>0?Js(y,"paddingAngle",0):0;if(j){var _=Gt(j.endAngle-j.startAngle,y.endAngle-y.startAngle),k=rr(rr({},y),{},{startAngle:b+S,endAngle:b+_(g)+S});v.push(k),b=k.endAngle}else{var E=y.endAngle,A=y.startAngle,C=Gt(0,E-A),O=C(g),$=rr(rr({},y),{},{startAngle:b+S,endAngle:b+O+S});v.push($),b=$.endAngle}}),D.createElement(tt,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Co(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,f=a.cy,d=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,x=this.state.isAnimationFinished;if(i||!o||!o.length||!xe(u)||!xe(f)||!xe(d)||!xe(h))return null;var g=Xe("recharts-pie",l);return D.createElement(tt,{tabIndex:this.props.rootTabIndex,className:g,ref:function(w){n.pieRef=w}},this.renderSectors(),c&&this.renderLabels(o),On.renderCallByParent(this.props,null,!1),(!m||x)&&Sa.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(D.isValidElement(n))return D.cloneElement(n,a);if(Ue(n))return n(a);var o=Xe("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return D.createElement(Tl,gd({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(D.isValidElement(n))return D.cloneElement(n,a);var o=i;if(Ue(n)&&(o=n(a),D.isValidElement(o)))return o;var l=Xe("recharts-pie-label-text",typeof n!="boolean"&&!Ue(n)?n.className:"");return D.createElement(wu,gd({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(p.PureComponent);Bv=Io;ga(Io,"displayName","Pie");ga(Io,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!qi.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ga(Io,"parseDeltaAngle",function(e,t){var r=cs(t-e),n=Math.min(Math.abs(t-e),360);return r*n});ga(Io,"getRealPieData",function(e){var t=e.data,r=e.children,n=Oe(e,!1),a=hs(r,nx);return t&&t.length?t.map(function(i,o){return rr(rr(rr({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return rr(rr({},n),i.props)}):[]});ga(Io,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=ZW(a,i),l=n+us(e.cx,a,a/2),c=r+us(e.cy,i,i/2),u=us(e.innerRadius,o,0),f=us(e.outerRadius,o,o*.8),d=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:d}});ga(Io,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?rr(rr({},t.type.defaultProps),t.props):t.props,a=Bv.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,f=n.nameKey,d=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),x=Bv.parseCoordinateOfPie(n,r),g=Bv.parseDeltaAngle(o,l),v=Math.abs(g),w=u;qe(u)&&qe(d)?(Za(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):qe(u)&&(Za(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=d);var b=a.filter(function(k){return Xt(k,w,0)!==0}).length,y=(v>=360?b:b-1)*c,N=v-b*m-y,j=a.reduce(function(k,E){var A=Xt(E,w,0);return k+(xe(A)?A:0)},0),S;if(j>0){var _;S=a.map(function(k,E){var A=Xt(k,w,0),C=Xt(k,f,E),O=(xe(A)?A:0)/j,$;E?$=_.endAngle+cs(g)*c*(A!==0?1:0):$=o;var R=$+cs(g)*((A!==0?m:0)+O*N),T=($+R)/2,L=(x.innerRadius+x.outerRadius)/2,I=[{name:C,value:A,payload:k,dataKey:w,type:h}],P=Et(x.cx,x.cy,L,T);return _=rr(rr(rr({percent:O,cornerRadius:i,name:C,tooltipPayload:I,midAngle:T,middleRadius:L,tooltipPosition:P},k),x),{},{value:Xt(k,w),startAngle:$,endAngle:R,payload:k,paddingAngle:cs(g)*c}),_})}return rr(rr({},x),{},{sectors:S,data:a})});function RDe(e){return e&&e.length?e[0]:void 0}var IDe=RDe,DDe=IDe;const $De=Ot(DDe);var LDe=["key"];function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}function FDe(e,t){if(e==null)return{};var r=BDe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ib(){return Ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ib.apply(this,arguments)}function XI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ss(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XI(Object(r),!0).forEach(function(n){no(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cq(n.key),n)}}function UDe(e,t,r){return t&&JI(e.prototype,t),r&&JI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function WDe(e,t,r){return t=Db(t),qDe(e,_q()?Reflect.construct(t,r||[],Db(e).constructor):t.apply(e,r))}function qDe(e,t){if(t&&(Pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VDe(e)}function VDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_q=function(){return!!e})()}function Db(e){return Db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Db(e)}function HDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j2(e,t)}function j2(e,t){return j2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},j2(e,t)}function no(e,t,r){return t=Cq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cq(e){var t=GDe(e,"string");return Pf(t)=="symbol"?t:t+""}function GDe(e,t){if(Pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Of=function(e){function t(){var r;zDe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=WDe(this,t,[].concat(a)),no(r,"state",{isAnimationFinished:!1}),no(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ue(o)&&o()}),no(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ue(o)&&o()}),no(r,"handleMouseEnter",function(o){var l=r.props.onMouseEnter;l&&l(r.props,o)}),no(r,"handleMouseLeave",function(o){var l=r.props.onMouseLeave;l&&l(r.props,o)}),r}return HDe(t,e),UDe(t,[{key:"renderDots",value:function(n){var a=this.props,i=a.dot,o=a.dataKey,l=Oe(this.props,!1),c=Oe(i,!0),u=n.map(function(f,d){var h=ss(ss(ss({key:"dot-".concat(d),r:3},l),c),{},{dataKey:o,cx:f.x,cy:f.y,index:d,payload:f});return t.renderDotItem(i,h)});return D.createElement(tt,{className:"recharts-radar-dots"},u)}},{key:"renderPolygonStatically",value:function(n){var a=this.props,i=a.shape,o=a.dot,l=a.isRange,c=a.baseLinePoints,u=a.connectNulls,f;return D.isValidElement(i)?f=D.cloneElement(i,ss(ss({},this.props),{},{points:n})):Ue(i)?f=i(ss(ss({},this.props),{},{points:n})):f=D.createElement(gq,Ib({},Oe(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:n,baseLinePoints:l?c:null,connectNulls:u})),D.createElement(tt,{className:"recharts-radar-polygon"},f,o?this.renderDots(n):null)}},{key:"renderPolygonWithAnimation",value:function(){var n=this,a=this.props,i=a.points,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,d=this.state.prevPoints;return D.createElement(ta,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"radar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var m=h.t,x=d&&d.length/i.length,g=i.map(function(v,w){var b=d&&d[Math.floor(w*x)];if(b){var y=Gt(b.x,v.x),N=Gt(b.y,v.y);return ss(ss({},v),{},{x:y(m),y:N(m)})}var j=Gt(v.cx,v.x),S=Gt(v.cy,v.y);return ss(ss({},v),{},{x:j(m),y:S(m)})});return n.renderPolygonStatically(g)})}},{key:"renderPolygon",value:function(){var n=this.props,a=n.points,i=n.isAnimationActive,o=n.isRange,l=this.state.prevPoints;return i&&a&&a.length&&!o&&(!l||!Co(l,a))?this.renderPolygonWithAnimation():this.renderPolygonStatically(a)}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.className,o=n.points,l=n.isAnimationActive;if(a||!o||!o.length)return null;var c=this.state.isAnimationFinished,u=Xe("recharts-radar",i);return D.createElement(tt,{className:u},this.renderPolygon(),(!l||c)&&Sa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"renderDotItem",value:function(n,a){var i;if(D.isValidElement(n))i=D.cloneElement(n,a);else if(Ue(n))i=n(a);else{var o=a.key,l=FDe(a,LDe);i=D.createElement(Sh,Ib({},l,{key:o,className:Xe("recharts-radar-dot",typeof n!="boolean"?n.className:"")}))}return i}}])}(p.PureComponent);no(Of,"displayName","Radar");no(Of,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!qi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});no(Of,"getComposedData",function(e){var t=e.radiusAxis,r=e.angleAxis,n=e.displayedData,a=e.dataKey,i=e.bandSize,o=r.cx,l=r.cy,c=!1,u=[],f=r.type!=="number"?i??0:0;n.forEach(function(h,m){var x=Xt(h,r.dataKey,m),g=Xt(h,a),v=r.scale(x)+f,w=Array.isArray(g)?nq(g):g,b=qe(w)?void 0:t.scale(w);Array.isArray(g)&&g.length>=2&&(c=!0),u.push(ss(ss({},Et(o,l,b,v)),{},{name:x,value:g,cx:o,cy:l,radius:b,angle:v,payload:h}))});var d=[];return c&&u.forEach(function(h){if(Array.isArray(h.value)){var m=$De(h.value),x=qe(m)?void 0:t.scale(m);d.push(ss(ss({},h),{},{radius:x},Et(o,l,x,h.angle)))}else d.push(h)}),{points:u,isRange:c,baseLinePoints:d}});var KDe=Math.ceil,YDe=Math.max;function XDe(e,t,r,n){for(var a=-1,i=YDe(KDe((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var JDe=XDe,QDe=BU,QI=1/0,ZDe=17976931348623157e292;function e5e(e){if(!e)return e===0?e:0;if(e=QDe(e),e===QI||e===-QI){var t=e<0?-1:1;return t*ZDe}return e===e?e:0}var kq=e5e,t5e=JDe,r5e=Vw,tN=kq;function n5e(e){return function(t,r,n){return n&&typeof n!="number"&&r5e(t,r,n)&&(r=n=void 0),t=tN(t),r===void 0?(r=t,t=0):r=tN(r),n=n===void 0?t<r?1:-1:tN(n),t5e(t,r,n,e)}}var s5e=n5e,a5e=s5e,i5e=a5e(),o5e=i5e;const $b=Ot(o5e);function ag(e){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ag(e)}function ZI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZI(Object(r),!0).forEach(function(n){Eq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eq(e,t,r){return t=l5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l5e(e){var t=c5e(e,"string");return ag(t)=="symbol"?t:t+""}function c5e(e,t){if(ag(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ag(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u5e=["Webkit","Moz","O","ms"],d5e=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=u5e.reduce(function(i,o){return eD(eD({},i),{},Eq({},o+n,r))},{});return a[t]=r,a};function Af(e){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(e)}function Lb(){return Lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lb.apply(this,arguments)}function tD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tD(Object(r),!0).forEach(function(n){$s(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Oq(n.key),n)}}function h5e(e,t,r){return t&&rD(e.prototype,t),r&&rD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m5e(e,t,r){return t=Fb(t),p5e(e,Pq()?Reflect.construct(t,r||[],Fb(e).constructor):t.apply(e,r))}function p5e(e,t){if(t&&(Af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g5e(e)}function g5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pq=function(){return!!e})()}function Fb(e){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fb(e)}function x5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N2(e,t)}function N2(e,t){return N2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},N2(e,t)}function $s(e,t,r){return t=Oq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oq(e){var t=v5e(e,"string");return Af(t)=="symbol"?t:t+""}function v5e(e,t){if(Af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var y5e=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Im().domain($b(0,c)).range([i,i+o-l]),f=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:f}},nD=function(t){return t.changedTouches&&!!t.changedTouches.length},Tf=function(e){function t(r){var n;return f5e(this,t),n=m5e(this,t,[r]),$s(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),$s(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),$s(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),$s(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),$s(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),$s(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),$s(n,"handleSlideDragStart",function(a){var i=nD(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return x5e(t,e),h5e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,d=Math.min(a,i),h=Math.max(a,i),m=t.getIndexInRange(o,d),x=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:x===f?f:x-x%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Xt(i[n],l,n);return Ue(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,f=c.width,d=c.travellerWidth,h=c.startIndex,m=c.endIndex,x=c.onChange,g=n.pageX-i;g>0?g=Math.min(g,u+f-d-l,u+f-d-o):g<0&&(g=Math.max(g,u-o,u-l));var v=this.getIndex({startX:o+g,endX:l+g});(v.startIndex!==h||v.endIndex!==m)&&x&&x(v),this.setState({startX:o+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=nD(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],f=this.props,d=f.x,h=f.width,m=f.travellerWidth,x=f.onChange,g=f.gap,v=f.data,w={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,d+h-m-u):b<0&&(b=Math.max(b,d-u)),w[o]=u+b;var y=this.getIndex(w),N=y.startIndex,j=y.endIndex,S=function(){var k=v.length-1;return o==="startX"&&(l>c?N%g===0:j%g===0)||l<c&&j===k||o==="endX"&&(l>c?j%g===0:N%g===0)||l>c&&j===k};this.setState($s($s({},o,u+b),"brushMoveStartX",n.pageX),function(){x&&S()&&x(y)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,f=this.state[a],d=l.indexOf(f);if(d!==-1){var h=d+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState($s({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return D.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,f=n.padding,d=p.Children.only(u);return d?D.cloneElement(d,{x:a,y:i,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,f=c.travellerWidth,d=c.height,h=c.traveller,m=c.ariaLabel,x=c.data,g=c.startIndex,v=c.endIndex,w=Math.max(n,this.props.x),b=rN(rN({},Oe(this.props,!1)),{},{x:w,y:u,width:f,height:d}),y=m||"Min value: ".concat((i=x[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=x[v])===null||o===void 0?void 0:o.name);return D.createElement(tt,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,f=Math.min(n,a)+u,d=Math.max(Math.abs(a-n)-u,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:d,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,f=this.state,d=f.startX,h=f.endX,m=5,x={pointerEvents:"none",fill:u};return D.createElement(tt,{className:"recharts-brush-texts"},D.createElement(wu,Lb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-m,y:o+l/2},x),this.getTextOfTick(a)),D.createElement(wu,Lb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+c+m,y:o+l/2},x),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,f=n.height,d=n.alwaysShowText,h=this.state,m=h.startX,x=h.endX,g=h.isTextActive,v=h.isSlideMoving,w=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!xe(l)||!xe(c)||!xe(u)||!xe(f)||u<=0||f<=0)return null;var y=Xe("recharts-brush",i),N=D.Children.count(o)===1,j=d5e("userSelect","none");return D.createElement(tt,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(m,x),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(x,"endX"),(g||v||w||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),D.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return D.isValidElement(n)?i=D.cloneElement(n,a):Ue(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,f=n.startIndex,d=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return rN({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?y5e({data:i,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(p.PureComponent);$s(Tf,"displayName","Brush");$s(Tf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var b5e=aP;function w5e(e,t){var r;return b5e(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var j5e=w5e,N5e=hU,S5e=Wi,_5e=j5e,C5e=Rs,k5e=Vw;function E5e(e,t,r){var n=C5e(e)?N5e:_5e;return r&&k5e(e,t,r)&&(t=void 0),n(e,S5e(t))}var P5e=E5e;const O5e=Ot(P5e);var Mi=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},sD=IU;function A5e(e,t,r){t=="__proto__"&&sD?sD(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var T5e=A5e,M5e=T5e,R5e=MU,I5e=Wi;function D5e(e,t){var r={};return t=I5e(t),R5e(e,function(n,a,i){M5e(r,a,t(n,a,i))}),r}var $5e=D5e;const L5e=Ot($5e);function F5e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var B5e=F5e,z5e=aP;function U5e(e,t){var r=!0;return z5e(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var W5e=U5e,q5e=B5e,V5e=W5e,H5e=Wi,G5e=Rs,K5e=Vw;function Y5e(e,t,r){var n=G5e(e)?q5e:V5e;return r&&K5e(e,t,r)&&(t=void 0),n(e,H5e(t))}var X5e=Y5e;const Aq=Ot(X5e);var J5e=["x","y"];function ig(e){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ig(e)}function S2(){return S2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S2.apply(this,arguments)}function aD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aD(Object(r),!0).forEach(function(n){Q5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q5e(e,t,r){return t=Z5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z5e(e){var t=e3e(e,"string");return ig(t)=="symbol"?t:t+""}function e3e(e,t){if(ig(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t3e(e,t){if(e==null)return{};var r=r3e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function n3e(e,t){var r=e.x,n=e.y,a=t3e(e,J5e),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),f=parseInt(u,10),d="".concat(t.width||a.width),h=parseInt(d,10);return Qh(Qh(Qh(Qh(Qh({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function iD(e){return D.createElement(Mb,S2({shapeType:"rectangle",propTransformer:n3e,activeClassName:"recharts-active-bar"},e))}var s3e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=xe(n)||obe(n);return i?t(n,a):(i||Nu(),r)}},a3e=["value","background"],Tq;function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}function i3e(e,t){if(e==null)return{};var r=o3e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function o3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bb.apply(this,arguments)}function oD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oD(Object(r),!0).forEach(function(n){ml(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rq(n.key),n)}}function c3e(e,t,r){return t&&lD(e.prototype,t),r&&lD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u3e(e,t,r){return t=zb(t),d3e(e,Mq()?Reflect.construct(t,r||[],zb(e).constructor):t.apply(e,r))}function d3e(e,t){if(t&&(Mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f3e(e)}function f3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mq=function(){return!!e})()}function zb(e){return zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zb(e)}function h3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_2(e,t)}function _2(e,t){return _2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_2(e,t)}function ml(e,t,r){return t=Rq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rq(e){var t=m3e(e,"string");return Mf(t)=="symbol"?t:t+""}function m3e(e,t){if(Mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ts=function(e){function t(){var r;l3e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=u3e(this,t,[].concat(a)),ml(r,"state",{isAnimationFinished:!1}),ml(r,"id",sc("recharts-bar-")),ml(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),ml(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return h3e(t,e),c3e(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,f=Oe(this.props,!1);return n&&n.map(function(d,h){var m=h===c,x=m?u:o,g=nn(nn(nn({},f),d),{},{isActive:m,option:x,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return D.createElement(tt,Bb({className:"recharts-bar-rectangle"},Ul(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),D.createElement(iD,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,f=a.animationEasing,d=a.animationId,h=this.state.prevData;return D.createElement(ta,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var x=m.t,g=i.map(function(v,w){var b=h&&h[w];if(b){var y=Gt(b.x,v.x),N=Gt(b.y,v.y),j=Gt(b.width,v.width),S=Gt(b.height,v.height);return nn(nn({},v),{},{x:y(x),y:N(x),width:j(x),height:S(x)})}if(o==="horizontal"){var _=Gt(0,v.height),k=_(x);return nn(nn({},v),{},{y:v.y+v.height-k,height:k})}var E=Gt(0,v.width),A=E(x);return nn(nn({},v),{},{width:A})});return D.createElement(tt,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Co(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Oe(this.props.background,!1);return i.map(function(u,f){u.value;var d=u.background,h=i3e(u,a3e);if(!d)return null;var m=nn(nn(nn(nn(nn({},h),{},{fill:"#eee"},d),c),Ul(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return D.createElement(iD,Bb({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,f=i.children,d=hs(f,Nh);if(!d)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(v,w){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:Xt(v,w)}},x={clipPath:n?"url(#clipPath-".concat(a,")"):null};return D.createElement(tt,x,d.map(function(g){return D.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,d=n.width,h=n.height,m=n.isAnimationActive,x=n.background,g=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,w=Xe("recharts-bar",o),b=l&&l.allowDataOverflow,y=c&&c.allowDataOverflow,N=b||y,j=qe(g)?this.id:g;return D.createElement(tt,{className:w},b||y?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(j)},D.createElement("rect",{x:b?u:u-d/2,y:y?f:f-h/2,width:b?d:d*2,height:y?h:h*2}))):null,D.createElement(tt,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(j,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,j),(!m||v)&&Sa.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(p.PureComponent);Tq=ts;ml(ts,"displayName","Bar");ml(ts,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!qi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ml(ts,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,m=CTe(n,r);if(!m)return null;var x=t.layout,g=r.type.defaultProps,v=g!==void 0?nn(nn({},g),r.props):r.props,w=v.dataKey,b=v.children,y=v.minPointSize,N=x==="horizontal"?o:i,j=u?N.scale.domain():null,S=MTe({numericAxis:N}),_=hs(b,nx),k=d.map(function(E,A){var C,O,$,R,T,L;u?C=kTe(u[f+A],j):(C=Xt(E,w),Array.isArray(C)||(C=[S,C]));var I=s3e(y,Tq.defaultProps.minPointSize)(C[1],A);if(x==="horizontal"){var P,M=[o.scale(C[0]),o.scale(C[1])],F=M[0],B=M[1];O=KR({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:E,index:A}),$=(P=B??F)!==null&&P!==void 0?P:void 0,R=m.size;var q=F-B;if(T=Number.isNaN(q)?0:q,L={x:O,y:o.y,width:R,height:o.height},Math.abs(I)>0&&Math.abs(T)<Math.abs(I)){var J=cs(T||I)*(Math.abs(I)-Math.abs(T));$-=J,T+=J}}else{var W=[i.scale(C[0]),i.scale(C[1])],ne=W[0],he=W[1];if(O=ne,$=KR({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:E,index:A}),R=he-ne,T=m.size,L={x:i.x,y:$,width:i.width,height:T},Math.abs(I)>0&&Math.abs(R)<Math.abs(I)){var ie=cs(R||I)*(Math.abs(I)-Math.abs(R));R+=ie}}return nn(nn(nn({},E),{},{x:O,y:$,width:R,height:T,value:u?C:C[1],payload:E,background:L},_&&_[A]&&_[A].props),{},{tooltipPayload:[JW(r,E)],tooltipPosition:{x:O+R/2,y:$+T/2}})});return nn({data:k,layout:x},h)});function og(e){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},og(e)}function p3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Iq(n.key),n)}}function g3e(e,t,r){return t&&cD(e.prototype,t),r&&cD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uD(Object(r),!0).forEach(function(n){ij(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ij(e,t,r){return t=Iq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iq(e){var t=x3e(e,"string");return og(t)=="symbol"?t:t+""}function x3e(e,t){if(og(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(og(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oj=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Fs(u,ts);return f.reduce(function(m,x){var g=r[x],v=g.orientation,w=g.domain,b=g.padding,y=b===void 0?{}:b,N=g.mirror,j=g.reversed,S="".concat(v).concat(N?"Mirror":""),_,k,E,A,C;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var O=w[1]-w[0],$=1/0,R=g.categoricalDomain.sort(dbe);if(R.forEach(function(W,ne){ne>0&&($=Math.min((W||0)-(R[ne-1]||0),$))}),Number.isFinite($)){var T=$/O,L=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(_=T*L/2),g.padding==="no-gap"){var I=us(t.barCategoryGap,T*L),P=T*L/2;_=P-I-(P-I)/L*I}}}a==="xAxis"?k=[n.left+(y.left||0)+(_||0),n.left+n.width-(y.right||0)-(_||0)]:a==="yAxis"?k=c==="horizontal"?[n.top+n.height-(y.bottom||0),n.top+(y.top||0)]:[n.top+(y.top||0)+(_||0),n.top+n.height-(y.bottom||0)-(_||0)]:k=g.range,j&&(k=[k[1],k[0]]);var M=GW(g,i,h),F=M.scale,B=M.realScaleType;F.domain(w).range(k),KW(F);var q=YW(F,qa(qa({},g),{},{realScaleType:B}));a==="xAxis"?(C=v==="top"&&!N||v==="bottom"&&N,E=n.left,A=d[S]-C*g.height):a==="yAxis"&&(C=v==="left"&&!N||v==="right"&&N,E=d[S]-C*g.width,A=n.top);var J=qa(qa(qa({},g),q),{},{realScaleType:B,x:E,y:A,scale:F,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return J.bandSize=jb(J,q),!g.hide&&a==="xAxis"?d[S]+=(C?-1:1)*J.height:g.hide||(d[S]+=(C?-1:1)*J.width),qa(qa({},m),{},ij({},x,J))},{})},Dq=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},v3e=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return Dq({x:r,y:n},{x:a,y:i})},$q=function(){function e(t){p3e(this,e),this.scale=t}return g3e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();ij($q,"EPS",1e-4);var RP=function(t){var r=Object.keys(t).reduce(function(n,a){return qa(qa({},n),{},ij({},a,$q.create(t[a])))},{});return qa(qa({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return L5e(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return Aq(a,function(i,o){return r[o].isInRange(i)})}})};function y3e(e){return(e%180+180)%180}var b3e=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=y3e(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},w3e=Wi,j3e=rx,N3e=Ww;function S3e(e){return function(t,r,n){var a=Object(t);if(!j3e(t)){var i=w3e(r);t=N3e(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var _3e=S3e,C3e=kq;function k3e(e){var t=C3e(e),r=t%1;return t===t?r?t-r:t:0}var E3e=k3e,P3e=kU,O3e=Wi,A3e=E3e,T3e=Math.max;function M3e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:A3e(r);return a<0&&(a=T3e(n+a,0)),P3e(e,O3e(t),a)}var R3e=M3e,I3e=_3e,D3e=R3e,$3e=I3e(D3e),L3e=$3e;const F3e=Ot(L3e);var B3e=hye(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),IP=p.createContext(void 0),DP=p.createContext(void 0),Lq=p.createContext(void 0),Fq=p.createContext({}),Bq=p.createContext(void 0),zq=p.createContext(0),Uq=p.createContext(0),dD=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,f=B3e(i);return D.createElement(IP.Provider,{value:n},D.createElement(DP.Provider,{value:a},D.createElement(Fq.Provider,{value:i},D.createElement(Lq.Provider,{value:f},D.createElement(Bq.Provider,{value:o},D.createElement(zq.Provider,{value:u},D.createElement(Uq.Provider,{value:c},l)))))))},z3e=function(){return p.useContext(Bq)},Wq=function(t){var r=p.useContext(IP);r==null&&Nu();var n=r[t];return n==null&&Nu(),n},U3e=function(){var t=p.useContext(IP);return Zo(t)},W3e=function(){var t=p.useContext(DP),r=F3e(t,function(n){return Aq(n.domain,Number.isFinite)});return r||Zo(t)},qq=function(t){var r=p.useContext(DP);r==null&&Nu();var n=r[t];return n==null&&Nu(),n},q3e=function(){var t=p.useContext(Lq);return t},V3e=function(){return p.useContext(Fq)},$P=function(){return p.useContext(Uq)},LP=function(){return p.useContext(zq)};function Rf(e){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(e)}function H3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hq(n.key),n)}}function K3e(e,t,r){return t&&G3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y3e(e,t,r){return t=Ub(t),X3e(e,Vq()?Reflect.construct(t,r||[],Ub(e).constructor):t.apply(e,r))}function X3e(e,t){if(t&&(Rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J3e(e)}function J3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vq=function(){return!!e})()}function Ub(e){return Ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ub(e)}function Q3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C2(e,t)}function C2(e,t){return C2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},C2(e,t)}function fD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fD(Object(r),!0).forEach(function(n){FP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FP(e,t,r){return t=Hq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hq(e){var t=Z3e(e,"string");return Rf(t)=="symbol"?t:t+""}function Z3e(e,t){if(Rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function e$e(e,t){return s$e(e)||n$e(e,t)||r$e(e,t)||t$e()}function t$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r$e(e,t){if(e){if(typeof e=="string")return mD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mD(e,t)}}function mD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function n$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function s$e(e){if(Array.isArray(e))return e}function k2(){return k2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k2.apply(this,arguments)}var a$e=function(t,r){var n;return D.isValidElement(t)?n=D.cloneElement(t,r):Ue(t)?n=t(r):n=D.createElement("line",k2({},r,{className:"recharts-reference-line-line"})),n},i$e=function(t,r,n,a,i,o,l,c,u){var f=i.x,d=i.y,h=i.width,m=i.height;if(n){var x=u.y,g=t.y.apply(x,{position:o});if(Mi(u,"discard")&&!t.y.isInRange(g))return null;var v=[{x:f+h,y:g},{x:f,y:g}];return c==="left"?v.reverse():v}if(r){var w=u.x,b=t.x.apply(w,{position:o});if(Mi(u,"discard")&&!t.x.isInRange(b))return null;var y=[{x:b,y:d+m},{x:b,y:d}];return l==="top"?y.reverse():y}if(a){var N=u.segment,j=N.map(function(S){return t.apply(S,{position:o})});return Mi(u,"discard")&&O5e(j,function(S){return!t.isInRange(S)})?null:j}return null};function o$e(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=z3e(),f=Wq(a),d=qq(i),h=q3e();if(!u||!h)return null;Za(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=RP({x:f.scale,y:d.scale}),x=jn(t),g=jn(r),v=n&&n.length===2,w=i$e(m,x,g,v,h,e.position,f.orientation,d.orientation,e);if(!w)return null;var b=e$e(w,2),y=b[0],N=y.x,j=y.y,S=b[1],_=S.x,k=S.y,E=Mi(e,"hidden")?"url(#".concat(u,")"):void 0,A=hD(hD({clipPath:E},Oe(e,!0)),{},{x1:N,y1:j,x2:_,y2:k});return D.createElement(tt,{className:Xe("recharts-reference-line",l)},a$e(o,A),On.renderCallByParent(e,v3e({x1:N,y1:j,x2:_,y2:k})))}var BP=function(e){function t(){return H3e(this,t),Y3e(this,t,arguments)}return Q3e(t,e),K3e(t,[{key:"render",value:function(){return D.createElement(o$e,this.props)}}])}(D.Component);FP(BP,"displayName","ReferenceLine");FP(BP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function E2(){return E2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E2.apply(this,arguments)}function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function pD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pD(Object(r),!0).forEach(function(n){lj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kq(n.key),n)}}function u$e(e,t,r){return t&&c$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function d$e(e,t,r){return t=Wb(t),f$e(e,Gq()?Reflect.construct(t,r||[],Wb(e).constructor):t.apply(e,r))}function f$e(e,t){if(t&&(If(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h$e(e)}function h$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gq=function(){return!!e})()}function Wb(e){return Wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wb(e)}function m$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P2(e,t)}function P2(e,t){return P2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},P2(e,t)}function lj(e,t,r){return t=Kq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kq(e){var t=p$e(e,"string");return If(t)=="symbol"?t:t+""}function p$e(e,t){if(If(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var g$e=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=RP({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Mi(t,"discard")&&!o.isInRange(l)?null:l},cj=function(e){function t(){return l$e(this,t),d$e(this,t,arguments)}return m$e(t,e),u$e(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=jn(a),f=jn(i);if(Za(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var d=g$e(this.props);if(!d)return null;var h=d.x,m=d.y,x=this.props,g=x.shape,v=x.className,w=Mi(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=gD(gD({clipPath:w},Oe(this.props,!0)),{},{cx:h,cy:m});return D.createElement(tt,{className:Xe("recharts-reference-dot",v)},t.renderDot(g,b),On.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(D.Component);lj(cj,"displayName","ReferenceDot");lj(cj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});lj(cj,"renderDot",function(e,t){var r;return D.isValidElement(e)?r=D.cloneElement(e,t):Ue(e)?r=e(t):r=D.createElement(Sh,E2({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function O2(){return O2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O2.apply(this,arguments)}function Df(e){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(e)}function xD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xD(Object(r),!0).forEach(function(n){uj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xq(n.key),n)}}function y$e(e,t,r){return t&&v$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function b$e(e,t,r){return t=qb(t),w$e(e,Yq()?Reflect.construct(t,r||[],qb(e).constructor):t.apply(e,r))}function w$e(e,t){if(t&&(Df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j$e(e)}function j$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yq=function(){return!!e})()}function qb(e){return qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qb(e)}function N$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A2(e,t)}function A2(e,t){return A2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},A2(e,t)}function uj(e,t,r){return t=Xq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xq(e){var t=S$e(e,"string");return Df(t)=="symbol"?t:t+""}function S$e(e,t){if(Df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _$e=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,f=i.xAxis,d=i.yAxis;if(!f||!d)return null;var h=RP({x:f.scale,y:d.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},x={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Mi(i,"discard")&&(!h.isInRange(m)||!h.isInRange(x))?null:Dq(m,x)},dj=function(e){function t(){return x$e(this,t),b$e(this,t,arguments)}return N$e(t,e),y$e(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,f=n.clipPathId;Za(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=jn(a),h=jn(i),m=jn(o),x=jn(l),g=this.props.shape;if(!d&&!h&&!m&&!x&&!g)return null;var v=_$e(d,h,m,x,this.props);if(!v&&!g)return null;var w=Mi(this.props,"hidden")?"url(#".concat(f,")"):void 0;return D.createElement(tt,{className:Xe("recharts-reference-area",c)},t.renderRect(g,vD(vD({clipPath:w},Oe(this.props,!0)),v)),On.renderCallByParent(this.props,v))}}])}(D.Component);uj(dj,"displayName","ReferenceArea");uj(dj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});uj(dj,"renderRect",function(e,t){var r;return D.isValidElement(e)?r=D.cloneElement(e,t):Ue(e)?r=e(t):r=D.createElement(MP,O2({},t,{className:"recharts-reference-area-rect"})),r});function Jq(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function C$e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return b3e(n,r)}function k$e(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Vb(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function E$e(e,t){return Jq(e,t+1)}function P$e(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,f=o,d=function(){var x=n==null?void 0:n[c];if(x===void 0)return{v:Jq(n,u)};var g=c,v,w=function(){return v===void 0&&(v=r(x,g)),v},b=x.coordinate,y=c===0||Vb(e,b,w,f,l);y||(c=0,f=o,u+=1),y&&(f=b+e*(w()/2+a),c+=u)},h;u<=i.length;)if(h=d(),h)return h.v;return[]}function lg(e){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lg(e)}function yD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yD(Object(r),!0).forEach(function(n){O$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O$e(e,t,r){return t=A$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A$e(e){var t=T$e(e,"string");return lg(t)=="symbol"?t:t+""}function T$e(e,t){if(lg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M$e(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var m=i[h],x,g=function(){return x===void 0&&(x=r(m,h)),x};if(h===o-1){var v=e*(m.coordinate+e*g()/2-c);i[h]=m=Xn(Xn({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else i[h]=m=Xn(Xn({},m),{},{tickCoord:m.coordinate});var w=Vb(e,m.tickCoord,g,l,c);w&&(c=m.tickCoord-e*(g()/2+a),i[h]=Xn(Xn({},m),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return i}function R$e(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var f=n[l-1],d=r(f,l-1),h=e*(f.coordinate+e*d/2-u);o[l-1]=f=Xn(Xn({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var m=Vb(e,f.tickCoord,function(){return d},c,u);m&&(u=f.tickCoord-e*(d/2+a),o[l-1]=Xn(Xn({},f),{},{isShow:!0}))}for(var x=i?l-1:l,g=function(b){var y=o[b],N,j=function(){return N===void 0&&(N=r(y,b)),N};if(b===0){var S=e*(y.coordinate-e*j()/2-c);o[b]=y=Xn(Xn({},y),{},{tickCoord:S<0?y.coordinate-S*e:y.coordinate})}else o[b]=y=Xn(Xn({},y),{},{tickCoord:y.coordinate});var _=Vb(e,y.tickCoord,j,c,u);_&&(c=y.tickCoord+e*(j()/2+a),o[b]=Xn(Xn({},y),{},{isShow:!0}))},v=0;v<x;v++)g(v);return o}function zP(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,f=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(xe(c)||qi.isSsr)return E$e(a,typeof c=="number"&&xe(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",x=f&&m==="width"?Rm(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(y,N){var j=Ue(u)?u(y.value,N):y.value;return m==="width"?C$e(Rm(j,{fontSize:t,letterSpacing:r}),x,d):Rm(j,{fontSize:t,letterSpacing:r})[m]},v=a.length>=2?cs(a[1].coordinate-a[0].coordinate):1,w=k$e(i,v,m);return c==="equidistantPreserveStart"?P$e(v,w,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=R$e(v,w,g,a,o,c==="preserveStartEnd"):h=M$e(v,w,g,a,o),h.filter(function(b){return b.isShow}))}var I$e=["viewBox"],D$e=["viewBox"],$$e=["ticks"];function $f(e){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$f(e)}function xd(){return xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xd.apply(this,arguments)}function bD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bD(Object(r),!0).forEach(function(n){UP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nN(e,t){if(e==null)return{};var r=L$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function L$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function F$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zq(n.key),n)}}function B$e(e,t,r){return t&&wD(e.prototype,t),r&&wD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function z$e(e,t,r){return t=Hb(t),U$e(e,Qq()?Reflect.construct(t,r||[],Hb(e).constructor):t.apply(e,r))}function U$e(e,t){if(t&&($f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W$e(e)}function W$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qq=function(){return!!e})()}function Hb(e){return Hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hb(e)}function q$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T2(e,t)}function T2(e,t){return T2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},T2(e,t)}function UP(e,t,r){return t=Zq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zq(e){var t=V$e(e,"string");return $f(t)=="symbol"?t:t+""}function V$e(e,t){if($f(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kh=function(e){function t(r){var n;return F$e(this,t),n=z$e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return q$e(t,e),B$e(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=nN(n,I$e),l=this.props,c=l.viewBox,u=nN(l,D$e);return!Md(i,c)||!Md(o,u)||!Md(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,f=a.tickSize,d=a.mirror,h=a.tickMargin,m,x,g,v,w,b,y=d?-1:1,N=n.tickSize||f,j=xe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=x=n.coordinate,v=o+ +!d*c,g=v-y*N,b=g-y*h,w=j;break;case"left":g=v=n.coordinate,x=i+ +!d*l,m=x-y*N,w=m-y*h,b=j;break;case"right":g=v=n.coordinate,x=i+ +d*l,m=x+y*N,w=m+y*h,b=j;break;default:m=x=n.coordinate,v=o+ +d*c,g=v+y*N,b=g+y*h,w=j;break}return{line:{x1:m,y1:g,x2:x,y2:v},tick:{x:w,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,f=n.axisLine,d=mn(mn(mn({},Oe(this.props,!1)),Oe(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);d=mn(mn({},d),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);d=mn(mn({},d),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+l})}return D.createElement("line",xd({},d,{className:Xe("recharts-cartesian-axis-line",Js(f,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,d=l.tickFormatter,h=l.unit,m=zP(mn(mn({},this.props),{},{ticks:n}),a,i),x=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Oe(this.props,!1),w=Oe(f,!1),b=mn(mn({},v),{},{fill:"none"},Oe(c,!1)),y=m.map(function(N,j){var S=o.getTickLineCoord(N),_=S.line,k=S.tick,E=mn(mn(mn(mn({textAnchor:x,verticalAnchor:g},v),{},{stroke:"none",fill:u},w),k),{},{index:j,payload:N,visibleTicksCount:m.length,tickFormatter:d});return D.createElement(tt,xd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Ul(o.props,N,j)),c&&D.createElement("line",xd({},b,_,{className:Xe("recharts-cartesian-axis-tick-line",Js(c,"className"))})),f&&t.renderTickItem(f,E,"".concat(Ue(d)?d(N.value,j):N.value).concat(h||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,f=a.hide;if(f)return null;var d=this.props,h=d.ticks,m=nN(d,$$e),x=h;return Ue(c)&&(x=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!x||!x.length?null:D.createElement(tt,{className:Xe("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),On.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=Xe(a.className,"recharts-cartesian-axis-tick-value");return D.isValidElement(n)?o=D.cloneElement(n,mn(mn({},a),{},{className:l})):Ue(n)?o=n(mn(mn({},a),{},{className:l})):o=D.createElement(wu,xd({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(p.Component);UP(kh,"displayName","CartesianAxis");UP(kh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var H$e=["x1","y1","x2","y2","key"],G$e=["offset"];function Su(e){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(e)}function jD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jD(Object(r),!0).forEach(function(n){K$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K$e(e,t,r){return t=Y$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y$e(e){var t=X$e(e,"string");return Su(t)=="symbol"?t:t+""}function X$e(e,t){if(Su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $c(){return $c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$c.apply(this,arguments)}function ND(e,t){if(e==null)return{};var r=J$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function J$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Q$e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return D.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function eV(e,t){var r;if(D.isValidElement(e))r=D.cloneElement(e,t);else if(Ue(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=ND(t,H$e),u=Oe(c,!1);u.offset;var f=ND(u,G$e);r=D.createElement("line",$c({},f,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function Z$e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Qn(Qn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return eV(a,u)});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function eLe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Qn(Qn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return eV(a,u)});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function tLe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var f=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==f[0]&&f.unshift(0);var d=f.map(function(h,m){var x=!f[m+1],g=x?a+o-h:f[m+1]-h;if(g<=0)return null;var v=m%t.length;return D.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:g,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function rLe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==f[0]&&f.unshift(0);var d=f.map(function(h,m){var x=!f[m+1],g=x?i+l-h:f[m+1]-h;if(g<=0)return null;var v=m%n.length;return D.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:g,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var nLe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return HW(zP(Qn(Qn(Qn({},kh.defaultProps),n),{},{ticks:lo(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},sLe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return HW(zP(Qn(Qn(Qn({},kh.defaultProps),n),{},{ticks:lo(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Yu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function $i(e){var t,r,n,a,i,o,l=$P(),c=LP(),u=V3e(),f=Qn(Qn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Yu.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Yu.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Yu.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Yu.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Yu.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Yu.verticalFill,x:xe(e.x)?e.x:u.left,y:xe(e.y)?e.y:u.top,width:xe(e.width)?e.width:u.width,height:xe(e.height)?e.height:u.height}),d=f.x,h=f.y,m=f.width,x=f.height,g=f.syncWithTicks,v=f.horizontalValues,w=f.verticalValues,b=U3e(),y=W3e();if(!xe(m)||m<=0||!xe(x)||x<=0||!xe(d)||d!==+d||!xe(h)||h!==+h)return null;var N=f.verticalCoordinatesGenerator||nLe,j=f.horizontalCoordinatesGenerator||sLe,S=f.horizontalPoints,_=f.verticalPoints;if((!S||!S.length)&&Ue(j)){var k=v&&v.length,E=j({yAxis:y?Qn(Qn({},y),{},{ticks:k?v:y.ticks}):void 0,width:l,height:c,offset:u},k?!0:g);Za(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Su(E),"]")),Array.isArray(E)&&(S=E)}if((!_||!_.length)&&Ue(N)){var A=w&&w.length,C=N({xAxis:b?Qn(Qn({},b),{},{ticks:A?w:b.ticks}):void 0,width:l,height:c,offset:u},A?!0:g);Za(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Su(C),"]")),Array.isArray(C)&&(_=C)}return D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(Q$e,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),D.createElement(Z$e,$c({},f,{offset:u,horizontalPoints:S,xAxis:b,yAxis:y})),D.createElement(eLe,$c({},f,{offset:u,verticalPoints:_,xAxis:b,yAxis:y})),D.createElement(tLe,$c({},f,{horizontalPoints:S})),D.createElement(rLe,$c({},f,{verticalPoints:_})))}$i.displayName="CartesianGrid";var aLe=["type","layout","connectNulls","ref"],iLe=["key"];function Lf(e){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lf(e)}function SD(e,t){if(e==null)return{};var r=oLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Bm(){return Bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bm.apply(this,arguments)}function _D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ds(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_D(Object(r),!0).forEach(function(n){Va(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_D(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xu(e){return dLe(e)||uLe(e)||cLe(e)||lLe()}function lLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cLe(e,t){if(e){if(typeof e=="string")return M2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M2(e,t)}}function uLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dLe(e){if(Array.isArray(e))return M2(e)}function M2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rV(n.key),n)}}function hLe(e,t,r){return t&&CD(e.prototype,t),r&&CD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mLe(e,t,r){return t=Gb(t),pLe(e,tV()?Reflect.construct(t,r||[],Gb(e).constructor):t.apply(e,r))}function pLe(e,t){if(t&&(Lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gLe(e)}function gLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tV=function(){return!!e})()}function Gb(e){return Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gb(e)}function xLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R2(e,t)}function R2(e,t){return R2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},R2(e,t)}function Va(e,t,r){return t=rV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rV(e){var t=vLe(e,"string");return Lf(t)=="symbol"?t:t+""}function vLe(e,t){if(Lf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ml=function(e){function t(){var r;fLe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=mLe(this,t,[].concat(a)),Va(r,"state",{isAnimationFinished:!0,totalLength:0}),Va(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Va(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(w,b){return w+b});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/u),d=o%u,h=l-o,m=[],x=0,g=0;x<c.length;g+=c[x],++x)if(g+c[x]>d){m=[].concat(Xu(c.slice(0,x)),[d-g]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(Xu(t.repeat(c,f)),Xu(m),v).map(function(w){return"".concat(w,"px")}).join(", ")}),Va(r,"id",sc("recharts-line-")),Va(r,"pathRef",function(o){r.mainCurve=o}),Va(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Va(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return xLe(t,e),hLe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,f=i.children,d=hs(f,Nh);if(!d)return null;var h=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:Xt(g.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return D.createElement(tt,m,d.map(function(x){return D.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,d=Oe(this.props,!1),h=Oe(c,!0),m=u.map(function(g,v){var w=Ds(Ds(Ds({key:"dot-".concat(v),r:3},d),h),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:f,payload:g.payload,points:u});return t.renderDotItem(c,w)}),x={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return D.createElement(tt,Bm({className:"recharts-line-dots",key:"dots"},x),m)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,u=l.layout,f=l.connectNulls;l.ref;var d=SD(l,aLe),h=Ds(Ds(Ds({},Oe(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:f});return D.createElement(Tl,Bm({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,f=o.animationBegin,d=o.animationDuration,h=o.animationEasing,m=o.animationId,x=o.animateNewValues,g=o.width,v=o.height,w=this.state,b=w.prevPoints,y=w.totalLength;return D.createElement(ta,{begin:f,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var j=N.t;if(b){var S=b.length/l.length,_=l.map(function(O,$){var R=Math.floor($*S);if(b[R]){var T=b[R],L=Gt(T.x,O.x),I=Gt(T.y,O.y);return Ds(Ds({},O),{},{x:L(j),y:I(j)})}if(x){var P=Gt(g*2,O.x),M=Gt(v/2,O.y);return Ds(Ds({},O),{},{x:P(j),y:M(j)})}return Ds(Ds({},O),{},{x:O.x,y:O.y})});return i.renderCurveStatically(_,n,a)}var k=Gt(0,y),E=k(j),A;if(c){var C="".concat(c).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});A=i.getStrokeDasharray(E,y,C)}else A=i.generateSimpleStrokeDasharray(y,E);return i.renderCurveStatically(l,n,a,{strokeDasharray:A})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return l&&o&&o.length&&(!u&&f>0||!Co(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,f=a.yAxis,d=a.top,h=a.left,m=a.width,x=a.height,g=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var w=this.state.isAnimationFinished,b=l.length===1,y=Xe("recharts-line",c),N=u&&u.allowDataOverflow,j=f&&f.allowDataOverflow,S=N||j,_=qe(v)?this.id:v,k=(n=Oe(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},E=k.r,A=E===void 0?3:E,C=k.strokeWidth,O=C===void 0?2:C,$=L9(o)?o:{},R=$.clipDot,T=R===void 0?!0:R,L=A*2+O;return D.createElement(tt,{className:y},N||j?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(_)},D.createElement("rect",{x:N?h:h-m/2,y:j?d:d-x/2,width:N?m:m*2,height:j?x:x*2})),!T&&D.createElement("clipPath",{id:"clipPath-dots-".concat(_)},D.createElement("rect",{x:h-L/2,y:d-L/2,width:m+L,height:x+L}))):null,!b&&this.renderCurve(S,_),this.renderErrorBar(S,_),(b||o)&&this.renderDots(S,T,_),(!g||w)&&Sa.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Xu(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(Xu(o),Xu(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(D.isValidElement(n))i=D.cloneElement(n,a);else if(Ue(n))i=n(a);else{var o=a.key,l=SD(a,iLe),c=Xe("recharts-line-dot",typeof n!="boolean"?n.className:"");i=D.createElement(Sh,Bm({key:o},l,{className:c}))}return i}}])}(p.PureComponent);Va(Ml,"displayName","Line");Va(Ml,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!qi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Va(Ml,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,f=t.layout,d=c.map(function(h,m){var x=Xt(h,o);return f==="horizontal"?{x:Sf({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:qe(x)?null:n.scale(x),value:x,payload:h}:{x:qe(x)?null:r.scale(x),y:Sf({axis:n,ticks:i,bandSize:l,entry:h,index:m}),value:x,payload:h}});return Ds({points:d,layout:f},u)});var yLe=["layout","type","stroke","connectNulls","isRange","ref"],bLe=["key"],nV;function Ff(e){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ff(e)}function sV(e,t){if(e==null)return{};var r=wLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Lc(){return Lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lc.apply(this,arguments)}function kD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kD(Object(r),!0).forEach(function(n){Ci(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ED(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iV(n.key),n)}}function NLe(e,t,r){return t&&ED(e.prototype,t),r&&ED(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function SLe(e,t,r){return t=Kb(t),_Le(e,aV()?Reflect.construct(t,r||[],Kb(e).constructor):t.apply(e,r))}function _Le(e,t){if(t&&(Ff(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CLe(e)}function CLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aV=function(){return!!e})()}function Kb(e){return Kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kb(e)}function kLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I2(e,t)}function I2(e,t){return I2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},I2(e,t)}function Ci(e,t,r){return t=iV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iV(e){var t=ELe(e,"string");return Ff(t)=="symbol"?t:t+""}function ELe(e,t){if(Ff(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ra=function(e){function t(){var r;jLe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=SLe(this,t,[].concat(a)),Ci(r,"state",{isAnimationFinished:!0}),Ci(r,"id",sc("recharts-area-")),Ci(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ue(o)&&o()}),Ci(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ue(o)&&o()}),r}return kLe(t,e),NLe(t,[{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,f=c.points,d=c.dataKey,h=Oe(this.props,!1),m=Oe(u,!0),x=f.map(function(v,w){var b=qo(qo(qo({key:"dot-".concat(w),r:3},h),m),{},{index:w,cx:v.x,cy:v.y,dataKey:d,value:v.value,payload:v.payload,points:f});return t.renderDotItem(u,b)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return D.createElement(tt,Lc({className:"recharts-area-dots"},g),x)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,u=o[o.length-1].x,f=n*Math.abs(c-u),d=hl(o.map(function(h){return h.y||0}));return xe(i)&&typeof i=="number"?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(hl(i.map(function(h){return h.y||0})),d)),xe(d)?D.createElement("rect",{x:c<u?c:c-f,y:0,width:f,height:Math.floor(d+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,u=o[o.length-1].y,f=n*Math.abs(c-u),d=hl(o.map(function(h){return h.x||0}));return xe(i)&&typeof i=="number"?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(hl(i.map(function(h){return h.x||0})),d)),xe(d)?D.createElement("rect",{x:0,y:c<u?c:c-f,width:d+(l?parseInt("".concat(l),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,o){var l=this.props,c=l.layout,u=l.type,f=l.stroke,d=l.connectNulls,h=l.isRange;l.ref;var m=sV(l,yLe);return D.createElement(tt,{clipPath:i?"url(#clipPath-".concat(o,")"):null},D.createElement(Tl,Lc({},Oe(m,!0),{points:n,connectNulls:d,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&D.createElement(Tl,Lc({},Oe(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:d,fill:"none",points:n})),f!=="none"&&h&&D.createElement(Tl,Lc({},Oe(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:d,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,f=o.animationBegin,d=o.animationDuration,h=o.animationEasing,m=o.animationId,x=this.state,g=x.prevPoints,v=x.prevBaseLine;return D.createElement(ta,{begin:f,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var b=w.t;if(g){var y=g.length/l.length,N=l.map(function(k,E){var A=Math.floor(E*y);if(g[A]){var C=g[A],O=Gt(C.x,k.x),$=Gt(C.y,k.y);return qo(qo({},k),{},{x:O(b),y:$(b)})}return k}),j;if(xe(c)&&typeof c=="number"){var S=Gt(v,c);j=S(b)}else if(qe(c)||gh(c)){var _=Gt(v,0);j=_(b)}else j=c.map(function(k,E){var A=Math.floor(E*y);if(v[A]){var C=v[A],O=Gt(C.x,k.x),$=Gt(C.y,k.y);return qo(qo({},k),{},{x:O(b),y:$(b)})}return k});return i.renderAreaStatically(N,j,n,a)}return D.createElement(tt,null,D.createElement("defs",null,D.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(b))),D.createElement(tt,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,f=u.prevPoints,d=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!f&&h>0||!Co(f,o)||!Co(d,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,l,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.top,f=a.left,d=a.xAxis,h=a.yAxis,m=a.width,x=a.height,g=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var w=this.state.isAnimationFinished,b=l.length===1,y=Xe("recharts-area",c),N=d&&d.allowDataOverflow,j=h&&h.allowDataOverflow,S=N||j,_=qe(v)?this.id:v,k=(n=Oe(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},E=k.r,A=E===void 0?3:E,C=k.strokeWidth,O=C===void 0?2:C,$=L9(o)?o:{},R=$.clipDot,T=R===void 0?!0:R,L=A*2+O;return D.createElement(tt,{className:y},N||j?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(_)},D.createElement("rect",{x:N?f:f-m/2,y:j?u:u-x/2,width:N?m:m*2,height:j?x:x*2})),!T&&D.createElement("clipPath",{id:"clipPath-dots-".concat(_)},D.createElement("rect",{x:f-L/2,y:u-L/2,width:m+L,height:x+L}))):null,b?null:this.renderArea(S,_),(o||b)&&this.renderDots(S,T,_),(!g||w)&&Sa.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(p.PureComponent);nV=ra;Ci(ra,"displayName","Area");Ci(ra,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!qi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ci(ra,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(xe(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var f=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return l==="dataMin"?d:l==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Ci(ra,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,m=t.layout,x=u&&u.length,g=nV.getBaseValue(t,r,n,a),v=m==="horizontal",w=!1,b=d.map(function(N,j){var S;x?S=u[f+j]:(S=Xt(N,c),Array.isArray(S)?w=!0:S=[g,S]);var _=S[1]==null||x&&Xt(N,c)==null;return v?{x:Sf({axis:n,ticks:i,bandSize:l,entry:N,index:j}),y:_?null:a.scale(S[1]),value:S,payload:N}:{x:_?null:n.scale(S[1]),y:Sf({axis:a,ticks:o,bandSize:l,entry:N,index:j}),value:S,payload:N}}),y;return x||w?y=b.map(function(N){var j=Array.isArray(N.value)?N.value[0]:null;return v?{x:N.x,y:j!=null&&N.y!=null?a.scale(j):null}:{x:j!=null?n.scale(j):null,y:N.y}}):y=v?a.scale(g):n.scale(g),qo({points:b,baseLine:y,layout:m,isRange:w},h)});Ci(ra,"renderDotItem",function(e,t){var r;if(D.isValidElement(e))r=D.cloneElement(e,t);else if(Ue(e))r=e(t);else{var n=Xe("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=sV(t,bLe);r=D.createElement(Sh,Lc({},i,{key:a,className:n}))}return r});function Bf(e){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bf(e)}function PLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OLe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cV(n.key),n)}}function ALe(e,t,r){return t&&OLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TLe(e,t,r){return t=Yb(t),MLe(e,oV()?Reflect.construct(t,r||[],Yb(e).constructor):t.apply(e,r))}function MLe(e,t){if(t&&(Bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RLe(e)}function RLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oV=function(){return!!e})()}function Yb(e){return Yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yb(e)}function ILe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D2(e,t)}function D2(e,t){return D2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},D2(e,t)}function lV(e,t,r){return t=cV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cV(e){var t=DLe(e,"string");return Bf(t)=="symbol"?t:t+""}function DLe(e,t){if(Bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fj=function(e){function t(){return PLe(this,t),TLe(this,t,arguments)}return ILe(t,e),ALe(t,[{key:"render",value:function(){return null}}])}(p.Component);lV(fj,"displayName","ZAxis");lV(fj,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var $Le=["option","isActive"];function zm(){return zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zm.apply(this,arguments)}function LLe(e,t){if(e==null)return{};var r=FLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BLe(e){var t=e.option,r=e.isActive,n=LLe(e,$Le);return typeof t=="string"?p.createElement(Mb,zm({option:p.createElement(Uw,zm({type:t},n)),isActive:r,shapeType:"symbols"},n)):p.createElement(Mb,zm({option:t,isActive:r,shapeType:"symbols"},n))}function zf(e){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zf(e)}function Um(){return Um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Um.apply(this,arguments)}function PD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ua(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PD(Object(r),!0).forEach(function(n){pl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dV(n.key),n)}}function ULe(e,t,r){return t&&OD(e.prototype,t),r&&OD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function WLe(e,t,r){return t=Xb(t),qLe(e,uV()?Reflect.construct(t,r||[],Xb(e).constructor):t.apply(e,r))}function qLe(e,t){if(t&&(zf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VLe(e)}function VLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uV=function(){return!!e})()}function Xb(e){return Xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xb(e)}function HLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$2(e,t)}function $2(e,t){return $2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$2(e,t)}function pl(e,t,r){return t=dV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dV(e){var t=GLe(e,"string");return zf(t)=="symbol"?t:t+""}function GLe(e,t){if(zf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hj=function(e){function t(){var r;zLe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=WLe(this,t,[].concat(a)),pl(r,"state",{isAnimationFinished:!1}),pl(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),pl(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),pl(r,"id",sc("recharts-scatter-")),r}return HLe(t,e),ULe(t,[{key:"renderSymbolsStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.activeShape,c=i.activeIndex,u=Oe(this.props,!1);return n.map(function(f,d){var h=c===d,m=h?l:o,x=ua(ua({},u),f);return D.createElement(tt,Um({className:"recharts-scatter-symbol",key:"symbol-".concat(f==null?void 0:f.cx,"-").concat(f==null?void 0:f.cy,"-").concat(f==null?void 0:f.size,"-").concat(d)},Ul(a.props,f,d),{role:"img"}),D.createElement(BLe,Um({option:m,isActive:h,key:"symbol-".concat(d)},x)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,i=a.points,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,d=this.state.prevPoints;return D.createElement(ta,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var m=h.t,x=i.map(function(g,v){var w=d&&d[v];if(w){var b=Gt(w.cx,g.cx),y=Gt(w.cy,g.cy),N=Gt(w.size,g.size);return ua(ua({},g),{},{cx:b(m),cy:y(m),size:N(m)})}var j=Gt(0,g.size);return ua(ua({},g),{},{size:j(m)})});return D.createElement(tt,null,n.renderSymbolsStatically(x))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,i=n.isAnimationActive,o=this.state.prevPoints;return i&&a&&a.length&&(!o||!Co(o,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.points,o=a.xAxis,l=a.yAxis,c=a.children,u=hs(c,Nh);return u?u.map(function(f,d){var h=f.props,m=h.direction,x=h.dataKey;return D.cloneElement(f,{key:"".concat(m,"-").concat(x,"-").concat(i[d]),data:i,xAxis:o,yAxis:l,layout:m==="x"?"vertical":"horizontal",dataPointFormatter:function(v,w){return{x:v.cx,y:v.cy,value:m==="x"?+v.node.x:+v.node.y,errorVal:Xt(v,w)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,i=n.line,o=n.lineType,l=n.lineJointType,c=Oe(this.props,!1),u=Oe(i,!1),f,d;if(o==="joint")f=a.map(function(y){return{x:y.cx,y:y.cy}});else if(o==="fitting"){var h=ube(a),m=h.xmin,x=h.xmax,g=h.a,v=h.b,w=function(N){return g*N+v};f=[{x:m,y:w(m)},{x,y:w(x)}]}var b=ua(ua(ua({},c),{},{fill:"none",stroke:c&&c.fill},u),{},{points:f});return D.isValidElement(i)?d=D.cloneElement(i,b):Ue(i)?d=i(b):d=D.createElement(Tl,Um({},b,{type:l})),D.createElement(tt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.points,o=n.line,l=n.className,c=n.xAxis,u=n.yAxis,f=n.left,d=n.top,h=n.width,m=n.height,x=n.id,g=n.isAnimationActive;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,w=Xe("recharts-scatter",l),b=c&&c.allowDataOverflow,y=u&&u.allowDataOverflow,N=b||y,j=qe(x)?this.id:x;return D.createElement(tt,{className:w,clipPath:N?"url(#clipPath-".concat(j,")"):null},b||y?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(j)},D.createElement("rect",{x:b?f:f-h/2,y:y?d:d-m/2,width:b?h:h*2,height:y?m:m*2}))):null,o&&this.renderLine(),this.renderErrorBar(),D.createElement(tt,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!g||v)&&Sa.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])}(p.PureComponent);pl(hj,"displayName","Scatter");pl(hj,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!qi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});pl(hj,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,i=e.displayedData,o=e.xAxisTicks,l=e.yAxisTicks,c=e.offset,u=a.props.tooltipType,f=hs(a.props.children,nx),d=qe(t.dataKey)?a.props.dataKey:t.dataKey,h=qe(r.dataKey)?a.props.dataKey:r.dataKey,m=n&&n.dataKey,x=n?n.range:fj.defaultProps.range,g=x&&x[0],v=t.scale.bandwidth?t.scale.bandwidth():0,w=r.scale.bandwidth?r.scale.bandwidth():0,b=i.map(function(y,N){var j=Xt(y,d),S=Xt(y,h),_=!qe(m)&&Xt(y,m)||"-",k=[{name:qe(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:j,payload:y,dataKey:d,type:u},{name:qe(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:S,payload:y,dataKey:h,type:u}];_!=="-"&&k.push({name:n.name||n.dataKey,unit:n.unit||"",value:_,payload:y,dataKey:m,type:u});var E=Sf({axis:t,ticks:o,bandSize:v,entry:y,index:N,dataKey:d}),A=Sf({axis:r,ticks:l,bandSize:w,entry:y,index:N,dataKey:h}),C=_!=="-"?n.scale(_):g,O=Math.sqrt(Math.max(C,0)/Math.PI);return ua(ua({},y),{},{cx:E,cy:A,x:E-O,y:A-O,xAxis:t,yAxis:r,zAxis:n,width:2*O,height:2*O,size:C,node:{x:j,y:S,z:_},tooltipPayload:k,tooltipPosition:{x:E,y:A},payload:y},f&&f[N]&&f[N].props)});return ua({points:b},c)});function Uf(e){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(e)}function KLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YLe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mV(n.key),n)}}function XLe(e,t,r){return t&&YLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JLe(e,t,r){return t=Jb(t),QLe(e,fV()?Reflect.construct(t,r||[],Jb(e).constructor):t.apply(e,r))}function QLe(e,t){if(t&&(Uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZLe(e)}function ZLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fV=function(){return!!e})()}function Jb(e){return Jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jb(e)}function e6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L2(e,t)}function L2(e,t){return L2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},L2(e,t)}function hV(e,t,r){return t=mV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mV(e){var t=t6e(e,"string");return Uf(t)=="symbol"?t:t+""}function t6e(e,t){if(Uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function F2(){return F2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F2.apply(this,arguments)}function r6e(e){var t=e.xAxisId,r=$P(),n=LP(),a=Wq(t);return a==null?null:p.createElement(kh,F2({},a,{className:Xe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return lo(o,!0)}}))}var ms=function(e){function t(){return KLe(this,t),JLe(this,t,arguments)}return e6e(t,e),XLe(t,[{key:"render",value:function(){return p.createElement(r6e,this.props)}}])}(p.Component);hV(ms,"displayName","XAxis");hV(ms,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Wf(e){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(e)}function n6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xV(n.key),n)}}function a6e(e,t,r){return t&&s6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function i6e(e,t,r){return t=Qb(t),o6e(e,pV()?Reflect.construct(t,r||[],Qb(e).constructor):t.apply(e,r))}function o6e(e,t){if(t&&(Wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l6e(e)}function l6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pV=function(){return!!e})()}function Qb(e){return Qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qb(e)}function c6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B2(e,t)}function B2(e,t){return B2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},B2(e,t)}function gV(e,t,r){return t=xV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xV(e){var t=u6e(e,"string");return Wf(t)=="symbol"?t:t+""}function u6e(e,t){if(Wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function z2(){return z2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z2.apply(this,arguments)}var d6e=function(t){var r=t.yAxisId,n=$P(),a=LP(),i=qq(r);return i==null?null:p.createElement(kh,z2({},i,{className:Xe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return lo(l,!0)}}))},ps=function(e){function t(){return n6e(this,t),i6e(this,t,arguments)}return c6e(t,e),a6e(t,[{key:"render",value:function(){return p.createElement(d6e,this.props)}}])}(p.Component);gV(ps,"displayName","YAxis");gV(ps,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function AD(e){return p6e(e)||m6e(e)||h6e(e)||f6e()}function f6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h6e(e,t){if(e){if(typeof e=="string")return U2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U2(e,t)}}function m6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function p6e(e){if(Array.isArray(e))return U2(e)}function U2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var W2=function(t,r,n,a,i){var o=hs(t,BP),l=hs(t,cj),c=[].concat(AD(o),AD(l)),u=hs(t,dj),f="".concat(a,"Id"),d=a[0],h=r;if(c.length&&(h=c.reduce(function(g,v){if(v.props[f]===n&&Mi(v.props,"extendDomain")&&xe(v.props[d])){var w=v.props[d];return[Math.min(g[0],w),Math.max(g[1],w)]}return g},h)),u.length){var m="".concat(d,"1"),x="".concat(d,"2");h=u.reduce(function(g,v){if(v.props[f]===n&&Mi(v.props,"extendDomain")&&xe(v.props[m])&&xe(v.props[x])){var w=v.props[m],b=v.props[x];return[Math.min(g[0],w,b),Math.max(g[1],w,b)]}return g},h)}return i&&i.length&&(h=i.reduce(function(g,v){return xe(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},vV={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function i(c,u,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new a(f,d||c,h),x=r?r+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],m]:c._events[x].push(m):(c._events[x]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,m=d.length,x=new Array(m);h<m;h++)x[h]=d[h].fn;return x},l.prototype.listenerCount=function(u){var f=r?r+u:u,d=this._events[f];return d?d.fn?1:d.length:0},l.prototype.emit=function(u,f,d,h,m,x){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],w=arguments.length,b,y;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),w){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,f),!0;case 3:return v.fn.call(v.context,f,d),!0;case 4:return v.fn.call(v.context,f,d,h),!0;case 5:return v.fn.call(v.context,f,d,h,m),!0;case 6:return v.fn.call(v.context,f,d,h,m,x),!0}for(y=1,b=new Array(w-1);y<w;y++)b[y-1]=arguments[y];v.fn.apply(v.context,b)}else{var N=v.length,j;for(y=0;y<N;y++)switch(v[y].once&&this.removeListener(u,v[y].fn,void 0,!0),w){case 1:v[y].fn.call(v[y].context);break;case 2:v[y].fn.call(v[y].context,f);break;case 3:v[y].fn.call(v[y].context,f,d);break;case 4:v[y].fn.call(v[y].context,f,d,h);break;default:if(!b)for(j=1,b=new Array(w-1);j<w;j++)b[j-1]=arguments[j];v[y].fn.apply(v[y].context,b)}}return!0},l.prototype.on=function(u,f,d){return i(this,u,f,d,!1)},l.prototype.once=function(u,f,d){return i(this,u,f,d,!0)},l.prototype.removeListener=function(u,f,d,h){var m=r?r+u:u;if(!this._events[m])return this;if(!f)return o(this,m),this;var x=this._events[m];if(x.fn)x.fn===f&&(!h||x.once)&&(!d||x.context===d)&&o(this,m);else{for(var g=0,v=[],w=x.length;g<w;g++)(x[g].fn!==f||h&&!x[g].once||d&&x[g].context!==d)&&v.push(x[g]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(vV);var g6e=vV.exports;const x6e=Ot(g6e);var sN=new x6e,aN="recharts.syncMouseEvents";function cg(e){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cg(e)}function v6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yV(n.key),n)}}function b6e(e,t,r){return t&&y6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iN(e,t,r){return t=yV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yV(e){var t=w6e(e,"string");return cg(t)=="symbol"?t:t+""}function w6e(e,t){if(cg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var j6e=function(){function e(){v6e(this,e),iN(this,"activeIndex",0),iN(this,"coordinateList",[]),iN(this,"layout","horizontal")}return b6e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,f=r.offset,d=f===void 0?null:f,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=i+c+u,h=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function N6e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&xe(n)&&xe(a))return!0}return!1}function S6e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function bV(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Et(t,r,n,a),l=Et(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function _6e(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,f=t.outerRadius,d=t.angle,h=Et(l,c,u,d),m=Et(l,c,f,d);n=h.x,a=h.y,i=m.x,o=m.y}else return bV(t);return[{x:n,y:a},{x:i,y:o}]}function ug(e){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ug(e)}function TD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TD(Object(r),!0).forEach(function(n){C6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C6e(e,t,r){return t=k6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k6e(e){var t=E6e(e,"string");return ug(t)=="symbol"?t:t+""}function E6e(e,t){if(ug(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P6e(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var x,g=Tl;if(h==="ScatterChart")x=o,g=GRe;else if(h==="BarChart")x=S6e(d,o,c,f),g=MP;else if(d==="radial"){var v=bV(o),w=v.cx,b=v.cy,y=v.radius,N=v.startAngle,j=v.endAngle;x={cx:w,cy:b,startAngle:N,endAngle:j,innerRadius:y,outerRadius:y},g=aq}else x={points:_6e(d,o,c)},g=Tl;var S=lv(lv(lv(lv({stroke:"#ccc",pointerEvents:"none"},c),x),Oe(m,!1)),{},{payload:l,payloadIndex:u,className:Xe("recharts-tooltip-cursor",m.className)});return p.isValidElement(m)?p.cloneElement(m,S):p.createElement(g,S)}var O6e=["item"],A6e=["children","className","width","height","style","compact","title","desc"];function qf(e){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(e)}function vd(){return vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vd.apply(this,arguments)}function MD(e,t){return R6e(e)||M6e(e,t)||jV(e,t)||T6e()}function T6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function R6e(e){if(Array.isArray(e))return e}function RD(e,t){if(e==null)return{};var r=I6e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function I6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function D6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NV(n.key),n)}}function L6e(e,t,r){return t&&$6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function F6e(e,t,r){return t=Zb(t),B6e(e,wV()?Reflect.construct(t,r||[],Zb(e).constructor):t.apply(e,r))}function B6e(e,t){if(t&&(qf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z6e(e)}function z6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wV=function(){return!!e})()}function Zb(e){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zb(e)}function U6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q2(e,t)}function q2(e,t){return q2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},q2(e,t)}function Vf(e){return V6e(e)||q6e(e)||jV(e)||W6e()}function W6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jV(e,t){if(e){if(typeof e=="string")return V2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V2(e,t)}}function q6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function V6e(e){if(Array.isArray(e))return V2(e)}function V2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ID(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ID(Object(r),!0).forEach(function(n){Ge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ID(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ge(e,t,r){return t=NV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NV(e){var t=H6e(e,"string");return qf(t)=="symbol"?t:t+""}function H6e(e,t){if(qf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G6e={xAxis:["bottom","top"],yAxis:["left","right"]},K6e={width:"100%",height:"100%"},SV={x:0,y:0};function cv(e){return e}var Y6e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},X6e=function(t,r,n,a){var i=r.find(function(f){return f&&f.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return ae(ae(ae({},a),Et(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return ae(ae(ae({},a),Et(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return SV},mj=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Vf(l),Vf(u)):l},[]);return o.length>0?o:t&&t.length&&xe(a)&&xe(i)?t.slice(a,i+1):[]};function _V(e){return e==="number"?[0,"auto"]:void 0}var H2=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=mj(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var f,d=(f=u.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=d===void 0?l:d;h=Ky(m,o.dataKey,a)}else h=d&&d[n]||l[n];return h?[].concat(Vf(c),[JW(u,h)]):c},[])},DD=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=Y6e(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,f=bTe(o,l,u,c);if(f>=0&&u){var d=u[f]&&u[f].value,h=H2(t,r,f,d),m=X6e(n,l,f,i);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:m}}return null},J6e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=t.stackOffset,m=VW(f,i);return n.reduce(function(x,g){var v,w=g.type.defaultProps!==void 0?ae(ae({},g.type.defaultProps),g.props):g.props,b=w.type,y=w.dataKey,N=w.allowDataOverflow,j=w.allowDuplicatedCategory,S=w.scale,_=w.ticks,k=w.includeHidden,E=w[o];if(x[E])return x;var A=mj(t.data,{graphicalItems:a.filter(function(q){var J,W=o in q.props?q.props[o]:(J=q.type.defaultProps)===null||J===void 0?void 0:J[o];return W===E}),dataStartIndex:c,dataEndIndex:u}),C=A.length,O,$,R;N6e(w.domain,N,b)&&(O=r2(w.domain,null,N),m&&(b==="number"||S!=="auto")&&(R=Dm(A,y,"category")));var T=_V(b);if(!O||O.length===0){var L,I=(L=w.domain)!==null&&L!==void 0?L:T;if(y){if(O=Dm(A,y,b),b==="category"&&m){var P=cbe(O);j&&P?($=O,O=$b(0,C)):j||(O=JR(I,O,g).reduce(function(q,J){return q.indexOf(J)>=0?q:[].concat(Vf(q),[J])},[]))}else if(b==="category")j?O=O.filter(function(q){return q!==""&&!qe(q)}):O=JR(I,O,g).reduce(function(q,J){return q.indexOf(J)>=0||J===""||qe(J)?q:[].concat(Vf(q),[J])},[]);else if(b==="number"){var M=_Te(A,a.filter(function(q){var J,W,ne=o in q.props?q.props[o]:(J=q.type.defaultProps)===null||J===void 0?void 0:J[o],he="hide"in q.props?q.props.hide:(W=q.type.defaultProps)===null||W===void 0?void 0:W.hide;return ne===E&&(k||!he)}),y,i,f);M&&(O=M)}m&&(b==="number"||S!=="auto")&&(R=Dm(A,y,"category"))}else m?O=$b(0,C):l&&l[E]&&l[E].hasStack&&b==="number"?O=h==="expand"?[0,1]:XW(l[E].stackGroups,c,u):O=qW(A,a.filter(function(q){var J=o in q.props?q.props[o]:q.type.defaultProps[o],W="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return J===E&&(k||!W)}),b,f,!0);if(b==="number")O=W2(d,O,E,i,_),I&&(O=r2(I,O,N));else if(b==="category"&&I){var F=I,B=O.every(function(q){return F.indexOf(q)>=0});B&&(O=F)}}return ae(ae({},x),{},Ge({},E,ae(ae({},w),{},{axisType:i,domain:O,categoricalDomain:R,duplicateDomain:$,originalDomain:(v=w.domain)!==null&&v!==void 0?v:T,isCategorical:m,layout:f})))},{})},Q6e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=mj(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,x=VW(f,i),g=-1;return n.reduce(function(v,w){var b=w.type.defaultProps!==void 0?ae(ae({},w.type.defaultProps),w.props):w.props,y=b[o],N=_V("number");if(!v[y]){g++;var j;return x?j=$b(0,m):l&&l[y]&&l[y].hasStack?(j=XW(l[y].stackGroups,c,u),j=W2(d,j,y,i)):(j=r2(N,qW(h,n.filter(function(S){var _,k,E=o in S.props?S.props[o]:(_=S.type.defaultProps)===null||_===void 0?void 0:_[o],A="hide"in S.props?S.props.hide:(k=S.type.defaultProps)===null||k===void 0?void 0:k.hide;return E===y&&!A}),"number",f),a.defaultProps.allowDataOverflow),j=W2(d,j,y,i)),ae(ae({},v),{},Ge({},y,ae(ae({axisType:i},a.defaultProps),{},{hide:!0,orientation:Js(G6e,"".concat(i,".").concat(g%2),null),domain:j,originalDomain:N,isCategorical:x,layout:f})))}return v},{})},Z6e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.children,d="".concat(a,"Id"),h=hs(f,i),m={};return h&&h.length?m=J6e(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=Q6e(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},eFe=function(t){var r=Zo(t),n=lo(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:iP(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:jb(r,n)}},$D=function(t){var r=t.children,n=t.defaultShowTooltip,a=Fs(r,Tf),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},tFe=function(t){return!t||!t.length?!1:t.some(function(r){var n=ho(r&&r.type);return n&&n.indexOf("Bar")>=0})},LD=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},rFe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,f=n.height,d=n.children,h=n.margin||{},m=Fs(d,Tf),x=Fs(d,As),g=Object.keys(c).reduce(function(j,S){var _=c[S],k=_.orientation;return!_.mirror&&!_.hide?ae(ae({},j),{},Ge({},k,j[k]+_.width)):j},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(j,S){var _=o[S],k=_.orientation;return!_.mirror&&!_.hide?ae(ae({},j),{},Ge({},k,Js(j,"".concat(k))+_.height)):j},{top:h.top||0,bottom:h.bottom||0}),w=ae(ae({},v),g),b=w.bottom;m&&(w.bottom+=m.props.height||Tf.defaultProps.height),x&&r&&(w=NTe(w,a,n,r));var y=u-w.left-w.right,N=f-w.top-w.bottom;return ae(ae({brushBottom:b},w),{},{width:Math.max(y,0),height:Math.max(N,0)})},nFe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Eh=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,h=function(w,b){var y=b.graphicalItems,N=b.stackGroups,j=b.offset,S=b.updateId,_=b.dataStartIndex,k=b.dataEndIndex,E=w.barSize,A=w.layout,C=w.barGap,O=w.barCategoryGap,$=w.maxBarSize,R=LD(A),T=R.numericAxisName,L=R.cateAxisName,I=tFe(y),P=[];return y.forEach(function(M,F){var B=mj(w.data,{graphicalItems:[M],dataStartIndex:_,dataEndIndex:k}),q=M.type.defaultProps!==void 0?ae(ae({},M.type.defaultProps),M.props):M.props,J=q.dataKey,W=q.maxBarSize,ne=q["".concat(T,"Id")],he=q["".concat(L,"Id")],ie={},ce=c.reduce(function(yt,qt){var lt=b["".concat(qt.axisType,"Map")],vr=q["".concat(qt.axisType,"Id")];lt&&lt[vr]||qt.axisType==="zAxis"||Nu();var yr=lt[vr];return ae(ae({},yt),{},Ge(Ge({},qt.axisType,yr),"".concat(qt.axisType,"Ticks"),lo(yr)))},ie),re=ce[L],se=ce["".concat(L,"Ticks")],me=N&&N[ne]&&N[ne].hasStack&&RTe(M,N[ne].stackGroups),te=ho(M.type).indexOf("Bar")>=0,Ee=jb(re,se),je=[],Be=I&&wTe({barSize:E,stackGroups:N,totalSize:nFe(ce,L)});if(te){var le,Me,rt=qe(W)?$:W,He=(le=(Me=jb(re,se,!0))!==null&&Me!==void 0?Me:rt)!==null&&le!==void 0?le:0;je=jTe({barGap:C,barCategoryGap:O,bandSize:He!==Ee?He:Ee,sizeList:Be[he],maxBarSize:rt}),He!==Ee&&(je=je.map(function(yt){return ae(ae({},yt),{},{position:ae(ae({},yt.position),{},{offset:yt.position.offset-He/2})})}))}var xt=M&&M.type&&M.type.getComposedData;xt&&P.push({props:ae(ae({},xt(ae(ae({},ce),{},{displayedData:B,props:w,dataKey:J,item:M,bandSize:Ee,barPosition:je,offset:j,stackedData:me,layout:A,dataStartIndex:_,dataEndIndex:k}))),{},Ge(Ge(Ge({key:M.key||"item-".concat(F)},T,ce[T]),L,ce[L]),"animationId",S)),childIndex:jbe(M,w.children),item:M})}),P},m=function(w,b){var y=w.props,N=w.dataStartIndex,j=w.dataEndIndex,S=w.updateId;if(!V4({props:y}))return null;var _=y.children,k=y.layout,E=y.stackOffset,A=y.data,C=y.reverseStackOrder,O=LD(k),$=O.numericAxisName,R=O.cateAxisName,T=hs(_,n),L=TTe(A,T,"".concat($,"Id"),"".concat(R,"Id"),E,C),I=c.reduce(function(q,J){var W="".concat(J.axisType,"Map");return ae(ae({},q),{},Ge({},W,Z6e(y,ae(ae({},J),{},{graphicalItems:T,stackGroups:J.axisType===$&&L,dataStartIndex:N,dataEndIndex:j}))))},{}),P=rFe(ae(ae({},I),{},{props:y,graphicalItems:T}),b==null?void 0:b.legendBBox);Object.keys(I).forEach(function(q){I[q]=f(y,I[q],P,q.replace("Map",""),r)});var M=I["".concat(R,"Map")],F=eFe(M),B=h(y,ae(ae({},I),{},{dataStartIndex:N,dataEndIndex:j,updateId:S,graphicalItems:T,stackGroups:L,offset:P}));return ae(ae({formattedGraphicalItems:B,graphicalItems:T,offset:P,stackGroups:L},F),I)},x=function(v){function w(b){var y,N,j;return D6e(this,w),j=F6e(this,w,[b]),Ge(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ge(j,"accessibilityManager",new j6e),Ge(j,"handleLegendBBoxUpdate",function(S){if(S){var _=j.state,k=_.dataStartIndex,E=_.dataEndIndex,A=_.updateId;j.setState(ae({legendBBox:S},m({props:j.props,dataStartIndex:k,dataEndIndex:E,updateId:A},ae(ae({},j.state),{},{legendBBox:S}))))}}),Ge(j,"handleReceiveSyncEvent",function(S,_,k){if(j.props.syncId===S){if(k===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(_)}}),Ge(j,"handleBrushChange",function(S){var _=S.startIndex,k=S.endIndex;if(_!==j.state.dataStartIndex||k!==j.state.dataEndIndex){var E=j.state.updateId;j.setState(function(){return ae({dataStartIndex:_,dataEndIndex:k},m({props:j.props,dataStartIndex:_,dataEndIndex:k,updateId:E},j.state))}),j.triggerSyncEvent({dataStartIndex:_,dataEndIndex:k})}}),Ge(j,"handleMouseEnter",function(S){var _=j.getMouseInfo(S);if(_){var k=ae(ae({},_),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var E=j.props.onMouseEnter;Ue(E)&&E(k,S)}}),Ge(j,"triggeredAfterMouseMove",function(S){var _=j.getMouseInfo(S),k=_?ae(ae({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(k),j.triggerSyncEvent(k);var E=j.props.onMouseMove;Ue(E)&&E(k,S)}),Ge(j,"handleItemMouseEnter",function(S){j.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Ge(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Ge(j,"handleMouseMove",function(S){S.persist(),j.throttleTriggeredAfterMouseMove(S)}),Ge(j,"handleMouseLeave",function(S){j.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};j.setState(_),j.triggerSyncEvent(_);var k=j.props.onMouseLeave;Ue(k)&&k(_,S)}),Ge(j,"handleOuterEvent",function(S){var _=wbe(S),k=Js(j.props,"".concat(_));if(_&&Ue(k)){var E,A;/.*touch.*/i.test(_)?A=j.getMouseInfo(S.changedTouches[0]):A=j.getMouseInfo(S),k((E=A)!==null&&E!==void 0?E:{},S)}}),Ge(j,"handleClick",function(S){var _=j.getMouseInfo(S);if(_){var k=ae(ae({},_),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var E=j.props.onClick;Ue(E)&&E(k,S)}}),Ge(j,"handleMouseDown",function(S){var _=j.props.onMouseDown;if(Ue(_)){var k=j.getMouseInfo(S);_(k,S)}}),Ge(j,"handleMouseUp",function(S){var _=j.props.onMouseUp;if(Ue(_)){var k=j.getMouseInfo(S);_(k,S)}}),Ge(j,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Ge(j,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseDown(S.changedTouches[0])}),Ge(j,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseUp(S.changedTouches[0])}),Ge(j,"handleDoubleClick",function(S){var _=j.props.onDoubleClick;if(Ue(_)){var k=j.getMouseInfo(S);_(k,S)}}),Ge(j,"handleContextMenu",function(S){var _=j.props.onContextMenu;if(Ue(_)){var k=j.getMouseInfo(S);_(k,S)}}),Ge(j,"triggerSyncEvent",function(S){j.props.syncId!==void 0&&sN.emit(aN,j.props.syncId,S,j.eventEmitterSymbol)}),Ge(j,"applySyncEvent",function(S){var _=j.props,k=_.layout,E=_.syncMethod,A=j.state.updateId,C=S.dataStartIndex,O=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)j.setState(ae({dataStartIndex:C,dataEndIndex:O},m({props:j.props,dataStartIndex:C,dataEndIndex:O,updateId:A},j.state)));else if(S.activeTooltipIndex!==void 0){var $=S.chartX,R=S.chartY,T=S.activeTooltipIndex,L=j.state,I=L.offset,P=L.tooltipTicks;if(!I)return;if(typeof E=="function")T=E(P,S);else if(E==="value"){T=-1;for(var M=0;M<P.length;M++)if(P[M].value===S.activeLabel){T=M;break}}var F=ae(ae({},I),{},{x:I.left,y:I.top}),B=Math.min($,F.x+F.width),q=Math.min(R,F.y+F.height),J=P[T]&&P[T].value,W=H2(j.state,j.props.data,T),ne=P[T]?{x:k==="horizontal"?P[T].coordinate:B,y:k==="horizontal"?q:P[T].coordinate}:SV;j.setState(ae(ae({},S),{},{activeLabel:J,activeCoordinate:ne,activePayload:W,activeTooltipIndex:T}))}else j.setState(S)}),Ge(j,"renderCursor",function(S){var _,k=j.state,E=k.isTooltipActive,A=k.activeCoordinate,C=k.activePayload,O=k.offset,$=k.activeTooltipIndex,R=k.tooltipAxisBandSize,T=j.getTooltipEventType(),L=(_=S.props.active)!==null&&_!==void 0?_:E,I=j.props.layout,P=S.key||"_recharts-cursor";return D.createElement(P6e,{key:P,activeCoordinate:A,activePayload:C,activeTooltipIndex:$,chartName:r,element:S,isActive:L,layout:I,offset:O,tooltipAxisBandSize:R,tooltipEventType:T})}),Ge(j,"renderPolarAxis",function(S,_,k){var E=Js(S,"type.axisType"),A=Js(j.state,"".concat(E,"Map")),C=S.type.defaultProps,O=C!==void 0?ae(ae({},C),S.props):S.props,$=A&&A[O["".concat(E,"Id")]];return p.cloneElement(S,ae(ae({},$),{},{className:Xe(E,$.className),key:S.key||"".concat(_,"-").concat(k),ticks:lo($,!0)}))}),Ge(j,"renderPolarGrid",function(S){var _=S.props,k=_.radialLines,E=_.polarAngles,A=_.polarRadius,C=j.state,O=C.radiusAxisMap,$=C.angleAxisMap,R=Zo(O),T=Zo($),L=T.cx,I=T.cy,P=T.innerRadius,M=T.outerRadius;return p.cloneElement(S,{polarAngles:Array.isArray(E)?E:lo(T,!0).map(function(F){return F.coordinate}),polarRadius:Array.isArray(A)?A:lo(R,!0).map(function(F){return F.coordinate}),cx:L,cy:I,innerRadius:P,outerRadius:M,key:S.key||"polar-grid",radialLines:k})}),Ge(j,"renderLegend",function(){var S=j.state.formattedGraphicalItems,_=j.props,k=_.children,E=_.width,A=_.height,C=j.props.margin||{},O=E-(C.left||0)-(C.right||0),$=UW({children:k,formattedGraphicalItems:S,legendWidth:O,legendContent:u});if(!$)return null;var R=$.item,T=RD($,O6e);return p.cloneElement(R,ae(ae({},T),{},{chartWidth:E,chartHeight:A,margin:C,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Ge(j,"renderTooltip",function(){var S,_=j.props,k=_.children,E=_.accessibilityLayer,A=Fs(k,yn);if(!A)return null;var C=j.state,O=C.isTooltipActive,$=C.activeCoordinate,R=C.activePayload,T=C.activeLabel,L=C.offset,I=(S=A.props.active)!==null&&S!==void 0?S:O;return p.cloneElement(A,{viewBox:ae(ae({},L),{},{x:L.left,y:L.top}),active:I,label:T,payload:I?R:[],coordinate:$,accessibilityLayer:E})}),Ge(j,"renderBrush",function(S){var _=j.props,k=_.margin,E=_.data,A=j.state,C=A.offset,O=A.dataStartIndex,$=A.dataEndIndex,R=A.updateId;return p.cloneElement(S,{key:S.key||"_recharts-brush",onChange:sv(j.handleBrushChange,S.props.onChange),data:E,x:xe(S.props.x)?S.props.x:C.left,y:xe(S.props.y)?S.props.y:C.top+C.height+C.brushBottom-(k.bottom||0),width:xe(S.props.width)?S.props.width:C.width,startIndex:O,endIndex:$,updateId:"brush-".concat(R)})}),Ge(j,"renderReferenceElement",function(S,_,k){if(!S)return null;var E=j,A=E.clipPathId,C=j.state,O=C.xAxisMap,$=C.yAxisMap,R=C.offset,T=S.type.defaultProps||{},L=S.props,I=L.xAxisId,P=I===void 0?T.xAxisId:I,M=L.yAxisId,F=M===void 0?T.yAxisId:M;return p.cloneElement(S,{key:S.key||"".concat(_,"-").concat(k),xAxis:O[P],yAxis:$[F],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:A})}),Ge(j,"renderActivePoints",function(S){var _=S.item,k=S.activePoint,E=S.basePoint,A=S.childIndex,C=S.isRange,O=[],$=_.props.key,R=_.item.type.defaultProps!==void 0?ae(ae({},_.item.type.defaultProps),_.item.props):_.item.props,T=R.activeDot,L=R.dataKey,I=ae(ae({index:A,dataKey:L,cx:k.x,cy:k.y,r:4,fill:TP(_.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},Oe(T,!1)),Yy(T));return O.push(w.renderActiveDot(T,I,"".concat($,"-activePoint-").concat(A))),E?O.push(w.renderActiveDot(T,ae(ae({},I),{},{cx:E.x,cy:E.y}),"".concat($,"-basePoint-").concat(A))):C&&O.push(null),O}),Ge(j,"renderGraphicChild",function(S,_,k){var E=j.filterFormatItem(S,_,k);if(!E)return null;var A=j.getTooltipEventType(),C=j.state,O=C.isTooltipActive,$=C.tooltipAxis,R=C.activeTooltipIndex,T=C.activeLabel,L=j.props.children,I=Fs(L,yn),P=E.props,M=P.points,F=P.isRange,B=P.baseLine,q=E.item.type.defaultProps!==void 0?ae(ae({},E.item.type.defaultProps),E.item.props):E.item.props,J=q.activeDot,W=q.hide,ne=q.activeBar,he=q.activeShape,ie=!!(!W&&O&&I&&(J||ne||he)),ce={};A!=="axis"&&I&&I.props.trigger==="click"?ce={onClick:sv(j.handleItemMouseEnter,S.props.onClick)}:A!=="axis"&&(ce={onMouseLeave:sv(j.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:sv(j.handleItemMouseEnter,S.props.onMouseEnter)});var re=p.cloneElement(S,ae(ae({},E.props),ce));function se(qt){return typeof $.dataKey=="function"?$.dataKey(qt.payload):null}if(ie)if(R>=0){var me,te;if($.dataKey&&!$.allowDuplicatedCategory){var Ee=typeof $.dataKey=="function"?se:"payload.".concat($.dataKey.toString());me=Ky(M,Ee,T),te=F&&B&&Ky(B,Ee,T)}else me=M==null?void 0:M[R],te=F&&B&&B[R];if(he||ne){var je=S.props.activeIndex!==void 0?S.props.activeIndex:R;return[p.cloneElement(S,ae(ae(ae({},E.props),ce),{},{activeIndex:je})),null,null]}if(!qe(me))return[re].concat(Vf(j.renderActivePoints({item:E,activePoint:me,basePoint:te,childIndex:R,isRange:F})))}else{var Be,le=(Be=j.getItemByXY(j.state.activeCoordinate))!==null&&Be!==void 0?Be:{graphicalItem:re},Me=le.graphicalItem,rt=Me.item,He=rt===void 0?S:rt,xt=Me.childIndex,yt=ae(ae(ae({},E.props),ce),{},{activeIndex:xt});return[p.cloneElement(He,yt),null,null]}return F?[re,null,null]:[re,null]}),Ge(j,"renderCustomized",function(S,_,k){return p.cloneElement(S,ae(ae({key:"recharts-customized-".concat(k)},j.props),j.state))}),Ge(j,"renderMap",{CartesianGrid:{handler:cv,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:cv},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:cv},YAxis:{handler:cv},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((y=b.id)!==null&&y!==void 0?y:sc("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=zU(j.triggeredAfterMouseMove,(N=b.throttleDelay)!==null&&N!==void 0?N:1e3/60),j.state={},j}return U6e(w,v),L6e(w,[{key:"componentDidMount",value:function(){var y,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,N=y.children,j=y.data,S=y.height,_=y.layout,k=Fs(N,yn);if(k){var E=k.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,C=H2(this.state,j,E,A),O=this.state.tooltipTicks[E].coordinate,$=(this.state.offset.top+S)/2,R=_==="horizontal",T=R?{x:O,y:$}:{y:O,x:$},L=this.state.formattedGraphicalItems.find(function(P){var M=P.item;return M.type.name==="Scatter"});L&&(T=ae(ae({},T),L.props.points[E].tooltipPosition),C=L.props.points[E].tooltipPayload);var I={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:A,activePayload:C,activeCoordinate:T};this.setState(I),this.renderCursor(k),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var j,S;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(y){x_([Fs(y.children,yn)],[Fs(this.props.children,yn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=Fs(this.props.children,yn);if(y&&typeof y.props.shared=="boolean"){var N=y.props.shared?"axis":"item";return l.indexOf(N)>=0?N:i}return i}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var N=this.container,j=N.getBoundingClientRect(),S=Kke(j),_={chartX:Math.round(y.pageX-S.left),chartY:Math.round(y.pageY-S.top)},k=j.width/N.offsetWidth||1,E=this.inRange(_.chartX,_.chartY,k);if(!E)return null;var A=this.state,C=A.xAxisMap,O=A.yAxisMap,$=this.getTooltipEventType(),R=DD(this.state,this.props.data,this.props.layout,E);if($!=="axis"&&C&&O){var T=Zo(C).scale,L=Zo(O).scale,I=T&&T.invert?T.invert(_.chartX):null,P=L&&L.invert?L.invert(_.chartY):null;return ae(ae({},_),{},{xValue:I,yValue:P},R)}return R?ae(ae({},_),R):null}},{key:"inRange",value:function(y,N){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,_=y/j,k=N/j;if(S==="horizontal"||S==="vertical"){var E=this.state.offset,A=_>=E.left&&_<=E.left+E.width&&k>=E.top&&k<=E.top+E.height;return A?{x:_,y:k}:null}var C=this.state,O=C.angleAxisMap,$=C.radiusAxisMap;if(O&&$){var R=Zo(O);return eI({x:_,y:k},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,N=this.getTooltipEventType(),j=Fs(y,yn),S={};j&&N==="axis"&&(j.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=Yy(this.props,this.handleOuterEvent);return ae(ae({},_),S)}},{key:"addListener",value:function(){sN.on(aN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){sN.removeListener(aN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,N,j){for(var S=this.state.formattedGraphicalItems,_=0,k=S.length;_<k;_++){var E=S[_];if(E.item===y||E.props.key===y.key||N===ho(E.item.type)&&j===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,N=this.state.offset,j=N.left,S=N.top,_=N.height,k=N.width;return D.createElement("defs",null,D.createElement("clipPath",{id:y},D.createElement("rect",{x:j,y:S,height:_,width:k})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(N,j){var S=MD(j,2),_=S[0],k=S[1];return ae(ae({},N),{},Ge({},_,k.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(N,j){var S=MD(j,2),_=S[0],k=S[1];return ae(ae({},N),{},Ge({},_,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[y])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(y){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[y])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(y){var N=this.state,j=N.formattedGraphicalItems,S=N.activeItem;if(j&&j.length)for(var _=0,k=j.length;_<k;_++){var E=j[_],A=E.props,C=E.item,O=C.type.defaultProps!==void 0?ae(ae({},C.type.defaultProps),C.props):C.props,$=ho(C.type);if($==="Bar"){var R=(A.data||[]).find(function(P){return ERe(y,P)});if(R)return{graphicalItem:E,payload:R}}else if($==="RadialBar"){var T=(A.data||[]).find(function(P){return eI(y,P)});if(T)return{graphicalItem:E,payload:T}}else if(sj(E,S)||aj(E,S)||sg(E,S)){var L=CDe({graphicalItem:E,activeTooltipItem:S,itemData:O.data}),I=O.activeIndex===void 0?L:O.activeIndex;return{graphicalItem:ae(ae({},E),{},{childIndex:I}),payload:sg(E,S)?O.data[L]:E.props.data[L]}}}return null}},{key:"render",value:function(){var y=this;if(!V4(this))return null;var N=this.props,j=N.children,S=N.className,_=N.width,k=N.height,E=N.style,A=N.compact,C=N.title,O=N.desc,$=RD(N,A6e),R=Oe($,!1);if(A)return D.createElement(dD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(y_,vd({},R,{width:_,height:k,title:C,desc:O}),this.renderClipPath(),G4(j,this.renderMap)));if(this.props.accessibilityLayer){var T,L;R.tabIndex=(T=this.props.tabIndex)!==null&&T!==void 0?T:0,R.role=(L=this.props.role)!==null&&L!==void 0?L:"application",R.onKeyDown=function(P){y.accessibilityManager.keyboardEvent(P)},R.onFocus=function(){y.accessibilityManager.focus()}}var I=this.parseEventsOfWrapper();return D.createElement(dD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",vd({className:Xe("recharts-wrapper",S),style:ae({position:"relative",cursor:"default",width:_,height:k},E)},I,{ref:function(M){y.container=M}}),D.createElement(y_,vd({},R,{width:_,height:k,title:C,desc:O,style:K6e}),this.renderClipPath(),G4(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(p.Component);Ge(x,"displayName",r),Ge(x,"defaultProps",ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Ge(x,"getDerivedStateFromProps",function(v,w){var b=v.dataKey,y=v.data,N=v.children,j=v.width,S=v.height,_=v.layout,k=v.stackOffset,E=v.margin,A=w.dataStartIndex,C=w.dataEndIndex;if(w.updateId===void 0){var O=$D(v);return ae(ae(ae({},O),{},{updateId:0},m(ae(ae({props:v},O),{},{updateId:0}),w)),{},{prevDataKey:b,prevData:y,prevWidth:j,prevHeight:S,prevLayout:_,prevStackOffset:k,prevMargin:E,prevChildren:N})}if(b!==w.prevDataKey||y!==w.prevData||j!==w.prevWidth||S!==w.prevHeight||_!==w.prevLayout||k!==w.prevStackOffset||!Md(E,w.prevMargin)){var $=$D(v),R={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},T=ae(ae({},DD(w,y,_)),{},{updateId:w.updateId+1}),L=ae(ae(ae({},$),R),T);return ae(ae(ae({},L),m(ae({props:v},L),w)),{},{prevDataKey:b,prevData:y,prevWidth:j,prevHeight:S,prevLayout:_,prevStackOffset:k,prevMargin:E,prevChildren:N})}if(!x_(N,w.prevChildren)){var I,P,M,F,B=Fs(N,Tf),q=B&&(I=(P=B.props)===null||P===void 0?void 0:P.startIndex)!==null&&I!==void 0?I:A,J=B&&(M=(F=B.props)===null||F===void 0?void 0:F.endIndex)!==null&&M!==void 0?M:C,W=q!==A||J!==C,ne=!qe(y),he=ne&&!W?w.updateId:w.updateId+1;return ae(ae({updateId:he},m(ae(ae({props:v},w),{},{updateId:he,dataStartIndex:q,dataEndIndex:J}),w)),{},{prevChildren:N,dataStartIndex:q,dataEndIndex:J})}return null}),Ge(x,"renderActiveDot",function(v,w,b){var y;return p.isValidElement(v)?y=p.cloneElement(v,w):Ue(v)?y=v(w):y=D.createElement(Sh,w),D.createElement(tt,{className:"recharts-active-dot",key:b},y)});var g=p.forwardRef(function(w,b){return D.createElement(x,vd({},w,{ref:b}))});return g.displayName=x.displayName,g},sFe=Eh({chartName:"LineChart",GraphicalChild:Ml,axisComponents:[{axisType:"xAxis",AxisComp:ms},{axisType:"yAxis",AxisComp:ps}],formatAxisMap:oj}),dg=Eh({chartName:"BarChart",GraphicalChild:ts,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ms},{axisType:"yAxis",AxisComp:ps}],formatAxisMap:oj}),aFe=Eh({chartName:"PieChart",GraphicalChild:Io,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ch},{axisType:"radiusAxis",AxisComp:_h}],formatAxisMap:eq,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),iFe=Eh({chartName:"RadarChart",GraphicalChild:Of,axisComponents:[{axisType:"angleAxis",AxisComp:Ch},{axisType:"radiusAxis",AxisComp:_h}],formatAxisMap:eq,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),CV=Eh({chartName:"AreaChart",GraphicalChild:ra,axisComponents:[{axisType:"xAxis",AxisComp:ms},{axisType:"yAxis",AxisComp:ps}],formatAxisMap:oj}),oFe=Eh({chartName:"ComposedChart",GraphicalChild:[Ml,ra,ts,hj],axisComponents:[{axisType:"xAxis",AxisComp:ms},{axisType:"yAxis",AxisComp:ps},{axisType:"zAxis",AxisComp:fj}],formatAxisMap:oj});const lFe=({data:e})=>{const t=e.map(r=>({date:ye(Br(r.date),"dd MMM",{locale:ot}),Energa:r.energy,nimo:r.mood,Enfoque:r.focus}));return e.length===0?s.jsxs(X,{className:"border-border/50",children:[s.jsx(pe,{children:s.jsx(ge,{className:"text-base font-semibold",children:"Tendencia de Estado"})}),s.jsx(Y,{className:"h-[300px] flex items-center justify-center",children:s.jsx("p",{className:"text-muted-foreground text-sm",children:"No hay datos de check-in disponibles"})})]}):s.jsxs(X,{className:"border-border/50",children:[s.jsx(pe,{children:s.jsx(ge,{className:"text-base font-semibold",children:"Tendencia de Estado"})}),s.jsx(Y,{children:s.jsx("div",{className:"h-[300px]",children:s.jsx(ei,{width:"100%",height:"100%",children:s.jsxs(sFe,{data:t,margin:{top:5,right:10,left:-10,bottom:5},children:[s.jsx($i,{strokeDasharray:"3 3",className:"stroke-border/30"}),s.jsx(ms,{dataKey:"date",tick:{fontSize:11},className:"text-muted-foreground"}),s.jsx(ps,{domain:[0,10],tick:{fontSize:11},className:"text-muted-foreground"}),s.jsx(yn,{contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"8px"},labelStyle:{color:"hsl(var(--foreground))"}}),s.jsx(As,{}),s.jsx(Ml,{type:"monotone",dataKey:"Energa",stroke:"hsl(var(--warning))",strokeWidth:2,dot:{fill:"hsl(var(--warning))"},activeDot:{r:6}}),s.jsx(Ml,{type:"monotone",dataKey:"nimo",stroke:"hsl(var(--success))",strokeWidth:2,dot:{fill:"hsl(var(--success))"},activeDot:{r:6}}),s.jsx(Ml,{type:"monotone",dataKey:"Enfoque",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))"},activeDot:{r:6}})]})})})})]})},cFe=({data:e})=>{const t=e.map(r=>({date:ye(Br(r.date),"dd MMM",{locale:ot}),Planificadas:r.planned,Completadas:r.completed}));return e.length===0?s.jsxs(X,{className:"border-border/50",children:[s.jsx(pe,{children:s.jsx(ge,{className:"text-base font-semibold",children:"Productividad Diaria"})}),s.jsx(Y,{className:"h-[300px] flex items-center justify-center",children:s.jsx("p",{className:"text-muted-foreground text-sm",children:"No hay datos de productividad disponibles"})})]}):s.jsxs(X,{className:"border-border/50",children:[s.jsx(pe,{children:s.jsx(ge,{className:"text-base font-semibold",children:"Productividad Diaria"})}),s.jsx(Y,{children:s.jsx("div",{className:"h-[300px]",children:s.jsx(ei,{width:"100%",height:"100%",children:s.jsxs(dg,{data:t,margin:{top:5,right:10,left:-10,bottom:5},children:[s.jsx($i,{strokeDasharray:"3 3",className:"stroke-border/30"}),s.jsx(ms,{dataKey:"date",tick:{fontSize:11},className:"text-muted-foreground"}),s.jsx(ps,{tick:{fontSize:11},className:"text-muted-foreground"}),s.jsx(yn,{contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"8px"},labelStyle:{color:"hsl(var(--foreground))"}}),s.jsx(As,{}),s.jsx(ts,{dataKey:"Planificadas",fill:"hsl(var(--muted-foreground))",radius:[4,4,0,0]}),s.jsx(ts,{dataKey:"Completadas",fill:"hsl(var(--primary))",radius:[4,4,0,0]})]})})})})]})},uFe=({data:e})=>{const t=e.map(r=>({date:ye(Br(r.date),"dd MMM",{locale:ot}),Trabajo:r.workTasks,Vida:r.lifeTasks}));return e.length===0?s.jsxs(X,{className:"border-border/50",children:[s.jsx(pe,{children:s.jsx(ge,{className:"text-base font-semibold",children:"Balance Trabajo/Vida"})}),s.jsx(Y,{className:"h-[300px] flex items-center justify-center",children:s.jsx("p",{className:"text-muted-foreground text-sm",children:"No hay datos de tareas completadas"})})]}):s.jsxs(X,{className:"border-border/50",children:[s.jsx(pe,{children:s.jsx(ge,{className:"text-base font-semibold",children:"Balance Trabajo/Vida"})}),s.jsx(Y,{children:s.jsx("div",{className:"h-[300px]",children:s.jsx(ei,{width:"100%",height:"100%",children:s.jsxs(CV,{data:t,margin:{top:5,right:10,left:-10,bottom:5},children:[s.jsx($i,{strokeDasharray:"3 3",className:"stroke-border/30"}),s.jsx(ms,{dataKey:"date",tick:{fontSize:11},className:"text-muted-foreground"}),s.jsx(ps,{tick:{fontSize:11},className:"text-muted-foreground"}),s.jsx(yn,{contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"8px"},labelStyle:{color:"hsl(var(--foreground))"}}),s.jsx(As,{}),s.jsx(ra,{type:"monotone",dataKey:"Trabajo",stackId:"1",stroke:"hsl(var(--primary))",fill:"hsl(var(--primary) / 0.3)"}),s.jsx(ra,{type:"monotone",dataKey:"Vida",stackId:"1",stroke:"hsl(var(--success))",fill:"hsl(var(--success) / 0.3)"})]})})})})]})},dFe=({data:e})=>{const t=e.slice(-4);if(t.length===0)return s.jsxs(X,{className:"border-border/50",children:[s.jsx(pe,{children:s.jsx(ge,{className:"text-base font-semibold",children:"Resumen Semanal"})}),s.jsx(Y,{className:"h-[300px] flex items-center justify-center",children:s.jsx("p",{className:"text-muted-foreground text-sm",children:"No hay datos semanales disponibles"})})]});const r=t[t.length-1],n=t.length>1?t[t.length-2]:null,a=[{metric:"Energa",actual:(r==null?void 0:r.avgEnergy)||0,anterior:(n==null?void 0:n.avgEnergy)||0,fullMark:10},{metric:"nimo",actual:(r==null?void 0:r.avgMood)||0,anterior:(n==null?void 0:n.avgMood)||0,fullMark:10},{metric:"Enfoque",actual:(r==null?void 0:r.avgFocus)||0,anterior:(n==null?void 0:n.avgFocus)||0,fullMark:10},{metric:"Completitud",actual:r?r.avgCompletionRate/10:0,anterior:n?n.avgCompletionRate/10:0,fullMark:10}];return s.jsxs(X,{className:"border-border/50",children:[s.jsx(pe,{children:s.jsxs(ge,{className:"text-base font-semibold",children:["Resumen Semanal",r&&s.jsxs("span",{className:"text-xs font-normal text-muted-foreground ml-2",children:["(Semana del ",ye(Br(r.week),"d MMM",{locale:ot}),")"]})]})}),s.jsx(Y,{children:s.jsx("div",{className:"h-[300px]",children:s.jsx(ei,{width:"100%",height:"100%",children:s.jsxs(iFe,{data:a,children:[s.jsx(xq,{className:"stroke-border/30"}),s.jsx(Ch,{dataKey:"metric",tick:{fontSize:11},className:"text-muted-foreground"}),s.jsx(_h,{angle:30,domain:[0,10],tick:{fontSize:10}}),s.jsx(As,{}),s.jsx(Of,{name:"Esta semana",dataKey:"actual",stroke:"hsl(var(--primary))",fill:"hsl(var(--primary))",fillOpacity:.3}),n&&s.jsx(Of,{name:"Semana anterior",dataKey:"anterior",stroke:"hsl(var(--muted-foreground))",fill:"hsl(var(--muted-foreground))",fillOpacity:.2})]})})})})]})},fFe=({dailyMetrics:e,productivityMetrics:t,balanceMetrics:r})=>{const n=e.length>0&&Math.round(e.reduce((d,h)=>d+(h.energy||0),0)/e.filter(d=>d.energy!==null).length)||0,a=e.length>0&&Math.round(e.reduce((d,h)=>d+(h.mood||0),0)/e.filter(d=>d.mood!==null).length)||0,i=t.length>0?Math.round(t.reduce((d,h)=>d+h.completionRate,0)/t.length):0,o=r.reduce((d,h)=>d+h.workTasks,0),l=r.reduce((d,h)=>d+h.lifeTasks,0),c=o+l,u=c>0?Math.round(o/c*100):50,f=[{title:"Energa Promedio",value:`${n}/10`,icon:Mn,color:"text-warning",bgColor:"bg-warning/10",description:n>=7?"Excelente nivel":n>=5?"Nivel aceptable":"Necesitas descanso"},{title:"nimo Promedio",value:`${a}/10`,icon:Zr,color:"text-success",bgColor:"bg-success/10",description:a>=7?"Muy positivo":a>=5?"Estable":"Considera pausas"},{title:"Tasa de Completitud",value:`${i}%`,icon:Dt,color:"text-primary",bgColor:"bg-primary/10",description:i>=80?"Excelente!":i>=60?"Buen ritmo":"Ajusta expectativas"},{title:"Balance Trabajo/Vida",value:`${u}/${100-u}`,icon:MY,color:"text-info",bgColor:"bg-info/10",description:Math.abs(u-50)<=20?"Bien equilibrado":u>70?"Ms enfoque en vida":"Ms enfoque en trabajo"}];return s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:f.map(d=>s.jsx(X,{className:"border-border/50",children:s.jsx(Y,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:d.title}),s.jsx("p",{className:"text-2xl font-bold text-foreground",children:d.value}),s.jsx("p",{className:"text-xs text-muted-foreground",children:d.description})]}),s.jsx("div",{className:`p-2 rounded-lg ${d.bgColor}`,children:s.jsx(d.icon,{className:`w-5 h-5 ${d.color}`})})]})})},d.title))})},hFe=({data:e})=>{const t=e.map(r=>({...r,dateFormatted:ye(Br(r.date),"dd MMM",{locale:ot})}));return s.jsxs(X,{children:[s.jsx(pe,{className:"pb-2",children:s.jsxs(ge,{className:"flex items-center gap-2 text-lg",children:[s.jsx(Ks,{className:"h-5 w-5 text-primary"}),"Sesiones de enfoque por da"]})}),s.jsx(Y,{children:e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-[250px] text-muted-foreground",children:[s.jsx(Ks,{className:"h-10 w-10 mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No hay sesiones de enfoque registradas"})]}):s.jsx(ei,{width:"100%",height:250,children:s.jsxs(dg,{data:t,children:[s.jsx($i,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(ms,{dataKey:"dateFormatted",tick:{fontSize:12},className:"fill-muted-foreground"}),s.jsx(ps,{tick:{fontSize:12},className:"fill-muted-foreground",allowDecimals:!1}),s.jsx(yn,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},labelStyle:{color:"hsl(var(--foreground))"},formatter:(r,n)=>n==="sessions"?[r,"Sesiones"]:n==="minutes"?[`${r} min`,"Tiempo total"]:[r,n]}),s.jsx(ts,{dataKey:"sessions",fill:"hsl(var(--primary))",radius:[4,4,0,0],name:"sessions"})]})})})]})};function mFe({sessions:e,vocabulary:t}){const r=e.reduce((h,m)=>{const x=m.date;return h[x]||(h[x]={correct:0,total:0,sessions:0}),h[x].correct+=m.correct_count||0,h[x].total+=m.total_count||0,h[x].sessions+=1,h},{}),n=[],a=new Date;for(let h=13;h>=0;h--){const m=new Date(a);m.setDate(m.getDate()-h);const x=m.toISOString().split("T")[0],g=r[x]||{correct:0,total:0,sessions:0};n.push({date:x,label:m.toLocaleDateString("es-ES",{weekday:"short",day:"numeric"}),aciertos:g.correct,errores:g.total-g.correct,sesiones:g.sessions,precision:g.total>0?Math.round(g.correct/g.total*100):0})}const i=t.reduce((h,m)=>{const x=m.created_at.split("T")[0];return h[x]||(h[x]={total:0,mastered:0}),h[x].total+=1,m.is_mastered&&(h[x].mastered+=1),h},{}),o=[];let l=0,c=0;const u=Object.keys(i).sort();for(const h of u)l+=i[h].total,c+=i[h].mastered,o.push({date:h,label:new Date(h).toLocaleDateString("es-ES",{month:"short",day:"numeric"}),total:l,dominadas:c});const f=t.filter(h=>h.is_mastered).length,d=t.length;return s.jsxs(X,{className:"col-span-1 lg:col-span-2",children:[s.jsx(pe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ge,{className:"flex items-center gap-2",children:[s.jsx(Or,{className:"h-5 w-5 text-primary"}),"Progreso de Vocabulario - Bosco"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Q,{variant:"secondary",children:[d," palabras"]}),s.jsxs(Q,{variant:"default",className:"bg-success",children:[f," dominadas"]})]})]})}),s.jsxs(Y,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Rendimiento ltimos 14 das"}),s.jsx("div",{className:"h-[200px]",children:s.jsx(ei,{width:"100%",height:"100%",children:s.jsxs(dg,{data:n,children:[s.jsx($i,{strokeDasharray:"3 3",className:"stroke-border"}),s.jsx(ms,{dataKey:"label",tick:{fontSize:11},className:"text-muted-foreground"}),s.jsx(ps,{tick:{fontSize:11},className:"text-muted-foreground"}),s.jsx(yn,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:(h,m)=>[h,m.charAt(0).toUpperCase()+m.slice(1)]}),s.jsx(As,{}),s.jsx(ts,{dataKey:"aciertos",stackId:"a",fill:"hsl(var(--success))",radius:[0,0,0,0]}),s.jsx(ts,{dataKey:"errores",stackId:"a",fill:"hsl(var(--destructive))",radius:[4,4,0,0]})]})})})]}),o.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Crecimiento del vocabulario"}),s.jsx("div",{className:"h-[200px]",children:s.jsx(ei,{width:"100%",height:"100%",children:s.jsxs(CV,{data:o,children:[s.jsx($i,{strokeDasharray:"3 3",className:"stroke-border"}),s.jsx(ms,{dataKey:"label",tick:{fontSize:11},className:"text-muted-foreground"}),s.jsx(ps,{tick:{fontSize:11},className:"text-muted-foreground"}),s.jsx(yn,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),s.jsx(As,{}),s.jsx(ra,{type:"monotone",dataKey:"total",stroke:"hsl(var(--primary))",fill:"hsl(var(--primary))",fillOpacity:.2,name:"Total palabras"}),s.jsx(ra,{type:"monotone",dataKey:"dominadas",stroke:"hsl(var(--success))",fill:"hsl(var(--success))",fillOpacity:.3,name:"Dominadas"})]})})})]})]})]})}const pFe=()=>{const{isOpen:e,isCollapsed:t,open:r,close:n,toggleCollapse:a}=un(),[i,o]=p.useState("30"),{loading:l,dailyMetrics:c,productivityMetrics:u,balanceMetrics:f,weeklyAverages:d}=Pge(parseInt(i)),{stats:h}=r9(parseInt(i)),{sessions:m,vocabulary:x}=Oge();return l?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(_e,{className:"w-8 h-8 animate-spin text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Cargando anlisis..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(zr,{isOpen:e,onClose:n,isCollapsed:t,onToggleCollapse:a}),s.jsxs("div",{className:z("transition-all duration-300",t?"lg:pl-20":"lg:pl-72"),children:[s.jsx(Ur,{onMenuClick:r}),s.jsxs("main",{className:"p-4 lg:p-6 space-y-6",children:[s.jsx(tc,{}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Anlisis"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Tendencias de energa, productividad y balance"})]}),s.jsxs(ar,{value:i,onValueChange:o,children:[s.jsx(Kt,{className:"w-[180px]",children:s.jsx(ir,{placeholder:"Perodo"})}),s.jsxs(Yt,{children:[s.jsx(De,{value:"7",children:"ltimos 7 das"}),s.jsx(De,{value:"14",children:"ltimos 14 das"}),s.jsx(De,{value:"30",children:"ltimos 30 das"}),s.jsx(De,{value:"60",children:"ltimos 60 das"}),s.jsx(De,{value:"90",children:"ltimos 90 das"})]})]})]}),s.jsx(fFe,{dailyMetrics:c,productivityMetrics:u,balanceMetrics:f}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(X,{children:s.jsx(Y,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Ks,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pomodoros totales"}),s.jsx("p",{className:"text-2xl font-bold",children:h.totalSessions})]})]})})}),s.jsx(X,{children:s.jsx(Y,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-success/10",children:s.jsx(Ks,{className:"h-5 w-5 text-success"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Tiempo enfocado"}),s.jsxs("p",{className:"text-2xl font-bold",children:[Math.floor(h.totalMinutes/60),"h ",h.totalMinutes%60,"m"]})]})]})})}),s.jsx(X,{children:s.jsx(Y,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-warning/10",children:s.jsx(Ks,{className:"h-5 w-5 text-warning"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Promedio diario"}),s.jsx("p",{className:"text-2xl font-bold",children:h.byDay.length>0?Math.round(h.totalSessions/h.byDay.length*10)/10:0})]})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(lFe,{data:c}),s.jsx(cFe,{data:u}),s.jsx(hFe,{data:h.byDay}),s.jsx(uFe,{data:f}),s.jsx(dFe,{data:d}),s.jsx(mFe,{sessions:m,vocabulary:x})]})]})]})]})},FD=["#0066FF","#FF4444","#00AA66","#FF8800","#FF1493","#00BFBF"],gFe=e=>{let t=0;for(let r=0;r<e.length;r++)t=e.charCodeAt(r)+((t<<5)-t);return FD[Math.abs(t)%FD.length]},BD={papel_claro:{background:"bg-[#f5f1e8]",textColor:"text-[#1a1a1a]",textColorHex:"#1a1a1a",overlayClass:"",mainFont:"font-serif",reflectionFont:"font-sans font-light",useDivider:!1,useSerifItalic:!1,dayInAccent:!1},urban_muted:{background:"bg-gradient-to-b from-slate-600 to-slate-800",textColor:"text-white",textColorHex:"#FFFFFF",overlayClass:"backdrop-blur-sm",mainFont:"font-sans font-bold",reflectionFont:"font-sans font-light",useDivider:!1,useSerifItalic:!1,dayInAccent:!1},urban_bw_blur:{background:"bg-gradient-to-b from-neutral-700 to-neutral-900",textColor:"text-white",textColorHex:"#FFFFFF",overlayClass:"backdrop-blur-md",mainFont:"font-sans font-bold",reflectionFont:"font-sans font-light",useDivider:!1,useSerifItalic:!1,dayInAccent:!1},brutalista:{background:"bg-gradient-to-b from-zinc-800 to-black",textColor:"text-white",textColorHex:"#FFFFFF",overlayClass:"backdrop-blur-sm",mainFont:"font-serif italic",reflectionFont:"font-sans font-light",useDivider:!0,useSerifItalic:!0,dayInAccent:!0}},xFe=({phraseText:e,reflectionText:t,storyStyle:r,storyTime:n,challengeDay:a,challengeTotal:i,backgroundImageUrl:o,className:l})=>{const c=BD[r]||BD.papel_claro,u=p.useMemo(()=>gFe(e+t),[e,t]),f=p.useMemo(()=>t.length>300?t.substring(0,300)+"...":t,[t]),d=p.useMemo(()=>{if(!e)return null;const h=e.split(" ");if(h.length<3)return e;const m=Math.floor(h.length/2);return h.map((x,g)=>s.jsxs("span",{style:g===m?{color:u,fontWeight:"bold"}:void 0,children:[x,g<h.length-1?" ":""]},g))},[e,u]);return s.jsxs("div",{className:z("relative w-full aspect-[9/16] rounded-xl overflow-hidden shadow-lg border border-border/50",!o&&c.background,c.overlayClass,l),children:[o&&s.jsx("img",{src:o,alt:"Background",className:"absolute inset-0 w-full h-full object-cover"}),o&&s.jsx("div",{className:"absolute inset-0 bg-black/40"}),s.jsx("div",{className:z("absolute top-4 left-4 text-lg font-light",c.textColor),style:{textShadow:o?"0 1px 3px rgba(0,0,0,0.5)":void 0},children:n||"00:00"}),s.jsxs("div",{className:z("absolute top-4 right-4 text-sm font-light",c.textColor),style:{textShadow:o?"0 1px 3px rgba(0,0,0,0.5)":void 0},children:[s.jsx("span",{className:"font-bold text-lg",style:c.dayInAccent?{color:u}:void 0,children:a}),s.jsxs("span",{className:"opacity-70",children:["/",i]})]}),s.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center px-5 py-12",children:[e&&s.jsx("div",{className:"mb-3",children:s.jsx("p",{className:z("text-lg leading-tight",c.textColor,c.mainFont,c.useSerifItalic&&"italic"),style:{textShadow:o?"0 1px 3px rgba(0,0,0,0.5)":void 0},children:d})}),c.useDivider&&s.jsx("div",{className:"w-16 h-0.5 my-3",style:{backgroundColor:u}}),s.jsx("div",{className:"mt-2",children:s.jsx("p",{className:z("text-sm leading-relaxed text-justify",c.textColor,c.reflectionFont),style:{textShadow:o?"0 1px 2px rgba(0,0,0,0.4)":void 0,fontWeight:300},children:f||"Tu reflexin aparecer aqu..."})})]}),s.jsxs("div",{className:z("absolute bottom-4 left-4 right-4 flex items-center justify-between text-xs opacity-60",c.textColor),style:{textShadow:o?"0 1px 2px rgba(0,0,0,0.3)":void 0},children:[s.jsx("span",{className:"font-light tracking-wider",children:"@agustinrubini"}),s.jsx("span",{className:"font-thin uppercase tracking-widest text-[10px]",children:"Montserrat"})]}),s.jsx("div",{className:"absolute bottom-16 left-1/2 -translate-x-1/2",children:s.jsx("span",{className:z("text-[10px] uppercase tracking-widest opacity-40 font-light",c.textColor),children:r.replace(/_/g," ")})})]})},vFe=()=>{const{isOpen:e,isCollapsed:t,open:r,close:n,toggleCollapse:a}=un(),[i,o]=p.useState(new Date),[l,c]=p.useState([]),[u,f]=p.useState(null),[d,h]=p.useState(!1),[m,x]=p.useState(null),[g,v]=p.useState(!1),[w,b]=p.useState(null),[y,N]=p.useState(()=>{const K=new Date;return`${String(K.getHours()).padStart(2,"0")}:${String(K.getMinutes()).padStart(2,"0")}`}),[j,S]=p.useState("1"),[_,k]=p.useState("180"),[E,A]=p.useState(null),[C,O]=p.useState(!1),[$,R]=p.useState("autentico"),[T,L]=p.useState(""),[I,P]=p.useState(""),[M,F]=p.useState(!1),[B,q]=p.useState(null),[J,W]=p.useState(""),[ne,he]=p.useState(""),[ie,ce]=p.useState(""),[re,se]=p.useState([]),[me,te]=p.useState(!1),[Ee,je]=p.useState(""),[Be,le]=p.useState("all"),[Me,rt]=p.useState(!1),[He,xt]=p.useState(null),[yt,qt]=p.useState(""),[lt,vr]=p.useState(""),[yr,de]=p.useState(null),{user:we}=ut(),{publication:Se,setPublication:Vt,loading:Tt,generatingImage:bt,generatingStory:oe,selectedStyle:vt,setSelectedStyle:st,selectedStoryStyle:qr,setSelectedStoryStyle:dn,generateContent:fn,generateImageForPhrase:In,regenerateImage:Vn,generateAllImages:bs,generateStoryImage:Vi,shareToInstagram:ur,selectPhrase:Zt,savePublication:hn,markAsPublished:Fe,copyToClipboard:ze,getTodaysPublication:nt,downloadImage:er}=$B();p.useEffect(()=>{we&&(dt(),nt(),dr())},[we,nt]);const dr=async()=>{if(!we)return;const{data:K,error:$e}=await H.from("content_bank").select("*").eq("user_id",we.id).order("created_at",{ascending:!1});!$e&&K&&se(K)},Mt=K=>{xt(K),qt(""),vr(""),rt(!0)},tn=async()=>{if(!we||!He)return;const K=yt.split(",").map(Nt=>Nt.trim()).filter(Nt=>Nt.length>0),{error:$e}=await H.from("content_bank").insert({user_id:we.id,phrase_text:He.text,reflection:He.textLong,category:He.category,cta:He.cta||null,image_url:He.imageUrl||null,tags:K.length>0?K:null,notes:lt||null});$e?V.error("Error al guardar"):(V.success("Guardado en banco de contenido"),dr(),rt(!1),xt(null))},Z=async K=>{const{error:$e}=await H.from("content_bank").delete().eq("id",K);$e||(V.success("Eliminado del banco"),dr())},Ce=()=>{const K=Ah.map(Nr=>({phrase:Nr.phrase_text,reflection:Nr.reflection,category:Nr.category,cta:Nr.cta,tags:Nr.tags,notes:Nr.notes,timesUsed:Nr.times_used,createdAt:Nr.created_at})),$e=new Blob([JSON.stringify(K,null,2)],{type:"application/json"}),Nt=URL.createObjectURL($e),Re=document.createElement("a");Re.href=Nt,Re.download=`banco-contenido-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Re),Re.click(),document.body.removeChild(Re),URL.revokeObjectURL(Nt),V.success("Exportado a JSON")},at=()=>{const K=["Frase","Reflexin","Categora","CTA","Tags","Notas","Veces usado","Fecha"],$e=Ah.map(ia=>{var VP;return[`"${(ia.phrase_text||"").replace(/"/g,'""')}"`,`"${(ia.reflection||"").replace(/"/g,'""')}"`,ia.category||"",`"${(ia.cta||"").replace(/"/g,'""')}"`,(ia.tags||[]).join("; "),`"${(ia.notes||"").replace(/"/g,'""')}"`,ia.times_used||0,((VP=ia.created_at)==null?void 0:VP.split("T")[0])||""]}),Nt=[K.join(","),...$e.map(ia=>ia.join(","))].join(`
`),Re=new Blob([Nt],{type:"text/csv;charset=utf-8;"}),Nr=URL.createObjectURL(Re),fi=document.createElement("a");fi.href=Nr,fi.download=`banco-contenido-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(fi),fi.click(),document.body.removeChild(fi),URL.revokeObjectURL(Nr),V.success("Exportado a CSV")},Ir=async K=>{if(!Se){V.error("Genera contenido primero para usar esta funcin");return}K.category,K.phrase_text,K.reflection,K.cta,K.image_url,await Vi(0,qr,parseInt(j)||1,parseInt(_)||180),await H.from("content_bank").update({times_used:(K.times_used||0)+1}).eq("id",K.id),dr(),V.success("Story generada desde el banco")},Vr=async K=>{var Nt;const $e=(Nt=K.target.files)==null?void 0:Nt[0];if(!(!$e||!we)){O(!0);try{const Re=$e.name.split(".").pop(),Nr=`${we.id}/${Date.now()}.${Re}`,{error:fi}=await H.storage.from("content-backgrounds").upload(Nr,$e);if(fi){V.error("Error al subir imagen");return}const{data:ia}=H.storage.from("content-backgrounds").getPublicUrl(Nr);A(ia.publicUrl),V.success("Imagen subida")}catch{V.error("Error al subir imagen")}finally{O(!1)}}},dt=async()=>{if(!we)return;const{data:K,error:$e}=await H.from("daily_publications").select("*").eq("user_id",we.id).order("date",{ascending:!1});!$e&&K&&c(K.map(Nt=>({...Nt,phrases:Nt.phrases,selected_phrase:Nt.selected_phrase})))},Hn=p.useMemo(()=>{const K=on(i),$e=zi(i);return Ble({start:K,end:$e})},[i]),Hi=K=>{const $e=ye(K,"yyyy-MM-dd");return l.find(Nt=>Nt.date===$e)},Do=l.filter(K=>K.published).length,di=l.filter(K=>!K.published).length,lc=K=>{switch(K==null?void 0:K.toLowerCase()){case"instagram":return s.jsx(kv,{className:"w-4 h-4"});case"linkedin":return s.jsx(oS,{className:"w-4 h-4"});case"twitter":return s.jsx(uS,{className:"w-4 h-4"});default:return null}},cc=K=>{const $e=Hi(K);$e&&(f($e),h(!0))},[uc,Ph]=p.useState(!1),lx=async()=>{if(Se&&Se.phrases.length>0){Ph(!0);return}await Oh()},Oh=async()=>{Ph(!1),await fn({tone:$,customImageStyle:T||void 0,personalContext:I||void 0}),dt()},TV=(K,$e)=>{q(K),W($e.text),he($e.textLong),ce($e.cta||""),F(!0)},MV=async()=>{if(B===null||!Se)return;const K=[...Se.phrases];K[B]={...K[B],text:J,textLong:ne,cta:ie},Vt({...Se,phrases:K}),Se.id&&await H.from("daily_publications").update({phrases:K}).eq("id",Se.id),F(!1),q(null),V.success("Reflexin actualizada")},Ah=p.useMemo(()=>re.filter(K=>{var Re,Nr,fi;const $e=Ee===""||((Re=K.phrase_text)==null?void 0:Re.toLowerCase().includes(Ee.toLowerCase()))||((Nr=K.reflection)==null?void 0:Nr.toLowerCase().includes(Ee.toLowerCase())),Nt=Be==="all"||((fi=K.category)==null?void 0:fi.toLowerCase())===Be.toLowerCase();return $e&&Nt}),[re,Ee,Be]),RV=p.useMemo(()=>{const K=new Set(re.map($e=>$e.category).filter(Boolean));return Array.from(K)},[re]),IV=async()=>{await hn(),dt()},gj=async K=>{await Fe(K),dt()},cx=K=>{switch(K.toLowerCase()){case"estoicismo":case"estoico":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"motivacion":case"motivacional":return"bg-amber-500/20 text-amber-400 border-amber-500/30";case"superacion":case"crecimiento":return"bg-green-500/20 text-green-400 border-green-500/30";case"reflexion":case"divulgadores":return"bg-purple-500/20 text-purple-400 border-purple-500/30";case"inconformismo":case"inconformista":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-muted text-muted-foreground border-border"}};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(zr,{isOpen:e,onClose:n,isCollapsed:t,onToggleCollapse:a}),s.jsxs("div",{className:z("transition-all duration-300",t?"lg:pl-20":"lg:pl-72"),children:[s.jsx(Ur,{onMenuClick:r}),s.jsxs("main",{className:"p-4 md:p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-foreground",children:"JARVIS Publicaciones"}),s.jsx("p",{className:"text-muted-foreground",children:"Frases diarias nicas que nunca se repiten"})]}),s.jsxs(U,{onClick:lx,disabled:Tt,className:"gap-2",children:[Tt?s.jsx(ht,{className:"w-4 h-4 animate-spin"}):s.jsx(et,{className:"w-4 h-4"}),Tt?"Generando...":"Generar contenido"]})]}),s.jsxs(aa,{defaultValue:"today",className:"space-y-4",children:[s.jsxs(Ms,{className:"bg-muted/50",children:[s.jsxs(Qe,{value:"today",className:"gap-2",children:[s.jsx(et,{className:"w-4 h-4"}),"Hoy"]}),s.jsxs(Qe,{value:"bank",className:"gap-2",children:[s.jsx(fA,{className:"w-4 h-4"}),"Banco"]}),s.jsxs(Qe,{value:"calendar",className:"gap-2",children:[s.jsx(Jt,{className:"w-4 h-4"}),"Calendario"]}),s.jsxs(Qe,{value:"history",className:"gap-2",children:[s.jsx(hy,{className:"w-4 h-4"}),"Historial"]})]}),s.jsx(Ze,{value:"today",className:"space-y-6",children:Se?s.jsxs(s.Fragment,{children:[Se.id&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-500",children:[s.jsx(hY,{className:"w-4 h-4"}),s.jsx("span",{children:"Contenido guardado en la base de datos"})]}),s.jsxs(X,{className:"bg-card/50 border-border/50",children:[s.jsxs(pe,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($Y,{className:"w-5 h-5 text-primary"}),s.jsx(ge,{className:"text-base",children:"Opciones de Generacin"})]}),s.jsx(St,{children:"Personaliza el tono y estilo del contenido"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{className:"text-sm",children:"Tono de las reflexiones"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:[{id:"vulnerable",label:"Vulnerable",desc:"Personal, ntimo"},{id:"autentico",label:"Autntico",desc:"Equilibrado"},{id:"fuerte",label:"Fuerte",desc:"Directo, contundente"},{id:"reflexivo",label:"Reflexivo",desc:"Profundo, filosfico"}].map(K=>s.jsxs(U,{variant:$===K.id?"default":"outline",size:"sm",onClick:()=>R(K.id),className:"flex-col h-auto py-2",children:[s.jsx("span",{children:K.label}),s.jsx("span",{className:"text-[10px] opacity-70",children:K.desc})]},K.id))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ue,{className:"text-sm flex items-center gap-2",children:[s.jsx(Or,{className:"w-4 h-4"}),"Contexto personal real (el AI usar esto)"]}),s.jsx(Kr,{placeholder:"Escribe situaciones reales de tu vida: proyectos actuales, logros recientes, retos que ests enfrentando, conversaciones que has tenido, decisiones que has tomado... El AI usar esto como base para las reflexiones en lugar de inventar.",value:I,onChange:K=>P(K.target.value),className:"h-32 text-sm"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Cuanto ms contexto real des, ms autnticas sern las reflexiones generadas."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ue,{className:"text-sm flex items-center gap-2",children:[s.jsx(kl,{className:"w-4 h-4"}),"Estilo visual personalizado (opcional)"]}),s.jsx(Kr,{placeholder:"Describe el estilo visual que quieres: ej. 'fotografa minimalista con tonos tierra', 'ilustracin digital futurista', 'collage vintage con texturas'...",value:T,onChange:K=>L(K.target.value),className:"h-20 text-sm"})]})]})]}),s.jsxs(X,{className:"bg-card/50 border-border/50",children:[s.jsxs(pe,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(uL,{className:"w-5 h-5 text-primary"}),s.jsx(ge,{className:"text-base",children:"Estilo Visual Predefinido"})]}),s.jsx(St,{children:"O elige un estilo predefinido para las imgenes"})]}),s.jsxs(Y,{children:[s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:Ly.map(K=>s.jsx(U,{variant:vt===K.id&&!T?"default":"outline",size:"sm",onClick:()=>{st(K.id),L("")},className:z("transition-all",vt===K.id&&!T&&"ring-2 ring-primary ring-offset-2 ring-offset-background"),children:K.name},K.id))}),Se.phrases.some(K=>!K.imageUrl)&&s.jsxs(U,{onClick:bs,variant:"secondary",className:"w-full gap-2",disabled:!!bt,children:[bt?s.jsx(ht,{className:"w-4 h-4 animate-spin"}):s.jsx(iS,{className:"w-4 h-4"}),bt?`Generando ${bt}...`:"Generar todas las imgenes"]})]})]}),s.jsxs(X,{className:"bg-card/50 border-border/50",children:[s.jsxs(pe,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jc,{className:"w-5 h-5 text-primary"}),s.jsx(ge,{className:"text-base",children:"Configuracin del Story"})]}),s.jsx(St,{children:"Configura estos datos antes de generar tu Story 9:16"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2 col-span-2",children:[s.jsx(ue,{className:"text-xs font-medium",children:"Estilo del Story"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Fy.map(K=>s.jsx(U,{variant:qr===K.id?"default":"outline",size:"sm",className:"h-8 text-xs",onClick:()=>dn(K.id),children:K.name},K.id))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{className:"text-xs font-medium",children:"Hora"}),s.jsx(be,{type:"time",value:y,onChange:K=>N(K.target.value),className:"h-9"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{className:"text-xs font-medium",children:"Da del reto"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(be,{type:"number",min:"1",max:"999",value:j,onChange:K=>S(K.target.value),className:"h-9 w-16"}),s.jsx("span",{className:"text-muted-foreground",children:"/"}),s.jsx(be,{type:"number",min:"1",max:"999",value:_,onChange:K=>k(K.target.value),className:"h-9 w-16"})]})]})]}),s.jsxs("div",{className:"pt-3 border-t border-border/30",children:[s.jsxs(ue,{className:"text-xs font-medium flex items-center gap-2 mb-2",children:[s.jsx(dS,{className:"w-4 h-4"}),"Tu foto de fondo personalizada"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(be,{type:"file",accept:"image/*",onChange:Vr,className:"h-9 text-sm max-w-xs cursor-pointer",disabled:C}),E&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:E,alt:"Preview",className:"w-12 h-12 object-cover rounded border border-border"}),s.jsx(U,{variant:"ghost",size:"sm",onClick:()=>A(null),children:s.jsx(kt,{className:"w-4 h-4"})})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Sube una foto tuya para usarla como fondo del Story"})]})]})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Se.phrases.map((K,$e)=>{var Nt;return s.jsxs(X,{className:z("bg-card/50 border-border/50 transition-all cursor-pointer hover:border-primary/50 overflow-hidden",((Nt=Se.selectedPhrase)==null?void 0:Nt.category)===K.category&&"ring-2 ring-primary"),onClick:()=>Zt(K),children:[s.jsx("div",{className:"relative aspect-square bg-muted/30",children:K.imageUrl?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:K.imageUrl,alt:K.category,className:"w-full h-full object-cover cursor-pointer",onClick:Re=>{Re.stopPropagation(),b({url:K.imageUrl,category:K.category}),v(!0)}}),s.jsx(U,{variant:"secondary",size:"icon",className:"absolute top-2 right-2 h-8 w-8 bg-background/80 backdrop-blur-sm",onClick:Re=>{Re.stopPropagation();const Nr=document.createElement("a");Nr.href=K.imageUrl,Nr.download=`${K.category}-${new Date().toISOString().split("T")[0]}.png`,Nr.click()},children:s.jsx(Oi,{className:"w-4 h-4"})})]}):bt===K.category?s.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center gap-3",children:[s.jsx(ht,{className:"w-8 h-8 text-primary animate-spin"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Generando imagen..."})]}):s.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center gap-3",children:[s.jsx(iS,{className:"w-12 h-12 text-muted-foreground/30"}),s.jsxs(U,{variant:"secondary",size:"sm",className:"gap-2",onClick:Re=>{Re.stopPropagation(),In($e)},children:[s.jsx(et,{className:"w-4 h-4"}),"Generar imagen"]})]})}),s.jsx(pe,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Q,{className:z("capitalize",cx(K.category)),children:K.category}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:Re=>{Re.stopPropagation(),TV($e,K)},title:"Editar reflexin",children:s.jsx(kl,{className:"w-4 h-4"})}),s.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:Re=>{Re.stopPropagation(),Mt(K)},title:"Guardar en banco",children:s.jsx(mt,{className:"w-4 h-4"})}),s.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:Re=>{Re.stopPropagation(),ze(K.text,"Frase")},children:s.jsx(Ns,{className:"w-4 h-4"})})]})]})}),s.jsxs(Y,{children:[s.jsxs("p",{className:"text-foreground font-medium leading-relaxed mb-3 text-sm",children:['"',K.text,'"']}),s.jsxs(U,{variant:"ghost",size:"sm",className:"w-full gap-2 text-muted-foreground",onClick:Re=>{Re.stopPropagation(),x(m===$e?null:$e)},children:[s.jsx(Or,{className:"w-4 h-4"}),m===$e?"Ocultar reflexin":"Ver reflexin"]}),m===$e&&s.jsxs("div",{className:"mt-3 space-y-3",children:[s.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 border border-border/50",children:[s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:K.textLong}),K.cta&&s.jsxs("p",{className:"text-sm text-primary mt-2 font-medium",children:[" ",K.cta]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 border border-border/50 space-y-3",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Datos para Story"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(ue,{className:"text-xs",children:"Hora"}),s.jsx(be,{type:"time",value:y,onChange:Re=>N(Re.target.value),className:"h-8 text-sm",onClick:Re=>Re.stopPropagation()})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(ue,{className:"text-xs",children:"Da del reto"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(be,{type:"number",min:"1",max:"999",value:j,onChange:Re=>S(Re.target.value),className:"h-8 text-sm w-16",onClick:Re=>Re.stopPropagation()}),s.jsx("span",{className:"text-muted-foreground",children:"/"}),s.jsx(be,{type:"number",min:"1",max:"999",value:_,onChange:Re=>k(Re.target.value),className:"h-8 text-sm w-16",onClick:Re=>Re.stopPropagation()})]})]})]}),s.jsxs("div",{className:"pt-2 border-t border-border/30",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Estilo"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Fy.map(Re=>s.jsx(U,{variant:qr===Re.id?"default":"outline",size:"sm",className:"h-7 text-xs",onClick:Nr=>{Nr.stopPropagation(),dn(Re.id)},children:Re.name},Re.id))})]}),s.jsxs("div",{className:"pt-2 border-t border-border/30",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Fondo personalizado"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"flex-1",children:s.jsx(be,{type:"file",accept:"image/*",onChange:Vr,className:"h-8 text-xs cursor-pointer",disabled:C,onClick:Re=>Re.stopPropagation()})}),E&&s.jsx(U,{variant:"ghost",size:"sm",className:"h-8 px-2",onClick:Re=>{Re.stopPropagation(),A(null)},children:s.jsx(kt,{className:"w-4 h-4"})})]}),E&&s.jsx("img",{src:E,alt:"Preview",className:"w-12 h-12 object-cover rounded mt-2"})]})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-2 self-start",children:"Preview"}),s.jsx(xFe,{phraseText:K.text,reflectionText:K.textLong,storyStyle:qr,storyTime:y,challengeDay:parseInt(j)||1,challengeTotal:parseInt(_)||180,backgroundImageUrl:E||void 0,className:"max-w-[140px]"})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[K.imageUrl&&s.jsxs(U,{variant:"outline",size:"sm",className:"gap-2",onClick:Re=>{Re.stopPropagation(),Vn($e,vt,T||void 0)},disabled:bt===K.category,children:[bt===K.category?s.jsx(ht,{className:"w-4 h-4 animate-spin"}):s.jsx(ht,{className:"w-4 h-4"}),"Regenerar imagen"]}),s.jsxs(U,{variant:"secondary",size:"sm",className:"gap-2",onClick:Re=>{Re.stopPropagation(),Vi($e,qr,parseInt(j)||1,parseInt(_)||180,y,E||void 0)},disabled:oe===K.category,children:[oe===K.category?s.jsx(ht,{className:"w-4 h-4 animate-spin"}):s.jsx(Jc,{className:"w-4 h-4"}),K.storyImageUrl?"Regenerar":"Crear"," Story 9:16"]}),K.storyImageUrl&&s.jsxs(s.Fragment,{children:[s.jsxs(U,{variant:"ghost",size:"sm",className:"gap-2",onClick:Re=>{Re.stopPropagation(),b({url:K.storyImageUrl,category:`Story ${K.category}`}),v(!0)},children:[s.jsx(fy,{className:"w-4 h-4"}),"Ver Story"]}),s.jsxs(U,{variant:"ghost",size:"sm",className:"gap-2",onClick:Re=>{Re.stopPropagation(),er(K.storyImageUrl,`story-${K.category}-${new Date().toISOString().split("T")[0]}.png`)},children:[s.jsx(Oi,{className:"w-4 h-4"}),"Descargar"]}),s.jsxs(U,{size:"sm",className:"gap-2 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",onClick:Re=>{Re.stopPropagation(),ur(K.storyImageUrl)},children:[s.jsx(kv,{className:"w-4 h-4"}),"Publicar en IG"]})]})]})]})]})]})]},$e)})}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[Se.copyShort&&s.jsxs(X,{className:"bg-card/50 border-border/50",children:[s.jsxs(pe,{className:"pb-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ge,{className:"text-sm",children:"Copy Corto"}),s.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>ze(Se.copyShort,"Copy corto"),children:s.jsx(Ns,{className:"w-4 h-4"})})]}),s.jsx(St,{children:"Para stories o tweets"})]}),s.jsx(Y,{children:s.jsx("p",{className:"text-sm text-foreground",children:Se.copyShort})})]}),Se.copyLong&&s.jsxs(X,{className:"bg-card/50 border-border/50",children:[s.jsxs(pe,{className:"pb-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ge,{className:"text-sm",children:"Copy Largo"}),s.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>ze(Se.copyLong,"Copy largo"),children:s.jsx(Ns,{className:"w-4 h-4"})})]}),s.jsx(St,{children:"Para posts de feed"})]}),s.jsx(Y,{children:s.jsx("p",{className:"text-sm text-foreground whitespace-pre-line",children:Se.copyLong})})]})]}),Se.hashtags&&Se.hashtags.length>0&&s.jsxs(X,{className:"bg-card/50 border-border/50",children:[s.jsx(pe,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ge,{className:"text-sm",children:"Hashtags"}),s.jsxs(U,{variant:"ghost",size:"sm",className:"gap-2",onClick:()=>ze(Se.hashtags.join(" "),"Hashtags"),children:[s.jsx(Ns,{className:"w-4 h-4"}),"Copiar todos"]})]})}),s.jsx(Y,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:Se.hashtags.map((K,$e)=>s.jsx(Q,{variant:"secondary",className:"cursor-pointer hover:bg-primary/20",onClick:()=>ze(K.startsWith("#")?K:`#${K}`,"Hashtag"),children:K.startsWith("#")?K:`#${K}`},$e))})})]}),Se.tipOfTheDay&&s.jsx(X,{className:"bg-primary/5 border-primary/20",children:s.jsx(Y,{className:"py-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(et,{className:"w-5 h-5 text-primary mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground mb-1",children:"Consejo del da"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Se.tipOfTheDay})]})]})})}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs(U,{onClick:IV,variant:"outline",className:"gap-2",children:[s.jsx(_d,{className:"w-4 h-4"}),"Guardar"]}),!Se.published&&s.jsxs(s.Fragment,{children:[s.jsxs(U,{onClick:()=>gj("instagram"),variant:"outline",className:"gap-2",children:[s.jsx(kv,{className:"w-4 h-4"}),"Publicado en Instagram"]}),s.jsxs(U,{onClick:()=>gj("linkedin"),variant:"outline",className:"gap-2",children:[s.jsx(oS,{className:"w-4 h-4"}),"Publicado en LinkedIn"]}),s.jsxs(U,{onClick:()=>gj("twitter"),variant:"outline",className:"gap-2",children:[s.jsx(uS,{className:"w-4 h-4"}),"Publicado en X"]})]}),Se.published&&s.jsxs(Q,{variant:"secondary",className:"bg-success/20 text-success border-success/30 h-10 px-4",children:[s.jsx(gt,{className:"w-4 h-4 mr-2"}),"Publicado"]})]})]}):s.jsx(X,{className:"bg-card/50 border-border/50",children:s.jsxs(Y,{className:"py-12 text-center",children:[s.jsx(et,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No hay contenido para hoy"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Genera frases nicas para publicar en redes sociales"}),s.jsxs(U,{onClick:lx,disabled:Tt,className:"gap-2",children:[Tt?s.jsx(ht,{className:"w-4 h-4 animate-spin"}):s.jsx(et,{className:"w-4 h-4"}),"Generar contenido del da"]})]})})}),s.jsx(Ze,{value:"bank",className:"space-y-4",children:s.jsxs(X,{className:"bg-card/50 border-border/50",children:[s.jsx(pe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(ge,{className:"flex items-center gap-2",children:[s.jsx(fA,{className:"w-5 h-5"}),"Banco de Contenido"]}),s.jsxs(St,{children:["Reflexiones y frases guardadas para reutilizar (",Ah.length," de ",re.length,")"]})]}),re.length>0&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{variant:"outline",size:"sm",className:"gap-2",onClick:Ce,children:[s.jsx(Q$,{className:"w-4 h-4"}),"JSON"]}),s.jsxs(U,{variant:"outline",size:"sm",className:"gap-2",onClick:at,children:[s.jsx(b0,{className:"w-4 h-4"}),"CSV"]})]})]})}),s.jsxs(Y,{className:"space-y-4",children:[re.length>0&&s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsx("div",{className:"flex-1",children:s.jsx(be,{placeholder:"Buscar en frases y reflexiones...",value:Ee,onChange:K=>je(K.target.value),className:"w-full"})}),s.jsxs(ar,{value:Be,onValueChange:le,children:[s.jsx(Kt,{className:"w-full sm:w-40",children:s.jsx(ir,{placeholder:"Categora"})}),s.jsxs(Yt,{children:[s.jsx(De,{value:"all",children:"Todas"}),RV.map(K=>s.jsx(De,{value:K.toLowerCase(),children:K},K))]})]})]}),re.length===0?s.jsxs("div",{className:"py-8 text-center",children:[s.jsx(mt,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/30"}),s.jsx("p",{className:"text-muted-foreground",children:"No hay contenido guardado an"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Guarda reflexiones con el botn  en las frases"})]}):Ah.length===0?s.jsxs("div",{className:"py-8 text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"No se encontraron resultados"}),s.jsx(U,{variant:"ghost",size:"sm",className:"mt-2",onClick:()=>{je(""),le("all")},children:"Limpiar filtros"})]}):s.jsx("div",{className:"space-y-4",children:Ah.map(K=>s.jsx(X,{className:"bg-muted/30",children:s.jsx(Y,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Q,{className:z("capitalize text-xs",cx(K.category||"")),children:K.category||"Sin categora"}),K.times_used>0&&s.jsxs(Q,{variant:"outline",className:"text-xs",children:["Usado ",K.times_used,"x"]})]}),s.jsxs("p",{className:"font-medium text-sm mb-2",children:['"',K.phrase_text,'"']}),s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-3",children:K.reflection}),K.tags&&K.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:K.tags.map(($e,Nt)=>s.jsxs(Q,{variant:"outline",className:"text-[10px] h-5 gap-1",children:[s.jsx(bA,{className:"w-2.5 h-2.5"}),$e]},Nt))}),K.notes&&s.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1 italic",children:["Nota: ",K.notes]}),K.image_url&&s.jsx("img",{src:K.image_url,alt:"Saved",className:"w-20 h-20 object-cover rounded mt-2 cursor-pointer",onClick:()=>{b({url:K.image_url,category:K.category||"Guardado"}),v(!0)}})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>ze(K.phrase_text,"Frase"),title:"Copiar frase",children:s.jsx(Ns,{className:"w-4 h-4"})}),s.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>Ir(K),title:"Generar Story",children:s.jsx(Jc,{className:"w-4 h-4"})}),s.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>Z(K.id),title:"Eliminar",children:s.jsx("span",{className:"text-xs",children:""})})]})]})})},K.id))})]})]})}),s.jsx(Ze,{value:"calendar",children:s.jsxs(X,{className:"bg-card/50 border-border/50",children:[s.jsx(pe,{className:"pb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ge,{className:"text-lg",children:"Calendario Editorial"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>o(uw(i,1)),children:s.jsx(Eu,{className:"w-4 h-4"})}),s.jsx("span",{className:"text-sm font-medium min-w-32 text-center capitalize",children:ye(i,"MMMM yyyy",{locale:ot})}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>o(es(i,1)),children:s.jsx(Zs,{className:"w-4 h-4"})})]})]})}),s.jsxs(Y,{children:[s.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Lun","Mar","Mi","Jue","Vie","Sb","Dom"].map(K=>s.jsx("div",{className:"text-center text-xs font-medium text-muted-foreground py-2",children:K},K))}),s.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:(Hn[0].getDay()+6)%7}).map((K,$e)=>s.jsx("div",{className:"aspect-square"},`empty-${$e}`)),Hn.map(K=>{const $e=Hi(K),Nt=!!$e,Re=$e==null?void 0:$e.published;return s.jsxs("button",{onClick:()=>cc(K),disabled:!Nt,className:z("aspect-square rounded-lg flex flex-col items-center justify-center gap-1 text-sm transition-all relative",Mm(K)&&"ring-2 ring-primary",Nt&&!Re&&"bg-warning/20 hover:bg-warning/30 cursor-pointer",Nt&&Re&&"bg-success/20 hover:bg-success/30 cursor-pointer",!Nt&&"bg-muted/30 text-muted-foreground",!yu(K,i)&&"opacity-50"),children:[s.jsx("span",{className:z("font-medium",Mm(K)&&"text-primary"),children:ye(K,"d")}),Nt&&s.jsx("div",{className:"flex gap-0.5",children:Re?s.jsx(gt,{className:"w-3 h-3 text-success"}):s.jsx(Pt,{className:"w-3 h-3 text-warning"})})]},K.toISOString())})]}),s.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4 text-xs text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded bg-success/30"}),s.jsx("span",{children:"Publicado"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded bg-warning/30"}),s.jsx("span",{children:"Pendiente"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded bg-muted/50"}),s.jsx("span",{children:"Sin contenido"})]})]})]})]})}),s.jsx(Ze,{value:"history",children:s.jsxs(X,{className:"bg-card/50 border-border/50",children:[s.jsxs(pe,{children:[s.jsx(ge,{className:"text-lg",children:"Historial de Publicaciones"}),s.jsxs(St,{children:["Total: ",l.length,"  Publicadas: ",Do,"  Pendientes: ",di]})]}),s.jsx(Y,{children:s.jsx(Tn,{className:"h-[500px] pr-4",children:l.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(hy,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No hay publicaciones an"}),s.jsx("p",{className:"text-sm",children:'Genera contenido desde la pestaa "Hoy"'})]}):s.jsx("div",{className:"space-y-3",children:l.map(K=>s.jsx("div",{className:"p-4 rounded-lg border border-border/50 bg-background/50 hover:bg-muted/30 transition-colors cursor-pointer",onClick:()=>{f(K),h(!0)},children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:ye(new Date(K.date),"d 'de' MMMM, yyyy",{locale:ot})}),K.published?s.jsxs(Q,{variant:"secondary",className:"bg-success/20 text-success border-success/30",children:[lc(K.platform),s.jsx("span",{className:"ml-1",children:"Publicado"})]}):s.jsx(Q,{variant:"secondary",className:"bg-warning/20 text-warning border-warning/30",children:"Pendiente"})]}),K.selected_phrase&&s.jsxs("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-2",children:['"',K.selected_phrase.text,'"']}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[K.phrases.slice(0,3).map(($e,Nt)=>s.jsx(Q,{variant:"outline",className:"text-xs capitalize",children:$e.category},Nt)),K.phrases.length>3&&s.jsxs(Q,{variant:"outline",className:"text-xs",children:["+",K.phrases.length-3]})]})]}),s.jsx(fy,{className:"w-4 h-4 text-muted-foreground"})]})},K.id))})})})]})})]})]})]}),s.jsx(Lt,{open:d,onOpenChange:h,children:s.jsxs(Ft,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsx(or,{children:s.jsxs(lr,{className:"flex items-center gap-2",children:[s.jsx(et,{className:"w-5 h-5 text-primary"}),"Publicacin del ",u&&ye(new Date(u.date),"d 'de' MMMM",{locale:ot})]})}),u&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-3",children:"Frases Generadas"}),s.jsx("div",{className:"space-y-2",children:u.phrases.map((K,$e)=>s.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 border border-border/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx(Q,{variant:"outline",className:z("text-xs capitalize",cx(K.category)),children:K.category}),s.jsx(U,{variant:"ghost",size:"sm",onClick:()=>ze(K.text,"Frase"),children:s.jsx(Ns,{className:"w-3 h-3"})})]}),s.jsx("p",{className:"text-sm",children:K.text})]},$e))})]}),(u.copy_short||u.copy_long)&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-3",children:"Copys"}),s.jsxs("div",{className:"space-y-3",children:[u.copy_short&&s.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 border border-border/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Copy Corto"}),s.jsx(U,{variant:"ghost",size:"sm",onClick:()=>ze(u.copy_short,"Copy"),children:s.jsx(Ns,{className:"w-3 h-3"})})]}),s.jsx("p",{className:"text-sm",children:u.copy_short})]}),u.copy_long&&s.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 border border-border/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Copy Largo"}),s.jsx(U,{variant:"ghost",size:"sm",onClick:()=>ze(u.copy_long,"Copy"),children:s.jsx(Ns,{className:"w-3 h-3"})})]}),s.jsx("p",{className:"text-sm whitespace-pre-line",children:u.copy_long})]})]})]}),u.hashtags&&u.hashtags.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"text-sm font-medium",children:"Hashtags"}),s.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>ze(u.hashtags.join(" "),"Hashtags"),children:[s.jsx(Ns,{className:"w-3 h-3 mr-1"}),"Copiar todos"]})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:u.hashtags.map((K,$e)=>s.jsx(Q,{variant:"secondary",className:"cursor-pointer hover:bg-primary/20",onClick:()=>ze(K,"Hashtag"),children:K.startsWith("#")?K:`#${K}`},$e))})]}),s.jsx("div",{className:"pt-4 border-t border-border/50",children:u.published?s.jsxs("div",{className:"flex items-center gap-2 text-success",children:[s.jsx(gt,{className:"w-4 h-4"}),s.jsxs("span",{className:"text-sm",children:["Publicado en ",u.platform,u.published_at&&s.jsxs("span",{className:"text-muted-foreground ml-1",children:[" ",ye(new Date(u.published_at),"HH:mm",{locale:ot})]})]})]}):s.jsxs("div",{className:"flex items-center gap-2 text-warning",children:[s.jsx(Pt,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Pendiente de publicar"})]})})]})]})}),s.jsx(Lt,{open:g,onOpenChange:v,children:s.jsxs(Ft,{className:"max-w-4xl p-2",children:[s.jsx(or,{className:"sr-only",children:s.jsxs(lr,{children:["Vista previa de imagen - ",w==null?void 0:w.category]})}),w&&s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:w.url,alt:w.category,className:"w-full h-auto rounded-lg"}),s.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex justify-between items-center",children:[s.jsx(Q,{className:"bg-background/80 backdrop-blur-sm capitalize",children:w.category}),s.jsxs(U,{variant:"secondary",size:"sm",className:"gap-2 bg-background/80 backdrop-blur-sm",onClick:()=>{const K=document.createElement("a");K.href=w.url,K.download=`${w.category}-${new Date().toISOString().split("T")[0]}.png`,K.click()},children:[s.jsx(Oi,{className:"w-4 h-4"}),"Descargar"]})]})]})]})}),s.jsx(Lt,{open:Me,onOpenChange:rt,children:s.jsxs(Ft,{className:"max-w-md",children:[s.jsx(or,{children:s.jsxs(lr,{className:"flex items-center gap-2",children:[s.jsx(mt,{className:"w-5 h-5 text-primary"}),"Guardar en Banco de Contenido"]})}),He&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[s.jsxs("p",{className:"text-sm font-medium",children:['"',He.text,'"']}),s.jsx(Q,{className:z("mt-2 text-xs",cx(He.category)),children:He.category})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(bA,{className:"w-4 h-4"}),"Tags (separados por coma)"]}),s.jsx(be,{placeholder:"ej: favorita, lunes, energa...",value:yt,onChange:K=>qt(K.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{children:"Notas personales (opcional)"}),s.jsx(Kr,{placeholder:"Por qu te gusta esta frase, cundo usarla...",value:lt,onChange:K=>vr(K.target.value),className:"h-20"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(U,{variant:"outline",onClick:()=>rt(!1),children:"Cancelar"}),s.jsxs(U,{onClick:tn,className:"gap-2",children:[s.jsx(_d,{className:"w-4 h-4"}),"Guardar"]})]})]})]})}),s.jsx(vw,{open:uc,onOpenChange:Ph,children:s.jsxs(qg,{children:[s.jsxs(Vg,{children:[s.jsxs(Gg,{className:"flex items-center gap-2",children:[s.jsx(kr,{className:"w-5 h-5 text-amber-500"}),"Regenerar contenido?"]}),s.jsxs(Kg,{children:["Ya tienes ",(Se==null?void 0:Se.phrases.length)||0," frases generadas para hoy. Si regeneras, las frases actuales sern reemplazadas por nuevas. Las imgenes de Story generadas tambin se perdern."]})]}),s.jsxs(Hg,{children:[s.jsx(Xg,{children:"Cancelar"}),s.jsx(Yg,{onClick:Oh,className:"bg-amber-600 hover:bg-amber-700",children:"S, regenerar"})]})]})}),s.jsx(Lt,{open:M,onOpenChange:F,children:s.jsxs(Ft,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(or,{children:[s.jsxs(lr,{className:"flex items-center gap-2",children:[s.jsx(kl,{className:"w-5 h-5"}),"Editar Reflexin"]}),s.jsx(X0,{children:"Modifica el contenido antes de guardarlo o publicarlo"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{children:"Frase corta (para ttulo)"}),s.jsx(Kr,{value:J,onChange:K=>W(K.target.value),className:"h-20",placeholder:"La frase principal..."}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[J.length,"/200 caracteres"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{children:"Reflexin larga (para Story y posts)"}),s.jsx(Kr,{value:ne,onChange:K=>he(K.target.value),className:"h-48",placeholder:"La reflexin completa..."}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Esta es la reflexin que aparecer en las Stories y posts largos."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{children:"CTA / Llamada a la accin (opcional)"}),s.jsx(be,{value:ie,onChange:K=>ce(K.target.value),placeholder:"Ej: Te ha pasado algo parecido?"})]})]}),s.jsxs(Pu,{children:[s.jsx(U,{variant:"outline",onClick:()=>F(!1),children:"Cancelar"}),s.jsxs(U,{onClick:MV,className:"gap-2",children:[s.jsx(_d,{className:"w-4 h-4"}),"Guardar cambios"]})]})]})})]})},yFe=()=>{const{isOpen:e,isCollapsed:t,open:r,close:n,toggleCollapse:a}=un(),[i,o]=p.useState(!1),[l,c]=p.useState(!1),[u,f]=p.useState(!1),[d,h]=p.useState(null),[m,x]=p.useState(!1),{challenges:g,activeChallenges:v,completedChallenges:w,loading:b,toggleGoalCompletion:y,updateChallengeStatus:N,updateChallenge:j,deleteChallenge:S,createChallenge:_}=Jz(),k=g.filter(T=>T.status==="abandoned"),E=p.useMemo(()=>{const T=g.reduce((M,F)=>M+F.logs.filter(B=>B.completed).length,0),L=g.reduce((M,F)=>M+F.logs.filter(B=>B.completed).length,0),I=Math.max(0,...g.map(M=>M.progress.longestStreak)),P=w.length>0?Math.round(w.length/(w.length+k.length)*100):v.length>0?100:0;return{totalChallenges:g.length,activeChallenges:v.length,completedChallenges:w.length,abandonedChallenges:k.length,totalDaysTracked:T,totalGoalsCompleted:L,bestStreak:I,successRate:P}},[g,v,w,k]),A=async()=>{d&&(await S(d.id),c(!1),h(null))},C=T=>{switch(T){case"objetivo":return"bg-success/20 text-success border-success/30";case"proposito":return"bg-primary/20 text-primary border-primary/30";case"prohibicion":return"bg-destructive/20 text-destructive border-destructive/30";case"excepcion":return"bg-warning/20 text-warning border-warning/30";default:return"bg-muted/50 text-muted-foreground border-border"}},O=T=>{switch(T){case"objetivo":return"Objetivo";case"proposito":return"Propsito";case"prohibicion":return"Prohibicin";case"excepcion":return"Excepcin";default:return T||"Objetivo"}},$=T=>{switch(T){case"active":return s.jsx(Q,{variant:"secondary",className:"bg-primary/20 text-primary border-primary/30",children:"Activo"});case"completed":return s.jsx(Q,{variant:"secondary",className:"bg-success/20 text-success border-success/30",children:"Completado"});case"abandoned":return s.jsx(Q,{variant:"secondary",className:"bg-destructive/20 text-destructive border-destructive/30",children:"Abandonado"});default:return null}},R=T=>{const L=new Date().toISOString().split("T")[0],I=T.logs.filter(P=>P.date===L);return s.jsx(X,{className:"bg-card/50 border-border/50 hover:bg-muted/30 transition-colors",children:s.jsx(Y,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h3",{className:"font-semibold text-foreground truncate",children:T.name}),$(T.status)]}),T.description&&s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3",children:T.description}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-muted-foreground mb-3",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Jt,{className:"w-3 h-3"}),s.jsxs("span",{children:[T.duration_days," das"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Nn,{className:"w-3 h-3 text-warning"}),s.jsxs("span",{children:["Racha: ",T.progress.currentStreak]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Yr,{className:"w-3 h-3 text-primary"}),s.jsxs("span",{children:["Mejor: ",T.progress.longestStreak]})]})]}),T.status==="active"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[s.jsx("span",{className:"text-muted-foreground",children:"Progreso"}),s.jsxs("span",{className:"font-medium",children:[T.progress.percentComplete,"%"]})]}),s.jsx(Cr,{value:T.progress.percentComplete,className:"h-2"}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[s.jsxs("span",{children:["Da ",T.progress.daysElapsed+1]}),s.jsxs("span",{children:[T.progress.daysRemaining," das restantes"]})]})]}),T.goals.filter(P=>P.frequency==="daily").length>0&&s.jsxs("div",{className:"space-y-2 mb-3",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Objetivos diarios:"}),T.goals.filter(P=>P.frequency==="daily").map(P=>{const M=I.some(F=>F.goal_id===P.id&&F.completed);return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ls,{checked:M,onCheckedChange:F=>y(T.id,P.id,!!F)}),s.jsx("span",{className:z("text-sm",M&&"line-through text-muted-foreground"),children:P.title})]},P.id)})]}),T.goals.filter(P=>P.frequency==="global").length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Objetivos globales:"}),T.goals.filter(P=>P.frequency==="global").map(P=>{const M=T.logs.filter(B=>B.goal_id===P.id&&B.completed).length,F=M>=P.target_count;return s.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 rounded bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ls,{checked:I.some(B=>B.goal_id===P.id&&B.completed),onCheckedChange:B=>y(T.id,P.id,!!B),disabled:F}),s.jsx("span",{className:z("text-sm",F&&"line-through text-muted-foreground"),children:P.title})]}),s.jsxs(Q,{variant:"outline",className:z("text-xs",F?"bg-success/20 text-success":""),children:[M,"/",P.target_count]})]},P.id)})]})]})]}),s.jsxs(mw,{children:[s.jsx(pw,{asChild:!0,children:s.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8",children:s.jsx(xY,{className:"w-4 h-4"})})}),s.jsxs(Ug,{align:"end",children:[s.jsxs(os,{onClick:()=>{h(T),f(!0)},children:[s.jsx(kl,{className:"w-4 h-4 mr-2"}),"Editar reto"]}),s.jsxs(os,{onClick:()=>{h(T),x(!0)},children:[s.jsx(dY,{className:"w-4 h-4 mr-2"}),"Ver detalles"]}),T.status==="active"&&s.jsxs(s.Fragment,{children:[s.jsxs(os,{onClick:()=>N(T.id,"completed"),children:[s.jsx(gr,{className:"w-4 h-4 mr-2"}),"Marcar completado"]}),s.jsxs(os,{onClick:()=>N(T.id,"abandoned"),children:[s.jsx(QC,{className:"w-4 h-4 mr-2"}),"Abandonar"]})]}),T.status!=="active"&&s.jsxs(os,{onClick:()=>N(T.id,"active"),children:[s.jsx(Qa,{className:"w-4 h-4 mr-2"}),"Reactivar"]}),s.jsxs(os,{className:"text-destructive",onClick:()=>{h(T),c(!0)},children:[s.jsx(Ri,{className:"w-4 h-4 mr-2"}),"Eliminar"]})]})]})]})})},T.id)};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(zr,{isOpen:e,onClose:n,isCollapsed:t,onToggleCollapse:a}),s.jsxs("div",{className:z("transition-all duration-300",t?"lg:pl-20":"lg:pl-72"),children:[s.jsx(Ur,{onMenuClick:r}),s.jsxs("main",{className:"p-4 md:p-6 space-y-6",children:[s.jsx(tc,{}),s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-foreground",children:"JARVIS Retos"}),s.jsx("p",{className:"text-muted-foreground",children:"Gestiona tus desafos personales"})]}),s.jsxs(U,{onClick:()=>o(!0),className:"gap-2",children:[s.jsx(wt,{className:"w-4 h-4"}),"Nuevo Reto"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(X,{className:"bg-card/50 border-border/50",children:s.jsxs(Y,{className:"p-4 flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/20 flex items-center justify-center",children:s.jsx(Dt,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:E.activeChallenges}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Retos activos"})]})]})}),s.jsx(X,{className:"bg-card/50 border-border/50",children:s.jsxs(Y,{className:"p-4 flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-success/20 flex items-center justify-center",children:s.jsx(Yr,{className:"w-5 h-5 text-success"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:E.completedChallenges}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Completados"})]})]})}),s.jsx(X,{className:"bg-card/50 border-border/50",children:s.jsxs(Y,{className:"p-4 flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-warning/20 flex items-center justify-center",children:s.jsx(Nn,{className:"w-5 h-5 text-warning"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:E.bestStreak}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Mejor racha"})]})]})}),s.jsx(X,{className:"bg-card/50 border-border/50",children:s.jsxs(Y,{className:"p-4 flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-accent/20 flex items-center justify-center",children:s.jsx(Zr,{className:"w-5 h-5 text-accent-foreground"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[E.successRate,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Tasa de xito"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(X,{className:"bg-muted/30 border-border/30",children:s.jsxs(Y,{className:"p-3 text-center",children:[s.jsx("p",{className:"text-lg font-bold text-foreground",children:E.totalChallenges}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total retos"})]})}),s.jsx(X,{className:"bg-muted/30 border-border/30",children:s.jsxs(Y,{className:"p-3 text-center",children:[s.jsx("p",{className:"text-lg font-bold text-foreground",children:E.totalGoalsCompleted}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Objetivos cumplidos"})]})}),s.jsx(X,{className:"bg-muted/30 border-border/30",children:s.jsxs(Y,{className:"p-3 text-center",children:[s.jsx("p",{className:"text-lg font-bold text-foreground",children:E.totalDaysTracked}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Das registrados"})]})}),s.jsx(X,{className:"bg-muted/30 border-border/30",children:s.jsxs(Y,{className:"p-3 text-center",children:[s.jsx("p",{className:"text-lg font-bold text-foreground",children:E.abandonedChallenges}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Abandonados"})]})})]}),s.jsxs(aa,{defaultValue:"active",className:"space-y-4",children:[s.jsxs(Ms,{className:"bg-muted/50",children:[s.jsxs(Qe,{value:"active",className:"gap-2",children:[s.jsx(Mn,{className:"w-4 h-4"}),"Activos (",v.length,")"]}),s.jsxs(Qe,{value:"completed",className:"gap-2",children:[s.jsx(Yr,{className:"w-4 h-4"}),"Completados (",w.length,")"]}),s.jsxs(Qe,{value:"history",className:"gap-2",children:[s.jsx(Pt,{className:"w-4 h-4"}),"Historial (",g.length,")"]})]}),s.jsx(Ze,{value:"active",children:b?s.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Cargando..."}):v.length===0?s.jsx(X,{className:"bg-card/50 border-border/50",children:s.jsxs(Y,{className:"p-12 text-center",children:[s.jsx(Dt,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No hay retos activos"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Crea tu primer reto para empezar"}),s.jsxs(U,{onClick:()=>o(!0),children:[s.jsx(wt,{className:"w-4 h-4 mr-2"}),"Crear Reto"]})]})}):s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:v.map(R)})}),s.jsx(Ze,{value:"completed",children:w.length===0?s.jsx(X,{className:"bg-card/50 border-border/50",children:s.jsxs(Y,{className:"p-12 text-center",children:[s.jsx(Yr,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Sin retos completados"}),s.jsx("p",{className:"text-muted-foreground",children:"Completa tu primer reto!"})]})}):s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:w.map(R)})}),s.jsx(Ze,{value:"history",children:s.jsxs(X,{className:"bg-card/50 border-border/50",children:[s.jsxs(pe,{children:[s.jsx(ge,{className:"text-lg",children:"Historial Completo"}),s.jsx(St,{children:"Todos tus retos ordenados por fecha"})]}),s.jsx(Y,{children:s.jsx(Tn,{className:"h-[500px] pr-4",children:g.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Pt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No hay historial an"})]}):s.jsx("div",{className:"space-y-3",children:g.map(T=>s.jsxs("div",{className:"p-4 rounded-lg border border-border/50 bg-background/50 hover:bg-muted/30 transition-colors cursor-pointer",onClick:()=>{h(T),x(!0)},children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium",children:T.name}),$(T.status)]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:ye(new Date(T.start_date),"d MMM yyyy",{locale:ot})})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[s.jsxs("span",{children:[T.duration_days," das"]}),s.jsx("span",{children:""}),s.jsxs("span",{children:[T.goals.length," objetivos"]}),s.jsx("span",{children:""}),s.jsxs("span",{children:["Racha mx: ",T.progress.longestStreak]})]})]},T.id))})})})]})})]})]})]}),s.jsx(xB,{open:i,onOpenChange:o,onCreateChallenge:_}),s.jsx(vw,{open:l,onOpenChange:c,children:s.jsxs(qg,{children:[s.jsxs(Vg,{children:[s.jsx(Gg,{children:"Eliminar reto?"}),s.jsxs(Kg,{children:['Esta accin no se puede deshacer. Se eliminarn todos los datos del reto "',d==null?void 0:d.name,'".']})]}),s.jsxs(Hg,{children:[s.jsx(Xg,{children:"Cancelar"}),s.jsx(Yg,{onClick:A,className:"bg-destructive text-destructive-foreground",children:"Eliminar"})]})]})}),s.jsx(Lt,{open:m,onOpenChange:x,children:s.jsxs(Ft,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsx(or,{children:s.jsxs(lr,{className:"flex items-center gap-2",children:[s.jsx(Dt,{className:"w-5 h-5 text-primary"}),d==null?void 0:d.name]})}),d&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[$(d.status),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[ye(new Date(d.start_date),"d MMM",{locale:ot})," - ",ye(new Date(d.end_date),"d MMM yyyy",{locale:ot})]})]}),d.description&&s.jsx("p",{className:"text-muted-foreground",children:d.description}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-3",children:"Progreso"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[d.progress.percentComplete,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Completado"})]}),s.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-warning",children:d.progress.currentStreak}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Racha actual"})]}),s.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-success",children:d.progress.longestStreak}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Mejor racha"})]}),s.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 text-center",children:[s.jsx("p",{className:"text-2xl font-bold",children:d.progress.daysElapsed}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Das transcurridos"})]})]})]}),d.goals.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-medium mb-3",children:["Elementos del reto (",d.goals.length,")"]}),s.jsx("div",{className:"space-y-3",children:["objetivo","proposito","prohibicion","excepcion"].map(T=>{const L=d.goals.filter(I=>(I.goal_type||"objetivo")===T);return L.length===0?null:s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{variant:"outline",className:z("text-xs",C(T)),children:[O(T)," (",L.length,")"]}),L.map(I=>{const P=d.logs.filter(M=>M.goal_id===I.id&&M.completed).length;return s.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 border border-border/50 ml-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:I.title}),I.frequency==="daily"&&s.jsx(Q,{variant:"outline",className:"text-xs",children:"Diario"}),I.frequency==="global"&&s.jsxs(Q,{variant:"outline",className:"text-xs",children:[P,"/",I.target_count]})]}),I.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:I.description}),I.frequency==="daily"&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Completado ",P," das"]})]},I.id)})]},T)})})]}),(d.motivation||d.reward)&&s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[d.motivation&&s.jsxs("div",{className:"p-3 rounded-lg bg-primary/10 border border-primary/20",children:[s.jsx("p",{className:"text-xs text-primary mb-1 font-medium",children:"Motivacin"}),s.jsx("p",{className:"text-sm",children:d.motivation})]}),d.reward&&s.jsxs("div",{className:"p-3 rounded-lg bg-success/10 border border-success/20",children:[s.jsx("p",{className:"text-xs text-success mb-1 font-medium",children:"Recompensa"}),s.jsx("p",{className:"text-sm",children:d.reward})]})]})]})]})}),d&&s.jsx(vB,{open:u,onOpenChange:f,challenge:d,onUpdateChallenge:j})]})},kV=()=>{const{user:e}=ut(),[t,r]=p.useState(null),[n,a]=p.useState(!0),[i,o]=p.useState(!1),[l,c]=p.useState([]),[u,f]=p.useState(!1);p.useEffect(()=>{if(!e)return;(async()=>{try{const{data:v,error:w}=await H.from("nutrition_preferences").select("*").eq("user_id",e.id).maybeSingle();if(w)throw w;r(v||{diet_type:"balanced",restrictions:[],allergies:[],goals:"maintain",calories_target:2e3,proteins_target:100,carbs_target:250,fats_target:70,meal_count:3,preferences_notes:null});const{data:b,error:y}=await H.from("nutrition_chat_messages").select("*").eq("user_id",e.id).order("created_at",{ascending:!0}).limit(50);if(y)throw y;b&&b.length>0&&c(b.map(N=>({role:N.role,content:N.content})))}catch(v){console.error("Error fetching nutrition data:",v)}finally{a(!1)}})()},[e]);const d=async g=>{if(e){o(!0);try{const v={...t,...g,user_id:e.id},{error:w}=await H.from("nutrition_preferences").upsert(v,{onConflict:"user_id"});if(w)throw w;r(v),V.success("Preferencias guardadas")}catch(v){console.error("Error saving preferences:",v),V.error("Error al guardar preferencias")}finally{o(!1)}}},h=async(g,v)=>{if(!e)return null;try{const w=await H.functions.invoke("jarvis-nutrition",{body:{action:"generate-meals",preferences:t,checkIn:g,whoopsSummary:v}});if(w.error)throw w.error;return w.data}catch(w){return console.error("Error generating meals:",w),V.error("Error al generar opciones de comida"),null}},m=p.useCallback(async g=>{var w,b,y,N;if(!e)return;const v={role:"user",content:g};c(j=>[...j,v]),f(!0);try{await H.from("nutrition_chat_messages").insert({user_id:e.id,role:"user",content:g});const j=await fetch("https://xfjlwxssxfvhbiytcoar.supabase.co/functions/v1/jarvis-nutrition",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inhmamx3eHNzeGZ2aGJpeXRjb2FyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk2NDI4MDUsImV4cCI6MjA4NTIxODgwNX0.EgH-i0SBnlWH3lF4ZgZ3b8SRdBZc5fZruWmyaIu9GIQ"},body:JSON.stringify({action:"chat",messages:[...l,v],preferences:t})});if(!j.ok){if(j.status===429){V.error("Lmite de peticiones excedido, intenta ms tarde");return}if(j.status===402){V.error("Crditos agotados");return}throw new Error("Error en la respuesta")}const S=(w=j.body)==null?void 0:w.getReader();if(!S)throw new Error("No reader");const _=new TextDecoder;let k="";for(c(E=>[...E,{role:"assistant",content:""}]);;){const{done:E,value:A}=await S.read();if(E)break;const O=_.decode(A,{stream:!0}).split(`
`);for(const $ of O){if(!$.startsWith("data: "))continue;const R=$.slice(6).trim();if(R!=="[DONE]")try{const L=(N=(y=(b=JSON.parse(R).choices)==null?void 0:b[0])==null?void 0:y.delta)==null?void 0:N.content;L&&(k+=L,c(I=>{const P=[...I];return P[P.length-1]={role:"assistant",content:k},P}))}catch{}}}k&&await H.from("nutrition_chat_messages").insert({user_id:e.id,role:"assistant",content:k})}catch(j){console.error("Error in chat:",j),V.error("Error al enviar mensaje")}finally{f(!1)}},[e,l,t]),x=p.useCallback(async()=>{if(e)try{await H.from("nutrition_chat_messages").delete().eq("user_id",e.id),c([]),V.success("Historial borrado")}catch(g){console.error("Error clearing chat:",g),V.error("Error al borrar historial")}},[e]);return{preferences:t,loading:n,saving:i,savePreferences:d,generateMeals:h,chatMessages:l,chatLoading:u,sendChatMessage:m,clearChat:x}},bFe={normal:{breakfast:"Atn + lechuga + aceite",lunch:"Carne + arroz blanco",dinner:"Crema suave + embutido"},keto:{breakfast:"Huevos + embutido",lunch:"Carne + queso",dinner:"Atn o tortilla francesa"},stress:{breakfast:"Atn solo",lunch:"Plato repetido favorito",dinner:"Cena ligera sin pensar"}},EV=()=>{const{user:e}=ut(),[t,r]=p.useState(null),[n,a]=p.useState([]),[i,o]=p.useState(!0);p.useEffect(()=>{e&&(c(),u())},[e]);const l=m=>({...m,preferred_foods:m.preferred_foods||[],tolerated_foods:m.tolerated_foods||[],rejected_foods:m.rejected_foods||[],personal_rules:m.personal_rules||[],supplements:m.supplements||[],menu_templates:m.menu_templates||bFe,learned_patterns:m.learned_patterns||{}}),c=async()=>{if(e)try{const{data:m,error:x}=await H.from("nutrition_profile").select("*").eq("user_id",e.id).maybeSingle();if(x)throw x;if(m)r(l(m));else{const{data:g,error:v}=await H.from("nutrition_profile").insert({user_id:e.id}).select().single();if(v)throw v;r(l(g))}}catch(m){console.error("Error fetching nutrition profile:",m)}finally{o(!1)}},u=async()=>{if(!e)return;const m=new Date().toISOString().split("T")[0];try{const{data:x,error:g}=await H.from("supplement_logs").select("*").eq("user_id",e.id).eq("date",m);if(g)throw g;a(x||[])}catch(x){console.error("Error fetching supplement logs:",x)}},f=p.useCallback(async m=>{if(!e||!t)return;const x={};for(const[g,v]of Object.entries(m))x[g]=v;try{const{error:g}=await H.from("nutrition_profile").update(x).eq("user_id",e.id);if(g)throw g;r(v=>v?{...v,...m}:null),V.success("Perfil actualizado")}catch(g){console.error("Error updating nutrition profile:",g),V.error("Error al actualizar perfil")}},[e,t]),d=p.useCallback(async m=>{if(!e)return;const x=new Date().toISOString().split("T")[0];try{const{data:g,error:v}=await H.from("supplement_logs").insert({user_id:e.id,supplement_name:m,date:x}).select().single();if(v)throw v;a(w=>[...w,g]),V.success(`${m} registrado`)}catch(g){console.error("Error logging supplement:",g),V.error("Error al registrar suplemento")}},[e]),h=p.useCallback(async m=>{try{const{error:x}=await H.from("supplement_logs").delete().eq("id",m);if(x)throw x;a(g=>g.filter(v=>v.id!==m))}catch(x){console.error("Error removing supplement log:",x)}},[]);return{profile:t,supplementLogs:n,loading:i,updateProfile:f,logSupplement:d,removeSupplementLog:h,refetch:c}},WP=()=>{const{user:e}=ut(),[t,r]=p.useState([]),[n,a]=p.useState(!0);p.useEffect(()=>{e&&i()},[e]);const i=async()=>{if(e)try{const{data:f,error:d}=await H.from("meal_history").select("*").eq("user_id",e.id).order("date",{ascending:!1}).order("created_at",{ascending:!1}).limit(100);if(d)throw d;r(f||[])}catch(f){console.error("Error fetching meal history:",f)}finally{a(!1)}},o=p.useCallback(async(f,d,h)=>{if(!e)return;const m=new Date().toISOString().split("T")[0];try{const{data:x,error:g}=await H.from("meal_history").insert({user_id:e.id,date:m,meal_type:f,meal_name:d,recipe_data:h||null}).select().single();if(g)throw g;return r(v=>[x,...v]),V.success("Comida registrada en historial"),x}catch(x){console.error("Error adding meal to history:",x),V.error("Error al registrar comida")}},[e]),l=p.useCallback(async(f,d,h)=>{try{const{error:m}=await H.from("meal_history").update({was_completed:!0,energy_after:d||null,notes:h||null}).eq("id",f);if(m)throw m;r(x=>x.map(g=>g.id===f?{...g,was_completed:!0,energy_after:d||null,notes:h||null}:g))}catch(m){console.error("Error updating meal:",m)}},[]),c=p.useCallback((f=7)=>{const d=new Date;d.setDate(d.getDate()-f);const h=d.toISOString().split("T")[0];return t.filter(m=>m.date>=h)},[t]),u=p.useCallback(()=>{const f={};return t.forEach(d=>{f[d.meal_name]=(f[d.meal_name]||0)+1}),Object.entries(f).sort((d,h)=>h[1]-d[1]).slice(0,10)},[t]);return{history:t,loading:n,addMealToHistory:o,markMealCompleted:l,getRecentMeals:c,getMealFrequency:u,refetch:i}},PV=()=>{const{user:e}=ut(),[t,r]=p.useState(null),[n,a]=p.useState(!0),[i,o]=p.useState(!1);p.useEffect(()=>{e&&c()},[e]);const l=()=>{const x=new Date,g=x.getDay(),v=x.getDate()-g+(g===0?-6:1);return new Date(x.setDate(v)).toISOString().split("T")[0]},c=async()=>{if(!e)return;const x=l();try{const{data:g,error:v}=await H.from("shopping_list").select("*").eq("user_id",e.id).eq("week_start",x).maybeSingle();if(v)throw v;g&&r({...g,items:g.items||[]})}catch(g){console.error("Error fetching shopping list:",g)}finally{a(!1)}},u=p.useCallback(async x=>{if(e){o(!0);try{const{data:g,error:v}=await H.functions.invoke("shopping-list-generator",{body:{recipes:x}});if(v)throw v;const w=l(),b=(g.items||[]).map(N=>({name:N.name,quantity:N.quantity||"1",category:N.category||"Otros",checked:!1,fromMeal:N.fromMeal})),{data:y}=await H.from("shopping_list").select("id").eq("user_id",e.id).eq("week_start",w).maybeSingle();if(y){const{data:N,error:j}=await H.from("shopping_list").update({items:b}).eq("id",y.id).select().single();if(j)throw j;r({...N,items:b})}else{const{data:N,error:j}=await H.from("shopping_list").insert({user_id:e.id,week_start:w,items:b}).select().single();if(j)throw j;r({...N,items:b})}V.success("Lista de compra generada")}catch(g){console.error("Error generating shopping list:",g),V.error("Error al generar lista de compra")}finally{o(!1)}}},[e]),f=p.useCallback(async x=>{if(!t)return;const g=[...t.items];g[x]={...g[x],checked:!g[x].checked};try{const{error:v}=await H.from("shopping_list").update({items:g}).eq("id",t.id);if(v)throw v;r({...t,items:g})}catch(v){console.error("Error updating shopping list:",v)}},[t]),d=p.useCallback(async x=>{if(!e)return;const g=l(),v={...x,checked:!1};if(t){const w=[...t.items,v];try{const{error:b}=await H.from("shopping_list").update({items:w}).eq("id",t.id);if(b)throw b;r({...t,items:w})}catch(b){console.error("Error adding item:",b)}}else try{const{data:w,error:b}=await H.from("shopping_list").insert({user_id:e.id,week_start:g,items:[v]}).select().single();if(b)throw b;r({...w,items:[v]})}catch(w){console.error("Error creating shopping list:",w)}},[e,t]),h=p.useCallback(async x=>{if(!t)return;const g=t.items.filter((v,w)=>w!==x);try{const{error:v}=await H.from("shopping_list").update({items:g}).eq("id",t.id);if(v)throw v;r({...t,items:g})}catch(v){console.error("Error removing item:",v)}},[t]),m=p.useCallback(async()=>{if(t)try{const{error:x}=await H.from("shopping_list").delete().eq("id",t.id);if(x)throw x;r(null),V.success("Lista eliminada")}catch(x){console.error("Error clearing shopping list:",x)}},[t]);return{currentList:t,loading:n,generating:i,generateFromRecipes:u,toggleItem:f,addItem:d,removeItem:h,clearList:m,refetch:c}},wFe=["juego_vinculo","lectura","ingles_ludico","ia_ninos","movimiento","cierre_dia"],qP=()=>{const{user:e}=ut(),[t,r]=p.useState([]),[n,a]=p.useState([]),[i,o]=p.useState([]),[l,c]=p.useState([]),[u,f]=p.useState([]),[d,h]=p.useState(!0),[m,x]=p.useState(!1);p.useEffect(()=>{e&&(g(),v(),w(),b(),y())},[e]);const g=async()=>{if(!e)return;const R=new Date().toISOString().split("T")[0];try{const{data:T,error:L}=await H.from("bosco_activities").select("*").eq("user_id",e.id).eq("date",R).order("created_at",{ascending:!0});if(L)throw L;r(T||[])}catch(T){console.error("Error fetching Bosco activities:",T)}finally{h(!1)}},v=async()=>{if(e)try{const{data:R,error:T}=await H.from("bosco_activities").select("*").eq("user_id",e.id).eq("completed",!0).order("completed_at",{ascending:!1}).limit(50);if(T)throw T;a(R||[])}catch(R){console.error("Error fetching activity history:",R)}},w=async()=>{if(e)try{const{data:R,error:T}=await H.from("bosco_vocabulary").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(T)throw T;o(R||[])}catch(R){console.error("Error fetching vocabulary:",R)}},b=async()=>{if(!e)return;const R=new Date().toISOString().split("T")[0];try{const{data:T,error:L}=await H.from("bosco_vocabulary_sessions").select("*").eq("user_id",e.id).eq("date",R);if(L)throw L;c(T||[])}catch(T){console.error("Error fetching vocabulary sessions:",T)}},y=async()=>{if(e)try{const{data:R,error:T}=await H.from("bosco_vocabulary_sessions").select("*").eq("user_id",e.id).order("date",{ascending:!1});if(T)throw T;f(R||[])}catch(R){console.error("Error fetching all sessions:",R)}},N=p.useMemo(()=>{const R=i.length,T=i.filter(W=>W.is_mastered).length,L=R-T,I=u.length,P=u.reduce((W,ne)=>W+(ne.correct_count||0),0),M=u.reduce((W,ne)=>W+(ne.total_count||0),0),F=M>0?Math.round(P/M*100):0;let B=0;const q=new Date,J=[...new Set(u.map(W=>W.date))].sort().reverse();for(let W=0;W<J.length;W++){const ne=new Date(J[W]),he=new Date(q);if(he.setDate(q.getDate()-W),ne.toISOString().split("T")[0]===he.toISOString().split("T")[0])B++;else break}return{totalWords:R,masteredWords:T,learningWords:L,totalSessions:I,accuracy:F,streak:B}},[i,u]),j=p.useCallback(async R=>{if(e){x(!0);try{const{data:T,error:L}=await H.functions.invoke("bosco-activities",{body:{activityType:R||"all",existingActivities:t.map(M=>M.title)}});if(L)throw L;const I=new Date().toISOString().split("T")[0],P=T.activities||[];for(const M of P){const{error:F}=await H.from("bosco_activities").insert({user_id:e.id,activity_type:M.type,title:M.title,description:M.description,notes:M.instructions||null,language:M.language||"es",duration_minutes:M.duration||15,energy_level:M.energy_level||"medium",date:I});if(F)throw F}await g(),V.success("Actividades generadas")}catch(T){console.error("Error generating activities:",T),V.error("Error al generar actividades")}finally{x(!1)}}},[e,t]),S=p.useCallback(async()=>{if(!e)return[];try{const{data:R,error:T}=await H.functions.invoke("bosco-activities",{body:{generateVocabulary:!0,existingWords:i.map(L=>L.word_en)}});if(T)throw T;return R.vocabulary||[]}catch(R){return console.error("Error generating vocabulary:",R),V.error("Error al generar vocabulario"),[]}},[e,i]),_=p.useCallback(async(R,T)=>{try{const{error:L}=await H.from("bosco_activities").update({completed:!0,completed_at:new Date().toISOString(),notes:T}).eq("id",R);if(L)throw L;r(I=>I.map(P=>P.id===R?{...P,completed:!0,completed_at:new Date().toISOString(),notes:T||null}:P)),V.success("Actividad completada")}catch(L){console.error("Error completing activity:",L),V.error("Error al completar actividad")}},[]),k=p.useCallback(async R=>{try{const{error:T}=await H.from("bosco_activities").delete().eq("id",R);if(T)throw T;r(L=>L.filter(I=>I.id!==R))}catch(T){console.error("Error deleting activity:",T),V.error("Error al eliminar actividad")}},[]),E=p.useCallback(async(R,T,L)=>{if(e)try{const{data:I,error:P}=await H.from("bosco_vocabulary").insert({user_id:e.id,word_en:R.toLowerCase().trim(),word_es:T.toLowerCase().trim(),category:L||null}).select().single();if(P)throw P;return o(M=>[I,...M]),V.success("Palabra aadida"),I}catch(I){console.error("Error adding word:",I),V.error("Error al aadir palabra")}},[e]),A=p.useCallback(async(R,T)=>{try{const L=i.find(F=>F.id===R);if(!L)return;const I=L.times_practiced+1,P=T&&I>=5,{error:M}=await H.from("bosco_vocabulary").update({times_practiced:I,last_practiced_at:new Date().toISOString(),is_mastered:P}).eq("id",R);if(M)throw M;o(F=>F.map(B=>B.id===R?{...B,times_practiced:I,last_practiced_at:new Date().toISOString(),is_mastered:P}:B)),P&&V.success(`"${L.word_en}" dominada!`)}catch(L){console.error("Error practicing word:",L)}},[i]),C=p.useCallback(async R=>{try{const{error:T}=await H.from("bosco_vocabulary").delete().eq("id",R);if(T)throw T;o(L=>L.filter(I=>I.id!==R)),V.success("Palabra eliminada")}catch(T){console.error("Error deleting word:",T),V.error("Error al eliminar palabra")}},[]),O=p.useCallback(async(R,T,L)=>{if(!e)return;const I=new Date().toISOString().split("T")[0];try{const{data:P,error:M}=await H.from("bosco_vocabulary_sessions").insert({user_id:e.id,date:I,words_practiced:R,correct_count:T,total_count:L}).select().single();if(M)throw M;c(F=>[...F,P]),V.success("Sesin guardada")}catch(P){console.error("Error saving session:",P)}},[e]),$=p.useCallback((R=5)=>[...i.filter(I=>!I.is_mastered)].sort(()=>Math.random()-.5).slice(0,R),[i]);return{activities:t,activityHistory:n,vocabulary:i,vocabularyStats:N,todaySessions:l,loading:d,generatingActivities:m,generateActivities:j,generateVocabularySuggestions:S,completeActivity:_,deleteActivity:k,addWord:E,practiceWord:A,deleteWord:C,saveSession:O,getRandomWords:$,refetchActivities:g,refetchActivityHistory:v,refetchVocabulary:w,ACTIVITY_TYPES:wFe}},uv={juego_vinculo:{label:"Juego",icon:YC,color:"text-pink-500"},lectura:{label:"Lectura",icon:Or,color:"text-blue-500"},ingles_ludico:{label:"Ingls",icon:XC,color:"text-green-500"},ia_ninos:{label:"IA",icon:et,color:"text-purple-500"},movimiento:{label:"Movimiento",icon:cL,color:"text-orange-500"},cierre_dia:{label:"Cierre",icon:lu,color:"text-indigo-500"}};function jFe({compact:e=!1}){const{activities:t,loading:r,generatingActivities:n,generateActivities:a,completeActivity:i}=qP(),o=t.filter(c=>!c.completed),l=t.filter(c=>c.completed).length;return e?s.jsxs("div",{className:"p-4 rounded-lg border border-border bg-card space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hs,{className:"w-5 h-5 text-pink-500"}),s.jsx("span",{className:"font-medium",children:"Bosco"})]}),s.jsxs(Q,{variant:"secondary",children:[o.length," pendientes"]})]}),o.length===0?s.jsxs(U,{size:"sm",variant:"outline",className:"w-full gap-2",onClick:()=>a("all"),disabled:n,children:[s.jsx(ht,{className:z("w-4 h-4",n&&"animate-spin")}),"Generar actividades"]}):s.jsx("div",{className:"space-y-2",children:o.slice(0,2).map(c=>{const u=uv[c.activity_type]||uv.juego_vinculo,f=u.icon;return s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded bg-muted/50 text-sm",children:[s.jsx(f,{className:z("w-4 h-4",u.color)}),s.jsx("span",{className:"flex-1 truncate",children:c.title}),s.jsx(U,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>i(c.id),children:s.jsx(gt,{className:"w-3 h-3"})})]},c.id)})}),s.jsx(cf,{to:"/bosco",children:s.jsxs(U,{variant:"ghost",size:"sm",className:"w-full gap-2",children:["Ver todas",s.jsx(Zs,{className:"w-4 h-4"})]})})]}):s.jsxs(X,{children:[s.jsx(pe,{className:"pb-2 px-3 sm:px-6 pt-3 sm:pt-6",children:s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs(ge,{className:"text-sm sm:text-base flex items-center gap-2 min-w-0",children:[s.jsx(Hs,{className:"w-4 h-4 sm:w-5 sm:h-5 text-pink-500 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:"Actividades con Bosco"})]}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-shrink-0",children:[l>0&&s.jsxs(Q,{variant:"secondary",className:"bg-success/20 text-success text-xs",children:[l," "]}),s.jsx(U,{size:"icon",variant:"ghost",className:"h-7 w-7 sm:h-8 sm:w-8",onClick:()=>a("all"),disabled:n,children:s.jsx(ht,{className:z("w-3.5 h-3.5 sm:w-4 sm:h-4",n&&"animate-spin")})})]})]})}),s.jsxs(Y,{className:"space-y-2 sm:space-y-3 px-3 sm:px-6 pb-3 sm:pb-6",children:[r?s.jsx("div",{className:"text-center py-3 sm:py-4 text-muted-foreground text-sm",children:"Cargando..."}):o.length===0?s.jsxs("div",{className:"text-center py-3 sm:py-4",children:[s.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm mb-2 sm:mb-3",children:"No hay actividades para hoy"}),s.jsx(U,{size:"sm",onClick:()=>a("all"),disabled:n,className:"text-xs sm:text-sm h-8 sm:h-9",children:"Generar actividades"})]}):s.jsxs(s.Fragment,{children:[o.slice(0,3).map(c=>{const u=uv[c.activity_type]||uv.juego_vinculo,f=u.icon;return s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 p-2 sm:p-3 rounded-lg border border-border bg-muted/30",children:[s.jsx("div",{className:z("w-7 h-7 sm:w-8 sm:h-8 rounded-lg flex items-center justify-center bg-muted flex-shrink-0"),children:s.jsx(f,{className:z("w-3.5 h-3.5 sm:w-4 sm:h-4",u.color)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-xs sm:text-sm truncate",children:c.title}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[s.jsx(Q,{variant:"outline",className:"text-[10px] sm:text-xs px-1 sm:px-2",children:u.label}),s.jsxs("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:[c.duration_minutes," min"]})]})]}),s.jsx(U,{size:"icon",variant:"ghost",className:"h-7 w-7 sm:h-8 sm:w-8 text-success hover:text-success flex-shrink-0",onClick:()=>i(c.id),children:s.jsx(gt,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})})]},c.id)}),o.length>3&&s.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["+",o.length-3," ms"]})]}),s.jsx(cf,{to:"/bosco",className:"block",children:s.jsxs(U,{variant:"outline",size:"sm",className:"w-full gap-2 text-xs sm:text-sm h-8 sm:h-9",children:[s.jsx(Hs,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),"Ir a Bosco",s.jsx(Zs,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})]})})]})]})}const dv=new Map,NFe=()=>{const e=p.useCallback(i=>i.toLowerCase().trim(),[]),t=p.useCallback(i=>{const o=e(i);return dv.get(o)||null},[e]),r=p.useCallback((i,o)=>{const l=e(i);dv.set(l,o)},[e]),n=p.useCallback(()=>{dv.clear()},[]),a=p.useCallback(()=>dv.size,[]);return{getCachedRecipe:t,cacheRecipe:r,clearCache:n,getCacheSize:a}};function OV({meal:e,mealType:t="lunch",preferences:r,open:n,onOpenChange:a}){const[i,o]=p.useState(null),[l,c]=p.useState(!1),[u,f]=p.useState("thermomix"),[d,h]=p.useState(null),[m,x]=p.useState(!1),[g,v]=p.useState(!1),{getCachedRecipe:w,cacheRecipe:b}=NFe(),{addMealToHistory:y}=WP(),N=async()=>{var k,E;if(!e)return;const _=w(e.name);if(_){o(_);return}c(!0),h(null);try{const{data:A,error:C}=await H.functions.invoke("nutrition-recipe",{body:{meal:e,preferences:r||{}}});if(C)throw C;if(!A)throw new Error("No se recibi respuesta del servidor");o(A),b(e.name,A)}catch(A){console.error("Error loading recipe:",A);const C=(k=A.message)!=null&&k.includes("429")?"Lmite de peticiones excedido, intenta en unos minutos":(E=A.message)!=null&&E.includes("402")?"Crditos de IA agotados":"Error al cargar la receta";h(C),V.error(C)}finally{c(!1)}},j=async()=>{if(!(!e||!i)){x(!0);try{await y(t,e.name,i),v(!0),V.success("Receta guardada en favoritos")}catch(_){console.error("Error saving recipe:",_),V.error("Error al guardar la receta")}finally{x(!1)}}};p.useEffect(()=>{n&&e&&!i&&!l&&N()},[n,e]);const S=_=>{_||(o(null),h(null),v(!1)),a(_)};return s.jsx(Lt,{open:n,onOpenChange:S,children:s.jsxs(Ft,{className:"max-w-2xl max-h-[90vh]",children:[s.jsx(or,{children:s.jsxs(lr,{className:"flex items-center gap-2",children:[s.jsx(dy,{className:"w-5 h-5 text-primary"}),(e==null?void 0:e.name)||"Receta"]})}),l?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(_e,{className:"w-8 h-8 animate-spin text-primary mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Generando receta detallada..."})]}):i?s.jsx(Tn,{className:"max-h-[70vh]",children:s.jsxs("div",{className:"space-y-6 pr-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.servings&&s.jsxs(Q,{variant:"outline",className:"gap-1",children:[s.jsx(Hl,{className:"w-3 h-3"}),i.servings," raciones"]}),i.prep_time&&s.jsxs(Q,{variant:"outline",className:"gap-1",children:[s.jsx(Pt,{className:"w-3 h-3"}),"Prep: ",i.prep_time]}),i.cook_time&&s.jsxs(Q,{variant:"outline",className:"gap-1",children:[s.jsx(Qc,{className:"w-3 h-3"}),"Coccin: ",i.cook_time]}),i.calories_per_serving&&s.jsxs(Q,{variant:"outline",className:"gap-1",children:[s.jsx(Nn,{className:"w-3 h-3"}),i.calories_per_serving," kcal/racin"]}),i.difficulty&&s.jsx(Q,{variant:i.difficulty==="fcil"?"default":i.difficulty==="media"?"secondary":"destructive",children:i.difficulty})]}),i.nutrition_info&&s.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[i.nutrition_info.proteins&&s.jsxs("div",{className:"bg-muted rounded-lg p-2 text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Protenas"}),s.jsx("p",{className:"font-semibold",children:i.nutrition_info.proteins})]}),i.nutrition_info.carbs&&s.jsxs("div",{className:"bg-muted rounded-lg p-2 text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Carbos"}),s.jsx("p",{className:"font-semibold",children:i.nutrition_info.carbs})]}),i.nutrition_info.fats&&s.jsxs("div",{className:"bg-muted rounded-lg p-2 text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Grasas"}),s.jsx("p",{className:"font-semibold",children:i.nutrition_info.fats})]}),i.nutrition_info.fiber&&s.jsxs("div",{className:"bg-muted rounded-lg p-2 text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Fibra"}),s.jsx("p",{className:"font-semibold",children:i.nutrition_info.fiber})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:" Ingredientes"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:i.ingredients.map((_,k)=>s.jsxs("div",{className:"flex items-start gap-2 bg-muted/50 rounded-lg p-2",children:[s.jsx(gr,{className:"w-4 h-4 text-primary mt-0.5 shrink-0"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:_.quantity})," ",s.jsx("span",{children:_.name}),_.notes&&s.jsxs("span",{className:"text-muted-foreground text-sm",children:[" (",_.notes,")"]})]})]},k))})]}),s.jsxs(aa,{value:u,onValueChange:_=>f(_),children:[s.jsxs(Ms,{className:"grid w-full grid-cols-2",children:[s.jsx(Qe,{value:"thermomix",className:"gap-2",children:" Thermomix"}),s.jsx(Qe,{value:"traditional",className:"gap-2",children:" Tradicional"})]}),s.jsx(Ze,{value:"thermomix",className:"mt-4",children:s.jsx("div",{className:"space-y-3",children:i.thermomix_steps.map((_,k)=>s.jsx("div",{className:"border rounded-lg p-3",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-bold shrink-0",children:_.step_number}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{children:_.instruction}),(_.speed||_.temperature||_.time)&&s.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[_.speed&&s.jsxs(Q,{variant:"secondary",children:["Vel: ",_.speed]}),_.temperature&&s.jsxs(Q,{variant:"secondary",children:[" ",_.temperature]}),_.time&&s.jsxs(Q,{variant:"secondary",children:[" ",_.time]})]}),_.tip&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-2 flex items-start gap-1",children:[s.jsx(Cl,{className:"w-4 h-4 shrink-0"}),_.tip]})]})]})},k))})}),s.jsx(Ze,{value:"traditional",className:"mt-4",children:s.jsx("div",{className:"space-y-3",children:i.traditional_steps.map((_,k)=>s.jsx("div",{className:"border rounded-lg p-3",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-secondary text-secondary-foreground flex items-center justify-center text-sm font-bold shrink-0",children:_.step_number}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{children:_.instruction}),_.time&&s.jsxs(Q,{variant:"outline",className:"mt-2",children:[" ",_.time]}),_.tip&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-2 flex items-start gap-1",children:[s.jsx(Cl,{className:"w-4 h-4 shrink-0"}),_.tip]})]})]})},k))})})]}),i.tips&&i.tips.length>0&&s.jsxs("div",{className:"bg-primary/5 rounded-lg p-4",children:[s.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[s.jsx(Cl,{className:"w-4 h-4 text-warning"}),"Consejos del chef"]}),s.jsx("ul",{className:"space-y-1",children:i.tips.map((_,k)=>s.jsxs("li",{className:"text-sm flex items-start gap-2",children:[s.jsx("span",{className:"text-primary",children:""}),_]},k))})]}),s.jsx("div",{className:"pt-4 border-t",children:s.jsxs(U,{onClick:j,disabled:m||g,className:"w-full gap-2",variant:g?"secondary":"default",children:[m?s.jsx(_e,{className:"w-4 h-4 animate-spin"}):g?s.jsx(gt,{className:"w-4 h-4"}):s.jsx(mt,{className:"w-4 h-4"}),g?"Guardada en favoritos":"Guardar en favoritos"]})})]})}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[s.jsx("p",{children:d||"No se pudo cargar la receta"}),s.jsxs(U,{variant:"outline",onClick:N,className:"mt-4 gap-2",children:[s.jsx(ht,{className:"w-4 h-4"}),"Reintentar"]})]})]})})}const zD={work:{icon:Ts,color:"bg-blue-500/20 text-blue-400 border-blue-500/30",label:"Trabajo"},life:{icon:Jf,color:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",label:"Personal"},health:{icon:$l,color:"bg-rose-500/20 text-rose-400 border-rose-500/30",label:"Salud"},family:{icon:Hl,color:"bg-violet-500/20 text-violet-400 border-violet-500/30",label:"Familia"},rest:{icon:mt,color:"bg-amber-500/20 text-amber-400 border-amber-500/30",label:"Descanso"}},gl=e=>{const[t,r]=e.split(":").map(Number);return t*60+r},fv=(e,t,r,n)=>{const a=gl(e),i=gl(t),o=gl(r),l=gl(n);return a<l&&i>o},UD=(e,t)=>{const[r,n]=e.split(":").map(Number);if(isNaN(r)||isNaN(n))return e;let a=0;const i=t.match(/(\d+)\s*h/i),o=t.match(/(\d+)\s*(?:min|m(?!in)|$)/i);if(i&&(a+=parseInt(i[1])*60),o&&(a+=parseInt(o[1])),!i&&!o){const f=parseInt(t);isNaN(f)||(a=f)}if(a===0)return e;const l=r*60+n+a,c=Math.floor(l/60)%24,u=l%60;return`${c.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}`},SFe=({plan:e,calendarEvents:t=[],onBack:r,onComplete:n})=>{const a=li(),{createEvent:i,loading:o,events:l}=Wg(),[c,u]=p.useState([]),[f,d]=p.useState(!1),[h,m]=p.useState(!0),[x,g]=p.useState(null),[v,w]=p.useState(!1),b=p.useMemo(()=>{const M=[];return t.forEach(B=>{B.time&&B.time!=="flexible"&&B.time.includes(":")&&M.push({title:B.title,time:B.time,endTime:B.endTime||UD(B.time,B.duration),isExternal:!0})}),l.forEach(B=>{B.time&&B.time.includes(":")&&M.push({title:B.title,time:B.time,endTime:UD(B.time,B.duration),isExternal:!0})}),M.filter((B,q,J)=>J.findIndex(W=>W.title===B.title&&W.time===B.time)===q).sort((B,q)=>B.time.localeCompare(q.time))},[t,l]),y=p.useCallback(M=>M.map(F=>{if(!F.approved)return{...F,hasConflict:!1,conflictWith:void 0};for(const B of b)if(fv(F.time,F.endTime,B.time,B.endTime))return{...F,hasConflict:!0,conflictWith:B.title};for(const B of M)if(!(B===F||!B.approved)&&fv(F.time,F.endTime,B.time,B.endTime))return{...F,hasConflict:!0,conflictWith:B.title};return{...F,hasConflict:!1,conflictWith:void 0}}),[b]);p.useEffect(()=>{if(e!=null&&e.timeBlocks){const M=e.timeBlocks.map(F=>({...F,addToCalendar:!0,approved:!0}));u(y(M))}},[e,y]);const N=p.useCallback(M=>{u(y(M))},[y]),j=M=>{const F=c.map((B,q)=>q===M?{...B,approved:!B.approved}:B);N(F)},S=M=>{u(F=>F.map((B,q)=>q===M?{...B,addToCalendar:!B.addToCalendar}:B))},_=M=>{m(M),u(F=>F.map(B=>({...B,addToCalendar:M})))},k=M=>{const F=c[M];g({index:M,title:F.title,time:F.time,endTime:F.endTime})},E=()=>{g(null)},A=()=>{if(!x)return;const[M,F]=x.time.split(":").map(Number),[B,q]=x.endTime.split(":").map(Number),J=M*60+F;if(B*60+q<=J){V.error("La hora de fin debe ser posterior a la de inicio");return}if(!x.title.trim()){V.error("El ttulo no puede estar vaco");return}const ne=c.map((he,ie)=>ie===x.index?{...he,title:x.title.trim(),time:x.time,endTime:x.endTime}:he);N(ne),g(null),V.success("Bloque actualizado")},C=()=>{const M=[...c].sort((B,q)=>B.time.localeCompare(q.time)),F=[];for(const B of M){if(!B.approved){F.push(B);continue}const q=gl(B.endTime)-gl(B.time);let J=B.time,W=!0,ne=0;for(;W&&ne<20;){W=!1;const ie=O(gl(J)+q);for(const ce of b)if(fv(J,ie,ce.time,ce.endTime)){J=ce.endTime,W=!0;break}if(!W){for(const ce of F.filter(re=>re.approved))if(fv(J,ie,ce.time,ce.endTime)){J=ce.endTime,W=!0;break}}ne++}const he=O(gl(J)+q);F.push({...B,time:J,endTime:he})}N(F),V.success("Conflictos resueltos automticamente")},O=M=>{const F=Math.floor(M/60)%24,B=M%60;return`${F.toString().padStart(2,"0")}:${B.toString().padStart(2,"0")}`},$=async()=>{d(!0);try{const M=c.filter(F=>F.approved&&F.addToCalendar);for(const F of M){const B=new Date().toISOString().split("T")[0];await i({title:F.title,date:B,time:F.time,duration:R(F.time,F.endTime),type:F.type==="rest"?"life":F.type})}M.length>0&&V.success(`${M.length} bloques aadidos al calendario`),V.success("Agenda del da confirmada!"),n(),a("/dashboard")}catch(M){console.error("Error adding events:",M),V.error("Error al aadir eventos al calendario")}finally{d(!1)}},R=(M,F)=>{const[B,q]=M.split(":").map(Number),[J,W]=F.split(":").map(Number);return J*60+W-(B*60+q)},T=c.filter(M=>M.approved).length,L=c.filter(M=>M.approved&&M.addToCalendar).length,I=c.filter(M=>M.hasConflict).length;p.useMemo(()=>{const M=[];return b.forEach(F=>{M.push({time:F.time,endTime:F.endTime,title:F.title,isExternal:!0})}),c.forEach(F=>{M.push({time:F.time,endTime:F.endTime,title:F.title,isExternal:!1,type:F.type,hasConflict:F.hasConflict,approved:F.approved})}),M.sort((F,B)=>F.time.localeCompare(B.time))},[b,c]);const P=v?c.filter(M=>M.hasConflict):c;return s.jsxs("div",{className:"space-y-6",children:[e.diagnosis&&s.jsx("div",{className:"p-4 rounded-lg bg-card border",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:z("w-12 h-12 rounded-full flex items-center justify-center shrink-0",e.diagnosis.dayMode==="push"&&"bg-success/20",e.diagnosis.dayMode==="balanced"&&"bg-primary/20",e.diagnosis.dayMode==="survival"&&"bg-warning/20",e.diagnosis.dayMode==="recovery"&&"bg-rose-500/20"),children:s.jsx(et,{className:z("w-6 h-6",e.diagnosis.dayMode==="push"&&"text-success",e.diagnosis.dayMode==="balanced"&&"text-primary",e.diagnosis.dayMode==="survival"&&"text-warning",e.diagnosis.dayMode==="recovery"&&"text-rose-500")})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("span",{className:"font-medium",children:["Modo: ",e.diagnosis.dayMode]}),s.jsxs(Q,{variant:"outline",className:"text-xs",children:["Capacidad ",e.diagnosis.capacityLevel]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.diagnosis.currentState})]})]})}),I>0&&s.jsx("div",{className:"p-4 rounded-lg border-destructive/50 bg-destructive/5 border",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(uo,{className:"w-5 h-5 text-destructive shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm font-medium text-destructive",children:[I," bloque(s) con conflictos detectados"]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Hay solapamientos con eventos del calendario o entre bloques propuestos."})]}),s.jsxs(U,{size:"sm",variant:"outline",onClick:C,className:"shrink-0 gap-2",children:[s.jsx(ht,{className:"w-4 h-4"}),"Auto-resolver"]})]})}),b.length>0?s.jsxs(X,{children:[s.jsx(pe,{className:"pb-3",children:s.jsxs(ge,{className:"flex items-center gap-2 text-sm",children:[s.jsx(Jt,{className:"w-4 h-4 text-muted-foreground"}),"Eventos existentes del calendario",s.jsx(Q,{variant:"secondary",className:"ml-auto",children:b.length})]})}),s.jsx(Y,{className:"p-0",children:s.jsx("div",{className:"divide-y divide-border max-h-32 overflow-auto",children:b.map((M,F)=>s.jsxs("div",{className:"px-4 py-2 flex items-center gap-3 text-sm bg-muted/30",children:[s.jsxs("div",{className:"w-16 font-mono text-xs text-muted-foreground",children:[M.time," - ",M.endTime]}),s.jsx("div",{className:"flex-1 truncate text-muted-foreground",children:M.title}),s.jsx(Q,{variant:"outline",className:"text-xs",children:"Bloqueado"})]},F))})})]}):s.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30 text-sm text-muted-foreground flex items-center gap-2",children:[s.jsx(Jt,{className:"w-4 h-4"}),"Sin eventos del calendario para hoy - todos los bloques estn libres"]}),e.warnings&&e.warnings.length>0&&s.jsx("div",{className:"p-4 rounded-lg border-warning/50 bg-warning/5 border",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(kr,{className:"w-5 h-5 text-warning shrink-0 mt-0.5"}),s.jsx("div",{className:"space-y-1",children:e.warnings.map((M,F)=>s.jsx("p",{className:"text-sm text-warning",children:M},F))})]})}),s.jsx("div",{className:"p-4 rounded-lg bg-card border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Jt,{className:"w-5 h-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Aadir todos al calendario"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Los bloques marcados se crearn como eventos en Google Calendar"})]})]}),s.jsx(ya,{checked:h,onCheckedChange:_})]})}),s.jsxs(X,{children:[s.jsx(pe,{className:"pb-3",children:s.jsxs(ge,{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Pt,{className:"w-5 h-5 text-primary"}),"Bloques de Tiempo"]}),s.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:[T,"/",c.length," aprobados  ",L," al calendario"]})]})}),s.jsx(Y,{className:"p-0",children:s.jsx(Tn,{className:"h-[350px]",children:s.jsx("div",{className:"divide-y divide-border",children:P.map(M=>{var W,ne,he,ie;const F=c.findIndex(ce=>ce===M),B=zD[M.type]||zD.work,q=B.icon,J=(x==null?void 0:x.index)===F;return s.jsx("div",{className:z("p-4 transition-all",!M.approved&&"opacity-50 bg-muted/30",J&&"bg-primary/5 ring-1 ring-primary/20",M.hasConflict&&M.approved&&"bg-destructive/5 ring-1 ring-destructive/30"),children:J?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(be,{value:x.title,onChange:ce=>g({...x,title:ce.target.value}),placeholder:"Ttulo del bloque",className:"flex-1",autoFocus:!0}),s.jsx(U,{size:"sm",variant:"ghost",onClick:E,children:s.jsx(kt,{className:"w-4 h-4"})}),s.jsx(U,{size:"sm",onClick:A,children:s.jsx(gt,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Inicio:"}),s.jsx(be,{type:"time",value:x.time,onChange:ce=>g({...x,time:ce.target.value}),className:z("w-32",((W=c[x.index])==null?void 0:W.hasConflict)&&"border-destructive")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Fin:"}),s.jsx(be,{type:"time",value:x.endTime,onChange:ce=>g({...x,endTime:ce.target.value}),className:z("w-32",((ne=c[x.index])==null?void 0:ne.hasConflict)&&"border-destructive")})]})]}),((he=c[x.index])==null?void 0:he.hasConflict)&&s.jsxs("p",{className:"text-xs text-destructive flex items-center gap-1",children:[s.jsx(uo,{className:"w-3 h-3"}),'Conflicto: se solapa con "',(ie=c[x.index])==null?void 0:ie.conflictWith,'"']})]}):s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(ls,{checked:M.approved,onCheckedChange:()=>j(F),className:"mt-1"}),s.jsxs("div",{className:"w-20 shrink-0",children:[s.jsx("p",{className:"font-mono text-sm font-medium",children:M.time}),s.jsx("p",{className:"font-mono text-xs text-muted-foreground",children:M.endTime})]}),s.jsx("div",{className:z("w-10 h-10 rounded-lg flex items-center justify-center shrink-0",B.color),children:s.jsx(q,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("p",{className:"font-medium truncate",children:M.title}),M.priority==="high"&&s.jsx(Q,{variant:"destructive",className:"text-xs",children:"Alta"}),M.isFlexible&&s.jsx(Q,{variant:"outline",className:"text-xs",children:"Flexible"}),M.hasConflict&&s.jsxs(Q,{variant:"destructive",className:"text-xs gap-1",children:[s.jsx(uo,{className:"w-3 h-3"}),"Conflicto"]})]}),M.hasConflict&&M.conflictWith&&s.jsxs("p",{className:"text-xs text-destructive mt-1",children:["Se solapa con: ",M.conflictWith]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:M.description})]}),s.jsx(U,{size:"icon",variant:"ghost",onClick:()=>k(F),className:"shrink-0",children:s.jsx(kl,{className:"w-4 h-4"})}),M.approved&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jt,{className:z("w-4 h-4 transition-colors",M.addToCalendar?"text-primary":"text-muted-foreground")}),s.jsx(ya,{checked:M.addToCalendar,onCheckedChange:()=>S(F),disabled:!M.approved})]})]})},F)})})})})]}),s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs(U,{variant:"outline",onClick:r,className:"gap-2",children:[s.jsx(Eu,{className:"w-4 h-4"}),"Anterior"]}),s.jsx(U,{onClick:$,disabled:f||o||T===0,className:"gap-2",children:f?s.jsxs(s.Fragment,{children:[s.jsx(_e,{className:"w-4 h-4 animate-spin"}),"Sincronizando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(gt,{className:"w-4 h-4"}),"Confirmar (",L," al calendario)"]})})]})]})},Zh=[{id:1,title:"Bienvenida",icon:my},{id:2,title:"Tareas",icon:Sg},{id:3,title:"Check-in",icon:mt},{id:4,title:"Plan del da",icon:SY},{id:5,title:"Bosco",icon:Hs},{id:6,title:"Nutricin",icon:Qc},{id:7,title:"JARVIS",icon:Qr},{id:8,title:"Validar",icon:gt}],_Fe=()=>{const e=li(),{isOpen:t,isCollapsed:r,open:n,close:a,toggleCollapse:i}=un(),{pendingTasks:o,addTask:l,loading:c}=gw(),{events:u,loading:f,connected:d}=Wg(),{plan:h,loading:m,generatePlan:x}=Yz(),{preferences:g,generateMeals:v}=kV(),{user:w}=ut(),{draftCheckIn:b,setCheckIn:y,registerCheckIn:N,isRegistered:j,saving:S}=NE(),{profile:_}=EV(),{addMealToHistory:k}=WP(),{generateFromRecipes:E,generating:A}=PV(),{profile:C}=ow(),{activities:O,generateActivities:$,generatingActivities:R}=qP(),T=(C==null?void 0:C.current_mode)||"normal",[L,I]=p.useState(1),[P]=p.useState(new Date),[M,F]=p.useState(new Set),[B,q]=p.useState(!1),[J,W]=p.useState(""),[ne,he]=p.useState([]),[ie,ce]=p.useState(!1),[re,se]=p.useState([{id:"coaching",label:"Sesin de coaching / crecimiento personal",icon:Qr,duration:45,selected:!1},{id:"english",label:"Clase de ingls",icon:w0,duration:30,selected:!1},{id:"ai-training",label:"Formacin de IA",icon:et,duration:60,selected:!1},{id:"meditation",label:"Meditacin",icon:vY,duration:15,selected:!1},{id:"bosco",label:"Actividades tarde con Bosco",icon:Hs,duration:120,selected:!1},{id:"exercise",label:"Ejercicio fsico",icon:gY,duration:60,selected:!1}]),[me,te]=p.useState(""),[Ee,je]=p.useState(""),[Be,le]=p.useState(!1),[Me,rt]=p.useState(null),[He,xt]=p.useState(null),[yt,qt]=p.useState(!1),[lt,vr]=p.useState([]),[yr,de]=p.useState([]),[we,Se]=p.useState(!1),[Vt,Tt]=p.useState(null),[bt,oe]=p.useState(!1);p.useEffect(()=>{if(o.length>0&&ne.length===0){const Z=o.filter(Ce=>Ce.priority==="P0"||Ce.priority==="P1").map(Ce=>Ce.id);he(Z)}},[o]),p.useEffect(()=>{w&&vt()},[w]);const vt=async()=>{if(!w)return;const Z=new Date().toISOString().split("T")[0];try{const{data:Ce}=await H.from("daily_observations").select("*").eq("user_id",w.id).eq("date",Z).maybeSingle();Ce&&(Ce.whoops_summary&&te(Ce.whoops_summary),Ce.observations&&je(Ce.observations),Ce.selected_lunch&&(rt(Ce.selected_lunch),oe(!0)),Ce.selected_dinner&&xt(Ce.selected_dinner),le(!0))}catch(Ce){console.error("Error loading existing data:",Ce)}},st=async()=>{J.trim()&&(await l({title:J,type:"work",priority:"P1",duration:30}),W(""),V.success("Tarea aadida"))},qr=Z=>{he(Ce=>Ce.includes(Z)?Ce.filter(at=>at!==Z):[...Ce,Z])},dn=Z=>{se(Ce=>Ce.map(at=>at.id===Z?{...at,selected:!at.selected}:at))},fn=p.useCallback(()=>{const Z=b.energy,Ce=b.dayMode,at=b.interruptionRisk;return Ce==="survival"||at==="high"||Z<=2?"high":Z<=3||at==="medium"?"medium":"low"},[b]),In=async()=>{const Z=o.filter(dt=>ne.includes(dt.id)).map(dt=>({id:dt.id,title:dt.title,type:dt.type,priority:dt.priority,duration:dt.duration})),Ce=re.filter(dt=>dt.selected).map(dt=>({title:dt.label,time:"flexible",duration:`${dt.duration}`,type:"life"})),at=(dt,Hn)=>{const[Hi,Do]=dt.split(":").map(Number);if(isNaN(Hi)||isNaN(Do))return dt;let di=0;const lc=Hn.match(/(\d+)\s*h/i),cc=Hn.match(/(\d+)\s*(?:min|m(?!in)|$)/i);if(lc&&(di+=parseInt(lc[1])*60),cc&&(di+=parseInt(cc[1])),!lc&&!cc){const Oh=parseInt(Hn);isNaN(Oh)||(di=Oh)}if(di===0)return dt;const uc=Hi*60+Do+di,Ph=Math.floor(uc/60)%24,lx=uc%60;return`${Ph.toString().padStart(2,"0")}:${lx.toString().padStart(2,"0")}`},Ir=u.map(dt=>({title:dt.title,time:dt.time,endTime:at(dt.time,dt.duration),duration:dt.duration,type:dt.type,isFixed:!0})),Vr=new Date().toTimeString().slice(0,5);await x(b,Z,[...Ir,...Ce],Vr)};p.useEffect(()=>{L===6&&lt.length===0&&!yt&&w&&(console.log("Loading meals for step 6..."),Vn())},[L,w]);const Vn=async()=>{qt(!0);try{const Z=fn(),Ce=b.energy;let at=me||"";Z==="high"||Ce<=2?at+=`

REGLA ACTIVA: Estrs alto o energa muy baja. Proponer solo platos simples, conocidos y repetibles. Mxima simplicidad.`:(Z==="medium"||Ce<=3)&&(at+=`

REGLA ACTIVA: Energa moderada. Proponer platos equilibrados y fciles de preparar.`),(_==null?void 0:_.active_diet)==="keto"&&(at+=`

DIETA ACTIVA: Keto - eliminar pasta y arroz, priorizar carne, huevo, queso, atn.`),_!=null&&_.rejected_foods&&_.rejected_foods.length>0&&(at+=`

ALIMENTOS RECHAZADOS (NUNCA SUGERIR): ${_.rejected_foods.join(", ")}`),_!=null&&_.preferred_foods&&_.preferred_foods.length>0&&(at+=`

ALIMENTOS PREFERIDOS: ${_.preferred_foods.join(", ")}`),_!=null&&_.intermittent_fasting&&(at+=`

AYUNO INTERMITENTE ACTIVO: No sugerir desayuno.`);const Ir=await v({energy:b.energy,mood:b.mood},at);Ir&&(vr(Ir.lunch_options),de(Ir.dinner_options))}catch(Z){console.error("Error loading meals:",Z)}finally{qt(!1)}},bs=async()=>{if(w)try{await H.from("daily_observations").upsert({user_id:w.id,date:new Date().toISOString().split("T")[0],whoops_summary:me||null,observations:Ee||null,selected_lunch:Me||null,selected_dinner:He||null},{onConflict:"user_id,date"})}catch(Z){console.error("Error saving observations:",Z)}},Vi=async()=>{if(Me){const Ce=lt.find(at=>at.name===Me);await k("lunch",Me,Ce)}if(He){const Ce=yr.find(at=>at.name===He);await k("dinner",He,Ce)}const Z=[];if(Me&&Z.push({name:Me}),He&&Z.push({name:He}),Z.length>0)try{await E(Z)}catch(Ce){console.error("Error generating shopping list:",Ce)}},ur=async()=>{await N()},Zt=async Z=>{L===3?await ur():L===4?(await bs(),le(!0)):L===5?(await bs(),await Vi(),oe(!0)):L===2&&ce(!0),F(Ce=>new Set([...Ce,L])),I(Z)},hn=async()=>{L===3?await ur():L===4?(await bs(),le(!0)):L===5?(O.length===0&&await $("all"),q(!0)):L===6?(In(),await bs(),await Vi(),oe(!0)):L===2&&ce(!0),F(Z=>new Set([...Z,L])),L<7&&I(Z=>Z+1)},Fe=()=>{L>1&&I(Z=>Z-1)},ze=()=>{h&&h.timeBlocks&&h.timeBlocks.length>0?I(8):(V.success("Da configurado correctamente!"),e("/dashboard"))},nt=()=>{F(Z=>new Set([...Z,8]))},er=()=>{switch(L){case 2:return ie||ne.length>0;case 3:return j;case 4:return Be;case 5:return B||O.length>0;case 6:return bt||Me!==null&&He!==null;default:return!1}},dr=L/Zh.length*100,Mt={low:"bg-success/20 text-success border-success/30",medium:"bg-warning/20 text-warning border-warning/30",high:"bg-destructive/20 text-destructive border-destructive/30"},tn={balanced:"bg-primary/20 text-primary border-primary/30",push:"bg-success/20 text-success border-success/30",survival:"bg-warning/20 text-warning border-warning/30"};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(zr,{isOpen:t,onClose:a,isCollapsed:r,onToggleCollapse:i}),s.jsxs("div",{className:z("transition-all duration-300",r?"lg:pl-20":"lg:pl-72"),children:[s.jsx(Ur,{onMenuClick:n}),s.jsxs("main",{className:"p-4 lg:p-6 max-w-3xl mx-auto space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(my,{className:"w-6 h-6 text-warning"}),"Inicio del Da"]}),s.jsx("div",{className:"text-sm text-muted-foreground font-mono",children:ye(P,"EEEE, d 'de' MMMM",{locale:ot})})]}),s.jsx("div",{className:"flex items-center gap-2",children:Zh.map((Z,Ce)=>{const at=Z.icon,Ir=L===Z.id,Vr=M.has(Z.id)||L>Z.id;return s.jsxs("div",{className:"flex items-center flex-1",children:[s.jsx("button",{onClick:()=>Zt(Z.id),className:z("flex items-center justify-center w-10 h-10 rounded-full border-2 transition-all cursor-pointer hover:scale-105",Ir&&"bg-primary border-primary text-primary-foreground",Vr&&!Ir&&"bg-success border-success text-success-foreground",!Ir&&!Vr&&"border-border text-muted-foreground hover:border-primary/50"),title:Z.title,children:Vr&&!Ir?s.jsx(gt,{className:"w-5 h-5"}):s.jsx(at,{className:"w-5 h-5"})}),Ce<Zh.length-1&&s.jsx("div",{className:z("flex-1 h-0.5 mx-2",Vr?"bg-success":"bg-border")})]},Z.id)})}),s.jsx(Cr,{value:dr,className:"h-1"})]}),s.jsxs(X,{className:"border-border bg-card",children:[s.jsx(pe,{children:s.jsxs(ge,{className:"flex items-center gap-2",children:[(()=>{const Z=Zh[L-1].icon;return s.jsx(Z,{className:"w-5 h-5 text-primary"})})(),Zh[L-1].title]})}),s.jsxs(Y,{className:"space-y-6",children:[L===1&&s.jsxs("div",{className:"text-center py-8 space-y-6",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-warning/20 flex items-center justify-center mx-auto",children:s.jsx(my,{className:"w-10 h-10 text-warning"})}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["Buenos das",C!=null&&C.name?`, ${C.name}`:"","!"]}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Vamos a configurar tu da de forma ptima."})]}),s.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-muted",children:[s.jsx(Pt,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"font-mono",children:ye(P,"HH:mm")})]}),s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-muted",children:[s.jsx(Sg,{className:"w-4 h-4 text-primary"}),s.jsxs("span",{children:[o.length," tareas pendientes"]})]})]}),s.jsxs("div",{className:"pt-4 border-t border-border",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Modo del sistema"}),s.jsx("div",{className:"flex justify-center",children:s.jsx(LB,{compact:!0})})]})]}),L===2&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Revisa tus tareas pendientes y aade nuevas si es necesario."}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(be,{placeholder:"Nueva tarea...",value:J,onChange:Z=>W(Z.target.value),onKeyDown:Z=>Z.key==="Enter"&&st(),className:"flex-1"}),s.jsx(U,{onClick:st,size:"icon",children:s.jsx(wt,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:c?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(_e,{className:"w-6 h-6 animate-spin text-primary"})}):o.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No hay tareas pendientes"}):o.map(Z=>s.jsxs("div",{className:z("flex items-center gap-3 p-3 rounded-lg border transition-all cursor-pointer",ne.includes(Z.id)?"border-primary/50 bg-primary/5":"border-border hover:border-primary/30"),onClick:()=>qr(Z.id),children:[s.jsx(ls,{checked:ne.includes(Z.id),onCheckedChange:()=>qr(Z.id)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:Z.title}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(Q,{variant:"outline",className:"text-xs",children:Z.priority}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[Z.duration," min"]})]})]})]},Z.id))}),s.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:[ne.length," tareas seleccionadas para hoy"]})]}),L===3&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Cmo te encuentras hoy?",j&&s.jsx(Q,{variant:"secondary",className:"ml-2",children:"Guardado"})]}),s.jsxs("div",{className:"grid gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ip,{className:"w-4 h-4 text-success"}),s.jsx("span",{className:"font-medium",children:"Energa"})]}),s.jsxs("span",{className:"font-bold font-mono text-primary",children:[b.energy,"/5"]})]}),s.jsx(Er,{value:[b.energy],onValueChange:([Z])=>y({...b,energy:Z}),min:1,max:5,step:1})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mt,{className:"w-4 h-4 text-destructive"}),s.jsx("span",{className:"font-medium",children:"nimo"})]}),s.jsxs("span",{className:"font-bold font-mono text-primary",children:[b.mood,"/5"]})]}),s.jsx(Er,{value:[b.mood],onValueChange:([Z])=>y({...b,mood:Z}),min:1,max:5,step:1})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dt,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"font-medium",children:"Foco"})]}),s.jsxs("span",{className:"font-bold font-mono text-primary",children:[b.focus,"/5"]})]}),s.jsx(Er,{value:[b.focus],onValueChange:([Z])=>y({...b,focus:Z}),min:1,max:5,step:1})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-border",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[s.jsx(Pt,{className:"w-4 h-4"}),"Horas disponibles"]}),s.jsx(be,{type:"number",value:b.availableTime,onChange:Z=>y({...b,availableTime:Number(Z.target.value)}),min:0,max:24,className:"font-mono"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[s.jsx(kr,{className:"w-4 h-4"}),"Riesgo interrupcin"]}),s.jsx("div",{className:"flex gap-1",children:["low","medium","high"].map(Z=>s.jsx("button",{onClick:()=>y({...b,interruptionRisk:Z}),className:z("flex-1 px-2 py-2 text-xs rounded-md border transition-all",b.interruptionRisk===Z?Mt[Z]:"border-border text-muted-foreground hover:border-primary/50"),children:Z==="low"?"Bajo":Z==="medium"?"Medio":"Alto"},Z))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[s.jsx(Mn,{className:"w-4 h-4"}),"Modo del da"]}),s.jsx("div",{className:"flex gap-2",children:["balanced","push","survival"].map(Z=>s.jsx("button",{onClick:()=>y({...b,dayMode:Z}),className:z("flex-1 px-3 py-2 text-sm rounded-md border transition-all",b.dayMode===Z?tn[Z]:"border-border text-muted-foreground hover:border-primary/50"),children:Z==="balanced"?"Balanceado":Z==="push"?"Empuje":"Supervivencia"},Z))})]})]})]}),L===4&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Selecciona las actividades opcionales para hoy."}),s.jsx("div",{className:"space-y-3",children:re.map(Z=>{const Ce=Z.icon;return s.jsxs("div",{className:z("flex items-center gap-4 p-4 rounded-lg border transition-all cursor-pointer",Z.selected?"border-primary/50 bg-primary/5":"border-border hover:border-primary/30"),onClick:()=>dn(Z.id),children:[s.jsx(ls,{checked:Z.selected,onCheckedChange:()=>dn(Z.id)}),s.jsx("div",{className:z("w-10 h-10 rounded-lg flex items-center justify-center",Z.selected?"bg-primary/20":"bg-muted"),children:s.jsx(Ce,{className:z("w-5 h-5",Z.selected?"text-primary":"text-muted-foreground")})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:Z.label}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[Z.duration," min"]})]})]},Z.id)})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(_l,{className:"w-4 h-4 text-primary"}),"Resumen de Whoop"]}),s.jsx(Kr,{placeholder:"Pega aqu tu resumen de Whoop...",value:me,onChange:Z=>te(Z.target.value),className:"min-h-[80px]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(ja,{className:"w-4 h-4 text-primary"}),"Observaciones"]}),s.jsx(Kr,{placeholder:"Algo ms que quieras comentar sobre hoy?",value:Ee,onChange:Z=>je(Z.target.value),className:"min-h-[60px]"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border border-border",children:[s.jsxs("h4",{className:"font-medium flex items-center gap-2 mb-2",children:[s.jsx(Ts,{className:"w-4 h-4 text-primary"}),"Resumen del da"]}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsxs("li",{children:[" ",ne.length," tareas seleccionadas"]}),s.jsxs("li",{children:[" ",re.filter(Z=>Z.selected).length," actividades opcionales"]}),s.jsxs("li",{children:[" ",b.availableTime,"h disponibles"]}),s.jsxs("li",{children:[" Modo: ",b.dayMode==="balanced"?"Balanceado":b.dayMode==="push"?"Empuje":"Supervivencia"]})]})]})]}),L===5&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Actividades sugeridas para hoy con Bosco."}),T==="vacation"&&s.jsxs("div",{className:"p-3 rounded-lg border bg-warning/10 border-warning/30 text-warning flex items-center gap-2",children:[s.jsx(cS,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Modo vacaciones: actividades flexibles, sin presin"})]}),T==="crisis"&&s.jsxs("div",{className:"p-3 rounded-lg border bg-destructive/10 border-destructive/30 text-destructive flex items-center gap-2",children:[s.jsx(kr,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Modo crisis: solo vnculo bsico, sin actividades educativas"})]}),s.jsx(jFe,{}),O.length>0&&s.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border border-border",children:[s.jsxs("h4",{className:"font-medium flex items-center gap-2 mb-2",children:[s.jsx(Hs,{className:"w-4 h-4 text-pink-500"}),"Resumen Bosco"]}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsxs("li",{children:[" ",O.filter(Z=>!Z.completed).length," actividades pendientes"]}),s.jsxs("li",{children:[" ",O.filter(Z=>Z.completed).length," completadas"]}),s.jsxs("li",{children:[" Tiempo estimado: ",O.filter(Z=>!Z.completed).reduce((Z,Ce)=>Z+Ce.duration_minutes,0)," min"]})]})]})]}),L===6&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Jarvis Nutricin te propone estas opciones para hoy."}),A&&s.jsxs(Q,{variant:"secondary",className:"gap-1",children:[s.jsx(lS,{className:"w-3 h-3"}),"Generando lista..."]})]}),T==="crisis"&&s.jsxs("div",{className:"p-3 rounded-lg border bg-destructive/10 border-destructive/30 text-destructive flex items-center gap-2",children:[s.jsx(kr,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Modo crisis: nutricin ultrabsica, platos conocidos sin decisiones"})]}),fn()!=="low"&&T==="normal"&&s.jsxs("div",{className:z("p-3 rounded-lg border flex items-center gap-2",fn()==="high"?"bg-destructive/10 border-destructive/30 text-destructive":"bg-warning/10 border-warning/30 text-warning"),children:[s.jsx(kr,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:fn()==="high"?"Modo simplificado: platos fciles y conocidos":"Energa moderada: platos equilibrados"})]}),yt?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(_e,{className:"w-8 h-8 animate-spin text-primary mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Generando opciones personalizadas..."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s.jsx(Qc,{className:"w-4 h-4 text-warning"}),"Comida"]}),s.jsx("div",{className:"grid gap-2",children:lt.map((Z,Ce)=>s.jsxs("div",{className:z("flex items-center gap-3 p-3 rounded-lg border transition-all cursor-pointer group",Me===Z.name?"border-primary/50 bg-primary/5":"border-border hover:border-primary/30"),onClick:()=>rt(Z.name),children:[s.jsx(ls,{checked:Me===Z.name,onCheckedChange:()=>rt(Z.name)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"font-medium",children:Z.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Z.description})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(U,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:at=>{at.stopPropagation(),Tt(Z),Se(!0)},children:[s.jsx(dy,{className:"w-4 h-4 mr-1"}),"Receta"]}),s.jsxs("div",{className:"text-right text-xs text-muted-foreground",children:[s.jsxs("p",{className:"font-mono",children:[Z.calories," kcal"]}),s.jsx("p",{children:Z.prep_time})]})]})]},Ce))})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s.jsx(Qc,{className:"w-4 h-4 text-primary"}),"Cena"]}),s.jsx("div",{className:"grid gap-2",children:yr.map((Z,Ce)=>s.jsxs("div",{className:z("flex items-center gap-3 p-3 rounded-lg border transition-all cursor-pointer group",He===Z.name?"border-primary/50 bg-primary/5":"border-border hover:border-primary/30"),onClick:()=>xt(Z.name),children:[s.jsx(ls,{checked:He===Z.name,onCheckedChange:()=>xt(Z.name)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"font-medium",children:Z.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Z.description})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(U,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:at=>{at.stopPropagation(),Tt(Z),Se(!0)},children:[s.jsx(dy,{className:"w-4 h-4 mr-1"}),"Receta"]}),s.jsxs("div",{className:"text-right text-xs text-muted-foreground",children:[s.jsxs("p",{className:"font-mono",children:[Z.calories," kcal"]}),s.jsx("p",{children:Z.prep_time})]})]})]},Ce))})]}),s.jsxs(U,{variant:"outline",onClick:Vn,disabled:yt,className:"w-full gap-2",children:[s.jsx(et,{className:"w-4 h-4"}),"Regenerar opciones"]})]})]}),L===7&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:z("flex items-center gap-2 p-3 rounded-lg border text-sm",d?f?"bg-muted border-border text-muted-foreground":u.length>0?"bg-success/10 border-success/30 text-success":"bg-muted border-border text-muted-foreground":"bg-warning/10 border-warning/30 text-warning"),children:[s.jsx(Jt,{className:"w-4 h-4"}),d?f?s.jsxs(s.Fragment,{children:[s.jsx(_e,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:"Sincronizando calendario..."})]}):s.jsxs("span",{children:[u.length," eventos sincronizados del calendario"]}):s.jsx("span",{children:"Calendario no conectado - el plan podra tener conflictos"})]}),T!=="normal"&&s.jsxs("div",{className:z("p-3 rounded-lg border flex items-center gap-2",T==="vacation"?"bg-warning/10 border-warning/30 text-warning":"bg-destructive/10 border-destructive/30 text-destructive"),children:[T==="vacation"?s.jsx(cS,{className:"w-4 h-4"}):s.jsx(kr,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:T==="vacation"?"Plan relajado: sin metas estrictas, foco en bienestar":"Plan mnimo: solo 1 prioridad, bloques cortos"})]}),m?s.jsxs("div",{className:"text-center py-12 space-y-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/20 flex items-center justify-center mx-auto animate-pulse",children:s.jsx(Qr,{className:"w-8 h-8 text-primary"})}),s.jsx("p",{className:"text-muted-foreground",children:"JARVIS est organizando tu da..."}),s.jsx(_e,{className:"w-6 h-6 animate-spin mx-auto text-primary"})]}):h?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 rounded-lg bg-success/10 border border-success/20",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(et,{className:"w-5 h-5 text-success"}),s.jsx("span",{className:"font-medium text-success",children:"Plan generado"})]}),s.jsx("p",{className:"text-foreground",children:h.greeting})]}),h.nextSteps&&s.jsxs("div",{className:"p-4 rounded-lg bg-primary/5 border border-primary/20",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Prximo paso"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:h.nextSteps.immediate})]}),h.tips&&h.tips.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium",children:"Consejos del da"}),s.jsx("ul",{className:"space-y-1",children:h.tips.slice(0,3).map((Z,Ce)=>s.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[s.jsx("span",{className:"text-primary",children:""}),Z]},Ce))})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground",children:"No se pudo generar el plan"}),s.jsx(U,{variant:"outline",onClick:In,className:"mt-4",children:"Reintentar"})]})]}),L===8&&h&&s.jsx(SFe,{plan:h,calendarEvents:u.map(Z=>{const Ce=(at,Ir)=>{const[Vr,dt]=at.split(":").map(Number);if(isNaN(Vr)||isNaN(dt))return at;let Hn=0;const Hi=Ir.match(/(\d+)\s*h/i),Do=Ir.match(/(\d+)\s*(?:min|m(?!in)|$)/i);if(Hi&&(Hn+=parseInt(Hi[1])*60),Do&&(Hn+=parseInt(Do[1])),!Hi&&!Do){const uc=parseInt(Ir);isNaN(uc)||(Hn=uc)}if(Hn===0)return at;const di=Vr*60+dt+Hn,lc=Math.floor(di/60)%24,cc=di%60;return`${lc.toString().padStart(2,"0")}:${cc.toString().padStart(2,"0")}`};return{title:Z.title,time:Z.time,duration:Z.duration,endTime:Ce(Z.time,Z.duration)}}),onBack:Fe,onComplete:nt})]})]}),L!==8&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(U,{variant:"outline",onClick:Fe,disabled:L===1,className:"gap-2",children:[s.jsx(Eu,{className:"w-4 h-4"}),"Anterior"]}),L<7?s.jsx(U,{onClick:hn,className:"gap-2",disabled:L===3&&S||L===5&&R,children:S||R?s.jsx(_e,{className:"w-4 h-4 animate-spin"}):er()?s.jsxs(s.Fragment,{children:["Modificar",s.jsx(Zs,{className:"w-4 h-4"})]}):s.jsxs(s.Fragment,{children:["Siguiente",s.jsx(Zs,{className:"w-4 h-4"})]})}):s.jsxs(U,{onClick:ze,className:"gap-2",disabled:m||!h,children:[s.jsx(et,{className:"w-4 h-4"}),"Validar agenda"]})]})]})]}),s.jsx(OV,{meal:Vt,preferences:g,open:we,onOpenChange:Se})]})},CFe=[{name:"DotCSV (Carlos Santana)",channel:"@DotCSV",url:"https://youtube.com/@DotCSV",subscribers:"900K+",description:"#1 IA en espaol"},{name:"Xavier Mitjana",channel:"@xaviermitjana",url:"https://youtube.com/@xaviermitjana",description:"IA prctica y negocios"},{name:"Machinelearnear",channel:"@machinelearnear",url:"https://youtube.com/@machinelearnear",description:"ML en espaol"},{name:"MiguelBaenaIA",channel:"@miguelbaenaia",url:"https://twitter.com/miguelbaenaia",description:"Automatizaciones IA"},{name:"Henry Jimnez",channel:"@henryjimenez",url:"https://youtube.com/@henryjimenez",description:"Formacin IA"},{name:"Sergio Seor",channel:"@iasergiosenor",url:"https://youtube.com/@iasergiosenor",description:"IA aplicada"},{name:"NextGen IA Hub",channel:"@NextGen_IA_YT",url:"https://youtube.com/@NextGen_IA_YT",description:"Comunidad IA"}],kFe=[{name:"Matt Wolfe",channel:"@maboroshi",url:"https://youtube.com/@maboroshi",subscribers:"800K+",description:"Future Tools"},{name:"AI Explained",channel:"@aiexplained-official",url:"https://youtube.com/@aiexplained-official",subscribers:"500K+",description:"Deep dives tcnicos"},{name:"Two Minute Papers",channel:"@TwoMinutePapers",url:"https://youtube.com/@TwoMinutePapers",subscribers:"1.5M+",description:"Papers de IA explicados"},{name:"Fireship",channel:"@Fireship",url:"https://youtube.com/@Fireship",subscribers:"3M+",description:"Tech + IA rpido"}],WD=({creator:e})=>s.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 rounded-lg border border-border bg-card hover:bg-muted/50 hover:border-primary/30 transition-all group",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-destructive/10 flex items-center justify-center flex-shrink-0",children:s.jsx(wc,{className:"w-5 h-5 text-destructive"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-foreground text-sm truncate group-hover:text-primary transition-colors",children:e.name}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e.description})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.subscribers&&s.jsx(Q,{variant:"outline",className:"text-xs",children:e.subscribers}),s.jsx(KC,{className:"w-4 h-4 text-muted-foreground group-hover:text-primary transition-colors"})]})]}),EFe=()=>s.jsxs(X,{className:"border-border bg-card",children:[s.jsxs(pe,{className:"pb-3",children:[s.jsxs(ge,{className:"text-base flex items-center gap-2",children:[s.jsx(Hl,{className:"w-5 h-5 text-primary"}),"Creadores de Contenido IA"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Los mejores divulgadores de Inteligencia Artificial"})]}),s.jsxs(Y,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-foreground mb-3 flex items-center gap-2",children:" Espaol"}),s.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:CFe.map(e=>s.jsx(WD,{creator:e},e.name))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-foreground mb-3 flex items-center gap-2",children:" Internacional"}),s.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:kFe.map(e=>s.jsx(WD,{creator:e},e.name))})]})]})]}),PFe=["Carlos Santana","Jon Hernndez","Romuald Fons","Kroly Zsolnai-Fehr","AI Explained","Matt Wolfe","Jeff Delaney","TheAIGRID","Wes Roth","Yannic Kilcher"],OFe=()=>{const{user:e}=ut(),{isOpen:t,isCollapsed:r,open:n,close:a,toggleCollapse:i}=un(),[o,l]=p.useState([]),[c,u]=p.useState(!0),[f,d]=p.useState(!1),[h,m]=p.useState("today"),[x,g]=p.useState(null),[v,w]=p.useState([]),[b,y]=p.useState(!1);p.useEffect(()=>{N()},[e]);const N=async()=>{if(e){u(!0);try{const{data:P,error:M}=await H.functions.invoke("ai-news",{body:{action:"get"}});if(M)throw M;P.success&&(l(P.news||[]),g(P.summary||null),w(P.videoAlerts||[]))}catch(P){console.error("Error fetching news:",P),V.error("Error al cargar las noticias")}finally{u(!1)}}},j=async()=>{if(e){d(!0);try{const{data:P,error:M}=await H.functions.invoke("ai-news",{body:{action:"fetch"}});if(M)throw M;P.success?(V.success(`Se encontraron ${P.totalItems||0} noticias`),await N()):V.error(P.error||"Error al actualizar noticias")}catch(P){console.error("Error refreshing news:",P),V.error("Error al actualizar las noticias")}finally{d(!1)}}},S=async P=>{try{const{data:M,error:F}=await H.functions.invoke("ai-news",{body:{action:"toggle-favorite",newsId:P}});if(F)throw F;l(B=>B.map(q=>q.id===P?{...q,isFavorite:M.isFavorite}:q)),V.success(M.isFavorite?"Aadido a favoritos":"Eliminado de favoritos")}catch(M){console.error("Error toggling favorite:",M),V.error("Error al guardar favorito")}},_=async()=>{y(!0);try{const{data:P,error:M}=await H.functions.invoke("ai-news",{body:{action:"generate-summary"}});if(M)throw M;P.success?(g({id:"new",summary:P.summary,key_insights:P.key_insights,generated_at:new Date().toISOString()}),V.success("Resumen generado")):V.error(P.error||"Error al generar resumen")}catch(P){console.error("Error generating summary:",P),V.error("Error al generar resumen")}finally{y(!1)}},k=async(P,M)=>{try{await H.functions.invoke("ai-news",{body:{action:"toggle-video-alert",creatorName:P,enabled:M}}),w(F=>F.find(q=>q.creator_name===P)?F.map(q=>q.creator_name===P?{...q,enabled:M}:q):[...F,{id:"new",creator_name:P,enabled:M}]),V.success(M?`Alertas activadas para ${P}`:"Alertas desactivadas")}catch(F){console.error("Error toggling video alert:",F)}},E=p.useMemo(()=>{const P={};return o.forEach(M=>{const F=M.date;P[F]||(P[F]=[]),P[F].push(M)}),Object.entries(P).sort(([M],[F])=>new Date(F).getTime()-new Date(M).getTime())},[o]),A=p.useMemo(()=>o.filter(P=>Mm(Br(P.date))&&!P.is_video),[o]),C=p.useMemo(()=>o.filter(P=>Mm(Br(P.date))&&P.is_video),[o]);p.useMemo(()=>o.filter(P=>j1(Br(P.date))&&!P.is_video),[o]),p.useMemo(()=>o.filter(P=>j1(Br(P.date))&&P.is_video),[o]);const O=p.useMemo(()=>o.filter(P=>P.is_video).sort((P,M)=>new Date(M.date).getTime()-new Date(P.date).getTime()),[o]),$=p.useMemo(()=>o.filter(P=>P.isFavorite),[o]),R=P=>{const M=Br(P);return Mm(M)?"Hoy":j1(M)?"Ayer":ye(M,"EEEE, d 'de' MMMM",{locale:ot})},T=P=>{const M=v.find(F=>F.creator_name===P);return(M==null?void 0:M.enabled)??!1},L=({item:P})=>s.jsx(X,{className:"border-border bg-card hover:border-primary/30 transition-all group",children:s.jsx(Y,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:z("w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0",P.is_video?"bg-destructive/20":"bg-primary/20"),children:P.is_video?s.jsx(Qa,{className:"w-5 h-5 text-destructive"}):s.jsx(Ev,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("h3",{className:"font-medium text-foreground line-clamp-2 group-hover:text-primary transition-colors",children:P.title}),s.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[s.jsx("button",{onClick:M=>{M.stopPropagation(),S(P.id)},className:z("p-1.5 rounded-lg transition-colors",P.isFavorite?"text-warning bg-warning/10":"text-muted-foreground hover:bg-muted"),children:s.jsx(fo,{className:z("w-4 h-4",P.isFavorite&&"fill-current")})}),P.source_url&&s.jsx("a",{href:P.source_url,target:"_blank",rel:"noopener noreferrer",className:"p-1.5 rounded-lg hover:bg-muted transition-colors",children:s.jsx(KC,{className:"w-4 h-4 text-muted-foreground"})})]})]}),P.summary&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:P.summary}),s.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[P.source_name&&s.jsx(Q,{variant:"outline",className:"text-xs",children:P.source_name}),P.creator_name&&s.jsxs(Q,{variant:"outline",className:"text-xs bg-destructive/10 text-destructive border-destructive/30",children:[s.jsx(wc,{className:"w-3 h-3 mr-1"}),P.creator_name]}),P.relevance_score&&P.relevance_score>=8&&s.jsxs(Q,{variant:"outline",className:"text-xs bg-success/10 text-success border-success/30",children:[s.jsx(Zr,{className:"w-3 h-3 mr-1"}),"Top"]}),s.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(Pt,{className:"w-3 h-3"}),ye(Br(P.created_at),"HH:mm")]})]})]})]})})}),I=({item:P})=>s.jsx("a",{href:P.source_url||"#",target:"_blank",rel:"noopener noreferrer",className:"block",children:s.jsx(X,{className:"border-border bg-card hover:border-destructive/50 transition-all group cursor-pointer overflow-hidden",children:s.jsx(Y,{className:"p-0",children:s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsxs("div",{className:"w-32 h-20 bg-gradient-to-br from-destructive/20 to-destructive/5 flex items-center justify-center flex-shrink-0 relative",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-destructive/80 flex items-center justify-center group-hover:scale-110 transition-transform",children:s.jsx(Qa,{className:"w-5 h-5 text-white fill-current ml-0.5"})}),s.jsx("button",{onClick:M=>{M.preventDefault(),M.stopPropagation(),S(P.id)},className:z("absolute top-1 right-1 p-1 rounded transition-colors",P.isFavorite?"text-warning":"text-white/60 hover:text-white"),children:s.jsx(fo,{className:z("w-4 h-4",P.isFavorite&&"fill-current")})})]}),s.jsxs("div",{className:"flex-1 p-3 min-w-0",children:[s.jsx("h3",{className:"font-medium text-foreground line-clamp-2 text-sm group-hover:text-destructive transition-colors",children:P.title}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[P.creator_name&&s.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(wc,{className:"w-3 h-3 text-destructive"}),P.creator_name]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:R(P.date)})]})]})]})})})});return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(zr,{isOpen:t,onClose:a,isCollapsed:r,onToggleCollapse:i}),s.jsxs("div",{className:z("transition-all duration-300",r?"lg:pl-20":"lg:pl-72"),children:[s.jsx(Ur,{onMenuClick:n}),s.jsxs("main",{className:"p-4 lg:p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center",children:s.jsx(et,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Noticias de IA"}),s.jsxs("p",{className:"text-sm text-muted-foreground font-mono",children:[o.length," NOTICIAS  ",$.length," FAVORITOS"]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{onClick:_,disabled:b||A.length===0,variant:"outline",className:"gap-2",children:[b?s.jsx(_e,{className:"w-4 h-4 animate-spin"}):s.jsx(_l,{className:"w-4 h-4"}),"Resumen IA"]}),s.jsx(U,{onClick:j,disabled:f,className:"gap-2",children:f?s.jsxs(s.Fragment,{children:[s.jsx(_e,{className:"w-4 h-4 animate-spin"}),"Buscando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"w-4 h-4"}),"Actualizar"]})})]})]}),x&&s.jsx(ka,{defaultOpen:!1,children:s.jsxs(X,{className:"border-primary/30 bg-primary/5",children:[s.jsx(ea,{asChild:!0,children:s.jsx(pe,{className:"pb-2 cursor-pointer hover:bg-primary/10 transition-colors rounded-t-lg",children:s.jsxs(ge,{className:"text-base flex items-center gap-2",children:[s.jsx(Cl,{className:"w-5 h-5 text-primary"}),"Resumen del da",s.jsx(Q,{variant:"outline",className:"text-xs",children:ye(Br(x.generated_at),"HH:mm")}),s.jsx(qn,{className:"w-4 h-4 ml-auto text-muted-foreground transition-transform duration-200 [&[data-state=open]>svg]:rotate-180"})]})})}),s.jsx(Ea,{children:s.jsxs(Y,{className:"space-y-3 pt-0",children:[s.jsx("p",{className:"text-sm text-foreground",children:x.summary}),x.key_insights&&x.key_insights.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Puntos clave:"}),s.jsx("ul",{className:"space-y-1",children:x.key_insights.map((P,M)=>s.jsxs("li",{className:"text-sm text-foreground flex items-start gap-2",children:[s.jsx("span",{className:"text-primary",children:""}),P]},M))})]})]})})]})}),s.jsxs(aa,{value:h,onValueChange:m,children:[s.jsxs(Ms,{className:"grid w-full grid-cols-6 max-w-3xl",children:[s.jsxs(Qe,{value:"today",className:"gap-1 text-xs sm:text-sm",children:[s.jsx(Jt,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Hoy"})]}),s.jsxs(Qe,{value:"videos",className:"gap-1 text-xs sm:text-sm",children:[s.jsx(wc,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Videos"})]}),s.jsxs(Qe,{value:"creators",className:"gap-1 text-xs sm:text-sm",children:[s.jsx(Hl,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Creadores"})]}),s.jsxs(Qe,{value:"favorites",className:"gap-1 text-xs sm:text-sm",children:[s.jsx(fo,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Guardados"}),$.length>0&&s.jsx(Q,{variant:"secondary",className:"ml-1 text-xs h-5 px-1.5",children:$.length})]}),s.jsxs(Qe,{value:"alerts",className:"gap-1 text-xs sm:text-sm",children:[s.jsx(Gs,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Alertas"})]}),s.jsxs(Qe,{value:"archive",className:"gap-1 text-xs sm:text-sm",children:[s.jsx(cA,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Archivo"})]})]}),s.jsx(Ze,{value:"today",className:"mt-6 space-y-6",children:c?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(_e,{className:"w-8 h-8 animate-spin text-primary"})}):A.length===0&&C.length===0?s.jsx(X,{className:"border-border bg-card",children:s.jsxs(Y,{className:"py-12 text-center",children:[s.jsx(Ev,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No hay noticias de hoy"}),s.jsxs(U,{onClick:j,variant:"outline",className:"mt-4 gap-2",children:[s.jsx(ht,{className:"w-4 h-4"}),"Buscar noticias"]})]})}):s.jsxs(s.Fragment,{children:[A.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Ev,{className:"w-5 h-5 text-primary"}),"Artculos de hoy",s.jsx(Q,{variant:"outline",className:"ml-2",children:A.length})]}),s.jsx("div",{className:"grid gap-4",children:A.map(P=>s.jsx(L,{item:P},P.id))})]}),C.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(wc,{className:"w-5 h-5 text-destructive"}),"Videos de hoy",s.jsx(Q,{variant:"outline",className:"ml-2",children:C.length})]}),s.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:C.map(P=>s.jsx(I,{item:P},P.id))})]})]})}),s.jsx(Ze,{value:"videos",className:"mt-6",children:c?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(_e,{className:"w-8 h-8 animate-spin text-primary"})}):O.length===0?s.jsx(X,{className:"border-border bg-card",children:s.jsxs(Y,{className:"py-12 text-center",children:[s.jsx(wc,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No hay videos guardados"}),s.jsxs(U,{onClick:j,variant:"outline",className:"mt-4 gap-2",children:[s.jsx(ht,{className:"w-4 h-4"}),"Buscar videos"]})]})}):s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"ltimos videos de divulgadores especializados en IA"}),s.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:O.map(P=>s.jsx(I,{item:P},P.id))})]})}),s.jsx(Ze,{value:"creators",className:"mt-6",children:s.jsx(EFe,{})}),s.jsx(Ze,{value:"favorites",className:"mt-6",children:c?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(_e,{className:"w-8 h-8 animate-spin text-primary"})}):$.length===0?s.jsx(X,{className:"border-border bg-card",children:s.jsxs(Y,{className:"py-12 text-center",children:[s.jsx(uY,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No tienes noticias guardadas"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Haz clic en la estrella  para guardar noticias"})]})}):s.jsx("div",{className:"grid gap-4",children:$.map(P=>P.is_video?s.jsx(I,{item:P},P.id):s.jsx(L,{item:P},P.id))})}),s.jsx(Ze,{value:"alerts",className:"mt-6",children:s.jsxs(X,{className:"border-border bg-card",children:[s.jsxs(pe,{children:[s.jsxs(ge,{className:"text-base flex items-center gap-2",children:[s.jsx(Gs,{className:"w-5 h-5 text-primary"}),"Alertas de videos"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Activa alertas para recibir notificaciones cuando tus creadores favoritos publiquen nuevos videos"})]}),s.jsx(Y,{className:"space-y-3",children:PFe.map(P=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-border hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-destructive/10 flex items-center justify-center",children:s.jsx(wc,{className:"w-5 h-5 text-destructive"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:P}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"YouTube"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[T(P)?s.jsx(Gs,{className:"w-4 h-4 text-primary"}):s.jsx(op,{className:"w-4 h-4 text-muted-foreground"}),s.jsx(ya,{checked:T(P),onCheckedChange:M=>k(P,M)})]})]},P))})]})}),s.jsx(Ze,{value:"archive",className:"mt-6",children:c?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(_e,{className:"w-8 h-8 animate-spin text-primary"})}):E.length===0?s.jsx(X,{className:"border-border bg-card",children:s.jsxs(Y,{className:"py-12 text-center",children:[s.jsx(cA,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No hay noticias archivadas"})]})}):s.jsx("div",{className:"space-y-8",children:E.map(([P,M])=>s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-foreground mb-4 flex items-center gap-2",children:[s.jsx(Jt,{className:"w-5 h-5 text-primary"}),R(P),s.jsx(Q,{variant:"outline",className:"ml-2",children:M.length})]}),s.jsx("div",{className:"grid gap-4",children:M.map(F=>F.is_video?s.jsx(I,{item:F},F.id):s.jsx(L,{item:F},F.id))})]},P))})})]})]})]})]})};function AFe({chatMessages:e}){var u,f,d,h;const[t,r]=p.useState(null),[n,a]=p.useState(!1),[i,o]=p.useState(!1),l=async()=>{if(e.length!==0){a(!0);try{const{data:m,error:x}=await H.functions.invoke("nutrition-preferences-summary",{body:{chatHistory:e}});if(x)throw x;r(m),o(!0)}catch(m){console.error("Error analyzing preferences:",m)}finally{a(!1)}}};p.useEffect(()=>{e.length>=4&&!i&&l()},[e.length]);const c=t&&(((u=t.likes)==null?void 0:u.length)>0||((f=t.dislikes)==null?void 0:f.length)>0||((d=t.favorite_cuisines)==null?void 0:d.length)>0||((h=t.cooking_preferences)==null?void 0:h.length)>0);return e.length<2?null:s.jsxs(X,{children:[s.jsx(pe,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ge,{className:"text-base flex items-center gap-2",children:[s.jsx(Qr,{className:"w-4 h-4 text-primary"}),"Preferencias Aprendidas"]}),s.jsx(U,{variant:"ghost",size:"sm",onClick:l,disabled:n,children:n?s.jsx(_e,{className:"w-4 h-4 animate-spin"}):s.jsx(ht,{className:"w-4 h-4"})})]})}),s.jsx(Y,{children:n?s.jsx("div",{className:"flex items-center justify-center py-4",children:s.jsx(_e,{className:"w-5 h-5 animate-spin text-muted-foreground"})}):c?s.jsxs("div",{className:"space-y-4",children:[t.summary&&s.jsxs("p",{className:"text-sm text-muted-foreground italic",children:['"',t.summary,'"']}),t.likes&&t.likes.length>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-muted-foreground mb-2 flex items-center gap-1",children:[s.jsx(FY,{className:"w-3 h-3 text-green-500"}),"Le gusta"]}),s.jsx("div",{className:"flex flex-wrap gap-1",children:t.likes.map((m,x)=>s.jsx(Q,{variant:"default",className:"text-xs bg-green-500/10 text-green-600 hover:bg-green-500/20",children:m},x))})]}),t.dislikes&&t.dislikes.length>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-muted-foreground mb-2 flex items-center gap-1",children:[s.jsx(LY,{className:"w-3 h-3 text-red-500"}),"No le gusta"]}),s.jsx("div",{className:"flex flex-wrap gap-1",children:t.dislikes.map((m,x)=>s.jsx(Q,{variant:"outline",className:"text-xs border-red-300 text-red-600",children:m},x))})]}),t.favorite_cuisines&&t.favorite_cuisines.length>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-muted-foreground mb-2 flex items-center gap-1",children:[s.jsx(dy,{className:"w-3 h-3"}),"Cocinas favoritas"]}),s.jsx("div",{className:"flex flex-wrap gap-1",children:t.favorite_cuisines.map((m,x)=>s.jsx(Q,{variant:"secondary",className:"text-xs",children:m},x))})]}),t.cooking_preferences&&t.cooking_preferences.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Preferencias de cocina"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:t.cooking_preferences.map((m,x)=>s.jsx(Q,{variant:"outline",className:"text-xs",children:m},x))})]})]}):s.jsxs("div",{className:"text-center py-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Chatea con Jarvis para que aprenda tus gustos y preferencias alimentarias."}),e.length>=2&&!i&&s.jsxs(U,{variant:"outline",size:"sm",className:"mt-2",onClick:l,children:[s.jsx(Qr,{className:"w-4 h-4 mr-2"}),"Analizar conversacin"]})]})})]})}const qD={Carnes:"bg-destructive/10 text-destructive",Pescados:"bg-primary/10 text-primary",Lcteos:"bg-warning/10 text-warning",Verduras:"bg-success/10 text-success",Frutas:"bg-chart-4/10 text-chart-4",Cereales:"bg-chart-5/10 text-chart-5",Condimentos:"bg-muted text-muted-foreground",Otros:"bg-secondary text-secondary-foreground"},TFe=()=>{var w,b;const{currentList:e,loading:t,toggleItem:r,addItem:n,removeItem:a,clearList:i}=PV(),[o,l]=p.useState(""),[c,u]=p.useState(""),[f,d]=p.useState(new Set(["Carnes","Verduras","Otros"])),h=()=>{o.trim()&&(n({name:o.trim(),quantity:c.trim()||"1",category:"Otros"}),l(""),u(""))},m=y=>{d(N=>{const j=new Set(N);return j.has(y)?j.delete(y):j.add(y),j})},x=((e==null?void 0:e.items)||[]).reduce((y,N,j)=>{const S=N.category||"Otros";return y[S]||(y[S]=[]),y[S].push({...N,originalIndex:j}),y},{}),g=((w=e==null?void 0:e.items)==null?void 0:w.length)||0,v=((b=e==null?void 0:e.items)==null?void 0:b.filter(y=>y.checked).length)||0;return t?s.jsx(X,{children:s.jsx(Y,{className:"py-8 flex items-center justify-center",children:s.jsx(_e,{className:"w-6 h-6 animate-spin text-muted-foreground"})})}):s.jsxs(X,{children:[s.jsxs(pe,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsxs(ge,{className:"flex items-center gap-2",children:[s.jsx(lS,{className:"w-5 h-5 text-primary"}),"Lista de Compra",g>0&&s.jsxs(Q,{variant:"secondary",className:"ml-2",children:[v,"/",g]})]}),e&&s.jsx(U,{variant:"ghost",size:"icon",onClick:i,className:"h-8 w-8",children:s.jsx(Ri,{className:"w-4 h-4"})})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(be,{placeholder:"Aadir artculo...",value:o,onChange:y=>l(y.target.value),onKeyDown:y=>y.key==="Enter"&&h(),className:"flex-1"}),s.jsx(be,{placeholder:"Cantidad",value:c,onChange:y=>u(y.target.value),className:"w-24"}),s.jsx(U,{size:"icon",onClick:h,children:s.jsx(wt,{className:"w-4 h-4"})})]}),g===0?s.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[s.jsx(lS,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No hay artculos en la lista"}),s.jsx("p",{className:"text-xs mt-1",children:"Genera una lista desde tus comidas seleccionadas"})]}):s.jsx(Tn,{className:"h-[300px]",children:s.jsx("div",{className:"space-y-3",children:Object.entries(x).map(([y,N])=>s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>m(y),className:"flex items-center gap-2 w-full text-left py-1",children:[f.has(y)?s.jsx(qn,{className:"w-4 h-4"}):s.jsx(Zs,{className:"w-4 h-4"}),s.jsxs(Q,{className:z("font-normal",qD[y]||qD.Otros),children:[y," (",N.length,")"]})]}),f.has(y)&&s.jsx("div",{className:"ml-6 space-y-1 mt-1",children:N.map(j=>s.jsxs("div",{className:"flex items-center gap-2 py-1 group",children:[s.jsx(ls,{checked:j.checked,onCheckedChange:()=>r(j.originalIndex)}),s.jsx("span",{className:z("flex-1 text-sm",j.checked&&"line-through text-muted-foreground"),children:j.name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:j.quantity}),s.jsx(U,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>a(j.originalIndex),children:s.jsx(Ri,{className:"w-3 h-3"})})]},j.originalIndex))})]},y))})})]})]})},MFe={breakfast:"Desayuno",lunch:"Comida",dinner:"Cena",snack:"Snack"},RFe=()=>{const{loading:e,getMealFrequency:t,getRecentMeals:r}=WP(),n=r(7),a=t().slice(0,5);return e?s.jsx(X,{children:s.jsx(Y,{className:"py-8 flex items-center justify-center",children:s.jsx(_e,{className:"w-6 h-6 animate-spin text-muted-foreground"})})}):s.jsxs(X,{children:[s.jsx(pe,{children:s.jsxs(ge,{className:"flex items-center gap-2",children:[s.jsx(hy,{className:"w-5 h-5 text-primary"}),"Historial de Comidas"]})}),s.jsxs(Y,{className:"space-y-6",children:[a.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2 mb-2",children:[s.jsx(Zr,{className:"w-4 h-4 text-success"}),"Tus platos favoritos"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(([i,o])=>s.jsxs(Q,{variant:"secondary",className:"font-normal",children:[i," ",s.jsxs("span",{className:"ml-1 opacity-70",children:["",o]})]},i))})]}),n.length===0?s.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[s.jsx(hy,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No hay comidas registradas"})]}):s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"ltimos 7 das"}),s.jsx(Tn,{className:"h-[200px]",children:s.jsx("div",{className:"space-y-2",children:n.map(i=>s.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:i.meal_name}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx("span",{children:ye(Br(i.date),"EEE d",{locale:ot})}),s.jsx(Q,{variant:"outline",className:"text-xs py-0",children:MFe[i.meal_type]||i.meal_type})]})]}),i.was_completed?s.jsx(gt,{className:"w-4 h-4 text-success shrink-0"}):s.jsx(Pt,{className:"w-4 h-4 text-muted-foreground shrink-0"}),i.energy_after&&s.jsxs(Q,{variant:"secondary",className:"text-xs",children:[" ",i.energy_after,"/5"]})]},i.id))})})]})]})]})},IFe={post_entreno:"Post entreno",comida_principal:"Comida principal",noche:"Noche",maana:"Maana"},DFe=()=>{const{profile:e,supplementLogs:t,loading:r,logSupplement:n,removeSupplementLog:a}=EV();if(r)return s.jsx(X,{children:s.jsx(Y,{className:"py-8 flex items-center justify-center",children:s.jsx(_e,{className:"w-6 h-6 animate-spin text-muted-foreground"})})});const i=(e==null?void 0:e.supplements)||[],o=u=>t.some(f=>f.supplement_name===u),l=u=>t.find(f=>f.supplement_name===u),c=u=>{const f=l(u);f?a(f.id):n(u)};return s.jsxs(X,{children:[s.jsx(pe,{children:s.jsxs(ge,{className:"flex items-center gap-2",children:[s.jsx(vA,{className:"w-5 h-5 text-primary"}),"Suplementos del Da"]})}),s.jsx(Y,{children:i.length===0?s.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[s.jsx(vA,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No hay suplementos configurados"})]}):s.jsx("div",{className:"space-y-3",children:i.map((u,f)=>{const d=o(u.name);return s.jsxs("div",{className:z("flex items-center gap-3 p-3 rounded-lg transition-colors",d?"bg-success/10":"bg-muted/50"),children:[s.jsx(ls,{checked:d,onCheckedChange:()=>c(u.name)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:z("font-medium",d&&"line-through text-muted-foreground"),children:u.name}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-0.5",children:[s.jsx(Pt,{className:"w-3 h-3"}),s.jsx("span",{children:IFe[u.moment]||u.moment}),u.dose&&s.jsx(Q,{variant:"outline",className:"text-xs py-0",children:u.dose})]})]})]},f)})})})]})},$Fe=[{value:"balanced",label:"Balanceada"},{value:"mediterranean",label:"Mediterrnea"},{value:"vegetarian",label:"Vegetariana"},{value:"vegan",label:"Vegana"},{value:"keto",label:"Cetognica"},{value:"paleo",label:"Paleo"},{value:"low-carb",label:"Baja en carbohidratos"}],LFe=[{value:"lose",label:"Perder peso"},{value:"maintain",label:"Mantener peso"},{value:"gain",label:"Ganar masa muscular"},{value:"health",label:"Mejorar salud"}],FFe=()=>{var O,$;const{isOpen:e,isCollapsed:t,open:r,close:n,toggleCollapse:a}=un(),{preferences:i,loading:o,saving:l,savePreferences:c,chatMessages:u,chatLoading:f,sendChatMessage:d,clearChat:h}=kV(),[m,x]=p.useState(""),[g,v]=p.useState(""),[w,b]=p.useState(""),[y,N]=p.useState(null),[j,S]=p.useState(!1),_=async()=>{if(!m.trim()||f)return;const R=m;x(""),await d(R)},k=()=>{!g.trim()||!i||(c({restrictions:[...i.restrictions||[],g.trim()]}),v(""))},E=R=>{if(!i)return;const T=[...i.restrictions];T.splice(R,1),c({restrictions:T})},A=()=>{!w.trim()||!i||(c({allergies:[...i.allergies||[],w.trim()]}),b(""))},C=R=>{if(!i)return;const T=[...i.allergies];T.splice(R,1),c({allergies:T})};return o?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx(_e,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(zr,{isOpen:e,onClose:n,isCollapsed:t,onToggleCollapse:a}),s.jsxs("div",{className:z("transition-all duration-300",t?"lg:pl-20":"lg:pl-72"),children:[s.jsx(Ur,{onMenuClick:r}),s.jsx("main",{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(Qc,{className:"w-6 h-6 text-success"}),"Jarvis Nutricin"]}),s.jsx("p",{className:"text-muted-foreground",children:"Configura tu dieta y chatea con tu asistente nutricional"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(X,{children:[s.jsx(pe,{children:s.jsxs(ge,{className:"flex items-center gap-2",children:[s.jsx(Xc,{className:"w-5 h-5 text-success"}),"Tipo de Dieta"]})}),s.jsx(Y,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:$Fe.map(R=>s.jsx(U,{variant:(i==null?void 0:i.diet_type)===R.value?"default":"outline",className:"w-full",onClick:()=>c({diet_type:R.value}),disabled:l,children:R.label},R.value))})})]}),s.jsxs(X,{children:[s.jsx(pe,{children:s.jsxs(ge,{className:"flex items-center gap-2",children:[s.jsx(Dt,{className:"w-5 h-5 text-primary"}),"Objetivo"]})}),s.jsx(Y,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:LFe.map(R=>s.jsx(U,{variant:(i==null?void 0:i.goals)===R.value?"default":"outline",className:"w-full",onClick:()=>c({goals:R.value}),disabled:l,children:R.label},R.value))})})]}),s.jsxs(X,{children:[s.jsx(pe,{children:s.jsxs(ge,{className:"flex items-center gap-2",children:[s.jsx(Nn,{className:"w-5 h-5 text-warning"}),"Objetivos Nutricionales"]})}),s.jsxs(Y,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nn,{className:"w-4 h-4 text-warning"}),s.jsx("span",{children:"Caloras"})]}),s.jsxs("span",{className:"font-mono font-bold",children:[i==null?void 0:i.calories_target," kcal"]})]}),s.jsx(Er,{value:[(i==null?void 0:i.calories_target)||2e3],onValueChange:([R])=>c({calories_target:R}),min:1200,max:4e3,step:50})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cY,{className:"w-4 h-4 text-destructive"}),s.jsx("span",{className:"text-sm",children:"Protenas"})]}),s.jsx(be,{type:"number",value:(i==null?void 0:i.proteins_target)||100,onChange:R=>c({proteins_target:Number(R.target.value)}),className:"font-mono"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"gramos"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qY,{className:"w-4 h-4 text-warning"}),s.jsx("span",{className:"text-sm",children:"Carbos"})]}),s.jsx(be,{type:"number",value:(i==null?void 0:i.carbs_target)||250,onChange:R=>c({carbs_target:Number(R.target.value)}),className:"font-mono"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"gramos"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pY,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"text-sm",children:"Grasas"})]}),s.jsx(be,{type:"number",value:(i==null?void 0:i.fats_target)||70,onChange:R=>c({fats_target:Number(R.target.value)}),className:"font-mono"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"gramos"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(X,{children:[s.jsx(pe,{children:s.jsx(ge,{className:"text-base",children:"Restricciones alimentarias"})}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(be,{placeholder:"Aadir restriccin...",value:g,onChange:R=>v(R.target.value),onKeyDown:R=>R.key==="Enter"&&k()}),s.jsx(U,{size:"icon",onClick:k,children:s.jsx(wt,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(O=i==null?void 0:i.restrictions)==null?void 0:O.map((R,T)=>s.jsxs(Q,{variant:"secondary",className:"gap-1",children:[R,s.jsx("button",{onClick:()=>E(T),children:s.jsx(kt,{className:"w-3 h-3"})})]},T))})]})]}),s.jsxs(X,{children:[s.jsx(pe,{children:s.jsx(ge,{className:"text-base",children:"Alergias"})}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(be,{placeholder:"Aadir alergia...",value:w,onChange:R=>b(R.target.value),onKeyDown:R=>R.key==="Enter"&&A()}),s.jsx(U,{size:"icon",onClick:A,children:s.jsx(wt,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:($=i==null?void 0:i.allergies)==null?void 0:$.map((R,T)=>s.jsxs(Q,{variant:"destructive",className:"gap-1",children:[R,s.jsx("button",{onClick:()=>C(T),children:s.jsx(kt,{className:"w-3 h-3"})})]},T))})]})]})]}),s.jsxs(X,{children:[s.jsx(pe,{children:s.jsx(ge,{className:"text-base",children:"Notas adicionales"})}),s.jsx(Y,{children:s.jsx(Kr,{placeholder:"Aade cualquier nota adicional sobre tus preferencias alimentarias...",value:(i==null?void 0:i.preferences_notes)||"",onChange:R=>c({preferences_notes:R.target.value}),rows:3})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(DFe,{}),s.jsx(TFe,{}),s.jsx(RFe,{}),s.jsx(AFe,{chatMessages:u}),s.jsxs(X,{className:"h-[400px] flex flex-col",children:[s.jsxs(pe,{className:"flex-shrink-0 flex flex-row items-center justify-between pb-2",children:[s.jsxs(ge,{className:"text-base flex items-center gap-2",children:[s.jsx(Qc,{className:"w-4 h-4 text-primary"}),"Chat con Jarvis"]}),u.length>0&&s.jsx(U,{variant:"ghost",size:"icon",onClick:h,className:"h-8 w-8",children:s.jsx(Ri,{className:"w-4 h-4"})})]}),s.jsxs(Y,{className:"flex-1 flex flex-col overflow-hidden p-0",children:[s.jsx(Tn,{className:"flex-1 px-4",children:u.length===0?s.jsxs("div",{className:"text-center text-muted-foreground py-6",children:[s.jsx(Qc,{className:"w-10 h-10 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Cuntame tus gustos y preferencias."})]}):s.jsxs("div",{className:"space-y-3 pb-4",children:[u.map((R,T)=>s.jsx("div",{className:z("p-3 rounded-lg max-w-[90%]",R.role==="user"?"bg-primary text-primary-foreground ml-auto":"bg-muted"),children:s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:R.content})},T)),f&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(_e,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{className:"text-sm",children:"Escribiendo..."})]})]})}),s.jsx("div",{className:"p-3 border-t",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(be,{placeholder:"Ej: No me gusta el pescado...",value:m,onChange:R=>x(R.target.value),onKeyDown:R=>R.key==="Enter"&&!R.shiftKey&&_(),disabled:f,className:"text-sm"}),s.jsx(U,{size:"icon",onClick:_,disabled:f||!m.trim(),children:s.jsx(j0,{className:"w-4 h-4"})})]})})]})]})]})]})]})})]}),s.jsx(OV,{meal:y,preferences:i,open:j,onOpenChange:S})]})},fg=[{id:"housing",label:"Vivienda",icon:"",subcategories:[{id:"rent",label:"Alquiler"},{id:"mortgage",label:"Hipoteca"},{id:"community",label:"Comunidad"},{id:"insurance_home",label:"Seguro hogar"},{id:"maintenance",label:"Mantenimiento"}]},{id:"utilities",label:"Suministros",icon:"",subcategories:[{id:"electricity",label:"Luz"},{id:"gas",label:"Gas"},{id:"water",label:"Agua"},{id:"internet",label:"Internet"},{id:"phone",label:"Telfono"}]},{id:"transport",label:"Transporte",icon:"",subcategories:[{id:"fuel",label:"Combustible"},{id:"public_transport",label:"Transporte pblico"},{id:"car_insurance",label:"Seguro coche"},{id:"car_maintenance",label:"Mantenimiento"},{id:"parking",label:"Parking"},{id:"taxi",label:"Taxi/VTC"}]},{id:"food",label:"Alimentacin",icon:"",subcategories:[{id:"supermarket",label:"Supermercado"},{id:"restaurants",label:"Restaurantes"},{id:"delivery",label:"Delivery"},{id:"coffee",label:"Cafs"}]},{id:"subscriptions",label:"Suscripciones",icon:"",subcategories:[{id:"streaming",label:"Streaming (Netflix, etc)"},{id:"music",label:"Msica (Spotify, etc)"},{id:"software",label:"Software"},{id:"gym",label:"Gimnasio"},{id:"other_subs",label:"Otras"}]},{id:"loans",label:"Prstamos",icon:"",subcategories:[{id:"personal_loan",label:"Prstamo personal"},{id:"car_loan",label:"Prstamo coche"},{id:"credit_card",label:"Tarjeta crdito"}]},{id:"health",label:"Salud",icon:"",subcategories:[{id:"pharmacy",label:"Farmacia"},{id:"doctor",label:"Mdico"},{id:"dentist",label:"Dentista"},{id:"health_insurance",label:"Seguro mdico"}]},{id:"education",label:"Educacin",icon:"",subcategories:[{id:"courses",label:"Cursos"},{id:"books",label:"Libros"},{id:"school",label:"Colegio"}]},{id:"entertainment",label:"Ocio",icon:"",subcategories:[{id:"cinema",label:"Cine"},{id:"events",label:"Eventos"},{id:"travel",label:"Viajes"},{id:"hobbies",label:"Hobbies"}]},{id:"shopping",label:"Compras",icon:"",subcategories:[{id:"clothing",label:"Ropa"},{id:"electronics",label:"Electrnica"},{id:"home_goods",label:"Hogar"}]},{id:"family",label:"Familia",icon:"",subcategories:[{id:"childcare",label:"Guardera"},{id:"kids_activities",label:"Actividades nios"},{id:"pets",label:"Mascotas"}]},{id:"business",label:"Negocio",icon:"",subcategories:[{id:"supplies",label:"Material"},{id:"marketing",label:"Marketing"},{id:"professional_services",label:"Servicios profesionales"}]},{id:"taxes",label:"Impuestos",icon:"",subcategories:[{id:"income_tax",label:"IRPF"},{id:"vat",label:"IVA"},{id:"property_tax",label:"IBI"},{id:"social_security",label:"Seguridad Social"}]},{id:"other",label:"Otros",icon:"",subcategories:[]}],AV=[{id:"salary",label:"Nmina",icon:"",subcategories:[{id:"main_salary",label:"Salario principal"},{id:"bonus",label:"Bonus"},{id:"extra_pay",label:"Paga extra"}]},{id:"freelance",label:"Freelance",icon:"",subcategories:[{id:"project",label:"Proyecto"},{id:"consulting",label:"Consultora"},{id:"commission",label:"Comisin"}]},{id:"business",label:"Negocio",icon:"",subcategories:[{id:"sales",label:"Ventas"},{id:"services",label:"Servicios"}]},{id:"investments",label:"Inversiones",icon:"",subcategories:[{id:"dividends",label:"Dividendos"},{id:"capital_gains",label:"Plusvalas"},{id:"interest",label:"Intereses"}]},{id:"rental",label:"Alquileres",icon:"",subcategories:[{id:"property_rent",label:"Alquiler inmueble"},{id:"room_rent",label:"Habitacin"}]},{id:"refunds",label:"Reembolsos",icon:"",subcategories:[]},{id:"other",label:"Otros",icon:"",subcategories:[]}],BFe=()=>{const{user:e}=ut(),[t,r]=p.useState([]),[n,a]=p.useState([]),[i,o]=p.useState([]),[l,c]=p.useState([]),[u,f]=p.useState(!0),[d,h]=p.useState(new Date),m=p.useCallback(async()=>{if(!e){f(!1);return}try{const k=ye(on(d),"yyyy-MM-dd"),E=ye(zi(d),"yyyy-MM-dd"),[A,C,O,$]=await Promise.all([H.from("finance_accounts").select("*").eq("user_id",e.id).order("name"),H.from("finance_transactions").select("*").eq("user_id",e.id).gte("transaction_date",k).lte("transaction_date",E).order("transaction_date",{ascending:!1}),H.from("finance_budgets").select("*").eq("user_id",e.id).eq("is_active",!0),H.from("finance_goals").select("*").eq("user_id",e.id).eq("status","active")]);if(A.error)throw A.error;if(C.error)throw C.error;if(O.error)throw O.error;if($.error)throw $.error;r(A.data),a(C.data),o(O.data),c($.data)}catch(k){console.error("Error fetching finance data:",k),V.error("Error al cargar datos financieros")}finally{f(!1)}},[e,d]);p.useEffect(()=>{m()},[m]);const x=p.useMemo(()=>{const k=n.filter(I=>I.transaction_type==="income"&&I.invoice_status!=="pending").reduce((I,P)=>I+Number(P.amount),0),E=n.filter(I=>I.transaction_type==="income"&&I.invoice_status==="pending").reduce((I,P)=>I+Number(P.amount),0),A=n.filter(I=>I.transaction_type==="expense").reduce((I,P)=>I+Number(P.amount),0),C=n.filter(I=>I.transaction_type==="expense"&&I.is_recurring).reduce((I,P)=>I+Number(P.amount),0),O=A-C,$=n.filter(I=>I.transaction_type==="income"&&I.is_recurring&&I.invoice_status!=="pending").reduce((I,P)=>I+Number(P.amount),0),R=t.reduce((I,P)=>I+Number(P.balance),0),T=n.filter(I=>I.transaction_type==="expense").reduce((I,P)=>(I[P.category]=(I[P.category]||0)+Number(P.amount),I),{}),L=i.map(I=>{const P=T[I.category]||0,M=P/Number(I.budget_amount)*100;return{...I,spent:P,percentage:M,isOverBudget:M>100,isNearLimit:M>=I.alert_threshold}});return{totalIncome:k,pendingInvoices:E,totalExpenses:A,recurringExpenses:C,nonRecurringExpenses:O,recurringIncome:$,netCashflow:k-A,totalBalance:R,expensesByCategory:T,budgetStatus:L}},[n,t,i]),g=p.useMemo(()=>n.filter(k=>k.invoice_number||k.invoice_status),[n]),v=p.useCallback(async k=>{if(!e)return null;try{const{data:E,error:A}=await H.from("finance_accounts").insert({...k,user_id:e.id}).select().single();if(A)throw A;return r(C=>[...C,E]),V.success("Cuenta aadida"),E}catch(E){return console.error("Error adding account:",E),V.error("Error al aadir cuenta"),null}},[e]),w=p.useCallback(async k=>{if(!e)return null;try{const{data:E,error:A}=await H.from("finance_transactions").insert({...k,user_id:e.id}).select().single();if(A)throw A;if(a(C=>[E,...C]),k.account_id){const C=k.transaction_type==="income"?Number(k.amount):-Number(k.amount);await H.from("finance_accounts").update({balance:t.find(O=>O.id===k.account_id).balance+C}).eq("id",k.account_id),m()}return V.success("Transaccin registrada"),E}catch(E){return console.error("Error adding transaction:",E),V.error("Error al registrar transaccin"),null}},[e,t,m]),b=p.useCallback(async k=>{if(!e)return null;try{const{data:E,error:A}=await H.from("finance_budgets").insert({...k,user_id:e.id}).select().single();if(A)throw A;return o(C=>[...C,E]),V.success("Presupuesto creado"),E}catch(E){return console.error("Error adding budget:",E),V.error("Error al crear presupuesto"),null}},[e]),y=p.useCallback(async k=>{if(!e)return null;try{const{data:E,error:A}=await H.from("finance_goals").insert({...k,user_id:e.id}).select().single();if(A)throw A;return c(C=>[...C,E]),V.success("Meta financiera creada"),E}catch(E){return console.error("Error adding goal:",E),V.error("Error al crear meta"),null}},[e]),N=p.useCallback(async(k,E)=>{try{const{error:A}=await H.from("finance_goals").update(E).eq("id",k);if(A)throw A;return c(C=>C.map(O=>O.id===k?{...O,...E}:O)),V.success("Meta actualizada"),!0}catch(A){return console.error("Error updating goal:",A),V.error("Error al actualizar meta"),!1}},[]),j=p.useCallback(async k=>{try{const{error:E}=await H.from("finance_transactions").delete().eq("id",k);if(E)throw E;return a(A=>A.filter(C=>C.id!==k)),V.success("Transaccin eliminada"),!0}catch(E){return console.error("Error deleting transaction:",E),V.error("Error al eliminar transaccin"),!1}},[]),S=p.useCallback(async(k,E)=>{try{const{error:A}=await H.from("finance_transactions").update(E).eq("id",k);if(A)throw A;return a(C=>C.map(O=>O.id===k?{...O,...E}:O)),V.success("Transaccin actualizada"),!0}catch(A){return console.error("Error updating transaction:",A),V.error("Error al actualizar transaccin"),!1}},[]),_=p.useCallback(async k=>{if(!e)return!1;try{const E=k.map(C=>({user_id:e.id,transaction_type:C.transaction_type,category:C.category,amount:C.amount,currency:C.currency||"EUR",description:C.description,vendor:C.vendor||null,transaction_date:C.transaction_date,is_recurring:!1})),{error:A}=await H.from("finance_transactions").insert(E);if(A)throw A;return await m(),!0}catch(E){return console.error("Error importing transactions:",E),V.error("Error al importar transacciones"),!1}},[e,m]);return{accounts:t,transactions:n,invoices:g,budgets:i,goals:l,loading:u,summary:x,selectedMonth:d,setSelectedMonth:h,addAccount:v,addTransaction:w,updateTransaction:S,importTransactions:_,addBudget:b,addGoal:y,updateGoal:N,deleteTransaction:j,refresh:m}},zFe=()=>{const[e,t]=p.useState(!1),[r,n]=p.useState(null),[a,i]=p.useState(null),o=p.useCallback(async(c,u=3)=>{if(c.length===0)return V.error("No hay transacciones para analizar"),null;t(!0),i(null);try{const{data:f,error:d}=await H.functions.invoke("finance-forecast",{body:{transactions:c.map(h=>({id:h.id,transaction_type:h.transaction_type,category:h.category,subcategory:h.subcategory,amount:h.amount,transaction_date:h.transaction_date,is_recurring:h.is_recurring,recurring_frequency:h.recurring_frequency,description:h.description,vendor:h.vendor})),monthsToForecast:u}});if(d)throw d;return f.error?(i(f.error),V.error(f.error),null):(n(f.forecast),V.success("Previsin generada correctamente"),f)}catch(f){const d=f instanceof Error?f.message:"Error al generar previsin";return i(d),V.error(d),null}finally{t(!1)}},[]),l=p.useCallback(()=>{n(null),i(null)},[]);return{loading:e,forecast:r,error:a,generateForecast:o,clearForecast:l}},UFe=({open:e,onOpenChange:t,type:r,accounts:n,onSubmit:a,isInvoice:i=!1})=>{const[o,l]=p.useState(!1),[c,u]=p.useState(""),[f,d]=p.useState(""),[h,m]=p.useState(""),[x,g]=p.useState(""),[v,w]=p.useState(""),[b,y]=p.useState(""),[N,j]=p.useState(ye(new Date,"yyyy-MM-dd")),[S,_]=p.useState(!1),[k,E]=p.useState(""),[A,C]=p.useState(""),[O,$]=p.useState("pending"),[R,T]=p.useState(""),L=r==="income"?AV:fg,I=p.useMemo(()=>L.find(B=>B.id===f),[f,L]),P=async B=>{B.preventDefault(),!(!c||!f)&&(l(!0),await a({transaction_type:r,amount:parseFloat(c),category:f,subcategory:h||null,description:x||null,vendor:v||null,account_id:b||null,transaction_date:N,currency:"EUR",is_recurring:S,recurring_frequency:S?k:null,invoice_number:i&&A||null,invoice_status:i?O:null,due_date:i&&R?R:null,tags:[]}),l(!1),M(),t(!1))},M=()=>{u(""),d(""),m(""),g(""),w(""),y(""),j(ye(new Date,"yyyy-MM-dd")),_(!1),E(""),C(""),$("pending"),T("")},F=i?r==="income"?"Emitir Factura":"Registrar Factura Recibida":r==="income"?"Aadir Ingreso":"Aadir Gasto";return s.jsx(Lt,{open:e,onOpenChange:t,children:s.jsxs(Ft,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsx(or,{children:s.jsx(lr,{children:F})}),s.jsxs("form",{onSubmit:P,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"amount",children:"Cantidad ()"}),s.jsx(be,{id:"amount",type:"number",step:"0.01",min:"0",value:c,onChange:B=>u(B.target.value),placeholder:"0.00",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"date",children:"Fecha"}),s.jsx(be,{id:"date",type:"date",value:N,onChange:B=>j(B.target.value),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"category",children:"Categora"}),s.jsxs(ar,{value:f,onValueChange:B=>{d(B),m("")},children:[s.jsx(Kt,{children:s.jsx(ir,{placeholder:"Selecciona una categora"})}),s.jsx(Yt,{children:L.map(B=>s.jsxs(De,{value:B.id,children:[B.icon," ",B.label]},B.id))})]})]}),I&&I.subcategories.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"subcategory",children:"Subcategora"}),s.jsxs(ar,{value:h,onValueChange:m,children:[s.jsx(Kt,{children:s.jsx(ir,{placeholder:"Selecciona (opcional)"})}),s.jsx(Yt,{children:I.subcategories.map(B=>s.jsx(De,{value:B.id,children:B.label},B.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"description",children:"Descripcin"}),s.jsx(be,{id:"description",value:x,onChange:B=>g(B.target.value),placeholder:"Descripcin opcional"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"vendor",children:r==="income"?"Cliente":"Proveedor"}),s.jsx(be,{id:"vendor",value:v,onChange:B=>w(B.target.value),placeholder:r==="income"?"Nombre del cliente":"Nombre del proveedor"})]}),n.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"account",children:"Cuenta"}),s.jsxs(ar,{value:b,onValueChange:y,children:[s.jsx(Kt,{children:s.jsx(ir,{placeholder:"Selecciona una cuenta (opcional)"})}),s.jsx(Yt,{children:n.map(B=>s.jsx(De,{value:B.id,children:B.name},B.id))})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"recurring",className:"text-sm font-medium",children:"Recurrente"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Se repite peridicamente"})]}),s.jsx(ya,{id:"recurring",checked:S,onCheckedChange:_})]}),S&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"frequency",children:"Frecuencia"}),s.jsxs(ar,{value:k,onValueChange:E,children:[s.jsx(Kt,{children:s.jsx(ir,{placeholder:"Selecciona frecuencia"})}),s.jsxs(Yt,{children:[s.jsx(De,{value:"weekly",children:"Semanal"}),s.jsx(De,{value:"monthly",children:"Mensual"}),s.jsx(De,{value:"quarterly",children:"Trimestral"}),s.jsx(De,{value:"yearly",children:"Anual"})]})]})]}),i&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"border-t pt-4 space-y-4",children:[s.jsx("h4",{className:"text-sm font-medium text-foreground",children:"Datos de factura"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"invoiceNumber",children:"N Factura"}),s.jsx(be,{id:"invoiceNumber",value:A,onChange:B=>C(B.target.value),placeholder:"FAC-001"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"invoiceStatus",children:"Estado"}),s.jsxs(ar,{value:O,onValueChange:$,children:[s.jsx(Kt,{children:s.jsx(ir,{})}),s.jsxs(Yt,{children:[s.jsx(De,{value:"pending",children:" Pendiente"}),s.jsx(De,{value:"paid",children:" Cobrada"}),s.jsx(De,{value:"overdue",children:" Vencida"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"dueDate",children:"Fecha de vencimiento"}),s.jsx(be,{id:"dueDate",type:"date",value:R,onChange:B=>T(B.target.value)})]})]})}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(U,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),s.jsx(U,{type:"submit",disabled:o,children:o?"Guardando...":"Guardar"})]})]})]})})},WFe=[{id:"bank",label:"Cuenta bancaria",icon:""},{id:"cash",label:"Efectivo",icon:""},{id:"investment",label:"Inversin",icon:""},{id:"credit",label:"Crdito",icon:""}],qFe=({open:e,onOpenChange:t,onSubmit:r})=>{const[n,a]=p.useState(!1),[i,o]=p.useState(""),[l,c]=p.useState("bank"),[u,f]=p.useState(""),d=async h=>{h.preventDefault(),i&&(a(!0),await r({name:i,account_type:l,balance:parseFloat(u)||0,currency:"EUR",is_active:!0}),a(!1),o(""),c("bank"),f(""),t(!1))};return s.jsx(Lt,{open:e,onOpenChange:t,children:s.jsxs(Ft,{className:"sm:max-w-md",children:[s.jsx(or,{children:s.jsx(lr,{children:"Nueva Cuenta"})}),s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"name",children:"Nombre de la cuenta"}),s.jsx(be,{id:"name",value:i,onChange:h=>o(h.target.value),placeholder:"Ej: Cuenta principal",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"type",children:"Tipo de cuenta"}),s.jsxs(ar,{value:l,onValueChange:h=>c(h),children:[s.jsx(Kt,{children:s.jsx(ir,{})}),s.jsx(Yt,{children:WFe.map(h=>s.jsxs(De,{value:h.id,children:[h.icon," ",h.label]},h.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"balance",children:"Saldo inicial ()"}),s.jsx(be,{id:"balance",type:"number",step:"0.01",value:u,onChange:h=>f(h.target.value),placeholder:"0.00"})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(U,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),s.jsx(U,{type:"submit",disabled:n,children:n?"Creando...":"Crear Cuenta"})]})]})]})})},VFe=({open:e,onOpenChange:t,onSubmit:r})=>{const[n,a]=p.useState(!1),[i,o]=p.useState(""),[l,c]=p.useState(""),[u,f]=p.useState("monthly"),[d,h]=p.useState([80]),m=async x=>{x.preventDefault(),!(!i||!l)&&(a(!0),await r({category:i,budget_amount:parseFloat(l),period:u,alert_threshold:d[0],start_date:ye(new Date,"yyyy-MM-dd"),end_date:null,is_active:!0}),a(!1),o(""),c(""),f("monthly"),h([80]),t(!1))};return s.jsx(Lt,{open:e,onOpenChange:t,children:s.jsxs(Ft,{className:"sm:max-w-md",children:[s.jsx(or,{children:s.jsx(lr,{children:"Nuevo Presupuesto"})}),s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"category",children:"Categora"}),s.jsxs(ar,{value:i,onValueChange:o,required:!0,children:[s.jsx(Kt,{children:s.jsx(ir,{placeholder:"Selecciona una categora"})}),s.jsx(Yt,{children:fg.map(x=>s.jsxs(De,{value:x.id,children:[x.icon," ",x.label]},x.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"amount",children:"Lmite ()"}),s.jsx(be,{id:"amount",type:"number",step:"0.01",min:"0",value:l,onChange:x=>c(x.target.value),placeholder:"0.00",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"period",children:"Perodo"}),s.jsxs(ar,{value:u,onValueChange:x=>f(x),children:[s.jsx(Kt,{children:s.jsx(ir,{})}),s.jsxs(Yt,{children:[s.jsx(De,{value:"weekly",children:"Semanal"}),s.jsx(De,{value:"monthly",children:"Mensual"}),s.jsx(De,{value:"yearly",children:"Anual"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ue,{children:["Alertar al ",d[0],"% del presupuesto"]}),s.jsx(Er,{value:d,onValueChange:h,min:50,max:100,step:5,className:"mt-2"})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(U,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),s.jsx(U,{type:"submit",disabled:n,children:n?"Creando...":"Crear Presupuesto"})]})]})]})})},HFe=({open:e,onOpenChange:t,onSubmit:r})=>{const[n,a]=p.useState(!1),[i,o]=p.useState(""),[l,c]=p.useState(""),[u,f]=p.useState(""),[d,h]=p.useState("medium"),[m,x]=p.useState(""),g=async v=>{v.preventDefault(),!(!i||!l)&&(a(!0),await r({name:i,target_amount:parseFloat(l),current_amount:parseFloat(u)||0,priority:d,deadline:m||null,status:"active"}),a(!1),o(""),c(""),f(""),h("medium"),x(""),t(!1))};return s.jsx(Lt,{open:e,onOpenChange:t,children:s.jsxs(Ft,{className:"sm:max-w-md",children:[s.jsx(or,{children:s.jsx(lr,{children:"Nueva Meta Financiera"})}),s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"name",children:"Nombre de la meta"}),s.jsx(be,{id:"name",value:i,onChange:v=>o(v.target.value),placeholder:"Ej: Fondo de emergencia",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"target",children:"Objetivo ()"}),s.jsx(be,{id:"target",type:"number",step:"0.01",min:"0",value:l,onChange:v=>c(v.target.value),placeholder:"0.00",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"current",children:"Cantidad actual ()"}),s.jsx(be,{id:"current",type:"number",step:"0.01",min:"0",value:u,onChange:v=>f(v.target.value),placeholder:"0.00"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"priority",children:"Prioridad"}),s.jsxs(ar,{value:d,onValueChange:v=>h(v),children:[s.jsx(Kt,{children:s.jsx(ir,{})}),s.jsxs(Yt,{children:[s.jsx(De,{value:"high",children:" Alta"}),s.jsx(De,{value:"medium",children:" Media"}),s.jsx(De,{value:"low",children:" Baja"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"deadline",children:"Fecha lmite (opcional)"}),s.jsx(be,{id:"deadline",type:"date",value:m,onChange:v=>x(v.target.value)})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(U,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),s.jsx(U,{type:"submit",disabled:n,children:n?"Creando...":"Crear Meta"})]})]})]})})},GFe=e=>{const t=e.split(`
`).filter(l=>l.trim());if(t.length<2)return[];const r=t[0].toLowerCase(),n=r.includes("started date")||r.includes("completed date"),a=r.includes("fecha de inicio")||r.includes("fecha de finalizacin"),i=n||a,o=[];for(let l=1;l<t.length;l++){const c=KFe(t[l]);if(!(c.length<6))try{if(i){const[u,f,d,h,m,x,g,v,w]=c,b=w==null?void 0:w.toLowerCase().trim();if(b&&b!=="completed"&&b!=="completado"||b==="reverted"||b==="revertido")continue;const y=parseFloat(x.replace(",",".").replace(/[^\d.-]/g,""));if(isNaN(y)||y===0)continue;const j=VD(h||d);if(!j)continue;o.push({transaction_date:j,description:m||u||"Transaccin Revolut",amount:Math.abs(y),transaction_type:y>=0?"income":"expense",category:HD(m,u,f),vendor:GD(m),currency:v||"EUR"})}else{const[u,f,d,h,m]=c,x=parseFloat(d.replace(",",".").replace(/[^\d.-]/g,""));if(isNaN(x)||x===0)continue;const g=VD(u);if(!g)continue;o.push({transaction_date:g,description:f||"Transaccin",amount:Math.abs(x),transaction_type:x>=0?"income":"expense",category:h||HD(f,"",""),vendor:GD(f),currency:m||"EUR"})}}catch(u){console.warn(`Error parsing line ${l}:`,u)}}return o},KFe=e=>{const t=[];let r="",n=!1;for(let a=0;a<e.length;a++){const i=e[a];i==='"'?n=!n:(i===","||i===";")&&!n?(t.push(r.trim()),r=""):r+=i}return t.push(r.trim()),t},VD=e=>{if(!e)return null;const t=[/^(\d{4})-(\d{2})-(\d{2})/,/^(\d{2})[\/\-](\d{2})[\/\-](\d{4})/,/^(\d{1,2})\s+(\w+)\s+(\d{4})/,/^(\w+)\s+(\d{1,2}),?\s+(\d{4})/];for(const r of t)if(e.match(r))try{const a=new Date(e);if(!isNaN(a.getTime()))return a.toISOString().split("T")[0]}catch{continue}try{const r=new Date(e);if(!isNaN(r.getTime()))return r.toISOString().split("T")[0]}catch{return null}return null},HD=(e,t,r)=>{const n=(e+" "+t+" "+r).toLowerCase();return/restaurant|cafe|coffee|starbucks|mcdonald|burger|pizza|uber\s*eats|glovo|deliveroo|just\s*eat/i.test(n)?"food":/uber|taxi|cabify|renfe|metro|bus|gasolina|fuel|parking|shell|repsol|cepsa/i.test(n)?"transport":/amazon|zara|hm|primark|el\s*corte|mercadona|carrefour|lidl|aldi|dia\s/i.test(n)?"shopping":/netflix|spotify|hbo|disney|cine|cinema|steam|playstation|xbox|game/i.test(n)?"entertainment":/iberdrola|endesa|naturgy|vodafone|movistar|orange|agua|water|gas|electric/i.test(n)?"utilities":/farmacia|pharmacy|hospital|medic|doctor|dentist|gym|fitness/i.test(n)?"health":/transfer|bizum|paypal|to\s+[a-z]/i.test(n)||t!=null&&t.toLowerCase().includes("transfer")?"transfer":/salary|nomina|payroll|income|ingreso/i.test(n)?"salary":"other"},GD=e=>{const t=[/^([\w\s]+)\s+-\s+/,/^([\w\s]+)\s+\*/,/^([\w\s]+)$/];for(const r of t){const n=e.match(r);if(n&&n[1]){const a=n[1].trim();if(a.length>2&&a.length<50)return a}}};function YFe({onImport:e}){const[t,r]=p.useState(!1),[n,a]=p.useState(!1),[i,o]=p.useState([]),[l,c]=p.useState(!1),[u,f]=p.useState(!1),[d,h]=p.useState(!1),[m,x]=p.useState(""),g=p.useCallback(S=>{if(!S.name.endsWith(".csv")){V.error("Por favor, sube un archivo CSV");return}x(S.name),h(!1);const _=new FileReader;_.onload=k=>{var A;const E=(A=k.target)==null?void 0:A.result;try{const C=GFe(E);if(C.length===0){V.error("No se encontraron transacciones vlidas en el archivo");return}o(C),V.success(`${C.length} transacciones encontradas`)}catch(C){console.error("Error parsing CSV:",C),V.error("Error al procesar el archivo CSV")}},_.readAsText(S)},[]),v=p.useCallback(async()=>{var S,_;if(i.length!==0){f(!0);try{const{data:k,error:E}=await H.functions.invoke("categorize-transactions",{body:{transactions:i.map(A=>({description:A.description,amount:A.amount,transaction_type:A.transaction_type,transaction_date:A.transaction_date,vendor:A.vendor,currency:A.currency}))}});if(E)throw E;k!=null&&k.transactions&&(o(k.transactions),h(!0),V.success(`${k.categorized} transacciones categorizadas con IA`))}catch(k){console.error("Error categorizing with AI:",k),(S=k.message)!=null&&S.includes("429")?V.error("Lmite de peticiones excedido. Intenta de nuevo en unos minutos."):(_=k.message)!=null&&_.includes("402")?V.error("Crditos agotados. Aade fondos a tu workspace."):V.error("Error al categorizar con IA")}finally{f(!1)}}},[i]),w=p.useCallback(S=>{S.preventDefault(),a(!1);const _=S.dataTransfer.files[0];_&&g(_)},[g]),b=p.useCallback(S=>{var k;const _=(k=S.target.files)==null?void 0:k[0];_&&g(_)},[g]),y=async()=>{if(i.length!==0){c(!0);try{await e(i),V.success(`${i.length} transacciones importadas`),o([]),x(""),r(!1)}catch(S){console.error("Error importing transactions:",S),V.error("Error al importar transacciones")}finally{c(!1)}}},N=()=>{o([]),x(""),h(!1)},j=S=>S?S>=.8?s.jsx(Q,{variant:"default",className:"text-xs",children:"Alta"}):S>=.5?s.jsx(Q,{variant:"secondary",className:"text-xs",children:"Media"}):s.jsx(Q,{variant:"outline",className:"text-xs",children:"Baja"}):null;return s.jsxs(Lt,{open:t,onOpenChange:r,children:[s.jsx(Np,{asChild:!0,children:s.jsxs(U,{variant:"outline",size:"sm",children:[s.jsx(dS,{className:"h-4 w-4 mr-2"}),"Importar CSV"]})}),s.jsxs(Ft,{className:"sm:max-w-lg",children:[s.jsxs(or,{children:[s.jsx(lr,{children:"Importar Transacciones"}),s.jsx(X0,{children:"Sube un archivo CSV exportado desde Revolut u otro banco"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(rw,{children:[s.jsx(b0,{className:"h-4 w-4"}),s.jsxs(nw,{children:[s.jsx("strong",{children:"Cmo exportar desde Revolut:"}),s.jsxs("ol",{className:"list-decimal ml-4 mt-2 text-sm space-y-1",children:[s.jsx("li",{children:"Abre la app Revolut  Transacciones"}),s.jsx("li",{children:"Toca los 3 puntos ()  Exportar"}),s.jsx("li",{children:"Selecciona el perodo y formato CSV"}),s.jsx("li",{children:"Sube el archivo aqu"})]})]})]}),s.jsxs("div",{onDrop:w,onDragOver:S=>{S.preventDefault(),a(!0)},onDragLeave:()=>a(!1),className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${n?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-muted-foreground/50"}`,children:[s.jsx("input",{type:"file",accept:".csv",onChange:b,className:"hidden",id:"csv-upload"}),s.jsxs("label",{htmlFor:"csv-upload",className:"cursor-pointer",children:[s.jsx(dS,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Arrastra un archivo CSV aqu o ",s.jsx("span",{className:"text-primary underline",children:"selecciona uno"})]})]})]}),i.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gr,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-sm font-medium",children:m}),d&&s.jsxs(Q,{variant:"secondary",className:"text-xs",children:[s.jsx(et,{className:"h-3 w-3 mr-1"}),"IA"]})]}),s.jsx(U,{variant:"ghost",size:"sm",onClick:N,children:"Cambiar archivo"})]}),!d&&s.jsx(U,{variant:"outline",className:"w-full",onClick:v,disabled:u,children:u?s.jsxs(s.Fragment,{children:[s.jsx(_e,{className:"h-4 w-4 mr-2 animate-spin"}),"Categorizando con IA..."]}):s.jsxs(s.Fragment,{children:[s.jsx(et,{className:"h-4 w-4 mr-2"}),"Categorizar automticamente con IA"]})}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 space-y-2 max-h-48 overflow-y-auto",children:[s.jsxs("p",{className:"text-sm font-medium",children:["Vista previa (",i.length," transacciones):"]}),s.jsxs("div",{className:"space-y-1",children:[i.slice(0,5).map((S,_)=>s.jsxs("div",{className:"flex items-center justify-between text-xs gap-2",children:[s.jsx("span",{className:"truncate flex-1",children:S.description}),s.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[d&&s.jsx(Q,{variant:"outline",className:"text-xs",children:S.category}),j(S.confidence),s.jsxs("span",{className:S.transaction_type==="income"?"text-green-600":"text-red-600",children:[S.transaction_type==="income"?"+":"-",S.amount.toFixed(2),""]})]})]},_)),i.length>5&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["... y ",i.length-5," ms"]})]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx(U,{className:"flex-1",onClick:y,disabled:l||u,children:l?"Importando...":`Importar ${i.length} transacciones`})})]}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Formatos soportados: Revolut, N26, BBVA, La Caixa, Santander (CSV)"})]})]})]})}const XFe=({forecast:e,loading:t,onGenerate:r,onClose:n})=>{const a=l=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(l);if(!e&&!t)return s.jsx(X,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:s.jsxs(Y,{className:"flex flex-col items-center justify-center py-8 gap-4",children:[s.jsx(et,{className:"h-12 w-12 text-primary/60"}),s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Previsin con IA"}),s.jsx("p",{className:"text-sm text-muted-foreground max-w-sm",children:"Analiza tus patrones de gasto y obtn sugerencias personalizadas para ahorrar"})]}),s.jsxs(U,{onClick:r,className:"gap-2",children:[s.jsx(et,{className:"h-4 w-4"}),"Generar Previsin"]})]})});if(t)return s.jsx(X,{children:s.jsxs(Y,{className:"flex flex-col items-center justify-center py-12 gap-4",children:[s.jsx(_e,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Analizando tus finanzas..."})]})});if(!e)return null;const i=l=>{switch(l){case"alta":return"bg-destructive/10 text-destructive border-destructive/20";case"media":return"bg-warning/10 text-warning border-warning/20";case"baja":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},o=l=>{switch(l){case"critical":return s.jsx(kr,{className:"h-4 w-4 text-destructive"});case"warning":return s.jsx(kr,{className:"h-4 w-4 text-warning"});default:return s.jsx(kr,{className:"h-4 w-4 text-muted-foreground"})}};return s.jsxs(X,{className:"relative",children:[s.jsx(U,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 h-8 w-8 p-0",onClick:n,children:s.jsx(kt,{className:"h-4 w-4"})}),s.jsxs(pe,{className:"pb-2",children:[s.jsxs(ge,{className:"flex items-center gap-2 text-lg",children:[s.jsx(et,{className:"h-5 w-5 text-primary"}),"Previsin Financiera"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.summary})]}),s.jsxs(Y,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-sm mb-3 flex items-center gap-2",children:[s.jsx(Zr,{className:"h-4 w-4"}),"Proyeccin mensual"]}),s.jsx("div",{className:"grid gap-3",children:e.monthly_forecast.map((l,c)=>s.jsxs("div",{className:"bg-muted/30 rounded-lg p-3",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"font-medium text-sm",children:l.month}),s.jsxs(Q,{variant:l.projected_savings>=0?"default":"destructive",children:[l.projected_savings>=0?"+":"",a(l.projected_savings)]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Zr,{className:"h-3 w-3 text-green-500"}),"Ingresos: ",a(l.projected_income)]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(rf,{className:"h-3 w-3 text-red-500"}),"Gastos: ",a(l.projected_expenses)]})]})]},c))})]}),e.alerts.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-sm mb-3 flex items-center gap-2",children:[s.jsx(kr,{className:"h-4 w-4"}),"Alertas"]}),s.jsx("div",{className:"space-y-2",children:e.alerts.map((l,c)=>s.jsxs("div",{className:z("flex items-start gap-2 p-2 rounded-lg text-sm",l.severity==="critical"&&"bg-destructive/10",l.severity==="warning"&&"bg-warning/10",l.severity==="info"&&"bg-muted/50"),children:[o(l.severity),s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[l.category,":"]})," ",l.message]})]},c))})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-sm mb-3 flex items-center gap-2",children:[s.jsx(Cl,{className:"h-4 w-4"}),"Sugerencias de ahorro"]}),s.jsx("div",{className:"space-y-2",children:e.savings_suggestions.map((l,c)=>s.jsxs("div",{className:"border rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[s.jsx("span",{className:"font-medium text-sm",children:l.category}),s.jsx(Q,{variant:"outline",className:i(l.priority),children:l.priority})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:l.suggestion}),s.jsxs("div",{className:"flex items-center gap-1 text-sm text-green-600",children:[s.jsx(rf,{className:"h-3 w-3"}),"Ahorro potencial: ",a(l.potential_savings),"/mes"]})]},c))})]}),e.recurring_expenses.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm mb-3",children:"Gastos recurrentes identificados"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:e.recurring_expenses.map((l,c)=>s.jsxs("div",{className:"bg-muted/30 rounded-lg p-2 text-sm",children:[s.jsx("div",{className:"font-medium",children:l.category}),s.jsxs("div",{className:"text-muted-foreground",children:[a(l.amount)," / ",l.frequency]})]},c))})]}),s.jsxs(U,{variant:"outline",onClick:r,className:"w-full gap-2",children:[s.jsx(et,{className:"h-4 w-4"}),"Regenerar previsin"]})]})]})},JFe=({transactions:e,accounts:t,budgets:r,goals:n,selectedMonth:a})=>{const i=w=>new Intl.NumberFormat("es-ES",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(w),o=w=>{if(w==null)return"";const b=String(w);return b.includes(",")||b.includes('"')||b.includes(`
`)?`"${b.replace(/"/g,'""')}"`:b},l=()=>{const w=["Fecha","Tipo","Categora","Subcategora","Descripcin","Importe","Moneda","Proveedor/Cliente","Recurrente","Frecuencia","N Factura","Estado Factura","Fecha Vencimiento"],b=e.map(y=>[ye(new Date(y.transaction_date),"dd/MM/yyyy"),y.transaction_type==="income"?"Ingreso":y.transaction_type==="expense"?"Gasto":"Transferencia",y.category,y.subcategory||"",y.description||"",i(Number(y.amount)),y.currency,y.vendor||"",y.is_recurring?"S":"No",y.recurring_frequency||"",y.invoice_number||"",y.invoice_status==="paid"?"Pagada":y.invoice_status==="pending"?"Pendiente":y.invoice_status==="overdue"?"Vencida":"",y.due_date?ye(new Date(y.due_date),"dd/MM/yyyy"):""]);return[w.map(o).join(","),...b.map(y=>y.map(o).join(","))].join(`
`)},c=()=>{const w=["Nombre","Tipo","Balance","Moneda","Activa"],b=t.map(y=>[y.name,y.account_type==="bank"?"Banco":y.account_type==="cash"?"Efectivo":y.account_type==="investment"?"Inversin":"Crdito",i(Number(y.balance)),y.currency,y.is_active?"S":"No"]);return[w.map(o).join(","),...b.map(y=>y.map(o).join(","))].join(`
`)},u=()=>{const w=["Categora","Presupuesto","Perodo","Fecha Inicio","Fecha Fin","Umbral Alerta","Activo"],b=r.map(y=>[y.category,i(Number(y.budget_amount)),y.period==="monthly"?"Mensual":y.period==="weekly"?"Semanal":"Anual",ye(new Date(y.start_date),"dd/MM/yyyy"),y.end_date?ye(new Date(y.end_date),"dd/MM/yyyy"):"",`${y.alert_threshold}%`,y.is_active?"S":"No"]);return[w.map(o).join(","),...b.map(y=>y.map(o).join(","))].join(`
`)},f=()=>{const w=["Nombre","Objetivo","Actual","Progreso","Fecha Lmite","Prioridad","Estado"],b=n.map(y=>[y.name,i(Number(y.target_amount)),i(Number(y.current_amount)),`${Math.round(Number(y.current_amount)/Number(y.target_amount)*100)}%`,y.deadline?ye(new Date(y.deadline),"dd/MM/yyyy"):"",y.priority==="high"?"Alta":y.priority==="medium"?"Media":"Baja",y.status==="active"?"Activo":y.status==="completed"?"Completado":"Pausado"]);return[w.map(o).join(","),...b.map(y=>y.map(o).join(","))].join(`
`)},d=(w,b)=>{const y="\uFEFF",N=new Blob([y+w],{type:"text/csv;charset=utf-8;"}),j=URL.createObjectURL(N),S=document.createElement("a");S.href=j,S.download=b,document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(j)},h=()=>{const w=l(),b=ye(a,"MMMM-yyyy",{locale:ot});d(w,`transacciones-${b}.csv`),V.success("Transacciones exportadas correctamente")},m=()=>{const w=c();d(w,`cuentas-${ye(new Date,"dd-MM-yyyy")}.csv`),V.success("Cuentas exportadas correctamente")},x=()=>{const w=u();d(w,`presupuestos-${ye(new Date,"dd-MM-yyyy")}.csv`),V.success("Presupuestos exportados correctamente")},g=()=>{const w=f();d(w,`metas-${ye(new Date,"dd-MM-yyyy")}.csv`),V.success("Metas exportadas correctamente")},v=()=>{const w=ye(a,"MMMM-yyyy",{locale:ot});d(l(),`transacciones-${w}.csv`),d(c(),`cuentas-${ye(new Date,"dd-MM-yyyy")}.csv`),d(u(),`presupuestos-${ye(new Date,"dd-MM-yyyy")}.csv`),d(f(),`metas-${ye(new Date,"dd-MM-yyyy")}.csv`),V.success("Todos los datos exportados correctamente")};return s.jsxs(mw,{children:[s.jsx(pw,{asChild:!0,children:s.jsxs(U,{variant:"outline",size:"sm",className:"gap-2",children:[s.jsx(Oi,{className:"w-4 h-4"}),"Exportar"]})}),s.jsxs(Ug,{align:"end",children:[s.jsxs(os,{onClick:h,children:[s.jsx(b0,{className:"w-4 h-4 mr-2"}),"Transacciones del mes"]}),s.jsxs(os,{onClick:m,children:[s.jsx(_l,{className:"w-4 h-4 mr-2"}),"Cuentas"]}),s.jsxs(os,{onClick:x,children:[s.jsx(_l,{className:"w-4 h-4 mr-2"}),"Presupuestos"]}),s.jsxs(os,{onClick:g,children:[s.jsx(_l,{className:"w-4 h-4 mr-2"}),"Metas financieras"]}),s.jsxs(os,{onClick:v,children:[s.jsx(Oi,{className:"w-4 h-4 mr-2"}),"Exportar todo"]})]})]})},QFe=({budgetStatus:e,children:t})=>{const r=p.useRef(new Set);return p.useEffect(()=>{e.forEach(n=>{const a=`${n.id}-${n.isOverBudget?"over":"near"}`;r.current.has(a)||(n.isOverBudget?(r.current.add(a),V.error(`Presupuesto superado! Has gastado ${Math.round(n.percentage)}% en ${n.category}`,{duration:6e3,icon:s.jsx(kr,{className:"w-5 h-5 text-destructive"}),description:`Gastado: ${n.spent.toFixed(2)} / Presupuesto: ${n.budget_amount.toFixed(2)}`})):n.isNearLimit&&(r.current.add(a),V.warning(`Cerca del lmite: ${Math.round(n.percentage)}% en ${n.category}`,{duration:5e3,icon:s.jsx(Zr,{className:"w-5 h-5 text-warning"}),description:`Gastado: ${n.spent.toFixed(2)} / Presupuesto: ${n.budget_amount.toFixed(2)}`})))})},[e]),p.useEffect(()=>{const n=new Set(e.map(a=>a.id));r.current.forEach(a=>{const i=a.split("-")[0];n.has(i)||r.current.delete(a)})},[e]),s.jsx(s.Fragment,{children:t})},KD=["hsl(var(--chart-1))","hsl(var(--chart-2))","hsl(var(--chart-3))","hsl(var(--chart-4))","hsl(var(--chart-5))","hsl(199, 89%, 48%)","hsl(142, 76%, 36%)","hsl(47, 100%, 50%)","hsl(0, 84%, 60%)","hsl(280, 65%, 60%)"],ZFe=({transactions:e,expensesByCategory:t})=>{const r=fg.filter(c=>t[c.id]>0).map(c=>({name:c.label,icon:c.icon,amount:t[c.id]||0})).sort((c,u)=>u.amount-c.amount).slice(0,8),n=r.map((c,u)=>({name:c.name,value:c.amount,color:KD[u%KD.length]})),a=e.filter(c=>c.transaction_type==="expense").reduce((c,u)=>{const f=new Date(u.transaction_date),d=new Date(f);d.setDate(f.getDate()-f.getDay());const h=d.toISOString().split("T")[0];return c[h]||(c[h]={week:h,total:0,count:0}),c[h].total+=Number(u.amount),c[h].count+=1,c},{}),i=Object.values(a).sort((c,u)=>c.week.localeCompare(u.week)).map((c,u)=>({name:`Sem ${u+1}`,gastos:c.total,transacciones:c.count})),o=c=>`${c.toFixed(0)}`,l=({active:c,payload:u,label:f})=>c&&u&&u.length?s.jsxs("div",{className:"bg-popover border border-border rounded-lg p-3 shadow-lg",children:[s.jsx("p",{className:"font-medium text-foreground",children:f}),u.map((d,h)=>s.jsxs("p",{className:"text-sm",style:{color:d.color},children:[d.name,": ",d.value.toFixed(2)]},h))]}):null;return r.length===0?s.jsx(X,{children:s.jsx(Y,{className:"flex items-center justify-center py-12 text-muted-foreground",children:"No hay datos de gastos para mostrar grficos"})}):s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsxs(X,{children:[s.jsx(pe,{className:"pb-2",children:s.jsx(ge,{className:"text-base",children:"Gastos por Categora"})}),s.jsx(Y,{children:s.jsx(ei,{width:"100%",height:250,children:s.jsxs(dg,{data:r,layout:"vertical",margin:{left:20,right:20},children:[s.jsx($i,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(ms,{type:"number",tickFormatter:o,className:"text-xs"}),s.jsx(ps,{type:"category",dataKey:"name",width:100,tick:{fontSize:12},className:"text-xs"}),s.jsx(yn,{content:s.jsx(l,{})}),s.jsx(ts,{dataKey:"amount",fill:"hsl(var(--primary))",radius:[0,4,4,0],name:"Gastos"})]})})})]}),s.jsxs(X,{children:[s.jsx(pe,{className:"pb-2",children:s.jsx(ge,{className:"text-base",children:"Distribucin de Gastos"})}),s.jsx(Y,{children:s.jsx(ei,{width:"100%",height:250,children:s.jsxs(aFe,{children:[s.jsx(Io,{data:n,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:2,dataKey:"value",label:({name:c,percent:u})=>`${c} ${(u*100).toFixed(0)}%`,labelLine:!1,children:n.map((c,u)=>s.jsx(nx,{fill:c.color},`cell-${u}`))}),s.jsx(yn,{formatter:c=>[`${c.toFixed(2)}`,"Gastos"]})]})})})]}),i.length>1&&s.jsxs(X,{className:"lg:col-span-2",children:[s.jsx(pe,{className:"pb-2",children:s.jsx(ge,{className:"text-base",children:"Evolucin Semanal"})}),s.jsx(Y,{children:s.jsx(ei,{width:"100%",height:200,children:s.jsxs(dg,{data:i,margin:{left:10,right:10},children:[s.jsx($i,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(ms,{dataKey:"name",className:"text-xs"}),s.jsx(ps,{tickFormatter:o,className:"text-xs"}),s.jsx(yn,{content:s.jsx(l,{})}),s.jsx(As,{}),s.jsx(ts,{dataKey:"gastos",fill:"hsl(var(--destructive))",radius:[4,4,0,0],name:"Gastos"})]})})})]})]})},e8e=()=>{const{user:e}=ut(),[t,r]=p.useState(!1),[n,a]=p.useState([]),i=p.useCallback(async(o=6)=>{if(!e)return[];r(!0);try{const l=new Date,c=[];for(let f=0;f<o;f++){const d=uw(l,f),h=ye(on(d),"yyyy-MM-dd"),m=ye(zi(d),"yyyy-MM-dd"),{data:x,error:g}=await H.from("finance_transactions").select("*").eq("user_id",e.id).gte("transaction_date",h).lte("transaction_date",m);if(g)throw g;c.push({month:d,data:x||[]})}const u=c.map(({month:f,data:d})=>{const h=d.filter(g=>g.transaction_type==="income"&&g.invoice_status!=="pending").reduce((g,v)=>g+Number(v.amount),0),m=d.filter(g=>g.transaction_type==="expense").reduce((g,v)=>g+Number(v.amount),0),x=d.filter(g=>g.transaction_type==="expense").reduce((g,v)=>(g[v.category]=(g[v.category]||0)+Number(v.amount),g),{});return{month:ye(f,"yyyy-MM"),monthLabel:ye(f,"MMM yyyy"),totalIncome:h,totalExpenses:m,netCashflow:h-m,expensesByCategory:x,transactionCount:d.length}});return u.sort((f,d)=>f.month.localeCompare(d.month)),a(u),u}catch(l){return console.error("Error fetching finance history:",l),[]}finally{r(!1)}},[e]);return{history:n,loading:t,fetchMonthlyHistory:i}},t8e=({onDataLoaded:e})=>{const{history:t,loading:r,fetchMonthlyHistory:n}=e8e(),[a,i]=p.useState(!1);p.useEffect(()=>{a||n(6).then(m=>{i(!0),e==null||e(m)})},[a,n,e]);const o=m=>`${m.toFixed(0)}`,l=({active:m,payload:x,label:g})=>m&&x&&x.length?s.jsxs("div",{className:"bg-popover border border-border rounded-lg p-3 shadow-lg",children:[s.jsx("p",{className:"font-medium text-foreground mb-2",children:g}),x.map((v,w)=>s.jsxs("p",{className:"text-sm",style:{color:v.color},children:[v.name,": ",v.value.toFixed(2)]},w))]}):null,c=(m,x)=>{if(x===0)return{value:0,direction:"neutral"};const g=(m-x)/x*100;return{value:Math.abs(g),direction:g>5?"up":g<-5?"down":"neutral"}},u=t[t.length-1],f=t[t.length-2],d=u&&f?c(u.totalIncome,f.totalIncome):null,h=u&&f?c(u.totalExpenses,f.totalExpenses):null;return r&&!a?s.jsx(X,{children:s.jsx(Y,{className:"flex items-center justify-center py-12",children:s.jsx(_e,{className:"h-8 w-8 animate-spin text-primary"})})}):t.length<2?s.jsx(X,{children:s.jsxs(Y,{className:"flex flex-col items-center justify-center py-12 text-muted-foreground gap-4",children:[s.jsx("p",{children:"No hay suficientes datos histricos para comparar"}),s.jsxs(U,{variant:"outline",onClick:()=>n(6),disabled:r,children:[s.jsx(ht,{className:z("h-4 w-4 mr-2",r&&"animate-spin")}),"Cargar historial"]})]})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-4",children:[d&&s.jsx(X,{className:"flex-1 min-w-[200px]",children:s.jsx(Y,{className:"pt-4 pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Ingresos vs mes anterior"}),s.jsxs("p",{className:"text-lg font-semibold text-green-600",children:["",u.totalIncome.toFixed(0)]})]}),s.jsxs(Q,{variant:d.direction==="up"?"default":d.direction==="down"?"destructive":"secondary",className:"gap-1",children:[d.direction==="up"&&s.jsx(Zr,{className:"h-3 w-3"}),d.direction==="down"&&s.jsx(rf,{className:"h-3 w-3"}),d.direction==="neutral"&&s.jsx(xA,{className:"h-3 w-3"}),d.value.toFixed(0),"%"]})]})})}),h&&s.jsx(X,{className:"flex-1 min-w-[200px]",children:s.jsx(Y,{className:"pt-4 pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Gastos vs mes anterior"}),s.jsxs("p",{className:"text-lg font-semibold text-red-600",children:["",u.totalExpenses.toFixed(0)]})]}),s.jsxs(Q,{variant:h.direction==="down"?"default":h.direction==="up"?"destructive":"secondary",className:"gap-1",children:[h.direction==="up"&&s.jsx(Zr,{className:"h-3 w-3"}),h.direction==="down"&&s.jsx(rf,{className:"h-3 w-3"}),h.direction==="neutral"&&s.jsx(xA,{className:"h-3 w-3"}),h.value.toFixed(0),"%"]})]})})}),u&&s.jsx(X,{className:"flex-1 min-w-[200px]",children:s.jsx(Y,{className:"pt-4 pb-3",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Flujo neto este mes"}),s.jsxs("p",{className:z("text-lg font-semibold",u.netCashflow>=0?"text-green-600":"text-red-600"),children:[u.netCashflow>=0?"+":"","",u.netCashflow.toFixed(0)]})]})})})})]}),s.jsxs(X,{children:[s.jsxs(pe,{className:"pb-2 flex flex-row items-center justify-between",children:[s.jsx(ge,{className:"text-base",children:"Evolucin Mensual"}),s.jsx(U,{variant:"ghost",size:"sm",onClick:()=>n(6),disabled:r,children:s.jsx(ht,{className:z("h-4 w-4",r&&"animate-spin")})})]}),s.jsx(Y,{children:s.jsx(ei,{width:"100%",height:300,children:s.jsxs(oFe,{data:t,margin:{left:10,right:10},children:[s.jsx($i,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(ms,{dataKey:"monthLabel",className:"text-xs"}),s.jsx(ps,{tickFormatter:o,className:"text-xs"}),s.jsx(yn,{content:s.jsx(l,{})}),s.jsx(As,{}),s.jsx(ra,{type:"monotone",dataKey:"netCashflow",fill:"hsl(var(--primary) / 0.1)",stroke:"hsl(var(--primary))",name:"Flujo neto"}),s.jsx(ts,{dataKey:"totalIncome",fill:"hsl(142, 76%, 36%)",radius:[4,4,0,0],name:"Ingresos"}),s.jsx(ts,{dataKey:"totalExpenses",fill:"hsl(0, 84%, 60%)",radius:[4,4,0,0],name:"Gastos"})]})})})]})]})},r8e=()=>{const{user:e}=ut(),[t,r]=p.useState(!1),[n,a]=p.useState(null),i=p.useCallback(async(l,c)=>{if(!e||l.length<2)return V.error("Se necesitan al menos 2 meses de datos para generar sugerencias"),null;r(!0);try{const{data:u,error:f}=await H.functions.invoke("finance-auto-goals",{body:{historyData:l,existingGoals:c.map(d=>({name:d.name,target_amount:d.target_amount,current_amount:d.current_amount,status:d.status}))}});if(f)throw f;return u.error?(V.error(u.error),null):(a(u),u)}catch(u){const f=u instanceof Error?u.message:"Error al generar sugerencias";return V.error(f),null}finally{r(!1)}},[e]),o=p.useCallback(()=>{a(null)},[]);return{loading:t,suggestions:n,generateSuggestions:i,clearSuggestions:o}},n8e=({historyData:e,existingGoals:t,onAddGoal:r})=>{const{loading:n,suggestions:a,generateSuggestions:i,clearSuggestions:o}=r8e(),[l,c]=p.useState(null),u=x=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(x),f=()=>{i(e,t)},d=async x=>{c(x.name);try{await r({name:x.name,target_amount:x.target_amount,current_amount:x.current_amount,deadline:x.deadline,priority:x.priority,status:"active"})}finally{c(null)}},h=x=>{switch(x){case"high":return"bg-destructive/10 text-destructive border-destructive/20";case"medium":return"bg-warning/10 text-warning border-warning/20";case"low":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},m=x=>{switch(x){case"high":return"Alta";case"medium":return"Media";case"low":return"Baja";default:return x}};return!a&&!n?s.jsx(X,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:s.jsxs(Y,{className:"flex flex-col items-center justify-center py-8 gap-4",children:[s.jsx(Dt,{className:"h-12 w-12 text-primary/60"}),s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Metas de Ahorro Automticas"}),s.jsx("p",{className:"text-sm text-muted-foreground max-w-sm",children:"Analiza tu historial financiero y obtn sugerencias personalizadas de metas de ahorro"})]}),s.jsxs(U,{onClick:f,className:"gap-2",disabled:e.length<2,children:[s.jsx(et,{className:"h-4 w-4"}),"Generar Sugerencias"]}),e.length<2&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Se necesitan al menos 2 meses de datos"})]})}):n?s.jsx(X,{children:s.jsxs(Y,{className:"flex flex-col items-center justify-center py-12 gap-4",children:[s.jsx(_e,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Analizando patrones de gasto..."})]})}):a?s.jsxs(X,{className:"relative",children:[s.jsx(U,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 h-8 w-8 p-0",onClick:o,children:s.jsx(kt,{className:"h-4 w-4"})}),s.jsxs(pe,{className:"pb-2",children:[s.jsxs(ge,{className:"flex items-center gap-2 text-lg",children:[s.jsx(et,{className:"h-5 w-5 text-primary"}),"Metas Sugeridas por IA"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:a.analysis_summary})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-3 flex items-center gap-3",children:[s.jsx(Zr,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-700 dark:text-green-400",children:"Potencial de ahorro mensual"}),s.jsx("p",{className:"text-lg font-bold text-green-600",children:u(a.monthly_savings_potential)})]})]}),s.jsx("div",{className:"space-y-3",children:a.suggested_goals.map((x,g)=>s.jsxs("div",{className:"border rounded-lg p-4 hover:bg-muted/30 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-medium",children:x.name}),s.jsx(Q,{variant:"outline",className:h(x.priority),children:m(x.priority)})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:x.reason})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-bold text-lg",children:u(x.target_amount)}),x.deadline&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Para: ",new Date(x.deadline).toLocaleDateString("es-ES",{month:"short",year:"numeric"})]})]})]}),s.jsxs(U,{size:"sm",variant:"outline",className:"w-full mt-2 gap-2",onClick:()=>d(x),disabled:l===x.name,children:[l===x.name?s.jsx(_e,{className:"h-4 w-4 animate-spin"}):s.jsx(wt,{className:"h-4 w-4"}),"Aadir esta meta"]})]},g))}),s.jsxs(U,{variant:"outline",onClick:f,className:"w-full gap-2",children:[s.jsx(et,{className:"h-4 w-4"}),"Regenerar sugerencias"]})]})]}):null},s8e=()=>{const{user:e}=ut(),[t,r]=p.useState([]),[n,a]=p.useState(!1),{dismissAlert:i,isDismissed:o,clearDismissed:l}=Xz(),c=p.useCallback(async()=>{if(e){a(!0);try{const f=new Date,d=[],{data:h,error:m}=await H.from("finance_transactions").select("*").eq("user_id",e.id).eq("invoice_status","pending").not("due_date","is",null);if(m)throw m;for(const w of h||[]){const b=Br(w.due_date),y=r4(b,f);y<0?d.push({id:`invoice-overdue-${w.id}`,type:"invoice_overdue",title:"Factura vencida",message:`La factura ${w.invoice_number||w.description} venci hace ${Math.abs(y)} das`,priority:"high",dueDate:w.due_date,amount:w.amount,entityId:w.id,entityType:"invoice"}):y<=7&&d.push({id:`invoice-due-${w.id}`,type:"invoice_due",title:"Factura prxima a vencer",message:y===0?`La factura ${w.invoice_number||w.description} vence hoy`:`La factura ${w.invoice_number||w.description} vence en ${y} das`,priority:y<=2?"high":"medium",dueDate:w.due_date,amount:w.amount,entityId:w.id,entityType:"invoice"})}const{data:x,error:g}=await H.from("finance_goals").select("*").eq("user_id",e.id).eq("status","active").not("deadline","is",null);if(g)throw g;for(const w of x||[]){const b=Br(w.deadline),y=r4(b,f),N=w.current_amount/w.target_amount*100;y<=30&&y>0&&(N<50?d.push({id:`goal-progress-${w.id}`,type:"goal_progress",title:"Meta en riesgo",message:`"${w.name}" solo tiene ${N.toFixed(0)}% de progreso y quedan ${y} das`,priority:y<=7?"high":"medium",dueDate:w.deadline,amount:w.target_amount-w.current_amount,entityId:w.id,entityType:"goal"}):y<=7&&d.push({id:`goal-deadline-${w.id}`,type:"goal_deadline",title:"Recordatorio de meta",message:`La meta "${w.name}" vence en ${y} das (${N.toFixed(0)}% completado)`,priority:N>=90?"low":"medium",dueDate:w.deadline,amount:w.target_amount-w.current_amount,entityId:w.id,entityType:"goal"}))}const v=d.filter(w=>!o(`finance-${w.id}`));r(v)}catch(f){console.error("Error checking finance alerts:",f)}finally{a(!1)}}},[e,o]),u=p.useCallback(async f=>{await i(`finance-${f}`),r(d=>d.filter(h=>h.id!==f))},[i]);return p.useEffect(()=>{c()},[c]),{alerts:t,loading:n,checkAlerts:c,dismissAlert:u,clearDismissed:l}};function a8e(){const{alerts:e,loading:t,checkAlerts:r,dismissAlert:n}=s8e(),a=o=>{switch(o){case"invoice_overdue":return s.jsx(kr,{className:"h-4 w-4 text-destructive"});case"invoice_due":return s.jsx(Jt,{className:"h-4 w-4 text-warning"});case"goal_deadline":case"goal_progress":return s.jsx(Dt,{className:"h-4 w-4 text-primary"});default:return s.jsx(Gs,{className:"h-4 w-4"})}},i=o=>{switch(o){case"high":return"destructive";case"medium":return"secondary";case"low":return"outline";default:return"secondary"}};return e.length===0&&!t?null:s.jsxs(X,{className:"border-warning/30 bg-warning/5",children:[s.jsx(pe,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ge,{className:"text-base flex items-center gap-2",children:[s.jsx(Gs,{className:"h-4 w-4"}),"Alertas (",e.length,")"]}),s.jsx(U,{variant:"ghost",size:"sm",onClick:r,disabled:t,children:s.jsx(ht,{className:`h-4 w-4 ${t?"animate-spin":""}`})})]})}),s.jsx(Y,{className:"space-y-2",children:e.map(o=>s.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-background border",children:[s.jsx("div",{className:"mt-0.5",children:a(o.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-medium text-sm",children:o.title}),s.jsx(Q,{variant:i(o.priority),className:"text-xs",children:o.priority==="high"?"Urgente":o.priority==="medium"?"Medio":"Bajo"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:o.message}),o.dueDate&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Fecha: ",ye(Br(o.dueDate),"d MMM yyyy",{locale:ot}),o.amount&&`  ${o.amount.toLocaleString("es-ES")}`]})]}),s.jsx(U,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>n(o.id),children:s.jsx(kt,{className:"h-3 w-3"})})]},o.id))})]})}const i8e=()=>{const{isOpen:e,isCollapsed:t,open:r,close:n,toggleCollapse:a}=un(),{accounts:i,transactions:o,invoices:l,budgets:c,goals:u,loading:f,summary:d,selectedMonth:h,setSelectedMonth:m,addAccount:x,addTransaction:g,updateTransaction:v,importTransactions:w,addBudget:b,addGoal:y}=BFe(),{forecast:N,loading:j,generateForecast:S,clearForecast:_}=zFe(),[k,E]=p.useState(!1),[A,C]=p.useState(!1),[O,$]=p.useState(!1),[R,T]=p.useState(!1),[L,I]=p.useState("expense"),[P,M]=p.useState(!1),[F,B]=p.useState([]),q=W=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(W),J=async W=>{await v(W,{invoice_status:"paid"})};return f?s.jsxs("div",{className:"flex min-h-screen bg-background",children:[s.jsx(zr,{isOpen:e,onClose:n,isCollapsed:t,onToggleCollapse:a}),s.jsxs("div",{className:z("flex-1 flex flex-col transition-all duration-300",t?"md:ml-20":"md:ml-72"),children:[s.jsx(Ur,{onMenuClick:r}),s.jsx("main",{className:"flex-1 p-6 flex items-center justify-center",children:s.jsx(_e,{className:"w-8 h-8 text-primary animate-spin"})})]})]}):s.jsxs("div",{className:"flex min-h-screen bg-background",children:[s.jsx(zr,{isOpen:e,onClose:n,isCollapsed:t,onToggleCollapse:a}),s.jsxs("div",{className:z("flex-1 flex flex-col transition-all duration-300",t?"md:ml-20":"md:ml-72"),children:[s.jsx(Ur,{onMenuClick:r}),s.jsxs("main",{className:"flex-1 p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"JARVIS Finanzas"}),s.jsx("p",{className:"text-muted-foreground",children:"Control de ingresos, gastos y objetivos financieros"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(JFe,{transactions:o,accounts:i,budgets:c,goals:u,selectedMonth:h}),s.jsx(U,{variant:"outline",size:"icon",onClick:()=>m(uw(h,1)),children:s.jsx(Eu,{className:"w-4 h-4"})}),s.jsx("span",{className:"text-sm font-medium min-w-[120px] text-center",children:ye(h,"MMMM yyyy",{locale:ot})}),s.jsx(U,{variant:"outline",size:"icon",onClick:()=>m(es(h,1)),children:s.jsx(Zs,{className:"w-4 h-4"})})]})]}),s.jsx(QFe,{budgetStatus:d.budgetStatus,children:s.jsx(s.Fragment,{})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsx(X,{children:s.jsx(Y,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Balance Total"}),s.jsx("p",{className:"text-2xl font-bold text-foreground",children:q(d.totalBalance)})]}),s.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:s.jsx(Li,{className:"w-6 h-6 text-primary"})})]})})}),s.jsx(X,{children:s.jsx(Y,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Ingresos"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:q(d.totalIncome)}),d.pendingInvoices>0&&s.jsxs("p",{className:"text-xs text-yellow-600 flex items-center gap-1 mt-1",children:[s.jsx(Pt,{className:"w-3 h-3"}),q(d.pendingInvoices)," pendiente"]})]}),s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/20 rounded-full",children:s.jsx(Zr,{className:"w-6 h-6 text-green-600"})})]})})}),s.jsx(X,{children:s.jsx(Y,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Gastos"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:q(d.totalExpenses)}),s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-1",children:[s.jsx(ht,{className:"w-3 h-3"}),q(d.recurringExpenses)," recurrentes"]})]}),s.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/20 rounded-full",children:s.jsx(rf,{className:"w-6 h-6 text-red-600"})})]})})}),s.jsx(X,{children:s.jsx(Y,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Flujo Neto"}),s.jsx("p",{className:z("text-2xl font-bold",d.netCashflow>=0?"text-green-600":"text-red-600"),children:q(d.netCashflow)})]}),s.jsx("div",{className:z("p-3 rounded-full",d.netCashflow>=0?"bg-green-100 dark:bg-green-900/20":"bg-red-100 dark:bg-red-900/20"),children:d.netCashflow>=0?s.jsx(dA,{className:"w-6 h-6 text-green-600"}):s.jsx(uA,{className:"w-6 h-6 text-red-600"})})]})})}),s.jsx(X,{children:s.jsx(Y,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Facturas Pendientes"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:l.filter(W=>W.invoice_status==="pending").length})]}),s.jsx("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/20 rounded-full",children:s.jsx(_l,{className:"w-6 h-6 text-yellow-600"})})]})})})]}),s.jsx(a8e,{}),s.jsx(XFe,{forecast:N,loading:j,onGenerate:()=>S(o),onClose:_}),s.jsxs(aa,{defaultValue:"transactions",className:"space-y-4",children:[s.jsxs(Ms,{className:"grid grid-cols-5 w-full max-w-lg",children:[s.jsx(Qe,{value:"transactions",children:"Movimientos"}),s.jsx(Qe,{value:"invoices",children:"Facturas"}),s.jsx(Qe,{value:"accounts",children:"Cuentas"}),s.jsx(Qe,{value:"budgets",children:"Presupuestos"}),s.jsx(Qe,{value:"goals",children:"Metas"})]}),s.jsxs(Ze,{value:"transactions",className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(U,{onClick:()=>{I("expense"),M(!1),E(!0)},children:[s.jsx(rf,{className:"w-4 h-4 mr-2"}),"Aadir Gasto"]}),s.jsxs(U,{variant:"outline",onClick:()=>{I("income"),M(!1),E(!0)},children:[s.jsx(Zr,{className:"w-4 h-4 mr-2"}),"Aadir Ingreso"]}),s.jsx(YFe,{onImport:w})]}),s.jsxs(X,{children:[s.jsxs(pe,{children:[s.jsx(ge,{children:"Movimientos del mes"}),s.jsxs(St,{children:["Recurrentes: ",q(d.recurringExpenses)," | Puntuales: ",q(d.nonRecurringExpenses)]})]}),s.jsx(Y,{children:o.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No hay movimientos este mes"}):s.jsx("div",{className:"space-y-2",children:o.map(W=>{const ne=W.transaction_type==="income"?AV.find(he=>he.id===W.category):fg.find(he=>he.id===W.category);return s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-xl",children:(ne==null?void 0:ne.icon)||""}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium text-foreground",children:W.description||(ne==null?void 0:ne.label)}),W.is_recurring&&s.jsxs(Q,{variant:"secondary",className:"text-xs",children:[s.jsx(ht,{className:"w-3 h-3 mr-1"}),W.recurring_frequency==="monthly"?"Mensual":W.recurring_frequency==="weekly"?"Semanal":W.recurring_frequency==="yearly"?"Anual":"Recurrente"]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[ye(new Date(W.transaction_date),"d MMM",{locale:ot}),W.vendor&&`  ${W.vendor}`,W.subcategory&&`  ${W.subcategory}`]})]})]}),s.jsxs("span",{className:z("font-semibold",W.transaction_type==="income"?"text-green-600":"text-red-600"),children:[W.transaction_type==="income"?"+":"-",q(Number(W.amount))]})]},W.id)})})})]}),o.filter(W=>W.transaction_type==="expense").length>0&&s.jsx(ZFe,{transactions:o,expensesByCategory:d.expensesByCategory}),s.jsx(t8e,{onDataLoaded:B})]}),s.jsxs(Ze,{value:"invoices",className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{onClick:()=>{I("income"),M(!0),E(!0)},children:[s.jsx(_l,{className:"w-4 h-4 mr-2"}),"Emitir Factura"]}),s.jsxs(U,{variant:"outline",onClick:()=>{I("expense"),M(!0),E(!0)},children:[s.jsx(_l,{className:"w-4 h-4 mr-2"}),"Registrar Factura Recibida"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsxs(X,{children:[s.jsxs(pe,{children:[s.jsxs(ge,{className:"flex items-center gap-2",children:[s.jsx(dA,{className:"w-5 h-5 text-green-600"}),"Facturas Emitidas"]}),s.jsx(St,{children:"Facturas que has emitido a clientes"})]}),s.jsx(Y,{children:l.filter(W=>W.transaction_type==="income").length===0?s.jsx("p",{className:"text-center text-muted-foreground py-4 text-sm",children:"No hay facturas emitidas"}):s.jsx("div",{className:"space-y-2",children:l.filter(W=>W.transaction_type==="income").map(W=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium text-foreground text-sm",children:W.invoice_number||"Sin nmero"}),W.invoice_status==="pending"&&s.jsxs(Q,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:[s.jsx(Pt,{className:"w-3 h-3 mr-1"}),"Pendiente"]}),W.invoice_status==="paid"&&s.jsxs(Q,{variant:"outline",className:"text-green-600 border-green-600",children:[s.jsx(Pi,{className:"w-3 h-3 mr-1"}),"Cobrada"]}),W.invoice_status==="overdue"&&s.jsxs(Q,{variant:"outline",className:"text-red-600 border-red-600",children:[s.jsx(kr,{className:"w-3 h-3 mr-1"}),"Vencida"]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[W.vendor||"Cliente sin nombre","  ",ye(new Date(W.transaction_date),"d MMM",{locale:ot}),W.due_date&&`  Vence: ${ye(new Date(W.due_date),"d MMM",{locale:ot})}`]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold text-green-600",children:q(Number(W.amount))}),W.invoice_status==="pending"&&s.jsx(U,{size:"sm",variant:"ghost",onClick:()=>J(W.id),children:s.jsx(Pi,{className:"w-4 h-4"})})]})]},W.id))})})]}),s.jsxs(X,{children:[s.jsxs(pe,{children:[s.jsxs(ge,{className:"flex items-center gap-2",children:[s.jsx(uA,{className:"w-5 h-5 text-red-600"}),"Facturas Recibidas"]}),s.jsx(St,{children:"Facturas de proveedores"})]}),s.jsx(Y,{children:l.filter(W=>W.transaction_type==="expense").length===0?s.jsx("p",{className:"text-center text-muted-foreground py-4 text-sm",children:"No hay facturas recibidas"}):s.jsx("div",{className:"space-y-2",children:l.filter(W=>W.transaction_type==="expense").map(W=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium text-foreground text-sm",children:W.invoice_number||"Sin nmero"}),W.invoice_status==="pending"&&s.jsxs(Q,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:[s.jsx(Pt,{className:"w-3 h-3 mr-1"}),"Pendiente"]}),W.invoice_status==="paid"&&s.jsxs(Q,{variant:"outline",className:"text-green-600 border-green-600",children:[s.jsx(Pi,{className:"w-3 h-3 mr-1"}),"Pagada"]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[W.vendor||"Proveedor","  ",ye(new Date(W.transaction_date),"d MMM",{locale:ot})]})]}),s.jsx("span",{className:"font-semibold text-red-600",children:q(Number(W.amount))})]},W.id))})})]})]})]}),s.jsxs(Ze,{value:"accounts",className:"space-y-4",children:[s.jsxs(U,{onClick:()=>C(!0),children:[s.jsx(wt,{className:"w-4 h-4 mr-2"}),"Nueva Cuenta"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(W=>s.jsx(X,{children:s.jsxs(Y,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground capitalize",children:W.account_type}),W.is_active&&s.jsx("span",{className:"text-xs bg-green-100 dark:bg-green-900/20 text-green-600 px-2 py-0.5 rounded-full",children:"Activa"})]}),s.jsx("h3",{className:"font-semibold text-foreground",children:W.name}),s.jsx("p",{className:"text-2xl font-bold text-foreground mt-2",children:q(Number(W.balance))})]})},W.id))})]}),s.jsxs(Ze,{value:"budgets",className:"space-y-4",children:[s.jsxs(U,{onClick:()=>$(!0),children:[s.jsx(wt,{className:"w-4 h-4 mr-2"}),"Nuevo Presupuesto"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.budgetStatus.map(W=>{const ne=fg.find(he=>he.id===W.category);return s.jsx(X,{children:s.jsxs(Y,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("span",{className:"text-xl",children:(ne==null?void 0:ne.icon)||""}),s.jsx("span",{className:"font-medium text-foreground",children:(ne==null?void 0:ne.label)||W.category})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Gastado"}),s.jsxs("span",{className:z("font-medium",W.isOverBudget?"text-red-600":W.isNearLimit?"text-yellow-600":"text-foreground"),children:[q(W.spent)," / ",q(Number(W.budget_amount))]})]}),s.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:z("h-full transition-all",W.isOverBudget?"bg-red-500":W.isNearLimit?"bg-yellow-500":"bg-primary"),style:{width:`${Math.min(W.percentage,100)}%`}})}),s.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[W.percentage.toFixed(0),"% utilizado"]})]})]})},W.id)})})]}),s.jsxs(Ze,{value:"goals",className:"space-y-4",children:[s.jsxs(U,{onClick:()=>T(!0),children:[s.jsx(Dt,{className:"w-4 h-4 mr-2"}),"Nueva Meta"]}),s.jsx(n8e,{historyData:F,existingGoals:u,onAddGoal:y}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map(W=>{const ne=Number(W.current_amount)/Number(W.target_amount)*100;return s.jsx(X,{children:s.jsxs(Y,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(TY,{className:"w-5 h-5 text-primary"}),s.jsx("span",{className:"font-medium text-foreground",children:W.name})]}),s.jsx("span",{className:z("text-xs px-2 py-0.5 rounded-full",W.priority==="high"?"bg-red-100 dark:bg-red-900/20 text-red-600":W.priority==="medium"?"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-600":"bg-muted text-muted-foreground"),children:W.priority==="high"?"Alta":W.priority==="medium"?"Media":"Baja"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Progreso"}),s.jsxs("span",{className:"font-medium text-foreground",children:[q(Number(W.current_amount))," / ",q(Number(W.target_amount))]})]}),s.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${Math.min(ne,100)}%`}})}),W.deadline&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Fecha lmite: ",ye(new Date(W.deadline),"d MMM yyyy",{locale:ot})]})]})]})},W.id)})})]})]})]})]}),s.jsx(UFe,{open:k,onOpenChange:E,type:L,accounts:i,onSubmit:g,isInvoice:P}),s.jsx(qFe,{open:A,onOpenChange:C,onSubmit:x}),s.jsx(VFe,{open:O,onOpenChange:$,onSubmit:b}),s.jsx(HFe,{open:R,onOpenChange:T,onSubmit:y})]})},o8e=[{key:"mastered_5",check:(e,t)=>e.masteredWords>=5&&(!t||t.masteredWords<5),message:"Bosco ha dominado 5 palabras! ",icon:s.jsx(fo,{className:"w-5 h-5 text-yellow-500"}),type:"success"},{key:"mastered_10",check:(e,t)=>e.masteredWords>=10&&(!t||t.masteredWords<10),message:"Increble! 10 palabras dominadas ",icon:s.jsx(Yr,{className:"w-5 h-5 text-yellow-500"}),type:"success"},{key:"mastered_25",check:(e,t)=>e.masteredWords>=25&&(!t||t.masteredWords<25),message:"Bosco es un campen! 25 palabras dominadas ",icon:s.jsx(Yr,{className:"w-5 h-5 text-yellow-500"}),type:"success"},{key:"mastered_50",check:(e,t)=>e.masteredWords>=50&&(!t||t.masteredWords<50),message:"Impresionante! 50 palabras en ingls dominadas ",icon:s.jsx(et,{className:"w-5 h-5 text-primary"}),type:"success"},{key:"mastered_100",check:(e,t)=>e.masteredWords>=100&&(!t||t.masteredWords<100),message:"100 palabras! Bosco es bilinge ",icon:s.jsx(et,{className:"w-5 h-5 text-primary"}),type:"success"},{key:"streak_3",check:(e,t)=>e.streak>=3&&(!t||t.streak<3),message:"3 das de racha! Bosco es constante ",icon:s.jsx(Nn,{className:"w-5 h-5 text-orange-500"}),type:"success"},{key:"streak_7",check:(e,t)=>e.streak>=7&&(!t||t.streak<7),message:"Una semana completa de prctica! ",icon:s.jsx(Nn,{className:"w-5 h-5 text-orange-500"}),type:"success"},{key:"streak_14",check:(e,t)=>e.streak>=14&&(!t||t.streak<14),message:"2 semanas de racha! Increble dedicacin ",icon:s.jsx(Nn,{className:"w-5 h-5 text-orange-500"}),type:"success"},{key:"streak_30",check:(e,t)=>e.streak>=30&&(!t||t.streak<30),message:"Un mes completo! Bosco es imparable ",icon:s.jsx(Yr,{className:"w-5 h-5 text-yellow-500"}),type:"success"},{key:"total_20",check:(e,t)=>e.totalWords>=20&&(!t||t.totalWords<20),message:"20 palabras en el vocabulario de Bosco! ",icon:s.jsx(Or,{className:"w-5 h-5 text-blue-500"}),type:"info"},{key:"total_50",check:(e,t)=>e.totalWords>=50&&(!t||t.totalWords<50),message:"El vocabulario de Bosco crece: 50 palabras! ",icon:s.jsx(Or,{className:"w-5 h-5 text-blue-500"}),type:"info"},{key:"accuracy_80",check:(e,t)=>e.accuracy>=80&&e.totalSessions>=5&&(!t||t.accuracy<80),message:"80% de precisin! Bosco aprende rpido ",icon:s.jsx(Dt,{className:"w-5 h-5 text-green-500"}),type:"success"},{key:"accuracy_90",check:(e,t)=>e.accuracy>=90&&e.totalSessions>=10&&(!t||t.accuracy<90),message:"90% de precisin! Memoria de elefante ",icon:s.jsx(Dt,{className:"w-5 h-5 text-green-500"}),type:"success"},{key:"sessions_10",check:(e,t)=>e.totalSessions>=10&&(!t||t.totalSessions<10),message:"10 sesiones de prctica completadas! ",icon:s.jsx(et,{className:"w-5 h-5 text-purple-500"}),type:"info"},{key:"sessions_25",check:(e,t)=>e.totalSessions>=25&&(!t||t.totalSessions<25),message:"25 sesiones! Bosco es un estudiante dedicado ",icon:s.jsx(et,{className:"w-5 h-5 text-purple-500"}),type:"success"}];function l8e(e){const t=p.useRef(null),r=p.useRef(new Set);p.useEffect(()=>{if(t.current===null){t.current=e;return}for(const n of o8e)n.check(e,t.current)&&!r.current.has(n.key)&&(r.current.add(n.key),V(n.message,{icon:n.icon,duration:5e3,className:n.type==="success"?"border-success/50 bg-success/5":"border-primary/50 bg-primary/5"}));t.current=e},[e])}function pj(){const[e,t]=p.useState(!1),[r,n]=p.useState([]),a=typeof window<"u"&&"speechSynthesis"in window;p.useEffect(()=>{if(!a)return;const l=()=>{const c=window.speechSynthesis.getVoices();n(c)};return l(),window.speechSynthesis.onvoiceschanged=l,()=>{window.speechSynthesis.onvoiceschanged=null}},[a]);const i=p.useCallback((l,c="en-US")=>{if(!a)return;window.speechSynthesis.cancel();const u=new SpeechSynthesisUtterance(l);u.lang=c,u.rate=.85,u.pitch=1.1;const f=r.filter(h=>h.lang.startsWith("en")),d=f.find(h=>h.name.includes("Samantha")||h.name.includes("Google US English")||h.name.includes("Microsoft Zira")||h.name.includes("Karen"))||f[0];d&&(u.voice=d),u.onstart=()=>t(!0),u.onend=()=>t(!1),u.onerror=()=>t(!1),window.speechSynthesis.speak(u)},[a,r]),o=p.useCallback(()=>{a&&(window.speechSynthesis.cancel(),t(!1))},[a]);return{speak:i,stop:o,isSpeaking:e,isSupported:a,voices:r}}function c8e({words:e,onComplete:t,onPracticeWord:r,onCancel:n}){const[a,i]=p.useState(0),[o,l]=p.useState(!1),[c,u]=p.useState(!0),[f,d]=p.useState([]),[h,m]=p.useState(!1),[x,g]=p.useState(null),[v,w]=p.useState(!1),{speak:b,isSpeaking:y,isSupported:N}=pj(),j=e[a],S=a/e.length*100,_=f.filter(C=>C.correct).length,k=()=>{N&&j&&b(j.word_en)};p.useEffect(()=>{u(Math.random()>.5)},[a]);const E=()=>{h||l(!o)},A=async C=>{if(h)return;m(!0),g(C?"correct":"incorrect"),await r(j.id,C);const O=[...f,{wordId:j.id,correct:C}];d(O),setTimeout(()=>{a<e.length-1?(i($=>$+1),l(!1),g(null),m(!1)):(w(!0),t(O.map($=>$.wordId),O.filter($=>$.correct).length,O.length))},600)};if(v){const C=f.filter($=>$.correct).length,O=Math.round(C/f.length*100);return s.jsx(X,{className:"overflow-hidden",children:s.jsx(Y,{className:"py-12 text-center",children:s.jsxs("div",{className:"animate-scale-in",children:[s.jsx("div",{className:z("w-20 h-20 rounded-full mx-auto mb-6 flex items-center justify-center",O>=80?"bg-success/20":O>=50?"bg-warning/20":"bg-destructive/20"),children:O>=80?s.jsx(Yr,{className:"w-10 h-10 text-success"}):s.jsx(et,{className:"w-10 h-10 text-warning"})}),s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:O>=80?"Excelente!":O>=50?"Bien hecho!":"Sigue practicando!"}),s.jsxs("p",{className:"text-4xl font-bold text-primary mb-2",children:[C," / ",f.length]}),s.jsxs("p",{className:"text-muted-foreground mb-6",children:[O,"% de aciertos"]}),s.jsxs("div",{className:"flex gap-3 justify-center",children:[s.jsx(U,{variant:"outline",onClick:n,children:"Volver al vocabulario"}),s.jsxs(U,{onClick:()=>{i(0),d([]),l(!1),g(null),m(!1),w(!1)},children:[s.jsx(ZC,{className:"w-4 h-4 mr-2"}),"Jugar de nuevo"]})]})]})})})}return s.jsxs(X,{className:"overflow-hidden",children:[s.jsxs(pe,{className:"pb-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ge,{className:"text-base",children:"Prctica de Flashcards"}),s.jsxs(Q,{variant:"secondary",children:[a+1," / ",e.length]})]}),s.jsx(Cr,{value:S,className:"h-2 mt-2"})]}),s.jsxs(Y,{className:"space-y-6 pb-6",children:[s.jsx("div",{className:"perspective-1000 cursor-pointer",onClick:E,children:s.jsxs("div",{className:z("relative w-full h-64 transition-all duration-500 transform-style-3d",o&&"rotate-y-180",x==="correct"&&"animate-pulse ring-4 ring-success/50 rounded-xl",x==="incorrect"&&"animate-pulse ring-4 ring-destructive/50 rounded-xl"),style:{transformStyle:"preserve-3d",transform:o?"rotateY(180deg)":"rotateY(0deg)"},children:[s.jsxs("div",{className:z("absolute inset-0 w-full h-full rounded-xl border-2 border-border bg-gradient-to-br from-card to-muted/50 flex flex-col items-center justify-center p-6 backface-hidden",x==="correct"&&"border-success bg-success/5",x==="incorrect"&&"border-destructive bg-destructive/5"),style:{backfaceVisibility:"hidden"},children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:c?"Ingls  Espaol":"Espaol  Ingls"}),s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("p",{className:"text-4xl font-bold text-foreground text-center",children:c?j==null?void 0:j.word_en:j==null?void 0:j.word_es}),N&&c&&s.jsx(U,{size:"icon",variant:"ghost",className:"h-10 w-10 text-primary hover:text-primary hover:bg-primary/10",onClick:C=>{C.stopPropagation(),k()},disabled:y,children:s.jsx(cu,{className:"w-5 h-5"})})]}),(j==null?void 0:j.category)&&s.jsx(Q,{variant:"outline",className:"mt-4",children:j.category}),s.jsx("p",{className:"text-xs text-muted-foreground mt-6 animate-pulse",children:"Toca para ver la respuesta"})]}),s.jsxs("div",{className:z("absolute inset-0 w-full h-full rounded-xl border-2 border-primary/50 bg-gradient-to-br from-primary/10 to-primary/5 flex flex-col items-center justify-center p-6 backface-hidden rotate-y-180",x==="correct"&&"border-success bg-success/10",x==="incorrect"&&"border-destructive bg-destructive/10"),style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:c?"Espaol":"Ingls"}),s.jsx("p",{className:"text-4xl font-bold text-primary text-center",children:c?j==null?void 0:j.word_es:j==null?void 0:j.word_en}),x&&s.jsx("div",{className:z("mt-4 flex items-center gap-2 animate-scale-in",x==="correct"?"text-success":"text-destructive"),children:x==="correct"?s.jsxs(s.Fragment,{children:[s.jsx(gt,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Correcto!"})]}):s.jsxs(s.Fragment,{children:[s.jsx(kt,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"A seguir practicando"})]})})]})]})}),o&&!x&&s.jsxs("div",{className:"flex gap-4 justify-center animate-fade-in",children:[s.jsxs(U,{variant:"outline",size:"lg",className:"flex-1 max-w-32 border-destructive/50 hover:bg-destructive/10 hover:border-destructive",onClick:()=>A(!1),disabled:h,children:[s.jsx(kt,{className:"w-5 h-5 mr-2 text-destructive"}),"No lo saba"]}),s.jsxs(U,{size:"lg",className:"flex-1 max-w-32 bg-success hover:bg-success/90",onClick:()=>A(!0),disabled:h,children:[s.jsx(gt,{className:"w-5 h-5 mr-2"}),"Lo saba!"]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-border",children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("span",{className:"flex items-center gap-1 text-success",children:[s.jsx(gt,{className:"w-4 h-4"}),_]}),s.jsxs("span",{className:"flex items-center gap-1 text-destructive",children:[s.jsx(kt,{className:"w-4 h-4"}),f.length-_]})]}),s.jsx(U,{variant:"ghost",size:"sm",onClick:n,children:"Cancelar"})]})]})]})}const oN=[{id:"first_word",name:"Primera Palabra",description:"Aade tu primera palabra",icon:fo,color:"text-yellow-500",bgColor:"bg-yellow-500/20",check:e=>e.totalWords>=1,progress:e=>({current:Math.min(e.totalWords,1),target:1})},{id:"collector_10",name:"Coleccionista",description:"10 palabras en vocabulario",icon:Or,color:"text-blue-500",bgColor:"bg-blue-500/20",check:e=>e.totalWords>=10,progress:e=>({current:Math.min(e.totalWords,10),target:10})},{id:"scholar_50",name:"Erudito",description:"50 palabras en vocabulario",icon:Or,color:"text-indigo-500",bgColor:"bg-indigo-500/20",check:e=>e.totalWords>=50,progress:e=>({current:Math.min(e.totalWords,50),target:50})},{id:"polyglot_100",name:"Polglota",description:"100 palabras en vocabulario",icon:mA,color:"text-purple-500",bgColor:"bg-purple-500/20",check:e=>e.totalWords>=100,progress:e=>({current:Math.min(e.totalWords,100),target:100})},{id:"mastered_5",name:"Aprendiz",description:"5 palabras dominadas",icon:Yr,color:"text-amber-500",bgColor:"bg-amber-500/20",check:e=>e.masteredWords>=5,progress:e=>({current:Math.min(e.masteredWords,5),target:5})},{id:"mastered_25",name:"Experto",description:"25 palabras dominadas",icon:kY,color:"text-orange-500",bgColor:"bg-orange-500/20",check:e=>e.masteredWords>=25,progress:e=>({current:Math.min(e.masteredWords,25),target:25})},{id:"mastered_50",name:"Maestro",description:"50 palabras dominadas",icon:mA,color:"text-yellow-600",bgColor:"bg-yellow-600/20",check:e=>e.masteredWords>=50,progress:e=>({current:Math.min(e.masteredWords,50),target:50})},{id:"streak_3",name:"Constante",description:"3 das de racha",icon:Nn,color:"text-orange-500",bgColor:"bg-orange-500/20",check:e=>e.streak>=3,progress:e=>({current:Math.min(e.streak,3),target:3})},{id:"streak_7",name:"Dedicado",description:"7 das de racha",icon:Nn,color:"text-red-500",bgColor:"bg-red-500/20",check:e=>e.streak>=7,progress:e=>({current:Math.min(e.streak,7),target:7})},{id:"streak_30",name:"Imparable",description:"30 das de racha",icon:Mn,color:"text-red-600",bgColor:"bg-red-600/20",check:e=>e.streak>=30,progress:e=>({current:Math.min(e.streak,30),target:30})},{id:"accuracy_80",name:"Preciso",description:"80% de precisin (5+ sesiones)",icon:Dt,color:"text-green-500",bgColor:"bg-green-500/20",check:e=>e.accuracy>=80&&e.totalSessions>=5,progress:e=>({current:e.totalSessions>=5?Math.min(e.accuracy,80):0,target:80})},{id:"accuracy_95",name:"Perfeccionista",description:"95% de precisin (10+ sesiones)",icon:et,color:"text-emerald-500",bgColor:"bg-emerald-500/20",check:e=>e.accuracy>=95&&e.totalSessions>=10,progress:e=>({current:e.totalSessions>=10?Math.min(e.accuracy,95):0,target:95})},{id:"sessions_10",name:"Practicante",description:"10 sesiones completadas",icon:mt,color:"text-pink-500",bgColor:"bg-pink-500/20",check:e=>e.totalSessions>=10,progress:e=>({current:Math.min(e.totalSessions,10),target:10})},{id:"sessions_50",name:"Veterano",description:"50 sesiones completadas",icon:fo,color:"text-violet-500",bgColor:"bg-violet-500/20",check:e=>e.totalSessions>=50,progress:e=>({current:Math.min(e.totalSessions,50),target:50})}];function u8e({stats:e}){const t=oN.filter(n=>n.check(e)),r=oN.filter(n=>!n.check(e));return s.jsxs(X,{children:[s.jsx(pe,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ge,{className:"text-base flex items-center gap-2",children:[s.jsx(Yr,{className:"w-4 h-4 text-yellow-500"}),"Insignias de Bosco"]}),s.jsxs(Q,{variant:"secondary",children:[t.length," / ",oN.length]})]})}),s.jsxs(Y,{className:"space-y-4",children:[t.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Desbloqueadas"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(n=>{const a=n.icon;return s.jsxs("div",{className:z("flex items-center gap-2 px-3 py-2 rounded-lg border",n.bgColor,"border-border/50"),title:n.description,children:[s.jsx(a,{className:z("w-4 h-4",n.color)}),s.jsx("span",{className:"text-sm font-medium",children:n.name})]},n.id)})})]}),r.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Por desbloquear"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.slice(0,6).map(n=>{var l;const a=n.icon,i=(l=n.progress)==null?void 0:l.call(n,e),o=i?i.current/i.target*100:0;return s.jsxs("div",{className:"relative flex items-center gap-2 px-3 py-2 rounded-lg border border-border bg-muted/30 opacity-60",title:`${n.description} (${(i==null?void 0:i.current)||0}/${(i==null?void 0:i.target)||0})`,children:[s.jsx(a,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:n.name}),i&&s.jsx("div",{className:"w-16 h-1 bg-border rounded-full mt-1 overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary/50 rounded-full transition-all",style:{width:`${o}%`}})})]})]},n.id)})})]})]})]})}const d8e={juego_vinculo:"Juego & Vnculo",lectura:"Lectura",ingles_ludico:"Ingls Ldico",ia_ninos:"IA para Nios",movimiento:"Movimiento",cierre_dia:"Cierre del Da"};function f8e({activities:e}){const t=p.useMemo(()=>{const r=new Date,n=Sn(r,{weekStartsOn:1}),a=uh(r,{weekStartsOn:1}),i=e.filter(m=>{const x=Br(m.completed_at||m.date);return Due(x,{start:n,end:a})}),o=i.reduce((m,x)=>m+(x.duration_minutes||0),0),l=Math.floor(o/60),c=o%60,u={};i.forEach(m=>{u[m.activity_type]=(u[m.activity_type]||0)+1});const f=Object.entries(u).sort((m,x)=>x[1]-m[1]).slice(0,3),d={};i.forEach(m=>{const x=m.completed_at?ye(Br(m.completed_at),"EEEE",{locale:ot}):ye(Br(m.date),"EEEE",{locale:ot});d[x]=(d[x]||0)+(m.duration_minutes||0)});const h=Object.entries(d).sort((m,x)=>x[1]-m[1])[0];return{totalActivities:i.length,totalTime:l>0?`${l}h ${c}m`:`${c}m`,topTypes:f,bestDay:h?{day:h[0],minutes:h[1]}:null,weekRange:`${ye(n,"d MMM",{locale:ot})} - ${ye(a,"d MMM",{locale:ot})}`}},[e]);return t.totalActivities===0?null:s.jsxs(X,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:[s.jsx(pe,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ge,{className:"text-base flex items-center gap-2",children:[s.jsx(Zr,{className:"w-5 h-5 text-primary"}),"Resumen Semanal"]}),s.jsx(Q,{variant:"outline",className:"text-xs",children:t.weekRange})]})}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-background/50",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx(Dt,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:t.totalActivities}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Actividades"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-background/50",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-success/20 flex items-center justify-center",children:s.jsx(Pt,{className:"w-5 h-5 text-success"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:t.totalTime}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Tiempo total"})]})]})]}),t.topTypes.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Tipos ms frecuentes"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.topTypes.map(([r,n])=>s.jsxs(Q,{variant:"secondary",className:"gap-1",children:[s.jsx("span",{children:d8e[r]||r}),s.jsxs("span",{className:"text-primary font-bold",children:["",n]})]},r))})]}),t.bestDay&&s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[s.jsx(Nn,{className:"w-4 h-4 text-amber-500"}),s.jsxs("span",{className:"text-sm",children:["Mejor da: ",s.jsx("span",{className:"font-medium capitalize",children:t.bestDay.day}),s.jsxs("span",{className:"text-muted-foreground",children:[" (",t.bestDay.minutes," min)"]})]})]})]})]})}const h8e=[{value:"all",label:"Todos los tipos"},{value:"juego_vinculo",label:"Juego & Vnculo"},{value:"lectura",label:"Lectura"},{value:"ingles_ludico",label:"Ingls Ldico"},{value:"ia_ninos",label:"IA para Nios"},{value:"movimiento",label:"Movimiento"},{value:"cierre_dia",label:"Cierre del Da"}];function m8e({activityType:e,setActivityType:t,dateFrom:r,setDateFrom:n,dateTo:a,setDateTo:i,onClear:o}){const l=e!=="all"||r||a;return s.jsxs("div",{className:"flex flex-wrap items-end gap-3 p-3 rounded-lg bg-muted/30 border border-border/50",children:[s.jsxs("div",{className:"space-y-1.5 min-w-[160px]",children:[s.jsx(ue,{className:"text-xs text-muted-foreground",children:"Tipo"}),s.jsxs(ar,{value:e,onValueChange:t,children:[s.jsx(Kt,{className:"h-9",children:s.jsx(ir,{})}),s.jsx(Yt,{children:h8e.map(c=>s.jsx(De,{value:c.value,children:c.label},c.value))})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(ue,{className:"text-xs text-muted-foreground",children:"Desde"}),s.jsx(be,{type:"date",value:r,onChange:c=>n(c.target.value),className:"h-9 w-[140px]"})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(ue,{className:"text-xs text-muted-foreground",children:"Hasta"}),s.jsx(be,{type:"date",value:a,onChange:c=>i(c.target.value),className:"h-9 w-[140px]"})]}),l&&s.jsxs(U,{variant:"ghost",size:"sm",className:"h-9 gap-1",onClick:o,children:[s.jsx(kt,{className:"w-4 h-4"}),"Limpiar"]})]})}const em={juego_vinculo:{label:"Juego & Vnculo",icon:YC,color:"text-pink-500"},lectura:{label:"Lectura",icon:Or,color:"text-blue-500"},ingles_ludico:{label:"Ingls Ldico",icon:XC,color:"text-green-500"},ia_ninos:{label:"IA para Nios",icon:et,color:"text-purple-500"},movimiento:{label:"Movimiento",icon:cL,color:"text-orange-500"},cierre_dia:{label:"Cierre del Da",icon:lu,color:"text-indigo-500"}},p8e=["animales","colores","nmeros","objetos","acciones","comida","familia","ropa","cuerpo","casa"];function g8e(){var Se,Vt,Tt,bt;const{isOpen:e,open:t,close:r,isCollapsed:n,toggleCollapse:a}=un(),{activities:i,activityHistory:o,vocabulary:l,vocabularyStats:c,loading:u,generatingActivities:f,generateActivities:d,completeActivity:h,deleteActivity:m,addWord:x,practiceWord:g,deleteWord:v,getRandomWords:w,saveSession:b,generateVocabularySuggestions:y}=qP(),{speak:N,isSpeaking:j,isSupported:S}=pj(),[_,k]=p.useState(""),[E,A]=p.useState(""),[C,O]=p.useState(""),[$,R]=p.useState(!1),[T,L]=p.useState([]),[I,P]=p.useState(0),[M,F]=p.useState(!1),[B,q]=p.useState({correct:0,total:0}),[J,W]=p.useState(!0),[ne,he]=p.useState([]),[ie,ce]=p.useState(!1),[re,se]=p.useState(!1),[me,te]=p.useState([]),[Ee,je]=p.useState("all"),[Be,le]=p.useState(""),[Me,rt]=p.useState(""),He=p.useMemo(()=>o.filter(oe=>{if(Ee!=="all"&&oe.activity_type!==Ee)return!1;const vt=Br(oe.completed_at||oe.date);if(Be){const st=vu(Br(Be));if(vt<st)return!1}if(Me){const st=BB(Br(Me));if(vt>st)return!1}return!0}),[o,Ee,Be,Me]),xt=()=>{je("all"),le(""),rt("")};l8e(c);const yt=async()=>{_&&E&&(await x(_,E,C||void 0),k(""),A(""),O(""))},qt=()=>{const oe=w(5);oe.length!==0&&(L(oe),P(0),F(!1),q({correct:0,total:0}),W(Math.random()>.5),R(!0))},lt=()=>{const oe=w(10);oe.length!==0&&(te(oe),se(!0))},vr=async(oe,vt,st)=>{await b(oe,vt,st)},yr=async oe=>{const vt=T[I];await g(vt.id,oe),q(st=>({correct:st.correct+(oe?1:0),total:st.total+1})),I<T.length-1?(P(st=>st+1),F(!1),W(Math.random()>.5)):(await b(T.map(st=>st.id),B.correct+(oe?1:0),B.total+1),R(!1))},de=async()=>{ce(!0);const oe=await y();he(oe),ce(!1)},we=async oe=>{await x(oe.en,oe.es,oe.category),he(vt=>vt.filter(st=>st.en!==oe.en))};return u?s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(zr,{isOpen:e,onClose:r,isCollapsed:n,onToggleCollapse:a}),s.jsxs("div",{className:z("transition-all duration-300",n?"lg:ml-20":"lg:ml-72"),children:[s.jsx(Ur,{onMenuClick:t}),s.jsxs("main",{className:"p-4 md:p-6 max-w-6xl mx-auto space-y-6",children:[s.jsx(Bn,{className:"h-8 w-48"}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsx(Bn,{className:"h-64"}),s.jsx(Bn,{className:"h-64"})]})]})]})]}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(zr,{isOpen:e,onClose:r,isCollapsed:n,onToggleCollapse:a}),s.jsxs("div",{className:z("transition-all duration-300",n?"lg:ml-20":"lg:ml-72"),children:[s.jsx(Ur,{onMenuClick:t}),s.jsxs("main",{className:"p-4 md:p-6 max-w-6xl mx-auto",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Bosco"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Actividades y vocabulario"})]})}),s.jsxs(aa,{defaultValue:"activities",className:"space-y-4",children:[s.jsxs(Ms,{children:[s.jsx(Qe,{value:"activities",children:"Actividades"}),s.jsx(Qe,{value:"history",children:"Historial"}),s.jsx(Qe,{value:"vocabulary",children:"Vocabulario Ingls"})]}),s.jsxs(Ze,{value:"activities",className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsxs(U,{onClick:()=>d("all"),disabled:f,children:[s.jsx(ht,{className:z("w-4 h-4 mr-2",f&&"animate-spin")}),"Generar actividades"]}),Object.entries(em).map(([oe,vt])=>s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>d(oe),disabled:f,children:[s.jsx(vt.icon,{className:z("w-4 h-4 mr-1",vt.color)}),vt.label]},oe))]}),i.length===0?s.jsx(X,{children:s.jsxs(Y,{className:"py-12 text-center",children:[s.jsx(et,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:"No hay actividades para hoy"}),s.jsx(U,{className:"mt-4",onClick:()=>d("all"),children:"Generar actividades"})]})}):s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:i.map(oe=>{const vt=em[oe.activity_type]||em.juego_vinculo,st=vt.icon;return s.jsxs(X,{className:z(oe.completed&&"opacity-60"),children:[s.jsx(pe,{className:"pb-2",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(st,{className:z("w-5 h-5",vt.color)}),s.jsx(ge,{className:"text-base",children:oe.title})]}),s.jsxs("div",{className:"flex gap-1",children:[!oe.completed&&s.jsx(U,{size:"icon",variant:"ghost",className:"h-8 w-8 text-success hover:text-success",onClick:()=>h(oe.id),children:s.jsx(gt,{className:"w-4 h-4"})}),s.jsx(U,{size:"icon",variant:"ghost",className:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:()=>m(oe.id),children:s.jsx(Ri,{className:"w-4 h-4"})})]})]})}),s.jsxs(Y,{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:oe.description}),oe.notes&&s.jsxs("div",{className:"p-3 rounded-lg bg-muted/50 border border-border/50",children:[s.jsx("p",{className:"text-xs font-medium text-foreground mb-2",children:"Cmo hacerlo:"}),s.jsx("p",{className:"text-xs text-muted-foreground whitespace-pre-line",children:oe.notes})]}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsxs(Q,{variant:"secondary",className:"text-xs",children:[s.jsx(Pt,{className:"w-3 h-3 mr-1"}),oe.duration_minutes," min"]}),s.jsxs(Q,{variant:"secondary",className:"text-xs",children:[s.jsx(XC,{className:"w-3 h-3 mr-1"}),oe.language==="es"?"Espaol":oe.language==="en"?"English":"Mixto"]}),s.jsxs(Q,{variant:"secondary",className:"text-xs",children:[s.jsx(Mn,{className:"w-3 h-3 mr-1"}),oe.energy_level==="high"?"Alta energa":oe.energy_level==="low"?"Baja energa":"Media"]}),oe.completed&&s.jsxs(Q,{variant:"default",className:"text-xs bg-success",children:[s.jsx(gt,{className:"w-3 h-3 mr-1"}),"Completada"]})]})]})]},oe.id)})})]}),s.jsxs(Ze,{value:"history",className:"space-y-4",children:[s.jsx(f8e,{activities:o}),s.jsx(m8e,{activityType:Ee,setActivityType:je,dateFrom:Be,setDateFrom:le,dateTo:Me,setDateTo:rt,onClear:xt}),o.length===0?s.jsx(X,{children:s.jsxs(Y,{className:"py-12 text-center",children:[s.jsx(Pt,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:"An no hay actividades completadas"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Las actividades que completes aparecern aqu"})]})}):He.length===0?s.jsx(X,{children:s.jsxs(Y,{className:"py-8 text-center",children:[s.jsx(Z$,{className:"w-8 h-8 mx-auto mb-3 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:"No hay actividades con estos filtros"}),s.jsx(U,{variant:"link",onClick:xt,className:"mt-2",children:"Limpiar filtros"})]})}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Mostrando ",He.length," de ",o.length," actividades"]}),He.map(oe=>{const st=(em[oe.activity_type]||em.juego_vinculo).icon,qr=oe.completed_at?new Date(oe.completed_at).toLocaleDateString("es-ES",{weekday:"short",day:"numeric",month:"short"}):oe.date;return s.jsx(X,{className:"bg-success/5 border-success/20",children:s.jsx(Y,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:z("w-10 h-10 rounded-lg flex items-center justify-center shrink-0","bg-success/20"),children:s.jsx(st,{className:"w-5 h-5 text-success"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("p",{className:"font-medium truncate",children:oe.title}),s.jsx(Q,{variant:"outline",className:"text-xs shrink-0",children:qr})]}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:oe.description}),s.jsxs("div",{className:"flex gap-2 flex-wrap mt-2",children:[s.jsxs(Q,{variant:"secondary",className:"text-xs",children:[s.jsx(Pt,{className:"w-3 h-3 mr-1"}),oe.duration_minutes," min"]}),s.jsxs(Q,{variant:"secondary",className:"text-xs",children:[s.jsx(gt,{className:"w-3 h-3 mr-1 text-success"}),"Completada"]})]}),oe.notes&&s.jsx("p",{className:"text-xs text-muted-foreground mt-2 p-2 rounded bg-muted/50",children:oe.notes})]})]})})},oe.id)})]})]}),s.jsx(Ze,{value:"vocabulary",className:"space-y-4",children:re?s.jsx(c8e,{words:me,onComplete:vr,onPracticeWord:g,onCancel:()=>se(!1)}):$?s.jsxs(X,{children:[s.jsx(pe,{children:s.jsxs(ge,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Juego de vocabulario"}),s.jsxs(Q,{children:[I+1," / ",T.length]})]})}),s.jsxs(Y,{className:"space-y-6",children:[s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:J?"Qu significa en espaol?":"Cmo se dice en ingls?"}),s.jsx("p",{className:"text-4xl font-bold mb-6",children:J?(Se=T[I])==null?void 0:Se.word_en:(Vt=T[I])==null?void 0:Vt.word_es}),M?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-2xl text-primary mb-6",children:J?(Tt=T[I])==null?void 0:Tt.word_es:(bt=T[I])==null?void 0:bt.word_en}),s.jsxs("div",{className:"flex gap-4 justify-center",children:[s.jsx(U,{variant:"outline",onClick:()=>yr(!1),children:"No lo saba"}),s.jsxs(U,{onClick:()=>yr(!0),children:[s.jsx(gt,{className:"w-4 h-4 mr-2"}),"Lo saba!"]})]})]}):s.jsx(U,{size:"lg",onClick:()=>F(!0),children:"Ver respuesta"})]}),s.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Aciertos: ",B.correct," / ",B.total]}),s.jsx(U,{variant:"ghost",onClick:()=>R(!1),children:"Cancelar juego"})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsx(X,{className:"bg-card/50 border-border/50",children:s.jsxs(Y,{className:"p-3 flex items-center gap-3",children:[s.jsx("div",{className:"w-9 h-9 rounded-lg bg-primary/20 flex items-center justify-center",children:s.jsx(Or,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xl font-bold text-foreground",children:c.totalWords}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total palabras"})]})]})}),s.jsx(X,{className:"bg-card/50 border-border/50",children:s.jsxs(Y,{className:"p-3 flex items-center gap-3",children:[s.jsx("div",{className:"w-9 h-9 rounded-lg bg-success/20 flex items-center justify-center",children:s.jsx(Yr,{className:"w-4 h-4 text-success"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xl font-bold text-foreground",children:c.masteredWords}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Dominadas"})]})]})}),s.jsx(X,{className:"bg-card/50 border-border/50",children:s.jsxs(Y,{className:"p-3 flex items-center gap-3",children:[s.jsx("div",{className:"w-9 h-9 rounded-lg bg-warning/20 flex items-center justify-center",children:s.jsx(Nn,{className:"w-4 h-4 text-warning"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xl font-bold text-foreground",children:c.streak}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Das racha"})]})]})}),s.jsx(X,{className:"bg-card/50 border-border/50",children:s.jsxs(Y,{className:"p-3 flex items-center gap-3",children:[s.jsx("div",{className:"w-9 h-9 rounded-lg bg-accent/20 flex items-center justify-center",children:s.jsx(Zr,{className:"w-4 h-4 text-accent-foreground"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-xl font-bold text-foreground",children:[c.accuracy,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Precisin"})]})]})})]}),s.jsx(u8e,{stats:c}),s.jsxs("div",{className:"flex gap-2 flex-wrap items-end",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-muted-foreground",children:"Ingls"}),s.jsx(be,{placeholder:"cat",value:_,onChange:oe=>k(oe.target.value),className:"w-32"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-muted-foreground",children:"Espaol"}),s.jsx(be,{placeholder:"gato",value:E,onChange:oe=>A(oe.target.value),className:"w-32"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-muted-foreground",children:"Categora"}),s.jsxs("select",{value:C,onChange:oe=>O(oe.target.value),className:"h-9 rounded-md border border-input bg-background px-3 py-1 text-sm",children:[s.jsx("option",{value:"",children:"Sin categora"}),p8e.map(oe=>s.jsx("option",{value:oe,children:oe},oe))]})]}),s.jsxs(U,{onClick:yt,disabled:!_||!E,children:[s.jsx(wt,{className:"w-4 h-4 mr-2"}),"Aadir"]}),s.jsxs(U,{variant:"default",onClick:lt,disabled:l.filter(oe=>!oe.is_mastered).length===0,className:"bg-gradient-to-r from-primary to-primary/80",children:[s.jsx(NY,{className:"w-4 h-4 mr-2"}),"Flashcards"]}),s.jsxs(U,{variant:"secondary",onClick:qt,disabled:l.filter(oe=>!oe.is_mastered).length===0,children:[s.jsx(Qa,{className:"w-4 h-4 mr-2"}),"Juego rpido"]}),s.jsxs(U,{variant:"outline",onClick:de,disabled:ie,children:[s.jsx(wA,{className:z("w-4 h-4 mr-2",ie&&"animate-spin")}),"Sugerir 30 palabras"]})]}),ne.length>0&&s.jsxs(X,{className:"border-primary/30 bg-primary/5",children:[s.jsx(pe,{className:"pb-2",children:s.jsxs(ge,{className:"text-base flex items-center gap-2",children:[s.jsx(wA,{className:"w-4 h-4 text-primary"}),"Sugerencias de JARVIS (",ne.length," palabras)"]})}),s.jsxs(Y,{children:[s.jsx(Tn,{className:"h-48",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:ne.map((oe,vt)=>s.jsxs(U,{variant:"outline",size:"sm",className:"h-auto py-1.5 px-2 text-xs hover:bg-primary/20 hover:border-primary",onClick:()=>we(oe),children:[s.jsx(wt,{className:"w-3 h-3 mr-1"}),s.jsx("span",{className:"font-medium",children:oe.en}),s.jsx("span",{className:"text-muted-foreground mx-1",children:""}),s.jsx("span",{children:oe.es}),oe.category&&s.jsx(Q,{variant:"secondary",className:"ml-1.5 text-[10px] px-1 py-0",children:oe.category})]},`${oe.en}-${vt}`))})}),s.jsx("div",{className:"flex justify-end mt-2 pt-2 border-t border-border/50",children:s.jsx(U,{variant:"ghost",size:"sm",onClick:()=>he([]),children:"Cerrar sugerencias"})})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(X,{children:[s.jsx(pe,{children:s.jsxs(ge,{className:"text-base flex items-center gap-2",children:[s.jsx(Or,{className:"w-4 h-4"}),"Palabras por aprender (",l.filter(oe=>!oe.is_mastered).length,")"]})}),s.jsx(Y,{children:s.jsx(Tn,{className:"h-64",children:s.jsxs("div",{className:"space-y-2",children:[l.filter(oe=>!oe.is_mastered).map(oe=>s.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[S&&s.jsx(U,{size:"icon",variant:"ghost",className:"h-6 w-6 text-primary hover:text-primary",onClick:()=>N(oe.word_en),disabled:j,children:j?s.jsx(WY,{className:"w-3 h-3"}):s.jsx(cu,{className:"w-3 h-3"})}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:oe.word_en}),s.jsx("span",{className:"text-muted-foreground mx-2",children:""}),s.jsx("span",{children:oe.word_es}),oe.category&&s.jsx(Q,{variant:"outline",className:"ml-2 text-xs",children:oe.category})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs text-muted-foreground",children:[oe.times_practiced,"x"]}),s.jsx(U,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>v(oe.id),children:s.jsx(Ri,{className:"w-3 h-3"})})]})]},oe.id)),l.filter(oe=>!oe.is_mastered).length===0&&s.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No hay palabras pendientes"})]})})})]}),s.jsxs(X,{children:[s.jsx(pe,{children:s.jsxs(ge,{className:"text-base flex items-center gap-2",children:[s.jsx(fo,{className:"w-4 h-4 text-yellow-500"}),"Palabras dominadas (",l.filter(oe=>oe.is_mastered).length,")"]})}),s.jsx(Y,{children:s.jsx(Tn,{className:"h-64",children:s.jsxs("div",{className:"space-y-2",children:[l.filter(oe=>oe.is_mastered).map(oe=>s.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-success/10",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[S&&s.jsx(U,{size:"icon",variant:"ghost",className:"h-6 w-6 text-success hover:text-success",onClick:()=>N(oe.word_en),disabled:j,children:s.jsx(cu,{className:"w-3 h-3"})}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:oe.word_en}),s.jsx("span",{className:"text-muted-foreground mx-2",children:""}),s.jsx("span",{children:oe.word_es})]})]}),s.jsx(fo,{className:"w-4 h-4 text-yellow-500"})]},oe.id)),l.filter(oe=>oe.is_mastered).length===0&&s.jsx("p",{className:"text-center text-muted-foreground py-4",children:"An no hay palabras dominadas"})]})})})]})]})]})})]})]})]})]})}function x8e(){const{user:e}=ut(),[t,r]=p.useState([]),[n,a]=p.useState([]),[i,o]=p.useState([]),[l,c]=p.useState(!0),[u,f]=p.useState(0),d=p.useCallback(async()=>{if(e){c(!0);try{const[N,j,S]=await Promise.all([H.from("ai_course_skills").select("skill_id, progress, status, last_updated").eq("user_id",e.id),H.from("ai_course_lessons").select("lesson_id, completed, completed_at").eq("user_id",e.id),H.from("ai_course_projects").select("project_id, progress, status, started_at, completed_at").eq("user_id",e.id)]);N.data&&r(N.data),j.data&&a(j.data),S.data&&o(S.data);const _=[...N.data||[],...j.data||[]];_.length>0&&f(Math.min(_.length,30))}catch(N){console.error("Error fetching AI course data:",N)}finally{c(!1)}}},[e]);return p.useEffect(()=>{d()},[d]),{skills:t,lessons:n,projects:i,loading:l,streak:u,updateSkillProgress:async(N,j,S)=>{if(e)try{const{error:_}=await H.from("ai_course_skills").upsert({user_id:e.id,skill_id:N,progress:j,status:S||(j>=100?"completed":"in_progress"),last_updated:new Date().toISOString()},{onConflict:"user_id,skill_id"});if(_)throw _;r(k=>k.find(A=>A.skill_id===N)?k.map(A=>A.skill_id===N?{...A,progress:j,status:S||(j>=100?"completed":"in_progress")}:A):[...k,{skill_id:N,progress:j,status:S||"in_progress",last_updated:new Date().toISOString()}]),V.success("Progreso actualizado")}catch(_){console.error("Error updating skill:",_),V.error("Error al actualizar progreso")}},completeLesson:async N=>{if(e)try{const{error:j}=await H.from("ai_course_lessons").upsert({user_id:e.id,lesson_id:N,completed:!0,completed_at:new Date().toISOString()},{onConflict:"user_id,lesson_id"});if(j)throw j;a(S=>S.find(k=>k.lesson_id===N)?S.map(k=>k.lesson_id===N?{...k,completed:!0,completed_at:new Date().toISOString()}:k):[...S,{lesson_id:N,completed:!0,completed_at:new Date().toISOString()}]),V.success("Leccin completada")}catch(j){console.error("Error completing lesson:",j),V.error("Error al completar leccin")}},updateProjectProgress:async(N,j,S)=>{if(e)try{const _=new Date().toISOString(),k=S||(j>=100?"completed":j>0?"active":"planned"),{error:E}=await H.from("ai_course_projects").upsert({user_id:e.id,project_id:N,progress:j,status:k,started_at:j>0?_:null,completed_at:j>=100?_:null},{onConflict:"user_id,project_id"});if(E)throw E;o(A=>A.find(O=>O.project_id===N)?A.map(O=>O.project_id===N?{...O,progress:j,status:k}:O):[...A,{project_id:N,progress:j,status:k,started_at:_,completed_at:null}]),V.success("Proyecto actualizado")}catch(_){console.error("Error updating project:",_),V.error("Error al actualizar proyecto")}},getSkillProgress:N=>{var j;return((j=t.find(S=>S.skill_id===N))==null?void 0:j.progress)||0},getSkillStatus:N=>{var j;return((j=t.find(S=>S.skill_id===N))==null?void 0:j.status)||"in_progress"},isLessonCompleted:N=>{var j;return((j=n.find(S=>S.lesson_id===N))==null?void 0:j.completed)||!1},getProjectProgress:N=>{var j;return((j=i.find(S=>S.project_id===N))==null?void 0:j.progress)||0},getProjectStatus:N=>{var j;return((j=i.find(S=>S.project_id===N))==null?void 0:j.status)||"planned"},refetch:d}}const Ju=[{id:"prompting",name:"Prompting Efectivo",description:"Tcnicas avanzadas de ingeniera de prompts"},{id:"automation",name:"Automatizacin",description:"Zapier, Make, n8n y workflows"},{id:"apis",name:"APIs y Webhooks",description:"Integracin de servicios externos"},{id:"video",name:"Video Content System",description:"Guiones, edicin, plantillas, subttulos"},{id:"app-building",name:"App Building",description:"Lovable + backend + auth + db"},{id:"data",name:"Gestin de Datos",description:"Sheets, Airtable, Supabase"}],YD=[{id:"content-60",name:"Sistema de contenido en 60 min",description:"Guion  Voz  Edicin  Subttulos  Publicacin",skills:["video","automation"]},{id:"secretary-agent",name:"Agente de Secretara",description:"Inbox + tareas + agenda + recordatorios",skills:["apis","automation"]},{id:"lovable-app",name:"Mini App en Lovable",description:"Auth + dashboard + logs + analytics",skills:["app-building","data"]},{id:"leads-automation",name:"Automatizacin Leads",description:"Formulario  CRM  WhatsApp/Email  Pipeline",skills:["automation","apis"]}],lN=[{id:1,title:"Fundamentos de Prompting",duration:"45 min"},{id:2,title:"Chain of Thought",duration:"30 min"},{id:3,title:"System Prompts Avanzados",duration:"50 min"},{id:4,title:"Agentes y Tool Calling",duration:"60 min"},{id:5,title:"RAG y Embeddings",duration:"55 min"}],v8e=()=>{const{isOpen:e,isCollapsed:t,open:r,close:n,toggleCollapse:a}=un(),[i,o]=p.useState("roadmap"),{loading:l,streak:c,updateSkillProgress:u,completeLesson:f,updateProjectProgress:d,getSkillProgress:h,getSkillStatus:m,isLessonCompleted:x,getProjectProgress:g,getProjectStatus:v,refetch:w}=x8e(),b=Ju.filter(E=>m(E.id)==="completed").length,y=Math.round(Ju.reduce((E,A)=>E+h(A.id),0)/Ju.length),N=lN.filter(E=>x(E.id)).length,j=YD.filter(E=>v(E.id)==="completed").length,S=async E=>{await f(E)},_=async E=>{const A=g(E);A===0?await d(E,25,"active"):A<100&&await d(E,Math.min(A+25,100))},k=async E=>{const A=h(E);await u(E,Math.min(A+10,100))};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(zr,{isOpen:e,onClose:n,isCollapsed:t,onToggleCollapse:a}),s.jsxs("div",{className:z("transition-all duration-300",t?"lg:pl-20":"lg:pl-72"),children:[s.jsx(Ur,{onMenuClick:r}),s.jsxs("main",{className:"p-4 lg:p-6 max-w-6xl mx-auto space-y-6",children:[s.jsx(tc,{}),s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(Qr,{className:"w-6 h-6 text-primary"}),"Curso de IA"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Aprende IA aplicada con proyectos reales y contenido que se autoactualiza"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Progreso global"}),s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[y,"%"]})]}),s.jsxs(U,{variant:"outline",size:"sm",className:"gap-2",onClick:w,disabled:l,children:[l?s.jsx(_e,{className:"h-4 w-4 animate-spin"}):s.jsx(ht,{className:"h-4 w-4"}),"Actualizar"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(X,{children:s.jsx(Y,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/20 flex items-center justify-center",children:s.jsx(Dt,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:[b,"/",Ju.length]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Skills dominados"})]})]})})}),s.jsx(X,{children:s.jsx(Y,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-success/20 flex items-center justify-center",children:s.jsx(cm,{className:"w-5 h-5 text-success"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:j}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Proyectos completados"})]})]})})}),s.jsx(X,{children:s.jsx(Y,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-warning/20 flex items-center justify-center",children:s.jsx(Or,{className:"w-5 h-5 text-warning"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:[N,"/",lN.length]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Lecciones"})]})]})})}),s.jsx(X,{children:s.jsx(Y,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-accent/20 flex items-center justify-center",children:s.jsx(Mn,{className:"w-5 h-5 text-accent-foreground"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:c}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Das de racha"})]})]})})})]}),s.jsxs(aa,{value:i,onValueChange:o,children:[s.jsxs(Ms,{className:"grid w-full grid-cols-3 mb-4",children:[s.jsxs(Qe,{value:"roadmap",className:"gap-2",children:[s.jsx(Dt,{className:"h-4 w-4"}),"Roadmap"]}),s.jsxs(Qe,{value:"lessons",className:"gap-2",children:[s.jsx(Or,{className:"h-4 w-4"}),"Lecciones"]}),s.jsxs(Qe,{value:"projects",className:"gap-2",children:[s.jsx(cm,{className:"h-4 w-4"}),"Proyectos"]})]}),s.jsx(Ze,{value:"roadmap",className:"space-y-4",children:s.jsxs(X,{children:[s.jsxs(pe,{children:[s.jsxs(ge,{className:"flex items-center gap-2",children:[s.jsx(et,{className:"h-5 w-5 text-primary"}),"Skills (Perennes)"]}),s.jsx(St,{children:"Habilidades fundamentales que se actualizan con las ltimas novedades"})]}),s.jsx(Y,{className:"space-y-4",children:Ju.map(E=>{const A=h(E.id),C=m(E.id);return s.jsxs("div",{className:"p-4 rounded-lg border bg-card hover:bg-muted/30 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[E.name,C==="completed"&&s.jsx(gr,{className:"h-4 w-4 text-success"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:E.description})]}),s.jsx(U,{variant:"outline",size:"sm",onClick:()=>k(E.id),disabled:l||C==="completed",children:"+10%"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Cr,{value:A,className:"flex-1"}),s.jsxs("span",{className:"text-sm font-medium",children:[A,"%"]})]})]},E.id)})})]})}),s.jsx(Ze,{value:"lessons",className:"space-y-4",children:s.jsxs(X,{children:[s.jsx(pe,{children:s.jsxs(ge,{className:"flex items-center gap-2",children:[s.jsx(Or,{className:"h-5 w-5 text-primary"}),"Lecciones del Curso"]})}),s.jsx(Y,{children:s.jsx(Tn,{className:"h-[400px]",children:s.jsx("div",{className:"space-y-2",children:lN.map((E,A)=>{const C=x(E.id);return s.jsxs("div",{className:z("flex items-center gap-4 p-4 rounded-lg border transition-colors",C?"bg-success/5 border-success/20":"hover:bg-muted/50"),children:[s.jsx("div",{className:z("w-10 h-10 rounded-full flex items-center justify-center shrink-0",C?"bg-success text-success-foreground":"bg-muted text-muted-foreground"),children:C?s.jsx(gr,{className:"h-5 w-5"}):s.jsx("span",{className:"font-medium",children:A+1})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium",children:E.title}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Pt,{className:"h-3.5 w-3.5"}),E.duration]})]}),s.jsx(U,{size:"sm",variant:C?"outline":"default",className:"gap-2",onClick:()=>S(E.id),disabled:l,children:C?s.jsxs(s.Fragment,{children:[s.jsx(gr,{className:"h-4 w-4"}),"Completada"]}):s.jsxs(s.Fragment,{children:[s.jsx(Qa,{className:"h-4 w-4"}),"Empezar"]})})]},E.id)})})})})]})}),s.jsx(Ze,{value:"projects",className:"space-y-4",children:s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:YD.map(E=>{const A=g(E.id),C=v(E.id);return s.jsxs(X,{className:z(C==="completed"&&"border-success/30"),children:[s.jsxs(pe,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs(ge,{className:"text-lg flex items-center gap-2",children:[C==="completed"?s.jsx(gr,{className:"h-5 w-5 text-success"}):C==="active"?s.jsx(cm,{className:"h-5 w-5 text-primary"}):s.jsx(iL,{className:"h-5 w-5 text-muted-foreground"}),E.name]}),s.jsx(Q,{variant:C==="completed"?"default":C==="active"?"secondary":"outline",children:C==="completed"?"Completado":C==="active"?"En curso":"Pendiente"})]}),s.jsx(St,{children:E.description})]}),s.jsxs(Y,{children:[s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:E.skills.map(O=>{const $=Ju.find(R=>R.id===O);return $?s.jsx(Q,{variant:"outline",className:"text-xs",children:$.name},O):null})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Cr,{value:A,className:"flex-1"}),s.jsxs("span",{className:"text-sm font-medium",children:[A,"%"]})]}),s.jsx(U,{className:"w-full mt-3 gap-2",variant:C==="completed"?"outline":"default",size:"sm",onClick:()=>_(E.id),disabled:l||C==="completed",children:C==="completed"?s.jsxs(s.Fragment,{children:[s.jsx(gr,{className:"h-4 w-4"}),"Completado"]}):C==="active"?s.jsxs(s.Fragment,{children:[s.jsx(Qa,{className:"h-4 w-4"}),"Continuar (+25%)"]}):s.jsxs(s.Fragment,{children:[s.jsx(cm,{className:"h-4 w-4"}),"Empezar proyecto"]})})]})]},E.id)})})})]})]})]})]})},y8e=[{name:"Meditacin",target:30},{name:"Ejercicio",target:7},{name:"Lectura",target:14},{name:"Journaling",target:7}],b8e=[{category:"negocio",name:"Leads generados",target:20,unit:"leads"},{category:"negocio",name:"Propuestas enviadas",target:5,unit:""},{category:"negocio",name:"Cierres",target:2,unit:""},{category:"contenido",name:"Stories publicadas",target:5,unit:"/semana"},{category:"contenido",name:"Posts LinkedIn",target:3,unit:"/semana"},{category:"salud",name:"Das de entreno",target:4,unit:"/semana"},{category:"salud",name:"Horas de sueo",target:7.5,unit:"h avg"}];function w8e(){const{user:e}=ut(),[t,r]=p.useState(null),[n,a]=p.useState([]),[i,o]=p.useState([]),[l,c]=p.useState(!0),u=p.useCallback(async()=>{if(!e)return;const{data:b}=await H.from("coach_stats").select("*").eq("user_id",e.id).single();b||await H.from("coach_stats").insert({user_id:e.id,streak_days:0,total_sessions:0,total_insights:0,goal_90_days:"Escalar el negocio a 10k/mes con sistema de contenido + productos digitales",goal_progress:0});const{data:y}=await H.from("coach_habits").select("*").eq("user_id",e.id);if(!y||y.length===0){const j=y8e.map(S=>({user_id:e.id,name:S.name,streak:0,target:S.target}));await H.from("coach_habits").insert(j)}const{data:N}=await H.from("coach_kpis").select("*").eq("user_id",e.id);if(!N||N.length===0){const j=b8e.map(S=>({user_id:e.id,category:S.category,name:S.name,value:0,target:S.target,unit:S.unit}));await H.from("coach_kpis").insert(j)}},[e]),f=p.useCallback(async()=>{if(e){c(!0);try{await u();const[b,y,N]=await Promise.all([H.from("coach_stats").select("*").eq("user_id",e.id).single(),H.from("coach_habits").select("*").eq("user_id",e.id),H.from("coach_kpis").select("*").eq("user_id",e.id)]);b.data&&r(b.data),y.data&&a(y.data),N.data&&o(N.data)}catch(b){console.error("Error fetching coach stats:",b)}finally{c(!1)}}},[e,u]);return p.useEffect(()=>{f()},[f]),{stats:t,habits:n,kpis:i,loading:l,incrementStreak:async()=>{if(!(!e||!t))try{const{error:b}=await H.from("coach_stats").update({streak_days:t.streak_days+1,updated_at:new Date().toISOString()}).eq("user_id",e.id);if(b)throw b;r(y=>y&&{...y,streak_days:y.streak_days+1})}catch(b){console.error("Error incrementing streak:",b)}},incrementSessions:async()=>{if(!(!e||!t))try{const{error:b}=await H.from("coach_stats").update({total_sessions:t.total_sessions+1,updated_at:new Date().toISOString()}).eq("user_id",e.id);if(b)throw b;r(y=>y&&{...y,total_sessions:y.total_sessions+1})}catch(b){console.error("Error incrementing sessions:",b)}},addInsight:async()=>{if(!(!e||!t))try{const{error:b}=await H.from("coach_stats").update({total_insights:t.total_insights+1,updated_at:new Date().toISOString()}).eq("user_id",e.id);if(b)throw b;r(y=>y&&{...y,total_insights:y.total_insights+1}),V.success("Insight guardado")}catch(b){console.error("Error adding insight:",b)}},updateGoalProgress:async b=>{if(e)try{const{error:y}=await H.from("coach_stats").update({goal_progress:b,updated_at:new Date().toISOString()}).eq("user_id",e.id);if(y)throw y;r(N=>N&&{...N,goal_progress:b})}catch(y){console.error("Error updating goal progress:",y)}},completeHabit:async b=>{if(!e)return;const y=n.find(N=>N.name===b);if(y)try{const{error:N}=await H.from("coach_habits").update({streak:y.streak+1,last_completed_at:new Date().toISOString()}).eq("user_id",e.id).eq("name",b);if(N)throw N;a(j=>j.map(S=>S.name===b?{...S,streak:S.streak+1,last_completed_at:new Date().toISOString()}:S)),V.success(`+1 da en ${b}`)}catch(N){console.error("Error completing habit:",N)}},updateKPI:async(b,y,N)=>{if(e)try{const{error:j}=await H.from("coach_kpis").update({value:N,updated_at:new Date().toISOString()}).eq("user_id",e.id).eq("category",b).eq("name",y);if(j)throw j;o(S=>S.map(_=>_.category===b&&_.name===y?{..._,value:N}:_))}catch(j){console.error("Error updating KPI:",j)}},getKPIsByCategory:b=>i.filter(y=>y.category===b),refetch:f}}const j8e=()=>{const{isOpen:e,isCollapsed:t,open:r,close:n,toggleCollapse:a}=un(),[i,o]=p.useState("reset"),[l,c]=p.useState(!1),{stats:u,habits:f,loading:d,incrementStreak:h,addInsight:m,updateGoalProgress:x,completeHabit:g,getKPIsByCategory:v}=w8e(),{getRecentSessions:w}=k8(),[b,y]=p.useState([]),[N,j]=p.useState(!1),[S,_]=p.useState([5]),[k,E]=p.useState([5]),[A,C]=p.useState([3]),[O,$]=p.useState(""),[R,T]=p.useState("Estoy construyendo algo valioso, un paso a la vez."),[L,I]=p.useState(!1),P=async()=>{j(!0);try{const W=await w(5);y(W||[])}catch(W){console.error("Error loading sessions:",W)}finally{j(!1)}},M=async()=>{if(!O.trim()){V.error("Escribe una creencia limitante primero");return}I(!0);try{const W=await fetch("https://xfjlwxssxfvhbiytcoar.supabase.co/functions/v1/jarvis-coach",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inhmamx3eHNzeGZ2aGJpeXRjb2FyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk2NDI4MDUsImV4cCI6MjA4NTIxODgwNX0.EgH-i0SBnlWH3lF4ZgZ3b8SRdBZc5fZruWmyaIu9GIQ"},body:JSON.stringify({sessionType:"reframe",message:`Reencuadra esta creencia limitante de forma breve y potente (max 2 frases): "${O}"`,emotionalState:{energy:S[0],focus:k[0],anxiety:A[0]}})});if(!W.ok)throw new Error("Error en el reencuadre");const ne=await W.json();ne.response&&(T(ne.response),await m(),V.success("Creencia reencuadrada"))}catch(W){console.error("Error reframing:",W);const ne=["El tiempo es una eleccin. Elijo invertirlo en lo que importa.","Mi progreso es constante, aunque no siempre sea visible.","Cada pequeo paso me acerca a mi objetivo.","Tengo todo lo que necesito para avanzar hoy."];T(ne[Math.floor(Math.random()*ne.length)]),V.success("Creencia reencuadrada")}finally{I(!1)}},F=()=>{c(!0),P()},B=v("negocio"),q=v("contenido"),J=v("salud");return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(zr,{isOpen:e,onClose:n,isCollapsed:t,onToggleCollapse:a}),s.jsxs("div",{className:z("transition-all duration-300",t?"lg:pl-20":"lg:pl-72"),children:[s.jsx(Ur,{onMenuClick:r}),s.jsxs("main",{className:"p-4 lg:p-6 max-w-6xl mx-auto space-y-6",children:[s.jsx(tc,{}),s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(mt,{className:"w-6 h-6 text-rose-500"}),"Coach Personal"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Reset mental, hoja de ruta y seguimiento de crecimiento"})]}),s.jsxs(U,{className:"gap-2",onClick:F,children:[s.jsx(ja,{className:"h-4 w-4"}),"Sesin guiada"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(X,{children:s.jsx(Y,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-rose-500/20 flex items-center justify-center",children:s.jsx(Nn,{className:"w-5 h-5 text-rose-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.streak_days)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Das de racha"})]})]})})}),s.jsx(X,{children:s.jsx(Y,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/20 flex items-center justify-center",children:s.jsx(Dt,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:[(u==null?void 0:u.goal_progress)||0,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Objetivo 90 das"})]})]})})}),s.jsx(X,{children:s.jsx(Y,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-success/20 flex items-center justify-center",children:s.jsx(gr,{className:"w-5 h-5 text-success"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.total_sessions)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Sesiones este mes"})]})]})})}),s.jsx(X,{children:s.jsx(Y,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-warning/20 flex items-center justify-center",children:s.jsx(Cl,{className:"w-5 h-5 text-warning"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.total_insights)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Insights guardados"})]})]})})})]}),s.jsxs(aa,{value:i,onValueChange:o,children:[s.jsxs(Ms,{className:"grid w-full grid-cols-4 mb-4",children:[s.jsxs(Qe,{value:"reset",className:"gap-2",children:[s.jsx(ht,{className:"h-4 w-4"}),"Reset"]}),s.jsxs(Qe,{value:"roadmap",className:"gap-2",children:[s.jsx(Dt,{className:"h-4 w-4"}),"Roadmap"]}),s.jsxs(Qe,{value:"session",className:"gap-2",children:[s.jsx(ja,{className:"h-4 w-4"}),"Sesin"]}),s.jsxs(Qe,{value:"scoreboard",className:"gap-2",children:[s.jsx(Yr,{className:"h-4 w-4"}),"Scoreboard"]})]}),s.jsx(Ze,{value:"reset",className:"space-y-4",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs(X,{children:[s.jsxs(pe,{children:[s.jsx(ge,{className:"text-lg",children:"Estado actual"}),s.jsx(St,{children:"Cmo te encuentras ahora mismo?"})]}),s.jsxs(Y,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("label",{className:"text-sm font-medium",children:"Energa"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[S[0],"/10"]})]}),s.jsx(Er,{value:S,onValueChange:_,max:10,step:1})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("label",{className:"text-sm font-medium",children:"Foco"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[k[0],"/10"]})]}),s.jsx(Er,{value:k,onValueChange:E,max:10,step:1})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("label",{className:"text-sm font-medium",children:"Ansiedad"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[A[0],"/10"]})]}),s.jsx(Er,{value:A,onValueChange:C,max:10,step:1})]})]})]}),s.jsxs(X,{children:[s.jsxs(pe,{children:[s.jsx(ge,{className:"text-lg",children:"Creencia limitante del da"}),s.jsx(St,{children:"Qu pensamiento te est frenando?"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsx(Kr,{placeholder:"Ej: 'No tengo tiempo suficiente para hacer todo'",value:O,onChange:W=>$(W.target.value),className:"min-h-[100px]"}),s.jsxs(U,{className:"w-full gap-2",onClick:M,disabled:L||!O.trim(),children:[L?s.jsx(_e,{className:"h-4 w-4 animate-spin"}):s.jsx(Qr,{className:"h-4 w-4"}),"Reencuadrar"]})]})]}),s.jsxs(X,{className:"md:col-span-2 border-primary/30 bg-primary/5",children:[s.jsx(pe,{children:s.jsxs(ge,{className:"text-lg flex items-center gap-2",children:[s.jsx(Mn,{className:"h-5 w-5 text-primary"}),"Frase ancla del da"]})}),s.jsxs(Y,{children:[s.jsxs("p",{className:"text-lg font-medium text-center py-4 italic",children:['"',R,'"']}),s.jsxs(U,{variant:"outline",className:"w-full mt-2",onClick:()=>{const W=["Cada da es una oportunidad de mejora.","Mi enfoque determina mi resultado.","Pequeos pasos, grandes cambios.","Estoy exactamente donde necesito estar."];T(W[Math.floor(Math.random()*W.length)])},children:[s.jsx(ht,{className:"h-4 w-4 mr-2"}),"Generar nueva frase"]})]})]})]})}),s.jsxs(Ze,{value:"roadmap",className:"space-y-4",children:[s.jsxs(X,{children:[s.jsxs(pe,{children:[s.jsxs(ge,{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Dt,{className:"h-5 w-5 text-primary"}),"Objetivo 90 das"]}),s.jsxs(Q,{children:[(u==null?void 0:u.goal_progress)||0,"% completado"]})]}),s.jsx(St,{children:(u==null?void 0:u.goal_90_days)||"Define tu objetivo de 90 das"})]}),s.jsxs(Y,{children:[s.jsx(Cr,{value:(u==null?void 0:u.goal_progress)||0,className:"mb-4"}),s.jsx("div",{className:"flex gap-2 mb-4",children:[25,50,75,100].map(W=>s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>x(W),disabled:d,children:[W,"%"]},W))}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground",children:"3 Palancas de crecimiento"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 rounded-lg border bg-card",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Zr,{className:"h-4 w-4 text-success"}),s.jsx("span",{className:"font-medium",children:"Ventas"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Sistema de captacin automtico"}),s.jsx(Cr,{value:B.length>0?B.reduce((W,ne)=>W+ne.value/ne.target*100,0)/B.length:0,className:"mt-2"})]}),s.jsxs("div",{className:"p-4 rounded-lg border bg-card",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Cl,{className:"h-4 w-4 text-warning"}),s.jsx("span",{className:"font-medium",children:"Producto"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Curso de IA + consultoras"}),s.jsx(Cr,{value:80,className:"mt-2"})]}),s.jsxs("div",{className:"p-4 rounded-lg border bg-card",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Nn,{className:"h-4 w-4 text-rose-500"}),s.jsx("span",{className:"font-medium",children:"Contenido"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"5 stories/semana + 3 posts"}),s.jsx(Cr,{value:q.length>0?q.reduce((W,ne)=>W+ne.value/ne.target*100,0)/q.length:0,className:"mt-2"})]})]})]})]})]}),s.jsxs(X,{className:"border-warning/30 bg-warning/5",children:[s.jsx(pe,{children:s.jsxs(ge,{className:"text-lg flex items-center gap-2",children:[s.jsx(Mn,{className:"h-5 w-5 text-warning"}),"Accin P0 de hoy"]})}),s.jsx(Y,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Grabar video de presentacin del curso"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Duracin estimada: 2h  Impacto: Alto"})]}),s.jsxs(U,{className:"gap-2",onClick:h,children:[s.jsx(Qa,{className:"h-4 w-4"}),"Empezar"]})]})})]})]}),s.jsxs(Ze,{value:"session",className:"space-y-4",children:[s.jsxs(X,{children:[s.jsxs(pe,{children:[s.jsxs(ge,{className:"flex items-center gap-2",children:[s.jsx(ja,{className:"h-5 w-5 text-primary"}),"Sesin Guiada"]}),s.jsx(St,{children:"20-30 minutos de coaching con preguntas potentes"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs(U,{variant:"outline",className:"h-auto py-4 flex flex-col items-start gap-2",onClick:F,children:[s.jsx("span",{className:"font-medium",children:"Reset rpido"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"5 minutos para recentrarte"})]}),s.jsxs(U,{variant:"outline",className:"h-auto py-4 flex flex-col items-start gap-2",onClick:F,children:[s.jsx("span",{className:"font-medium",children:"Desbloqueo"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Superar un obstculo mental"})]}),s.jsxs(U,{variant:"outline",className:"h-auto py-4 flex flex-col items-start gap-2",onClick:F,children:[s.jsx("span",{className:"font-medium",children:"Revisin semanal"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Anlisis y ajustes"})]}),s.jsxs(U,{variant:"outline",className:"h-auto py-4 flex flex-col items-start gap-2",onClick:F,children:[s.jsx("span",{className:"font-medium",children:"Sesin profunda"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Trabajo de creencias y valores"})]})]}),s.jsxs("div",{className:"border-t pt-4 mt-4",children:[s.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[s.jsx(Jt,{className:"h-4 w-4"}),"Sesiones recientes"]}),s.jsx(Tn,{className:"h-[200px]",children:s.jsx("div",{className:"space-y-2",children:N?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(_e,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):b.length>0?b.map((W,ne)=>s.jsxs("div",{className:"p-3 rounded-lg border bg-card flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Q,{variant:"outline",className:"text-xs",children:W.date}),s.jsx("span",{className:"text-sm font-medium",children:W.session_type})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:W.summary||"Sin resumen"})]}),s.jsx(U,{variant:"ghost",size:"sm",children:s.jsx(iu,{className:"h-4 w-4"})})]},ne)):s.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No hay sesiones recientes"})})})]})]})]}),s.jsxs(X,{className:"border-success/30 bg-success/5",children:[s.jsx(pe,{children:s.jsxs(ge,{className:"text-lg flex items-center gap-2",children:[s.jsx(Yr,{className:"h-5 w-5 text-success"}),"Microreto 24h"]})}),s.jsx(Y,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Publicar 1 story sin pensar ms de 2 minutos"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Objetivo: reducir friccin creativa"})]}),s.jsxs(U,{variant:"outline",size:"sm",className:"gap-2",onClick:h,children:[s.jsx(gr,{className:"h-4 w-4"}),"Completar"]})]})})]})]}),s.jsxs(Ze,{value:"scoreboard",className:"space-y-4",children:[s.jsxs(X,{children:[s.jsx(pe,{children:s.jsxs(ge,{className:"flex items-center gap-2",children:[s.jsx(Nn,{className:"h-5 w-5 text-rose-500"}),"Racha de Hbitos"]})}),s.jsx(Y,{children:s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:f.map(W=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:W.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[W.streak,"/",W.target," das"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cr,{value:W.streak/W.target*100,className:"w-20"}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>g(W.name),disabled:d,children:s.jsx(wt,{className:"h-4 w-4"})})]})]},W.id))})})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs(X,{children:[s.jsx(pe,{className:"pb-2",children:s.jsxs(ge,{className:"text-sm flex items-center gap-2",children:[s.jsx(Zr,{className:"h-4 w-4 text-success"}),"KPIs Negocio"]})}),s.jsx(Y,{className:"space-y-3",children:B.map(W=>s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:W.name}),s.jsxs("span",{className:"font-medium",children:[W.value,"/",W.target,W.unit]})]}),s.jsx(Cr,{value:W.value/W.target*100})]},W.id))})]}),s.jsxs(X,{children:[s.jsx(pe,{className:"pb-2",children:s.jsxs(ge,{className:"text-sm flex items-center gap-2",children:[s.jsx(Cl,{className:"h-4 w-4 text-warning"}),"KPIs Contenido"]})}),s.jsx(Y,{className:"space-y-3",children:q.map(W=>s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:W.name}),s.jsxs("span",{className:"font-medium",children:[W.value,"/",W.target,W.unit]})]}),s.jsx(Cr,{value:W.value/W.target*100})]},W.id))})]}),s.jsxs(X,{children:[s.jsx(pe,{className:"pb-2",children:s.jsxs(ge,{className:"text-sm flex items-center gap-2",children:[s.jsx(mt,{className:"h-4 w-4 text-rose-500"}),"KPIs Salud"]})}),s.jsx(Y,{className:"space-y-3",children:J.map(W=>s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:W.name}),s.jsxs("span",{className:"font-medium",children:[W.value,"/",W.target,W.unit]})]}),s.jsx(Cr,{value:W.value/W.target*100})]},W.id))})]})]})]})]})]})]}),s.jsx(E8,{open:l,onOpenChange:c})]})};function N8e(){const{user:e}=ut(),[t,r]=p.useState(null),[n,a]=p.useState([]),[i,o]=p.useState(!0),l=p.useCallback(async()=>{if(!e)return;const{data:y}=await H.from("english_stats").select("*").eq("user_id",e.id).single();y||await H.from("english_stats").insert({user_id:e.id,streak_days:0,total_chunks_learned:0,total_practice_minutes:0,shadowing_sessions:0,roleplay_sessions:0,mini_tests_completed:0,bosco_games_played:0})},[e]),c=p.useCallback(async()=>{if(e){o(!0);try{await l();const[y,N]=await Promise.all([H.from("english_stats").select("*").eq("user_id",e.id).single(),H.from("english_chunks").select("*").eq("user_id",e.id).order("created_at",{ascending:!1})]);y.data&&r(y.data),N.data&&a(N.data)}catch(y){console.error("Error fetching english stats:",y)}finally{o(!1)}}},[e,l]);p.useEffect(()=>{c()},[c]);const u=async(y,N=1)=>{if(!(!e||!t))try{const j=t[y]+N,{error:S}=await H.from("english_stats").update({[y]:j,updated_at:new Date().toISOString()}).eq("user_id",e.id);if(S)throw S;r(_=>_&&{..._,[y]:j})}catch(j){console.error("Error incrementing stat:",j)}};return{stats:t,chunks:n,loading:i,addChunk:async(y,N,j)=>{if(e)try{const{data:S,error:_}=await H.from("english_chunks").insert({user_id:e.id,phrase_en:y,phrase_es:N,category:j}).select().single();if(_)throw _;S&&(a(k=>[S,...k]),await u("total_chunks_learned"),V.success("Chunk aadido"))}catch(S){console.error("Error adding chunk:",S),V.error("Error al aadir chunk")}},practiceChunk:async(y,N)=>{if(e)try{const j=n.find(E=>E.id===y);if(!j)return;const S=j.times_practiced+1,_=N&&S>=5,{error:k}=await H.from("english_chunks").update({times_practiced:S,mastered:_,last_practiced_at:new Date().toISOString()}).eq("id",y);if(k)throw k;a(E=>E.map(A=>A.id===y?{...A,times_practiced:S,mastered:_}:A)),_&&V.success("Chunk dominado!")}catch(j){console.error("Error practicing chunk:",j)}},recordShadowingSession:async y=>{await u("shadowing_sessions"),await u("total_practice_minutes",y),await u("streak_days"),V.success("Sesin de shadowing completada")},recordRoleplaySession:async y=>{await u("roleplay_sessions"),await u("total_practice_minutes",y),await u("streak_days"),V.success("Sesin de roleplay completada")},recordMiniTest:async()=>{await u("mini_tests_completed"),await u("streak_days"),V.success("Mini test completado")},recordBoscoGame:async y=>{await u("bosco_games_played"),await u("total_practice_minutes",y),await u("streak_days"),V.success("Juego con Bosco completado")},getRandomChunks:(y=10)=>[...n.filter(S=>!S.mastered)].sort(()=>.5-Math.random()).slice(0,y),generateNewChunks:async(y,N=10)=>{var j;if(!e)return[];try{V.loading("Generando nuevos chunks con IA...",{id:"generating-chunks"});const S=await H.functions.invoke("generate-english-chunks",{body:{existingChunks:n.slice(0,50),category:y,count:N}});if(S.error)throw S.error;const _=((j=S.data)==null?void 0:j.chunks)||[];for(const k of _)await H.from("english_chunks").insert({user_id:e.id,phrase_en:k.phrase_en,phrase_es:k.phrase_es,category:k.category});return await u("total_chunks_learned",_.length),V.success(`${_.length} chunks nuevos generados`,{id:"generating-chunks"}),await c(),_}catch(S){return console.error("Error generating chunks:",S),V.error("Error al generar chunks",{id:"generating-chunks"}),[]}},needsMoreChunks:()=>n.filter(N=>!N.mastered).length<10,refetch:c}}const xc=[{text:"I'm really looking forward to our meeting next week.",translation:"Tengo muchas ganas de nuestra reunin la prxima semana."},{text:"Could you please send me the report by Friday?",translation:"Podras enviarme el informe para el viernes?"},{text:"That's a great point, I hadn't considered that before.",translation:"Es un gran punto, no lo haba considerado antes."},{text:"Let me think about it and get back to you tomorrow.",translation:"Djame pensarlo y te respondo maana."},{text:"I completely agree with what you're saying.",translation:"Estoy completamente de acuerdo con lo que dices."}];function S8e({open:e,onOpenChange:t,onComplete:r}){const[n,a]=p.useState(0),[i,o]=p.useState(!1),[l,c]=p.useState([]),[u,f]=p.useState(!1),{speak:d,isSpeaking:h,isSupported:m,stop:x}=pj(),g=xc[n],v=l.length/xc.length*100;p.useEffect(()=>{e||(a(0),c([]),f(!1))},[e]);const w=()=>{h?(x(),o(!1)):(d(g.text),o(!0))};p.useEffect(()=>{!h&&i&&o(!1)},[h,i]);const b=()=>{l.includes(n)||c([...l,n]),n<xc.length-1?(a(n+1),f(!1)):l.length+1===xc.length&&(r(),t(!1))},y=()=>{n<xc.length-1&&(a(n+1),f(!1))},N=()=>{n>0&&(a(n-1),f(!1))};return s.jsx(Lt,{open:e,onOpenChange:t,children:s.jsxs(Ft,{className:"sm:max-w-lg",children:[s.jsx(or,{children:s.jsxs(lr,{className:"flex items-center gap-2",children:[s.jsx(rL,{className:"h-5 w-5 text-primary"}),"Shadowing Practice"]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Q,{variant:"secondary",children:[n+1," / ",xc.length]}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[l.length," completadas"]})]}),s.jsx(Cr,{value:v}),s.jsxs("div",{className:"p-6 rounded-lg border bg-card space-y-4",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("p",{className:"text-lg font-medium leading-relaxed flex-1",children:g.text}),m&&s.jsx(U,{size:"icon",variant:"ghost",onClick:w,className:"shrink-0",children:h?s.jsx(QC,{className:"h-5 w-5"}):s.jsx(cu,{className:"h-5 w-5"})})]}),u?s.jsx("p",{className:"text-muted-foreground italic",children:g.translation}):s.jsx(U,{variant:"link",className:"p-0 h-auto",onClick:()=>f(!0),children:"Ver traduccin"})]}),s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[s.jsx("p",{children:"1. Escucha la frase"}),s.jsx("p",{children:"2. Reptela en voz alta imitando la pronunciacin"}),s.jsx("p",{children:"3. Marca como completada cuando te sientas seguro"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(U,{variant:"outline",onClick:N,disabled:n===0,children:"Anterior"}),s.jsx(U,{variant:"outline",onClick:y,disabled:n===xc.length-1,className:"flex-1",children:"Siguiente"}),s.jsx(U,{onClick:b,className:z("gap-2",l.includes(n)&&"bg-success hover:bg-success/90"),children:l.includes(n)?s.jsxs(s.Fragment,{children:[s.jsx(gr,{className:"h-4 w-4"}),"Hecho"]}):s.jsxs(s.Fragment,{children:[s.jsx(gr,{className:"h-4 w-4"}),"Completar"]})})]})]})]})})}const tm=[{en:"I'm looking forward to",es:"Tengo ganas de / Estoy deseando",example:"I'm looking forward to the weekend."},{en:"It's worth it",es:"Vale la pena",example:"The long drive is worth it."},{en:"I'm about to",es:"Estoy a punto de",example:"I'm about to leave the office."},{en:"It depends on",es:"Depende de",example:"It depends on the weather."},{en:"I'm used to",es:"Estoy acostumbrado a",example:"I'm used to waking up early."},{en:"As far as I know",es:"Que yo sepa",example:"As far as I know, the meeting is at 3 PM."},{en:"I'd rather",es:"Preferira",example:"I'd rather stay home tonight."},{en:"It turns out that",es:"Resulta que",example:"It turns out that he was right."},{en:"No wonder",es:"No me extraa / Con razn",example:"No wonder you're tired, you didn't sleep!"},{en:"I can't help but",es:"No puedo evitar",example:"I can't help but smile when I see her."}];function _8e({open:e,onOpenChange:t,onComplete:r}){var N,j,S;const[n,a]=p.useState(0),[i,o]=p.useState(""),[l,c]=p.useState(!1),[u,f]=p.useState([]),[d,h]=p.useState(!1),{speak:m,isSupported:x}=pj(),g=tm[n],v=n/tm.length*100;p.useEffect(()=>{e||(a(0),o(""),c(!1),f([]),h(!1))},[e]);const w=()=>{c(!0);const _=g.es.toLowerCase().split("/").some(k=>i.toLowerCase().trim().includes(k.trim()));f([...u,{correct:_}])},b=()=>{n<tm.length-1?(a(n+1),o(""),c(!1)):(h(!0),r())},y=u.filter(_=>_.correct).length;if(d){const _=Math.round(y/u.length*100);return s.jsx(Lt,{open:e,onOpenChange:t,children:s.jsx(Ft,{className:"sm:max-w-md",children:s.jsxs("div",{className:"py-8 text-center space-y-6",children:[s.jsx("div",{className:z("w-20 h-20 rounded-full mx-auto flex items-center justify-center",_>=70?"bg-success/20":"bg-warning/20"),children:s.jsx(Yr,{className:z("w-10 h-10",_>=70?"text-success":"text-warning")})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:_>=70?"Excelente!":"Sigue practicando!"}),s.jsxs("p",{className:"text-4xl font-bold text-primary mt-2",children:[y," / ",u.length]}),s.jsx("p",{className:"text-muted-foreground",children:"chunks correctos"})]}),s.jsx(U,{onClick:()=>t(!1),children:"Finalizar"})]})})})}return s.jsx(Lt,{open:e,onOpenChange:t,children:s.jsxs(Ft,{className:"sm:max-w-lg",children:[s.jsx(or,{children:s.jsxs(lr,{className:"flex items-center gap-2",children:[s.jsx(Or,{className:"h-5 w-5 text-primary"}),"Prctica de Chunks"]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Q,{variant:"secondary",children:[n+1," / ",tm.length]}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.jsx("span",{className:"text-success",children:y})," correctos"]})]}),s.jsx(Cr,{value:v}),s.jsxs("div",{className:"p-6 rounded-lg border bg-card space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Q,{variant:"outline",children:"Ingls  Espaol"}),x&&s.jsx(U,{size:"icon",variant:"ghost",onClick:()=>m(g.en),children:s.jsx(cu,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-2xl font-bold text-center py-4",children:g.en}),l?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:z("p-4 rounded-lg",(N=u[u.length-1])!=null&&N.correct?"bg-success/10 border border-success/30":"bg-destructive/10 border border-destructive/30"),children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[(j=u[u.length-1])!=null&&j.correct?s.jsx(gr,{className:"h-5 w-5 text-success"}):s.jsx(kt,{className:"h-5 w-5 text-destructive"}),s.jsx("span",{className:"font-medium",children:(S=u[u.length-1])!=null&&S.correct?"Correcto!":"Respuesta correcta:"})]}),s.jsx("p",{className:"font-medium",children:g.es})]}),s.jsxs("div",{className:"p-3 rounded-lg bg-muted",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Ejemplo:"}),s.jsxs("p",{className:"italic",children:['"',g.example,'"']})]}),s.jsx(U,{onClick:b,className:"w-full gap-2",children:n<tm.length-1?s.jsxs(s.Fragment,{children:["Siguiente ",s.jsx(iu,{className:"h-4 w-4"})]}):"Ver resultados"})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsx(be,{value:i,onChange:_=>o(_.target.value),placeholder:"Escribe la traduccin en espaol...",onKeyDown:_=>_.key==="Enter"&&i&&w()}),s.jsx(U,{onClick:w,disabled:!i,className:"w-full",children:"Comprobar"})]})]})]})]})})}function C8e({open:e,onOpenChange:t,onComplete:r,situation:n}){const[a,i]=p.useState([]),[o,l]=p.useState(""),[c,u]=p.useState(!1),[f,d]=p.useState(!1),h=n||{name:"Reunin de colegio",description:"Hablar con el profesor de Bosco sobre su progreso",level:"Intermedio"};p.useEffect(()=>{e||(i([]),l(""),d(!1))},[e]);const m=async()=>{u(!0),d(!0);try{const{data:v,error:w}=await H.functions.invoke("jarvis-core",{body:{type:"roleplay",situation:h,language:"en"}});if(w)throw w;i([{role:"assistant",content:v.response||`Let's practice! Imagine you're at ${h.name}. I'll play the role of the other person. Start the conversation in English!`}])}catch(v){console.error("Error starting roleplay:",v),i([{role:"assistant",content:`Let's practice! Imagine you're at ${h.name}. I'll play the role of the other person. Start the conversation in English!`}])}finally{u(!1)}},x=async()=>{if(!o.trim()||c)return;const v=o.trim();l(""),i(w=>[...w,{role:"user",content:v}]),u(!0);try{const{data:w,error:b}=await H.functions.invoke("jarvis-core",{body:{type:"roleplay-response",messages:[...a,{role:"user",content:v}],situation:h,language:"en"}});if(b)throw b;i(y=>[...y,{role:"assistant",content:w.response||"Great response! Keep practicing your English."}])}catch(w){console.error("Error in roleplay:",w),V.error("Error en la prctica"),i(b=>[...b,{role:"assistant",content:"That's good! Keep practicing. What else would you say in this situation?"}])}finally{u(!1)}},g=()=>{r(),t(!1)};return s.jsx(Lt,{open:e,onOpenChange:t,children:s.jsxs(Ft,{className:"sm:max-w-lg h-[600px] flex flex-col",children:[s.jsxs(or,{children:[s.jsxs(lr,{className:"flex items-center gap-2",children:[s.jsx(ja,{className:"h-5 w-5 text-primary"}),"Role-play: ",h.name]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Q,{variant:"outline",children:h.level}),s.jsx("span",{className:"text-sm text-muted-foreground",children:h.description})]})]}),s.jsx("div",{className:"flex-1 flex flex-col min-h-0",children:f?s.jsxs(s.Fragment,{children:[s.jsx(Tn,{className:"flex-1 p-4",children:s.jsxs("div",{className:"space-y-4",children:[a.map((v,w)=>s.jsx("div",{className:`flex ${v.role==="user"?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-[80%] p-3 rounded-lg ${v.role==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:v.content})})},w)),c&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-muted p-3 rounded-lg",children:s.jsx(_e,{className:"h-4 w-4 animate-spin"})})})]})}),s.jsxs("div",{className:"p-4 border-t space-y-3",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Kr,{value:o,onChange:v=>l(v.target.value),placeholder:"Write in English...",className:"resize-none",rows:2,onKeyDown:v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),x())}}),s.jsx(U,{onClick:x,disabled:!o.trim()||c,size:"icon",children:s.jsx(j0,{className:"h-4 w-4"})})]}),a.length>=4&&s.jsxs(U,{variant:"outline",onClick:g,className:"w-full gap-2",children:[s.jsx(gr,{className:"h-4 w-4"}),"Completar prctica"]})]})]}):s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center space-y-4 text-center p-6",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(ja,{className:"h-8 w-8 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-lg",children:"Prctica de conversacin"}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Practica una conversacin real en ingls sobre: ",h.description]})]}),s.jsx(U,{onClick:m,disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(_e,{className:"h-4 w-4 mr-2 animate-spin"}),"Preparando..."]}):"Empezar conversacin"})]})})]})})}const rm=[{question:"Complete: 'I'm really looking _____ to the weekend.'",options:["forward","ahead","front","toward"],correct:0},{question:"Which phrase means 'Vale la pena'?",options:["It's worth doing","It's worth it","It's worthy","It worths"],correct:1},{question:"Complete: 'I'm _____ to working from home.'",options:["use","using","used","usual"],correct:2},{question:"'It depends on the weather' - Qu significa?",options:["El tiempo depende","Depende del clima","El clima decide","Segn el tiempo"],correct:1},{question:"Which is correct?",options:["I'm about leaving","I'm about to leave","I'm about leave","I about to leave"],correct:1}];function k8e({open:e,onOpenChange:t,onComplete:r}){const[n,a]=p.useState(0),[i,o]=p.useState(null),[l,c]=p.useState(!1),[u,f]=p.useState([]),[d,h]=p.useState(!1),m=rm[n],x=n/rm.length*100;p.useEffect(()=>{e||(a(0),o(null),c(!1),f([]),h(!1))},[e]);const g=y=>{l||o(y)},v=()=>{i!==null&&(c(!0),f([...u,i===m.correct]))},w=()=>{n<rm.length-1?(a(n+1),o(null),c(!1)):(h(!0),r())},b=u.filter(Boolean).length;if(d){const y=Math.round(b/u.length*100);return s.jsx(Lt,{open:e,onOpenChange:t,children:s.jsx(Ft,{className:"sm:max-w-md",children:s.jsxs("div",{className:"py-8 text-center space-y-6",children:[s.jsx("div",{className:z("w-20 h-20 rounded-full mx-auto flex items-center justify-center",y>=80?"bg-success/20":y>=60?"bg-warning/20":"bg-destructive/20"),children:s.jsx(Yr,{className:z("w-10 h-10",y>=80?"text-success":y>=60?"text-warning":"text-destructive")})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:y>=80?"Excelente!":y>=60?"Bien!":"Sigue practicando"}),s.jsxs("p",{className:"text-4xl font-bold text-primary mt-2",children:[b," / ",u.length]}),s.jsxs("p",{className:"text-muted-foreground",children:[y,"% de aciertos"]})]}),s.jsx(U,{onClick:()=>t(!1),children:"Finalizar"})]})})})}return s.jsx(Lt,{open:e,onOpenChange:t,children:s.jsxs(Ft,{className:"sm:max-w-lg",children:[s.jsx(or,{children:s.jsxs(lr,{className:"flex items-center gap-2",children:[s.jsx(dL,{className:"h-5 w-5 text-primary"}),"Mini Test"]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Q,{variant:"secondary",children:[n+1," / ",rm.length]}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.jsx("span",{className:"text-success",children:b})," correctas"]})]}),s.jsx(Cr,{value:x}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"font-medium text-lg",children:m.question}),s.jsx("div",{className:"space-y-2",children:m.options.map((y,N)=>s.jsx("button",{onClick:()=>g(N),disabled:l,className:z("w-full p-4 rounded-lg border text-left transition-all",i===N&&!l&&"border-primary bg-primary/5",l&&N===m.correct&&"border-success bg-success/10",l&&i===N&&N!==m.correct&&"border-destructive bg-destructive/10",!l&&i!==N&&"hover:bg-muted"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:y}),l&&N===m.correct&&s.jsx(gr,{className:"h-5 w-5 text-success"}),l&&i===N&&N!==m.correct&&s.jsx(kt,{className:"h-5 w-5 text-destructive"})]})},N))})]}),l?s.jsx(U,{onClick:w,className:"w-full",children:n<rm.length-1?"Siguiente":"Ver resultados"}):s.jsx(U,{onClick:v,disabled:i===null,className:"w-full",children:"Comprobar"})]})]})})}const vc={"simon-says":{name:"Simon Says",icon:YC,instructions:["Di 'Simon says...' seguido de una instruccin en ingls","Ejemplos: 'Simon says touch your nose', 'Simon says jump'","Si no dices 'Simon says', Bosco no debe hacer la accin","Haz las acciones t tambin para que Bosco te imite!"],duration:"5 min"},"story-time":{name:"Story Time",icon:Or,instructions:["Cuenta un cuento corto alternando ingls y espaol","Ejemplo: 'Once upon a time, haba un pequeo rabbit...'","Deja que Bosco complete algunas palabras","Usa gestos y voces divertidas"],duration:"5 min"},"sing-along":{name:"Sing Along",icon:ou,instructions:["Canta 'Head, shoulders, knees and toes'","O 'If you're happy and you know it, clap your hands'","Haz los gestos mientras cantas","Repite hasta que Bosco se la sepa!"],duration:"5 min"},"word-hunt":{name:"Word Hunt",icon:Yr,instructions:["Busca objetos por la casa diciendo el color en ingls","'Find something blue!' 'Where is something red?'","Cuando encuentre algo, di el nombre en ingls","Celebra cada hallazgo: 'Great job! That's a blue ball!'"],duration:"5 min"}};function E8e({open:e,onOpenChange:t,onComplete:r}){const[n,a]=p.useState(null),[i,o]=p.useState(0),[l,c]=p.useState(!1),[u,f]=p.useState(!1);p.useEffect(()=>{e||(a(null),o(0),c(!1),f(!1))},[e]);const d=x=>{a(x),c(!0),o(0)},h=()=>{if(!n)return;const x=vc[n];i<x.instructions.length-1?o(i+1):(f(!0),r())},m=()=>{t(!1)};return u?s.jsx(Lt,{open:e,onOpenChange:t,children:s.jsx(Ft,{className:"sm:max-w-md",children:s.jsxs("div",{className:"py-8 text-center space-y-6",children:[s.jsx("div",{className:"w-20 h-20 rounded-full mx-auto bg-success/20 flex items-center justify-center",children:s.jsx(Hs,{className:"w-10 h-10 text-success"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Genial!"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Has completado la actividad con Bosco"})]}),s.jsx(U,{onClick:m,children:"Finalizar"})]})})}):s.jsx(Lt,{open:e,onOpenChange:t,children:s.jsxs(Ft,{className:"sm:max-w-lg",children:[s.jsx(or,{children:s.jsxs(lr,{className:"flex items-center gap-2",children:[s.jsx(Hs,{className:"h-5 w-5 text-rose-500"}),"Ingls con Bosco"]})}),l?n&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[(()=>{const x=vc[n].icon;return s.jsx(x,{className:"h-6 w-6 text-primary"})})(),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:vc[n].name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:vc[n].duration})]})]}),s.jsx("div",{className:"space-y-3",children:vc[n].instructions.map((x,g)=>s.jsx("div",{className:z("p-4 rounded-lg border transition-all",g===i&&"border-primary bg-primary/5",g<i&&"border-success/30 bg-success/5",g>i&&"opacity-50"),children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:z("w-6 h-6 rounded-full flex items-center justify-center shrink-0 text-sm",g<i?"bg-success text-success-foreground":g===i?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:g<i?s.jsx(gr,{className:"h-4 w-4"}):g+1}),s.jsx("p",{className:z("text-sm",g===i&&"font-medium"),children:x})]})},g))}),s.jsx(U,{onClick:h,className:"w-full gap-2",children:i<vc[n].instructions.length-1?s.jsxs(s.Fragment,{children:["Siguiente paso ",s.jsx(iu,{className:"h-4 w-4"})]}):s.jsxs(s.Fragment,{children:[s.jsx(gr,{className:"h-4 w-4"})," Completar"]})})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Elige un juego para practicar ingls con Bosco (5 minutos sin pantallas)"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(vc).map(([x,g])=>{const v=g.icon;return s.jsx(X,{className:"cursor-pointer hover:border-primary transition-colors",onClick:()=>d(x),children:s.jsxs(Y,{className:"p-4 text-center space-y-2",children:[s.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mx-auto",children:s.jsx(v,{className:"h-6 w-6 text-primary"})}),s.jsx("p",{className:"font-medium",children:g.name}),s.jsx(Q,{variant:"outline",className:"text-xs",children:g.duration})]})},x)})})]})]})})}const P8e=[{id:"shadowing",name:"Shadowing",duration:"10 min",icon:rL,completed:!1},{id:"chunks",name:"10 Chunks nuevos",duration:"10 min",icon:Or,completed:!1},{id:"roleplay",name:"Role-play situacional",duration:"5 min",icon:ja,completed:!1},{id:"test",name:"Mini test",duration:"3 min",icon:dL,completed:!1},{id:"bosco",name:"Ingls con Bosco",duration:"5 min",icon:Hs,completed:!1}],O8e=[{en:"I'm looking forward to",es:"Tengo ganas de / Estoy deseando",example:"I'm looking forward to the weekend."},{en:"It's worth it",es:"Vale la pena",example:"The long drive is worth it."},{en:"I'm about to",es:"Estoy a punto de",example:"I'm about to leave the office."},{en:"It depends on",es:"Depende de",example:"It depends on the weather."},{en:"Every now and then",es:"De vez en cuando",example:"Every now and then I go for a run."},{en:"Sooner or later",es:"Tarde o temprano",example:"Sooner or later, you'll have to decide."},{en:"In the meantime",es:"Mientras tanto",example:"In the meantime, let's have coffee."},{en:"At the last minute",es:"En el ltimo momento",example:"He cancelled at the last minute."},{en:"As far as I know",es:"Que yo sepa",example:"As far as I know, the meeting is at 3."},{en:"To be honest",es:"Siendo sincero",example:"To be honest, I prefer the blue one."},{en:"I'd rather",es:"Preferira",example:"I'd rather stay home tonight."},{en:"I'm not sure if",es:"No estoy seguro de si",example:"I'm not sure if I can make it."},{en:"The thing is",es:"El tema es que",example:"The thing is, I forgot my wallet."},{en:"By the way",es:"Por cierto",example:"By the way, did you call her?"},{en:"Speaking of which",es:"Hablando de eso",example:"Speaking of which, have you seen the news?"},{en:"What I mean is",es:"Lo que quiero decir es",example:"What I mean is, we need more time."},{en:"Let me put it this way",es:"Djame decirlo as",example:"Let me put it this way: it's complicated."},{en:"That reminds me",es:"Eso me recuerda",example:"That reminds me, I need to call my mom."},{en:"I can't help but",es:"No puedo evitar",example:"I can't help but laugh at his jokes."},{en:"It turns out that",es:"Resulta que",example:"It turns out that he was right."},{en:"There's no point in",es:"No tiene sentido",example:"There's no point in waiting any longer."},{en:"I'm running late",es:"Voy con retraso",example:"Sorry, I'm running late for the meeting."},{en:"Make yourself at home",es:"Ests en tu casa",example:"Come in, make yourself at home."},{en:"As soon as possible",es:"Lo antes posible",example:"I need this done as soon as possible."},{en:"On the other hand",es:"Por otro lado",example:"On the other hand, it could be a good opportunity."},{en:"Keep in mind that",es:"Ten en cuenta que",example:"Keep in mind that deadlines are tight."},{en:"From my point of view",es:"Desde mi punto de vista",example:"From my point of view, we should wait."},{en:"Let's get started",es:"Empecemos",example:"Alright everyone, let's get started."},{en:"I'm used to",es:"Estoy acostumbrado a",example:"I'm used to waking up early."}],XD=[{name:"Reunin de colegio",description:"Hablar con el profesor de Bosco sobre su progreso",level:"Intermedio"},{name:"Llamada cliente",description:"Presentar propuesta de consultora en ingls",level:"Avanzado"},{name:"Email formal",description:"Responder a un potencial colaborador",level:"Intermedio"},{name:"Conversacin casual",description:"Charla con vecino expatriado",level:"Bsico"}],A8e=()=>{const{isOpen:e,isCollapsed:t,open:r,close:n,toggleCollapse:a}=un(),[i,o]=p.useState("practice"),[l,c]=p.useState(P8e),{stats:u,chunks:f,recordShadowingSession:d,recordRoleplaySession:h,recordMiniTest:m,recordBoscoGame:x,generateNewChunks:g,needsMoreChunks:v}=N8e(),[w,b]=p.useState(!1),[y,N]=p.useState(!1),[j,S]=p.useState(!1),[_,k]=p.useState(!1),[E,A]=p.useState(!1),[C,O]=p.useState(!1),[$,R]=p.useState(XD[0]),T=B=>{c(q=>q.map(J=>J.id===B?{...J,completed:!0}:J)),B==="shadowing"&&d(10),B==="roleplay"&&h(5),B==="test"&&m(),B==="bosco"&&x(5),V.success("Actividad completada")},L=(B,q)=>{switch(q.stopPropagation(),B){case"shadowing":N(!0);break;case"chunks":S(!0);break;case"roleplay":k(!0);break;case"test":A(!0);break;case"bosco":O(!0);break}},I=async()=>{b(!0);try{await g(void 0,15)}finally{b(!1)}},P=l.filter(B=>B.completed).length,M=P/l.length*100,F=f.filter(B=>!B.mastered).length;return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(zr,{isOpen:e,onClose:n,isCollapsed:t,onToggleCollapse:a}),s.jsxs("div",{className:z("transition-all duration-300",t?"lg:pl-20":"lg:pl-72"),children:[s.jsx(Ur,{onMenuClick:r}),s.jsxs("main",{className:"p-4 lg:p-6 max-w-6xl mx-auto space-y-6",children:[s.jsx(tc,{}),s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(w0,{className:"w-6 h-6 text-primary"}),"Ingls"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Prctica diaria adaptada a tu vida real"})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Objetivo 90 das"}),s.jsx("p",{className:"text-lg font-bold text-primary",children:"Hablar con confianza"})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(X,{children:s.jsx(Y,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/20 flex items-center justify-center",children:s.jsx(Nn,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.streak_days)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Das de racha"})]})]})})}),s.jsx(X,{children:s.jsx(Y,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-success/20 flex items-center justify-center",children:s.jsx(Or,{className:"w-5 h-5 text-success"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.total_chunks_learned)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Chunks aprendidos"})]})]})})}),s.jsx(X,{children:s.jsx(Y,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-warning/20 flex items-center justify-center",children:s.jsx(Pt,{className:"w-5 h-5 text-warning"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:[Math.floor(((u==null?void 0:u.total_practice_minutes)||0)/60),"h"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Tiempo total"})]})]})})}),s.jsx(X,{children:s.jsx(Y,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-rose-500/20 flex items-center justify-center",children:s.jsx(Hs,{className:"w-5 h-5 text-rose-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.bosco_games_played)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Sesiones con Bosco"})]})]})})})]}),(v()||F<10)&&s.jsx(X,{className:"border-primary/30 bg-primary/5",children:s.jsx(Y,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/20 flex items-center justify-center",children:s.jsx(et,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Necesitas ms chunks!"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Solo te quedan ",F," chunks por dominar. Genera ms con IA."]})]})]}),s.jsx(U,{onClick:I,disabled:w,className:"gap-2",children:w?s.jsxs(s.Fragment,{children:[s.jsx(_e,{className:"w-4 h-4 animate-spin"}),"Generando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(et,{className:"w-4 h-4"}),"Generar 15 chunks"]})})]})})}),s.jsx(X,{children:s.jsxs(Y,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium",children:"Progreso de hoy"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[P,"/",l.length," completadas"]})]}),s.jsx(Cr,{value:M})]})}),s.jsxs(aa,{value:i,onValueChange:o,children:[s.jsxs(Ms,{className:"grid w-full grid-cols-4 mb-4",children:[s.jsxs(Qe,{value:"practice",className:"gap-2",children:[s.jsx(Qa,{className:"h-4 w-4"}),"Prctica"]}),s.jsxs(Qe,{value:"roadmap",className:"gap-2",children:[s.jsx(Dt,{className:"h-4 w-4"}),"Roadmap"]}),s.jsxs(Qe,{value:"chunks",className:"gap-2",children:[s.jsx(Or,{className:"h-4 w-4"}),"Chunks"]}),s.jsxs(Qe,{value:"bosco",className:"gap-2",children:[s.jsx(Hs,{className:"h-4 w-4"}),"Con Bosco"]})]}),s.jsxs(Ze,{value:"practice",className:"space-y-4",children:[s.jsxs(X,{children:[s.jsxs(pe,{children:[s.jsxs(ge,{className:"flex items-center gap-2",children:[s.jsx(Jt,{className:"h-5 w-5 text-primary"}),"Rutina Diaria"]}),s.jsx(St,{children:"Completa tu prctica de hoy (~33 min)"})]}),s.jsx(Y,{className:"space-y-3",children:l.map(B=>{const q=B.icon;return s.jsxs("div",{className:z("flex items-center gap-4 p-4 rounded-lg border transition-colors",B.completed?"bg-success/5 border-success/30":"hover:bg-muted/50"),children:[s.jsx(ls,{checked:B.completed,onCheckedChange:()=>T(B.id)}),s.jsx("div",{className:z("w-10 h-10 rounded-lg flex items-center justify-center shrink-0",B.completed?"bg-success/20":"bg-muted"),children:s.jsx(q,{className:z("h-5 w-5",B.completed?"text-success":"text-muted-foreground")})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:z("font-medium",B.completed&&"line-through text-muted-foreground"),children:B.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:B.duration})]}),!B.completed&&s.jsxs(U,{size:"sm",className:"gap-2",onClick:J=>L(B.id,J),children:[s.jsx(Qa,{className:"h-4 w-4"}),"Empezar"]}),B.completed&&s.jsx(gr,{className:"h-5 w-5 text-success"})]},B.id)})})]}),s.jsxs(X,{className:"border-primary/30 bg-primary/5",children:[s.jsx(pe,{children:s.jsxs(ge,{className:"text-lg flex items-center gap-2",children:[s.jsx(ja,{className:"h-5 w-5 text-primary"}),"Situacin del da"]})}),s.jsxs(Y,{children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(Q,{variant:"secondary",className:"mb-2",children:"Intermedio"}),s.jsx("h4",{className:"font-medium",children:"Reunin de colegio"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Hablar con el profesor de Bosco sobre su progreso"})]}),s.jsxs(U,{className:"gap-2",onClick:()=>{R(XD[0]),k(!0)},children:[s.jsx(ou,{className:"h-4 w-4"}),"Practicar"]})]}),s.jsxs("div",{className:"mt-4 p-3 rounded-lg bg-background/50",children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"Vocabulario clave:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["progress report","behavior","participation","homework","parent-teacher meeting"].map(B=>s.jsx(Q,{variant:"outline",className:"text-xs",children:B},B))})]})]})]})]}),s.jsx(Ze,{value:"roadmap",className:"space-y-4",children:s.jsxs(X,{children:[s.jsx(pe,{children:s.jsxs(ge,{className:"flex items-center gap-2",children:[s.jsx(Dt,{className:"h-5 w-5 text-primary"}),"Objetivo 90 das: Hablar con confianza"]})}),s.jsxs(Y,{className:"space-y-4",children:[s.jsx(Cr,{value:60,className:"mb-4"}),s.jsx("div",{className:"space-y-3",children:[{week:"Semanas 1-4",goal:"Fundamentos y chunks bsicos",progress:100,status:"completed"},{week:"Semanas 5-8",goal:"Situaciones cotidianas",progress:80,status:"in_progress"},{week:"Semanas 9-12",goal:"Conversaciones profesionales",progress:0,status:"locked"}].map((B,q)=>s.jsxs("div",{className:z("p-4 rounded-lg border",B.status==="completed"&&"border-success/30 bg-success/5",B.status==="in_progress"&&"border-primary/30 bg-primary/5",B.status==="locked"&&"opacity-50"),children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[B.status==="completed"&&s.jsx(gr,{className:"h-4 w-4 text-success"}),B.status==="in_progress"&&s.jsx(Qa,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"font-medium",children:B.week})]}),s.jsxs(Q,{variant:B.status==="completed"?"default":"outline",children:[B.progress,"%"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:B.goal}),s.jsx(Cr,{value:B.progress,className:"mt-2"})]},q))})]})]})}),s.jsx(Ze,{value:"chunks",className:"space-y-4",children:s.jsxs(X,{children:[s.jsxs(pe,{children:[s.jsxs(ge,{className:"flex items-center gap-2",children:[s.jsx(Or,{className:"h-5 w-5 text-primary"}),"Chunks de hoy"]}),s.jsx(St,{children:"Frases hechas y expresiones idiomticas"})]}),s.jsx(Y,{children:s.jsx(Tn,{className:"h-[400px]",children:s.jsx("div",{className:"space-y-4",children:O8e.map((B,q)=>s.jsx("div",{className:"p-4 rounded-lg border bg-card hover:bg-muted/50 transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-lg",children:B.en}),s.jsx("p",{className:"text-muted-foreground",children:B.es}),s.jsxs("p",{className:"text-sm text-primary mt-2 italic",children:['"',B.example,'"']})]}),s.jsx(U,{size:"icon",variant:"ghost",children:s.jsx(cu,{className:"h-4 w-4"})})]})},q))})})})]})}),s.jsx(Ze,{value:"bosco",className:"space-y-4",children:s.jsxs(X,{children:[s.jsxs(pe,{children:[s.jsxs(ge,{className:"flex items-center gap-2",children:[s.jsx(Hs,{className:"h-5 w-5 text-rose-500"}),"Ingls con Bosco"]}),s.jsx(St,{children:"5 minutos sin pantallas, aprendiendo juntos"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs(U,{variant:"outline",className:"h-auto py-6 flex flex-col items-center gap-2",children:[s.jsx(yY,{className:"h-8 w-8 text-primary"}),s.jsx("span",{className:"font-medium",children:"Simon Says"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Instrucciones en ingls"})]}),s.jsxs(U,{variant:"outline",className:"h-auto py-6 flex flex-col items-center gap-2",children:[s.jsx(Or,{className:"h-8 w-8 text-success"}),s.jsx("span",{className:"font-medium",children:"Story Time"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Cuento corto bilinge"})]}),s.jsxs(U,{variant:"outline",className:"h-auto py-6 flex flex-col items-center gap-2",children:[s.jsx(ou,{className:"h-8 w-8 text-warning"}),s.jsx("span",{className:"font-medium",children:"Sing Along"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Cancin infantil"})]}),s.jsxs(U,{variant:"outline",className:"h-auto py-6 flex flex-col items-center gap-2",children:[s.jsx(ja,{className:"h-8 w-8 text-rose-500"}),s.jsx("span",{className:"font-medium",children:"Daily Words"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"5 palabras del da"})]})]}),s.jsxs("div",{className:"border-t pt-4 mt-4",children:[s.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[s.jsx(lY,{className:"h-4 w-4 text-warning"}),"Logros con Bosco"]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[["Colores","Nmeros 1-10","Animales","Familia","Comida"].map(B=>s.jsxs(Q,{variant:"secondary",className:"gap-1",children:[s.jsx(gr,{className:"h-3 w-3"}),B]},B)),s.jsx(Q,{variant:"outline",className:"opacity-50",children:"Transporte"}),s.jsx(Q,{variant:"outline",className:"opacity-50",children:"Ropa"})]})]})]})]})})]}),s.jsx(S8e,{open:y,onOpenChange:N,onComplete:()=>T("shadowing")}),s.jsx(_8e,{open:j,onOpenChange:S,onComplete:()=>T("chunks")}),s.jsx(C8e,{open:_,onOpenChange:k,onComplete:()=>T("roleplay"),situation:$}),s.jsx(k8e,{open:E,onOpenChange:A,onComplete:()=>T("test")}),s.jsx(E8e,{open:C,onOpenChange:O,onComplete:()=>T("bosco")})]})]})]})},T8e=()=>{const e=li(),[t,r]=p.useState(null),[n,a]=p.useState(!1),[i,o]=p.useState(!1);p.useEffect(()=>{window.matchMedia("(display-mode: standalone)").matches&&a(!0);const c=/iPad|iPhone|iPod/.test(navigator.userAgent);o(c);const u=f=>{f.preventDefault(),r(f)};return window.addEventListener("beforeinstallprompt",u),()=>{window.removeEventListener("beforeinstallprompt",u)}},[]);const l=async()=>{if(!t)return;t.prompt();const{outcome:c}=await t.userChoice;c==="accepted"&&a(!0),r(null)};return n?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(X,{className:"max-w-md w-full",children:[s.jsxs(pe,{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-success/20 flex items-center justify-center",children:s.jsx(gt,{className:"w-8 h-8 text-success"})}),s.jsx(ge,{children:"App Instalada!"}),s.jsx(St,{children:"JARVIS ya est instalado en tu dispositivo"})]}),s.jsx(Y,{className:"space-y-4",children:s.jsxs(U,{onClick:()=>e("/dashboard"),className:"w-full",children:["Ir al Dashboard",s.jsx(iu,{className:"w-4 h-4 ml-2"})]})})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(X,{className:"max-w-md w-full",children:[s.jsxs(pe,{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-2xl bg-primary/20 flex items-center justify-center",children:s.jsx(Jc,{className:"w-10 h-10 text-primary"})}),s.jsx(ge,{className:"text-2xl",children:"Instalar JARVIS"}),s.jsx(St,{children:"Aade JARVIS a tu pantalla de inicio para acceso rpido y experiencia completa"})]}),s.jsxs(Y,{className:"space-y-6",children:[i?s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Para instalar en iPhone/iPad:"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-sm font-medium",children:"1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Toca el botn Compartir"}),s.jsx(IY,{className:"w-5 h-5 text-muted-foreground mt-1"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-sm font-medium",children:"2"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:'Desplzate y toca "Aadir a pantalla de inicio"'}),s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx(wt,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Aadir a pantalla de inicio"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-sm font-medium",children:"3"}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-sm font-medium",children:'Toca "Aadir" para confirmar'})})]})]})]}):t?s.jsxs(U,{onClick:l,className:"w-full",size:"lg",children:[s.jsx(Oi,{className:"w-5 h-5 mr-2"}),"Instalar App"]}):s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Usa el men de tu navegador para instalar la app"}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-muted-foreground",children:[s.jsx("span",{children:""}),s.jsx(iu,{className:"w-3 h-3"}),s.jsx("span",{children:'"Instalar app" o "Aadir a inicio"'})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"font-medium mb-3",children:"Beneficios de instalar:"}),s.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(gt,{className:"w-4 h-4 text-success"}),"Acceso rpido desde tu pantalla de inicio"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(gt,{className:"w-4 h-4 text-success"}),"Funciona sin conexin"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(gt,{className:"w-4 h-4 text-success"}),"Experiencia a pantalla completa"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(gt,{className:"w-4 h-4 text-success"}),"Carga ms rpida"]})]})]}),s.jsx(U,{variant:"outline",onClick:()=>e("/dashboard"),className:"w-full",children:"Continuar en el navegador"})]})]})})},M8e=()=>{const e=oi();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),s.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},R8e=new cZ,I8e=()=>{const{user:e,loading:t}=ut();return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsx(_e,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsx(jk,{to:e?"/dashboard":"/login",replace:!0})},rn=({children:e})=>s.jsx(fne,{children:s.jsx(yne,{children:e})}),D8e=()=>s.jsx(mZ,{client:R8e,children:s.jsx(PX,{attribute:"class",defaultTheme:"dark",enableSystem:!0,children:s.jsxs(GQ,{children:[s.jsx(CX,{}),s.jsx(oJ,{}),s.jsx(Nee,{children:s.jsx(une,{children:s.jsxs(dne,{children:[s.jsx(hne,{}),s.jsxs(pee,{children:[s.jsx(Ut,{path:"/",element:s.jsx(I8e,{})}),s.jsx(Ut,{path:"/login",element:s.jsx(_ne,{})}),s.jsx(Ut,{path:"/oauth/google",element:s.jsx(Ene,{})}),s.jsx(Ut,{path:"/oauth/google/callback",element:s.jsx(Pne,{})}),s.jsx(Ut,{path:"/dashboard",element:s.jsx(rn,{children:s.jsx(Xhe,{})})}),s.jsx(Ut,{path:"/chat",element:s.jsx(rn,{children:s.jsx(Jhe,{})})}),s.jsx(Ut,{path:"/jarvis",element:s.jsx(jk,{to:"/chat",replace:!0})}),s.jsx(Ut,{path:"/communications",element:s.jsx(rn,{children:s.jsx(Qhe,{})})}),s.jsx(Ut,{path:"/health",element:s.jsx(rn,{children:s.jsx(eme,{})})}),s.jsx(Ut,{path:"/sports",element:s.jsx(rn,{children:s.jsx(rme,{})})}),s.jsx(Ut,{path:"/settings",element:s.jsx(rn,{children:s.jsx(yme,{})})}),s.jsx(Ut,{path:"/start-day",element:s.jsx(rn,{children:s.jsx(_Fe,{})})}),s.jsx(Ut,{path:"/tasks",element:s.jsx(rn,{children:s.jsx(Eme,{})})}),s.jsx(Ut,{path:"/logs",element:s.jsx(rn,{children:s.jsx(Ome,{})})}),s.jsx(Ut,{path:"/calendar",element:s.jsx(rn,{children:s.jsx(Ege,{})})}),s.jsx(Ut,{path:"/analytics",element:s.jsx(rn,{children:s.jsx(pFe,{})})}),s.jsx(Ut,{path:"/challenges",element:s.jsx(rn,{children:s.jsx(yFe,{})})}),s.jsx(Ut,{path:"/ai-course",element:s.jsx(rn,{children:s.jsx(v8e,{})})}),s.jsx(Ut,{path:"/coach",element:s.jsx(rn,{children:s.jsx(j8e,{})})}),s.jsx(Ut,{path:"/english",element:s.jsx(rn,{children:s.jsx(A8e,{})})}),s.jsx(Ut,{path:"/ai-news",element:s.jsx(rn,{children:s.jsx(OFe,{})})}),s.jsx(Ut,{path:"/nutrition",element:s.jsx(rn,{children:s.jsx(FFe,{})})}),s.jsx(Ut,{path:"/finances",element:s.jsx(rn,{children:s.jsx(i8e,{})})}),s.jsx(Ut,{path:"/bosco",element:s.jsx(rn,{children:s.jsx(g8e,{})})}),s.jsx(Ut,{path:"/content",element:s.jsx(rn,{children:s.jsx(vFe,{})})}),s.jsx(Ut,{path:"/install",element:s.jsx(T8e,{})}),s.jsx(Ut,{path:"*",element:s.jsx(M8e,{})})]})]})})})]})})});b$(document.getElementById("root")).render(s.jsx(D8e,{}));
